var wee=Object.defineProperty;var Ree=(t,e,r)=>e in t?wee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var oe=(t,e,r)=>(Ree(t,typeof e!="symbol"?e+"":e,r),r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var ge=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $x(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Aee(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var a=Function.bind.apply(e,i);return new a}return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var f0={},Iee={get exports(){return f0},set exports(t){f0=t}},vp={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var kL=Object.getOwnPropertySymbols,$ee=Object.prototype.hasOwnProperty,Cee=Object.prototype.propertyIsEnumerable;function kee(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function Oee(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map(function(a){return e[a]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(a){i[a]=a}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var PI=Oee()?Object.assign:function(t,e){for(var r,n=kee(t),i,a=1;a<arguments.length;a++){r=Object(arguments[a]);for(var s in r)$ee.call(r,s)&&(n[s]=r[s]);if(kL){i=kL(r);for(var o=0;o<i.length;o++)Cee.call(r,i[o])&&(n[i[o]]=r[i[o]])}}return n},A={},Lee={get exports(){return A},set exports(t){A=t}},Be={};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NI=PI,Pf=60103,F9=60106;Be.Fragment=60107;Be.StrictMode=60108;Be.Profiler=60114;var B9=60109,U9=60110,j9=60112;Be.Suspense=60113;var H9=60115,G9=60116;if(typeof Symbol=="function"&&Symbol.for){var hi=Symbol.for;Pf=hi("react.element"),F9=hi("react.portal"),Be.Fragment=hi("react.fragment"),Be.StrictMode=hi("react.strict_mode"),Be.Profiler=hi("react.profiler"),B9=hi("react.provider"),U9=hi("react.context"),j9=hi("react.forward_ref"),Be.Suspense=hi("react.suspense"),H9=hi("react.memo"),G9=hi("react.lazy")}var OL=typeof Symbol=="function"&&Symbol.iterator;function Pee(t){return t===null||typeof t!="object"?null:(t=OL&&t[OL]||t["@@iterator"],typeof t=="function"?t:null)}function yp(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var z9={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V9={};function Nf(t,e,r){this.props=t,this.context=e,this.refs=V9,this.updater=r||z9}Nf.prototype.isReactComponent={};Nf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(yp(85));this.updater.enqueueSetState(this,t,e,"setState")};Nf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function W9(){}W9.prototype=Nf.prototype;function DI(t,e,r){this.props=t,this.context=e,this.refs=V9,this.updater=r||z9}var MI=DI.prototype=new W9;MI.constructor=DI;NI(MI,Nf.prototype);MI.isPureReactComponent=!0;var FI={current:null},K9=Object.prototype.hasOwnProperty,Y9={key:!0,ref:!0,__self:!0,__source:!0};function q9(t,e,r){var n,i={},a=null,s=null;if(e!=null)for(n in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)K9.call(e,n)&&!Y9.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var c=Array(o),l=0;l<o;l++)c[l]=arguments[l+2];i.children=c}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Pf,type:t,key:a,ref:s,props:i,_owner:FI.current}}function Nee(t,e){return{$$typeof:Pf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function BI(t){return typeof t=="object"&&t!==null&&t.$$typeof===Pf}function Dee(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var LL=/\/+/g;function V_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Dee(""+t.key):e.toString(36)}function vv(t,e,r,n,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Pf:case F9:s=!0}}if(s)return s=t,i=i(s),t=n===""?"."+V_(s,0):n,Array.isArray(i)?(r="",t!=null&&(r=t.replace(LL,"$&/")+"/"),vv(i,e,r,"",function(l){return l})):i!=null&&(BI(i)&&(i=Nee(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(LL,"$&/")+"/")+t)),e.push(i)),1;if(s=0,n=n===""?".":n+":",Array.isArray(t))for(var o=0;o<t.length;o++){a=t[o];var c=n+V_(a,o);s+=vv(a,e,r,c,i)}else if(c=Pee(t),typeof c=="function")for(t=c.call(t),o=0;!(a=t.next()).done;)a=a.value,c=n+V_(a,o++),s+=vv(a,e,r,c,i);else if(a==="object")throw e=""+t,Error(yp(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return s}function Og(t,e,r){if(t==null)return t;var n=[],i=0;return vv(t,n,"","",function(a){return e.call(r,a,i++)}),n}function Mee(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(r){t._status===0&&(r=r.default,t._status=1,t._result=r)},function(r){t._status===0&&(t._status=2,t._result=r)})}if(t._status===1)return t._result;throw t._result}var X9={current:null};function ls(){var t=X9.current;if(t===null)throw Error(yp(321));return t}var Fee={ReactCurrentDispatcher:X9,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:FI,IsSomeRendererActing:{current:!1},assign:NI};Be.Children={map:Og,forEach:function(t,e,r){Og(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Og(t,function(){e++}),e},toArray:function(t){return Og(t,function(e){return e})||[]},only:function(t){if(!BI(t))throw Error(yp(143));return t}};Be.Component=Nf;Be.PureComponent=DI;Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fee;Be.cloneElement=function(t,e,r){if(t==null)throw Error(yp(267,t));var n=NI({},t.props),i=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=FI.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in e)K9.call(e,c)&&!Y9.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&o!==void 0?o[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var l=0;l<c;l++)o[l]=arguments[l+2];n.children=o}return{$$typeof:Pf,type:t.type,key:i,ref:a,props:n,_owner:s}};Be.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:U9,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:B9,_context:t},t.Consumer=t};Be.createElement=q9;Be.createFactory=function(t){var e=q9.bind(null,t);return e.type=t,e};Be.createRef=function(){return{current:null}};Be.forwardRef=function(t){return{$$typeof:j9,render:t}};Be.isValidElement=BI;Be.lazy=function(t){return{$$typeof:G9,_payload:{_status:-1,_result:t},_init:Mee}};Be.memo=function(t,e){return{$$typeof:H9,type:t,compare:e===void 0?null:e}};Be.useCallback=function(t,e){return ls().useCallback(t,e)};Be.useContext=function(t,e){return ls().useContext(t,e)};Be.useDebugValue=function(){};Be.useEffect=function(t,e){return ls().useEffect(t,e)};Be.useImperativeHandle=function(t,e,r){return ls().useImperativeHandle(t,e,r)};Be.useLayoutEffect=function(t,e){return ls().useLayoutEffect(t,e)};Be.useMemo=function(t,e){return ls().useMemo(t,e)};Be.useReducer=function(t,e,r){return ls().useReducer(t,e,r)};Be.useRef=function(t){return ls().useRef(t)};Be.useState=function(t){return ls().useState(t)};Be.version="17.0.2";(function(t){t.exports=Be})(Lee);const le=$x(A);/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bee=A,Q9=60103;vp.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var PL=Symbol.for;Q9=PL("react.element"),vp.Fragment=PL("react.fragment")}var Uee=Bee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jee=Object.prototype.hasOwnProperty,Hee={key:!0,ref:!0,__self:!0,__source:!0};function Z9(t,e,r){var n,i={},a=null,s=null;r!==void 0&&(a=""+r),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(n in e)jee.call(e,n)&&!Hee.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:Q9,type:t,key:a,ref:s,props:i,_owner:Uee.current}}vp.jsx=Z9;vp.jsxs=Z9;(function(t){t.exports=vp})(Iee);const vr=f0.Fragment,_=f0.jsx,Y=f0.jsxs;var NL={},Gee={get exports(){return NL},set exports(t){NL=t}},Lg=function(t){return t&&t.Math==Math&&t},de=Lg(typeof globalThis=="object"&&globalThis)||Lg(typeof window=="object"&&window)||Lg(typeof self=="object"&&self)||Lg(typeof ge=="object"&&ge)||function(){return this}()||Function("return this")(),ir={},re=function(t){try{return!!t()}catch{return!0}},zee=re,be=!zee(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),Vee=re,xp=!Vee(function(){var t=function(){}.bind();return typeof t!="function"||t.hasOwnProperty("prototype")}),Wee=xp,Pg=Function.prototype.call,Ie=Wee?Pg.bind(Pg):function(){return Pg.apply(Pg,arguments)},Ep={},J9={}.propertyIsEnumerable,ej=Object.getOwnPropertyDescriptor,Kee=ej&&!J9.call({1:2},1);Ep.f=Kee?function(e){var r=ej(this,e);return!!r&&r.enumerable}:J9;var ti=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}},tj=xp,rj=Function.prototype,Zw=rj.call,Yee=tj&&rj.bind.bind(Zw,Zw),ie=tj?Yee:function(t){return function(){return Zw.apply(t,arguments)}},nj=ie,qee=nj({}.toString),Xee=nj("".slice),Or=function(t){return Xee(qee(t),8,-1)},Qee=ie,Zee=re,Jee=Or,W_=Object,ete=Qee("".split),Df=Zee(function(){return!W_("z").propertyIsEnumerable(0)})?function(t){return Jee(t)=="String"?ete(t,""):W_(t)}:W_,sn=function(t){return t==null},tte=sn,rte=TypeError,Nt=function(t){if(tte(t))throw rte("Can't call method on "+t);return t},nte=Df,ite=Nt,Yt=function(t){return nte(ite(t))},Jw=typeof document=="object"&&document.all,ate=typeof Jw>"u"&&Jw!==void 0,ij={all:Jw,IS_HTMLDDA:ate},aj=ij,ste=aj.all,Pe=aj.IS_HTMLDDA?function(t){return typeof t=="function"||t===ste}:function(t){return typeof t=="function"},DL=Pe,sj=ij,ote=sj.all,Ne=sj.IS_HTMLDDA?function(t){return typeof t=="object"?t!==null:DL(t)||t===ote}:function(t){return typeof t=="object"?t!==null:DL(t)},K_=de,lte=Pe,cte=function(t){return lte(t)?t:void 0},dt=function(t,e){return arguments.length<2?cte(K_[t]):K_[t]&&K_[t][e]},ute=ie,ri=ute({}.isPrototypeOf),cs=typeof navigator<"u"&&String(navigator.userAgent)||"",oj=de,Y_=cs,ML=oj.process,FL=oj.Deno,BL=ML&&ML.versions||FL&&FL.version,UL=BL&&BL.v8,xi,ly;UL&&(xi=UL.split("."),ly=xi[0]>0&&xi[0]<4?1:+(xi[0]+xi[1]));!ly&&Y_&&(xi=Y_.match(/Edge\/(\d+)/),(!xi||xi[1]>=74)&&(xi=Y_.match(/Chrome\/(\d+)/),xi&&(ly=+xi[1])));var us=ly,jL=us,fte=re,Mf=!!Object.getOwnPropertySymbols&&!fte(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&jL&&jL<41}),dte=Mf,lj=dte&&!Symbol.sham&&typeof Symbol.iterator=="symbol",hte=dt,pte=Pe,gte=ri,mte=lj,vte=Object,sc=mte?function(t){return typeof t=="symbol"}:function(t){var e=hte("Symbol");return pte(e)&&gte(e.prototype,vte(t))},yte=String,oc=function(t){try{return yte(t)}catch{return"Object"}},xte=Pe,Ete=oc,_te=TypeError,It=function(t){if(xte(t))return t;throw _te(Ete(t)+" is not a function")},bte=It,Ste=sn,fs=function(t,e){var r=t[e];return Ste(r)?void 0:bte(r)},q_=Ie,X_=Pe,Q_=Ne,Tte=TypeError,cj=function(t,e){var r,n;if(e==="string"&&X_(r=t.toString)&&!Q_(n=q_(r,t))||X_(r=t.valueOf)&&!Q_(n=q_(r,t))||e!=="string"&&X_(r=t.toString)&&!Q_(n=q_(r,t)))return n;throw Tte("Can't convert object to primitive value")},_o={},wte={get exports(){return _o},set exports(t){_o=t}},UI=!1,HL=de,Rte=Object.defineProperty,jI=function(t,e){try{Rte(HL,t,{value:e,configurable:!0,writable:!0})}catch{HL[t]=e}return e},Ate=de,Ite=jI,GL="__core-js_shared__",$te=Ate[GL]||Ite(GL,{}),HI=$te,zL=HI;(wte.exports=function(t,e){return zL[t]||(zL[t]=e!==void 0?e:{})})("versions",[]).push({version:"3.30.1",mode:"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.30.1/LICENSE",source:"https://github.com/zloirock/core-js"});var Cte=Nt,kte=Object,ze=function(t){return kte(Cte(t))},Ote=ie,Lte=ze,Pte=Ote({}.hasOwnProperty),Ue=Object.hasOwn||function(e,r){return Pte(Lte(e),r)},Nte=ie,Dte=0,Mte=Math.random(),Fte=Nte(1 .toString),Ff=function(t){return"Symbol("+(t===void 0?"":t)+")_"+Fte(++Dte+Mte,36)},Bte=de,Ute=_o,VL=Ue,jte=Ff,Hte=Mf,Gte=lj,lu=Bte.Symbol,Z_=Ute("wks"),zte=Gte?lu.for||lu:lu&&lu.withoutSetter||jte,De=function(t){return VL(Z_,t)||(Z_[t]=Hte&&VL(lu,t)?lu[t]:zte("Symbol."+t)),Z_[t]},Vte=Ie,WL=Ne,KL=sc,Wte=fs,Kte=cj,Yte=De,qte=TypeError,Xte=Yte("toPrimitive"),Cx=function(t,e){if(!WL(t)||KL(t))return t;var r=Wte(t,Xte),n;if(r){if(e===void 0&&(e="default"),n=Vte(r,t,e),!WL(n)||KL(n))return n;throw qte("Can't convert object to primitive value")}return e===void 0&&(e="number"),Kte(t,e)},Qte=Cx,Zte=sc,Fo=function(t){var e=Qte(t,"string");return Zte(e)?e:e+""},Jte=de,YL=Ne,e2=Jte.document,ere=YL(e2)&&YL(e2.createElement),kx=function(t){return ere?e2.createElement(t):{}},tre=be,rre=re,nre=kx,uj=!tre&&!rre(function(){return Object.defineProperty(nre("div"),"a",{get:function(){return 7}}).a!=7}),ire=be,are=Ie,sre=Ep,ore=ti,lre=Yt,cre=Fo,ure=Ue,fre=uj,qL=Object.getOwnPropertyDescriptor;ir.f=ire?qL:function(e,r){if(e=lre(e),r=cre(r),fre)try{return qL(e,r)}catch{}if(ure(e,r))return ore(!are(sre.f,e,r),e[r])};var ht={},dre=be,hre=re,fj=dre&&hre(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42}),pre=Ne,gre=String,mre=TypeError,Ae=function(t){if(pre(t))return t;throw mre(gre(t)+" is not an object")},vre=be,yre=uj,xre=fj,Ng=Ae,XL=Fo,Ere=TypeError,J_=Object.defineProperty,_re=Object.getOwnPropertyDescriptor,eb="enumerable",tb="configurable",rb="writable";ht.f=vre?xre?function(e,r,n){if(Ng(e),r=XL(r),Ng(n),typeof e=="function"&&r==="prototype"&&"value"in n&&rb in n&&!n[rb]){var i=_re(e,r);i&&i[rb]&&(e[r]=n.value,n={configurable:tb in n?n[tb]:i[tb],enumerable:eb in n?n[eb]:i[eb],writable:!1})}return J_(e,r,n)}:J_:function(e,r,n){if(Ng(e),r=XL(r),Ng(n),yre)try{return J_(e,r,n)}catch{}if("get"in n||"set"in n)throw Ere("Accessors not supported");return"value"in n&&(e[r]=n.value),e};var bre=be,Sre=ht,Tre=ti,Lr=bre?function(t,e,r){return Sre.f(t,e,Tre(1,r))}:function(t,e,r){return t[e]=r,t},d0={},wre={get exports(){return d0},set exports(t){d0=t}},t2=be,Rre=Ue,dj=Function.prototype,Are=t2&&Object.getOwnPropertyDescriptor,GI=Rre(dj,"name"),Ire=GI&&function(){}.name==="something",$re=GI&&(!t2||t2&&Are(dj,"name").configurable),Bf={EXISTS:GI,PROPER:Ire,CONFIGURABLE:$re},Cre=ie,kre=Pe,r2=HI,Ore=Cre(Function.toString);kre(r2.inspectSource)||(r2.inspectSource=function(t){return Ore(t)});var zI=r2.inspectSource,Lre=de,Pre=Pe,QL=Lre.WeakMap,hj=Pre(QL)&&/native code/.test(String(QL)),Nre=_o,Dre=Ff,ZL=Nre("keys"),Ox=function(t){return ZL[t]||(ZL[t]=Dre(t))},_p={},Mre=hj,pj=de,Fre=Ne,Bre=Lr,nb=Ue,ib=HI,Ure=Ox,jre=_p,JL="Object already initialized",n2=pj.TypeError,Hre=pj.WeakMap,cy,h0,uy,Gre=function(t){return uy(t)?h0(t):cy(t,{})},zre=function(t){return function(e){var r;if(!Fre(e)||(r=h0(e)).type!==t)throw n2("Incompatible receiver, "+t+" required");return r}};if(Mre||ib.state){var Gi=ib.state||(ib.state=new Hre);Gi.get=Gi.get,Gi.has=Gi.has,Gi.set=Gi.set,cy=function(t,e){if(Gi.has(t))throw n2(JL);return e.facade=t,Gi.set(t,e),e},h0=function(t){return Gi.get(t)||{}},uy=function(t){return Gi.has(t)}}else{var Ic=Ure("state");jre[Ic]=!0,cy=function(t,e){if(nb(t,Ic))throw n2(JL);return e.facade=t,Bre(t,Ic,e),e},h0=function(t){return nb(t,Ic)?t[Ic]:{}},uy=function(t){return nb(t,Ic)}}var Dt={set:cy,get:h0,has:uy,enforce:Gre,getterFor:zre},VI=ie,Vre=re,Wre=Pe,Dg=Ue,i2=be,Kre=Bf.CONFIGURABLE,Yre=zI,gj=Dt,qre=gj.enforce,Xre=gj.get,eP=String,yv=Object.defineProperty,Qre=VI("".slice),Zre=VI("".replace),Jre=VI([].join),ene=i2&&!Vre(function(){return yv(function(){},"length",{value:8}).length!==8}),tne=String(String).split("String"),rne=wre.exports=function(t,e,r){Qre(eP(e),0,7)==="Symbol("&&(e="["+Zre(eP(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!Dg(t,"name")||Kre&&t.name!==e)&&(i2?yv(t,"name",{value:e,configurable:!0}):t.name=e),ene&&r&&Dg(r,"arity")&&t.length!==r.arity&&yv(t,"length",{value:r.arity});try{r&&Dg(r,"constructor")&&r.constructor?i2&&yv(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch{}var n=qre(t);return Dg(n,"source")||(n.source=Jre(tne,typeof e=="string"?e:"")),t};Function.prototype.toString=rne(function(){return Wre(this)&&Xre(this).source||Yre(this)},"toString");var nne=Pe,ine=ht,ane=d0,sne=jI,St=function(t,e,r,n){n||(n={});var i=n.enumerable,a=n.name!==void 0?n.name:e;if(nne(r)&&ane(r,a,n),n.global)i?t[e]=r:sne(e,r);else{try{n.unsafe?t[e]&&(i=!0):delete t[e]}catch{}i?t[e]=r:ine.f(t,e,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return t},ds={},one=Math.ceil,lne=Math.floor,mj=Math.trunc||function(e){var r=+e;return(r>0?lne:one)(r)},cne=mj,$t=function(t){var e=+t;return e!==e||e===0?0:cne(e)},une=$t,fne=Math.max,dne=Math.min,va=function(t,e){var r=une(t);return r<0?fne(r+e,0):dne(r,e)},hne=$t,pne=Math.min,Sn=function(t){return t>0?pne(hne(t),9007199254740991):0},gne=Sn,We=function(t){return gne(t.length)},mne=Yt,vne=va,yne=We,tP=function(t){return function(e,r,n){var i=mne(e),a=yne(i),s=vne(n,a),o;if(t&&r!=r){for(;a>s;)if(o=i[s++],o!=o)return!0}else for(;a>s;s++)if((t||s in i)&&i[s]===r)return t||s||0;return!t&&-1}},bp={includes:tP(!0),indexOf:tP(!1)},xne=ie,ab=Ue,Ene=Yt,_ne=bp.indexOf,bne=_p,rP=xne([].push),vj=function(t,e){var r=Ene(t),n=0,i=[],a;for(a in r)!ab(bne,a)&&ab(r,a)&&rP(i,a);for(;e.length>n;)ab(r,a=e[n++])&&(~_ne(i,a)||rP(i,a));return i},WI=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Sne=vj,Tne=WI,wne=Tne.concat("length","prototype");ds.f=Object.getOwnPropertyNames||function(e){return Sne(e,wne)};var Sp={};Sp.f=Object.getOwnPropertySymbols;var Rne=dt,Ane=ie,Ine=ds,$ne=Sp,Cne=Ae,kne=Ane([].concat),KI=Rne("Reflect","ownKeys")||function(e){var r=Ine.f(Cne(e)),n=$ne.f;return n?kne(r,n(e)):r},nP=Ue,One=KI,Lne=ir,Pne=ht,Lx=function(t,e,r){for(var n=One(e),i=Pne.f,a=Lne.f,s=0;s<n.length;s++){var o=n[s];!nP(t,o)&&!(r&&nP(r,o))&&i(t,o,a(e,o))}},Nne=re,Dne=Pe,Mne=/#|\.prototype\./,Tp=function(t,e){var r=Bne[Fne(t)];return r==jne?!0:r==Une?!1:Dne(e)?Nne(e):!!e},Fne=Tp.normalize=function(t){return String(t).replace(Mne,".").toLowerCase()},Bne=Tp.data={},Une=Tp.NATIVE="N",jne=Tp.POLYFILL="P",wp=Tp,sb=de,Hne=ir.f,Gne=Lr,zne=St,Vne=jI,Wne=Lx,Kne=wp,j=function(t,e){var r=t.target,n=t.global,i=t.stat,a,s,o,c,l,u;if(n?s=sb:i?s=sb[r]||Vne(r,{}):s=(sb[r]||{}).prototype,s)for(o in e){if(l=e[o],t.dontCallGetSet?(u=Hne(s,o),c=u&&u.value):c=s[o],a=Kne(n?o:r+(i?".":"#")+o,t.forced),!a&&c!==void 0){if(typeof l==typeof c)continue;Wne(l,c)}(t.sham||c&&c.sham)&&Gne(l,"sham",!0),zne(s,o,l,t)}},Yne=De,qne=Yne("toStringTag"),yj={};yj[qne]="z";var YI=String(yj)==="[object z]",Xne=YI,Qne=Pe,xv=Or,Zne=De,Jne=Zne("toStringTag"),eie=Object,tie=xv(function(){return arguments}())=="Arguments",rie=function(t,e){try{return t[e]}catch{}},ya=Xne?xv:function(t){var e,r,n;return t===void 0?"Undefined":t===null?"Null":typeof(r=rie(e=eie(t),Jne))=="string"?r:tie?xv(e):(n=xv(e))=="Object"&&Qne(e.callee)?"Arguments":n},nie=ya,iie=String,$e=function(t){if(nie(t)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return iie(t)},Px={},aie=vj,sie=WI,Rp=Object.keys||function(e){return aie(e,sie)},oie=be,lie=fj,cie=ht,uie=Ae,fie=Yt,die=Rp;Px.f=oie&&!lie?Object.defineProperties:function(e,r){uie(e);for(var n=fie(r),i=die(r),a=i.length,s=0,o;a>s;)cie.f(e,o=i[s++],n[o]);return e};var hie=dt,xj=hie("document","documentElement"),pie=Ae,gie=Px,iP=WI,mie=_p,vie=xj,yie=kx,xie=Ox,aP=">",sP="<",a2="prototype",s2="script",Ej=xie("IE_PROTO"),ob=function(){},_j=function(t){return sP+s2+aP+t+sP+"/"+s2+aP},oP=function(t){t.write(_j("")),t.close();var e=t.parentWindow.Object;return t=null,e},Eie=function(){var t=yie("iframe"),e="java"+s2+":",r;return t.style.display="none",vie.appendChild(t),t.src=String(e),r=t.contentWindow.document,r.open(),r.write(_j("document.F=Object")),r.close(),r.F},Mg,Ev=function(){try{Mg=new ActiveXObject("htmlfile")}catch{}Ev=typeof document<"u"?document.domain&&Mg?oP(Mg):Eie():oP(Mg);for(var t=iP.length;t--;)delete Ev[a2][iP[t]];return Ev()};mie[Ej]=!0;var ni=Object.create||function(e,r){var n;return e!==null?(ob[a2]=pie(e),n=new ob,ob[a2]=null,n[Ej]=e):n=Ev(),r===void 0?n:gie.f(n,r)},Nx={},_ie=Fo,bie=ht,Sie=ti,hs=function(t,e,r){var n=_ie(e);n in t?bie.f(t,n,Sie(0,r)):t[n]=r},lP=va,Tie=We,wie=hs,Rie=Array,Aie=Math.max,Ap=function(t,e,r){for(var n=Tie(t),i=lP(e,n),a=lP(r===void 0?n:r,n),s=Rie(Aie(a-i,0)),o=0;i<a;i++,o++)wie(s,o,t[i]);return s.length=o,s},Iie=Or,$ie=Yt,bj=ds.f,Cie=Ap,Sj=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],kie=function(t){try{return bj(t)}catch{return Cie(Sj)}};Nx.f=function(e){return Sj&&Iie(e)=="Window"?kie(e):bj($ie(e))};var cP=d0,Oie=ht,ar=function(t,e,r){return r.get&&cP(r.get,e,{getter:!0}),r.set&&cP(r.set,e,{setter:!0}),Oie.f(t,e,r)},qI={},Lie=De;qI.f=Lie;var Pie=de,XI=Pie,uP=XI,Nie=Ue,Die=qI,Mie=ht.f,on=function(t){var e=uP.Symbol||(uP.Symbol={});Nie(e,t)||Mie(e,t,{value:Die.f(t)})},Fie=Ie,Bie=dt,Uie=De,jie=St,Tj=function(){var t=Bie("Symbol"),e=t&&t.prototype,r=e&&e.valueOf,n=Uie("toPrimitive");e&&!e[n]&&jie(e,n,function(i){return Fie(r,this)},{arity:1})},Hie=ht.f,Gie=Ue,zie=De,fP=zie("toStringTag"),Tn=function(t,e,r){t&&!r&&(t=t.prototype),t&&!Gie(t,fP)&&Hie(t,fP,{configurable:!0,value:e})},Vie=Or,Wie=ie,Bo=function(t){if(Vie(t)==="Function")return Wie(t)},dP=Bo,Kie=It,Yie=xp,qie=dP(dP.bind),Li=function(t,e){return Kie(t),e===void 0?t:Yie?qie(t,e):function(){return t.apply(e,arguments)}},Xie=Or,Uo=Array.isArray||function(e){return Xie(e)=="Array"},Qie=ie,Zie=re,wj=Pe,Jie=ya,eae=dt,tae=zI,Rj=function(){},rae=[],Aj=eae("Reflect","construct"),QI=/^\s*(?:class|function)\b/,nae=Qie(QI.exec),iae=!QI.exec(Rj),bd=function(e){if(!wj(e))return!1;try{return Aj(Rj,rae,e),!0}catch{return!1}},Ij=function(e){if(!wj(e))return!1;switch(Jie(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return iae||!!nae(QI,tae(e))}catch{return!0}};Ij.sham=!0;var Uf=!Aj||Zie(function(){var t;return bd(bd.call)||!bd(Object)||!bd(function(){t=!0})||t})?Ij:bd,hP=Uo,aae=Uf,sae=Ne,oae=De,lae=oae("species"),pP=Array,cae=function(t){var e;return hP(t)&&(e=t.constructor,aae(e)&&(e===pP||hP(e.prototype))?e=void 0:sae(e)&&(e=e[lae],e===null&&(e=void 0))),e===void 0?pP:e},uae=cae,Ip=function(t,e){return new(uae(t))(e===0?0:e)},fae=Li,dae=ie,hae=Df,pae=ze,gae=We,mae=Ip,gP=dae([].push),Rs=function(t){var e=t==1,r=t==2,n=t==3,i=t==4,a=t==6,s=t==7,o=t==5||a;return function(c,l,u,f){for(var d=pae(c),h=hae(d),p=fae(l,u),m=gae(h),g=0,v=f||mae,y=e?v(c,m):r||s?v(c,0):void 0,x,E;m>g;g++)if((o||g in h)&&(x=h[g],E=p(x,g,d),t))if(e)y[g]=E;else if(E)switch(t){case 3:return!0;case 5:return x;case 6:return g;case 2:gP(y,x)}else switch(t){case 4:return!1;case 7:gP(y,x)}return a?-1:n||i?i:y}},sr={forEach:Rs(0),map:Rs(1),filter:Rs(2),some:Rs(3),every:Rs(4),find:Rs(5),findIndex:Rs(6),filterReject:Rs(7)},Dx=j,ZI=de,JI=Ie,vae=ie,tf=be,rf=Mf,yae=re,Gt=Ue,xae=ri,o2=Ae,Mx=Yt,e$=Fo,Eae=$e,l2=ti,p0=ni,$j=Rp,_ae=ds,Cj=Nx,bae=Sp,kj=ir,Oj=ht,Sae=Px,Lj=Ep,lb=St,Tae=ar,t$=_o,wae=Ox,Pj=_p,mP=Ff,Rae=De,Aae=qI,Iae=on,$ae=Tj,Cae=Tn,Nj=Dt,Fx=sr.forEach,Kr=wae("hidden"),Bx="Symbol",g0="prototype",kae=Nj.set,vP=Nj.getterFor(Bx),Yn=Object[g0],Ll=ZI.Symbol,dh=Ll&&Ll[g0],Oae=ZI.TypeError,cb=ZI.QObject,Dj=kj.f,vl=Oj.f,Mj=Cj.f,Lae=Lj.f,Fj=vae([].push),ts=t$("symbols"),$p=t$("op-symbols"),Pae=t$("wks"),c2=!cb||!cb[g0]||!cb[g0].findChild,u2=tf&&yae(function(){return p0(vl({},"a",{get:function(){return vl(this,"a",{value:7}).a}})).a!=7})?function(t,e,r){var n=Dj(Yn,e);n&&delete Yn[e],vl(t,e,r),n&&t!==Yn&&vl(Yn,e,n)}:vl,ub=function(t,e){var r=ts[t]=p0(dh);return kae(r,{type:Bx,tag:t,description:e}),tf||(r.description=e),r},Ux=function(e,r,n){e===Yn&&Ux($p,r,n),o2(e);var i=e$(r);return o2(n),Gt(ts,i)?(n.enumerable?(Gt(e,Kr)&&e[Kr][i]&&(e[Kr][i]=!1),n=p0(n,{enumerable:l2(0,!1)})):(Gt(e,Kr)||vl(e,Kr,l2(1,{})),e[Kr][i]=!0),u2(e,i,n)):vl(e,i,n)},r$=function(e,r){o2(e);var n=Mx(r),i=$j(n).concat(jj(n));return Fx(i,function(a){(!tf||JI(f2,n,a))&&Ux(e,a,n[a])}),e},Nae=function(e,r){return r===void 0?p0(e):r$(p0(e),r)},f2=function(e){var r=e$(e),n=JI(Lae,this,r);return this===Yn&&Gt(ts,r)&&!Gt($p,r)?!1:n||!Gt(this,r)||!Gt(ts,r)||Gt(this,Kr)&&this[Kr][r]?n:!0},Bj=function(e,r){var n=Mx(e),i=e$(r);if(!(n===Yn&&Gt(ts,i)&&!Gt($p,i))){var a=Dj(n,i);return a&&Gt(ts,i)&&!(Gt(n,Kr)&&n[Kr][i])&&(a.enumerable=!0),a}},Uj=function(e){var r=Mj(Mx(e)),n=[];return Fx(r,function(i){!Gt(ts,i)&&!Gt(Pj,i)&&Fj(n,i)}),n},jj=function(t){var e=t===Yn,r=Mj(e?$p:Mx(t)),n=[];return Fx(r,function(i){Gt(ts,i)&&(!e||Gt(Yn,i))&&Fj(n,ts[i])}),n};rf||(Ll=function(){if(xae(dh,this))throw Oae("Symbol is not a constructor");var e=!arguments.length||arguments[0]===void 0?void 0:Eae(arguments[0]),r=mP(e),n=function(i){this===Yn&&JI(n,$p,i),Gt(this,Kr)&&Gt(this[Kr],r)&&(this[Kr][r]=!1),u2(this,r,l2(1,i))};return tf&&c2&&u2(Yn,r,{configurable:!0,set:n}),ub(r,e)},dh=Ll[g0],lb(dh,"toString",function(){return vP(this).tag}),lb(Ll,"withoutSetter",function(t){return ub(mP(t),t)}),Lj.f=f2,Oj.f=Ux,Sae.f=r$,kj.f=Bj,_ae.f=Cj.f=Uj,bae.f=jj,Aae.f=function(t){return ub(Rae(t),t)},tf&&(Tae(dh,"description",{configurable:!0,get:function(){return vP(this).description}}),lb(Yn,"propertyIsEnumerable",f2,{unsafe:!0})));Dx({global:!0,constructor:!0,wrap:!0,forced:!rf,sham:!rf},{Symbol:Ll});Fx($j(Pae),function(t){Iae(t)});Dx({target:Bx,stat:!0,forced:!rf},{useSetter:function(){c2=!0},useSimple:function(){c2=!1}});Dx({target:"Object",stat:!0,forced:!rf,sham:!tf},{create:Nae,defineProperty:Ux,defineProperties:r$,getOwnPropertyDescriptor:Bj});Dx({target:"Object",stat:!0,forced:!rf},{getOwnPropertyNames:Uj});$ae();Cae(Ll,Bx);Pj[Kr]=!0;var Dae=Mf,Hj=Dae&&!!Symbol.for&&!!Symbol.keyFor,Mae=j,Fae=dt,Bae=Ue,Uae=$e,Gj=_o,jae=Hj,fb=Gj("string-to-symbol-registry"),Hae=Gj("symbol-to-string-registry");Mae({target:"Symbol",stat:!0,forced:!jae},{for:function(t){var e=Uae(t);if(Bae(fb,e))return fb[e];var r=Fae("Symbol")(e);return fb[e]=r,Hae[r]=e,r}});var Gae=j,zae=Ue,Vae=sc,Wae=oc,Kae=_o,Yae=Hj,yP=Kae("symbol-to-string-registry");Gae({target:"Symbol",stat:!0,forced:!Yae},{keyFor:function(e){if(!Vae(e))throw TypeError(Wae(e)+" is not a symbol");if(zae(yP,e))return yP[e]}});var qae=xp,zj=Function.prototype,xP=zj.apply,EP=zj.call,ii=typeof Reflect=="object"&&Reflect.apply||(qae?EP.bind(xP):function(){return EP.apply(xP,arguments)}),Xae=ie,lc=Xae([].slice),Qae=ie,_P=Uo,Zae=Pe,bP=Or,Jae=$e,SP=Qae([].push),ese=function(t){if(Zae(t))return t;if(_P(t)){for(var e=t.length,r=[],n=0;n<e;n++){var i=t[n];typeof i=="string"?SP(r,i):(typeof i=="number"||bP(i)=="Number"||bP(i)=="String")&&SP(r,Jae(i))}var a=r.length,s=!0;return function(o,c){if(s)return s=!1,c;if(_P(this))return c;for(var l=0;l<a;l++)if(r[l]===o)return c}}},tse=j,Vj=dt,Wj=ii,rse=Ie,Cp=ie,Kj=re,TP=Pe,wP=sc,Yj=lc,nse=ese,ise=Mf,ase=String,ro=Vj("JSON","stringify"),Fg=Cp(/./.exec),RP=Cp("".charAt),sse=Cp("".charCodeAt),ose=Cp("".replace),lse=Cp(1 .toString),cse=/[\uD800-\uDFFF]/g,AP=/^[\uD800-\uDBFF]$/,IP=/^[\uDC00-\uDFFF]$/,$P=!ise||Kj(function(){var t=Vj("Symbol")();return ro([t])!="[null]"||ro({a:t})!="{}"||ro(Object(t))!="{}"}),CP=Kj(function(){return ro("\uDF06\uD834")!=='"\\udf06\\ud834"'||ro("\uDEAD")!=='"\\udead"'}),use=function(t,e){var r=Yj(arguments),n=nse(e);if(!(!TP(n)&&(t===void 0||wP(t))))return r[1]=function(i,a){if(TP(n)&&(a=rse(n,this,ase(i),a)),!wP(a))return a},Wj(ro,null,r)},fse=function(t,e,r){var n=RP(r,e-1),i=RP(r,e+1);return Fg(AP,t)&&!Fg(IP,i)||Fg(IP,t)&&!Fg(AP,n)?"\\u"+lse(sse(t,0),16):t};ro&&tse({target:"JSON",stat:!0,arity:3,forced:$P||CP},{stringify:function(e,r,n){var i=Yj(arguments),a=Wj($P?use:ro,null,i);return CP&&typeof a=="string"?ose(a,cse,fse):a}});var dse=j,hse=Mf,pse=re,qj=Sp,gse=ze,mse=!hse||pse(function(){qj.f(1)});dse({target:"Object",stat:!0,forced:mse},{getOwnPropertySymbols:function(e){var r=qj.f;return r?r(gse(e)):[]}});var vse=j,yse=be,xse=de,Bg=ie,Ese=Ue,_se=Pe,bse=ri,Sse=$e,Tse=ar,wse=Lx,Pa=xse.Symbol,tl=Pa&&Pa.prototype;if(yse&&_se(Pa)&&(!("description"in tl)||Pa().description!==void 0)){var kP={},Ug=function(){var e=arguments.length<1||arguments[0]===void 0?void 0:Sse(arguments[0]),r=bse(tl,this)?new Pa(e):e===void 0?Pa():Pa(e);return e===""&&(kP[r]=!0),r};wse(Ug,Pa),Ug.prototype=tl,tl.constructor=Ug;var Rse=String(Pa("test"))=="Symbol(test)",Ase=Bg(tl.valueOf),Ise=Bg(tl.toString),$se=/^Symbol\((.*)\)[^)]+$/,Cse=Bg("".replace),kse=Bg("".slice);Tse(tl,"description",{configurable:!0,get:function(){var e=Ase(this);if(Ese(kP,e))return"";var r=Ise(e),n=Rse?kse(r,7,-1):Cse(r,$se,"$1");return n===""?void 0:n}}),vse({global:!0,constructor:!0,forced:!0},{Symbol:Ug})}var Ose=on;Ose("asyncIterator");var Lse=on;Lse("hasInstance");var Pse=on;Pse("isConcatSpreadable");var Nse=on;Nse("iterator");var Dse=on;Dse("match");var Mse=on;Mse("matchAll");var Fse=on;Fse("replace");var Bse=on;Bse("search");var Use=on;Use("species");var jse=on;jse("split");var Hse=on,Gse=Tj;Hse("toPrimitive");Gse();var zse=dt,Vse=on,Wse=Tn;Vse("toStringTag");Wse(zse("Symbol"),"Symbol");var Kse=on;Kse("unscopables");var Yse=ie,qse=It,Xse=function(t,e,r){try{return Yse(qse(Object.getOwnPropertyDescriptor(t,e)[r]))}catch{}},Qse=Pe,Zse=String,Jse=TypeError,Xj=function(t){if(typeof t=="object"||Qse(t))return t;throw Jse("Can't set "+Zse(t)+" as a prototype")},eoe=Xse,toe=Ae,roe=Xj,xa=Object.setPrototypeOf||("__proto__"in{}?function(){var t=!1,e={},r;try{r=eoe(Object.prototype,"__proto__","set"),r(e,[]),t=e instanceof Array}catch{}return function(i,a){return toe(i),roe(a),t?r(i,a):i.__proto__=a,i}}():void 0),noe=ht.f,Qj=function(t,e,r){r in t||noe(t,r,{configurable:!0,get:function(){return e[r]},set:function(n){e[r]=n}})},ioe=Pe,aoe=Ne,OP=xa,jf=function(t,e,r){var n,i;return OP&&ioe(n=e.constructor)&&n!==r&&aoe(i=n.prototype)&&i!==r.prototype&&OP(t,i),t},soe=$e,kp=function(t,e){return t===void 0?arguments.length<2?"":e:soe(t)},ooe=Ne,loe=Lr,Zj=function(t,e){ooe(e)&&"cause"in e&&loe(t,"cause",e.cause)},coe=ie,Jj=Error,uoe=coe("".replace),foe=function(t){return String(Jj(t).stack)}("zxcasd"),eH=/\n\s*at [^:]*:[^\n]*/,doe=eH.test(foe),n$=function(t,e){if(doe&&typeof t=="string"&&!Jj.prepareStackTrace)for(;e--;)t=uoe(t,eH,"");return t},hoe=re,poe=ti,tH=!hoe(function(){var t=Error("a");return"stack"in t?(Object.defineProperty(t,"stack",poe(1,7)),t.stack!==7):!0}),goe=Lr,moe=n$,voe=tH,LP=Error.captureStackTrace,rH=function(t,e,r,n){voe&&(LP?LP(t,e):goe(t,"stack",moe(r,n)))},PP=dt,yoe=Ue,NP=Lr,xoe=ri,DP=xa,MP=Lx,FP=Qj,Eoe=jf,_oe=kp,boe=Zj,Soe=rH,Toe=be,nH=function(t,e,r,n){var i="stackTraceLimit",a=n?2:1,s=t.split("."),o=s[s.length-1],c=PP.apply(null,s);if(c){var l=c.prototype;if(yoe(l,"cause")&&delete l.cause,!r)return c;var u=PP("Error"),f=e(function(d,h){var p=_oe(n?h:d,void 0),m=n?new c(d):new c;return p!==void 0&&NP(m,"message",p),Soe(m,f,m.stack,2),this&&xoe(l,this)&&Eoe(m,this,f),arguments.length>a&&boe(m,arguments[a]),m});f.prototype=l,o!=="Error"?DP?DP(f,u):MP(f,u,{name:!0}):Toe&&i in c&&(FP(f,c,i),FP(f,c,"prepareStackTrace")),MP(f,c);try{l.name!==o&&NP(l,"name",o),l.constructor=f}catch{}return f}},iH=j,woe=de,Ea=ii,aH=nH,d2="WebAssembly",BP=woe[d2],fy=Error("e",{cause:7}).cause!==7,cc=function(t,e){var r={};r[t]=aH(t,e,fy),iH({global:!0,constructor:!0,arity:1,forced:fy},r)},i$=function(t,e){if(BP&&BP[t]){var r={};r[t]=aH(d2+"."+t,e,fy),iH({target:d2,stat:!0,constructor:!0,arity:1,forced:fy},r)}};cc("Error",function(t){return function(r){return Ea(t,this,arguments)}});cc("EvalError",function(t){return function(r){return Ea(t,this,arguments)}});cc("RangeError",function(t){return function(r){return Ea(t,this,arguments)}});cc("ReferenceError",function(t){return function(r){return Ea(t,this,arguments)}});cc("SyntaxError",function(t){return function(r){return Ea(t,this,arguments)}});cc("TypeError",function(t){return function(r){return Ea(t,this,arguments)}});cc("URIError",function(t){return function(r){return Ea(t,this,arguments)}});i$("CompileError",function(t){return function(r){return Ea(t,this,arguments)}});i$("LinkError",function(t){return function(r){return Ea(t,this,arguments)}});i$("RuntimeError",function(t){return function(r){return Ea(t,this,arguments)}});var Roe=be,Aoe=re,Ioe=Ae,$oe=ni,UP=kp,_v=Error.prototype.toString,Coe=Aoe(function(){if(Roe){var t=$oe(Object.defineProperty({},"name",{get:function(){return this===t}}));if(_v.call(t)!=="true")return!0}return _v.call({message:1,name:2})!=="2: 1"||_v.call({})!=="Error"}),sH=Coe?function(){var e=Ioe(this),r=UP(e.name,"Error"),n=UP(e.message);return r?n?r+": "+n:r:n}:_v,koe=St,jP=sH,HP=Error.prototype;HP.toString!==jP&&koe(HP,"toString",jP);var Ooe=re,a$=!Ooe(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),Loe=Ue,Poe=Pe,Noe=ze,Doe=Ox,Moe=a$,GP=Doe("IE_PROTO"),h2=Object,Foe=h2.prototype,ai=Moe?h2.getPrototypeOf:function(t){var e=Noe(t);if(Loe(e,GP))return e[GP];var r=e.constructor;return Poe(r)&&e instanceof r?r.prototype:e instanceof h2?Foe:null},Op={},Boe=De,Uoe=Op,joe=Boe("iterator"),Hoe=Array.prototype,s$=function(t){return t!==void 0&&(Uoe.Array===t||Hoe[joe]===t)},Goe=ya,zP=fs,zoe=sn,Voe=Op,Woe=De,Koe=Woe("iterator"),Lp=function(t){if(!zoe(t))return zP(t,Koe)||zP(t,"@@iterator")||Voe[Goe(t)]},Yoe=Ie,qoe=It,Xoe=Ae,Qoe=oc,Zoe=Lp,Joe=TypeError,jx=function(t,e){var r=arguments.length<2?Zoe(t):e;if(qoe(r))return Xoe(Yoe(r,t));throw Joe(Qoe(t)+" is not iterable")},ele=Ie,VP=Ae,tle=fs,oH=function(t,e,r){var n,i;VP(t);try{if(n=tle(t,"return"),!n){if(e==="throw")throw r;return r}n=ele(n,t)}catch(a){i=!0,n=a}if(e==="throw")throw r;if(i)throw n;return VP(n),r},rle=Li,nle=Ie,ile=Ae,ale=oc,sle=s$,ole=We,WP=ri,lle=jx,cle=Lp,KP=oH,ule=TypeError,bv=function(t,e){this.stopped=t,this.result=e},YP=bv.prototype,_a=function(t,e,r){var n=r&&r.that,i=!!(r&&r.AS_ENTRIES),a=!!(r&&r.IS_RECORD),s=!!(r&&r.IS_ITERATOR),o=!!(r&&r.INTERRUPTED),c=rle(e,n),l,u,f,d,h,p,m,g=function(y){return l&&KP(l,"normal",y),new bv(!0,y)},v=function(y){return i?(ile(y),o?c(y[0],y[1],g):c(y[0],y[1])):o?c(y,g):c(y)};if(a)l=t.iterator;else if(s)l=t;else{if(u=cle(t),!u)throw ule(ale(t)+" is not iterable");if(sle(u)){for(f=0,d=ole(t);d>f;f++)if(h=v(t[f]),h&&WP(YP,h))return h;return new bv(!1)}l=lle(t,u)}for(p=a?t.next:l.next;!(m=nle(p,l)).done;){try{h=v(m.value)}catch(y){KP(l,"throw",y)}if(typeof h=="object"&&h&&WP(YP,h))return h}return new bv(!1)},fle=j,dle=ri,hle=ai,dy=xa,ple=Lx,lH=ni,db=Lr,hb=ti,gle=Zj,mle=rH,vle=_a,yle=kp,xle=De,Ele=xle("toStringTag"),hy=Error,_le=[].push,nf=function(e,r){var n=dle(pb,this),i;dy?i=dy(hy(),n?hle(this):pb):(i=n?this:lH(pb),db(i,Ele,"Error")),r!==void 0&&db(i,"message",yle(r)),mle(i,nf,i.stack,1),arguments.length>2&&gle(i,arguments[2]);var a=[];return vle(e,_le,{that:a}),db(i,"errors",a),i};dy?dy(nf,hy):ple(nf,hy,{name:!0});var pb=nf.prototype=lH(hy.prototype,{constructor:hb(1,nf),message:hb(1,""),name:hb(1,"AggregateError")});fle({global:!0,constructor:!0,arity:2},{AggregateError:nf});var ble=j,Sle=dt,Tle=ii,qP=re,wle=nH,o$="AggregateError",XP=Sle(o$),QP=!qP(function(){return XP([1]).errors[0]!==1})&&qP(function(){return XP([1],o$,{cause:7}).cause!==7});ble({global:!0,constructor:!0,arity:2,forced:QP},{AggregateError:wle(o$,function(t){return function(r,n){return Tle(t,this,arguments)}},QP,!0)});var Rle=De,Ale=ni,Ile=ht.f,p2=Rle("unscopables"),g2=Array.prototype;g2[p2]==null&&Ile(g2,p2,{configurable:!0,value:Ale(null)});var ln=function(t){g2[p2][t]=!0},$le=j,Cle=ze,kle=We,Ole=$t,Lle=ln;$le({target:"Array",proto:!0},{at:function(e){var r=Cle(this),n=kle(r),i=Ole(e),a=i>=0?i:n+i;return a<0||a>=n?void 0:r[a]}});Lle("at");var Ple=TypeError,Nle=9007199254740991,Hf=function(t){if(t>Nle)throw Ple("Maximum allowed index exceeded");return t},Dle=re,Mle=De,Fle=us,Ble=Mle("species"),Pp=function(t){return Fle>=51||!Dle(function(){var e=[],r=e.constructor={};return r[Ble]=function(){return{foo:1}},e[t](Boolean).foo!==1})},Ule=j,jle=re,Hle=Uo,Gle=Ne,zle=ze,Vle=We,ZP=Hf,JP=hs,Wle=Ip,Kle=Pp,Yle=De,qle=us,cH=Yle("isConcatSpreadable"),Xle=qle>=51||!jle(function(){var t=[];return t[cH]=!1,t.concat()[0]!==t}),Qle=function(t){if(!Gle(t))return!1;var e=t[cH];return e!==void 0?!!e:Hle(t)},Zle=!Xle||!Kle("concat");Ule({target:"Array",proto:!0,arity:1,forced:Zle},{concat:function(e){var r=zle(this),n=Wle(r,0),i=0,a,s,o,c,l;for(a=-1,o=arguments.length;a<o;a++)if(l=a===-1?r:arguments[a],Qle(l))for(c=Vle(l),ZP(i+c),s=0;s<c;s++,i++)s in l&&JP(n,i,l[s]);else ZP(i+1),JP(n,i++,l);return n.length=i,n}});var eN=oc,Jle=TypeError,Hx=function(t,e){if(!delete t[e])throw Jle("Cannot delete property "+eN(e)+" of "+eN(t))},ece=ze,gb=va,tce=We,rce=Hx,nce=Math.min,uH=[].copyWithin||function(e,r){var n=ece(this),i=tce(n),a=gb(e,i),s=gb(r,i),o=arguments.length>2?arguments[2]:void 0,c=nce((o===void 0?i:gb(o,i))-s,i-a),l=1;for(s<a&&a<s+c&&(l=-1,s+=c-1,a+=c-1);c-- >0;)s in n?n[a]=n[s]:rce(n,a),a+=l,s+=l;return n},ice=j,ace=uH,sce=ln;ice({target:"Array",proto:!0},{copyWithin:ace});sce("copyWithin");var oce=re,ps=function(t,e){var r=[][t];return!!r&&oce(function(){r.call(null,e||function(){return 1},1)})},lce=j,cce=sr.every,uce=ps,fce=uce("every");lce({target:"Array",proto:!0,forced:!fce},{every:function(e){return cce(this,e,arguments.length>1?arguments[1]:void 0)}});var dce=ze,tN=va,hce=We,l$=function(e){for(var r=dce(this),n=hce(r),i=arguments.length,a=tN(i>1?arguments[1]:void 0,n),s=i>2?arguments[2]:void 0,o=s===void 0?n:tN(s,n);o>a;)r[a++]=e;return r},pce=j,gce=l$,mce=ln;pce({target:"Array",proto:!0},{fill:gce});mce("fill");var vce=j,yce=sr.filter,xce=Pp,Ece=xce("filter");vce({target:"Array",proto:!0,forced:!Ece},{filter:function(e){return yce(this,e,arguments.length>1?arguments[1]:void 0)}});var _ce=j,bce=sr.find,Sce=ln,m2="find",fH=!0;m2 in[]&&Array(1)[m2](function(){fH=!1});_ce({target:"Array",proto:!0,forced:fH},{find:function(e){return bce(this,e,arguments.length>1?arguments[1]:void 0)}});Sce(m2);var Tce=j,wce=sr.findIndex,Rce=ln,v2="findIndex",dH=!0;v2 in[]&&Array(1)[v2](function(){dH=!1});Tce({target:"Array",proto:!0,forced:dH},{findIndex:function(e){return wce(this,e,arguments.length>1?arguments[1]:void 0)}});Rce(v2);var Ace=Li,Ice=Df,$ce=ze,Cce=We,rN=function(t){var e=t==1;return function(r,n,i){for(var a=$ce(r),s=Ice(a),o=Ace(n,i),c=Cce(s),l,u;c-- >0;)if(l=s[c],u=o(l,c,a),u)switch(t){case 0:return l;case 1:return c}return e?-1:void 0}},Gx={findLast:rN(0),findLastIndex:rN(1)},kce=j,Oce=Gx.findLast,Lce=ln;kce({target:"Array",proto:!0},{findLast:function(e){return Oce(this,e,arguments.length>1?arguments[1]:void 0)}});Lce("findLast");var Pce=j,Nce=Gx.findLastIndex,Dce=ln;Pce({target:"Array",proto:!0},{findLastIndex:function(e){return Nce(this,e,arguments.length>1?arguments[1]:void 0)}});Dce("findLastIndex");var Mce=Uo,Fce=We,Bce=Hf,Uce=Li,hH=function(t,e,r,n,i,a,s,o){for(var c=i,l=0,u=s?Uce(s,o):!1,f,d;l<n;)l in r&&(f=u?u(r[l],l,e):r[l],a>0&&Mce(f)?(d=Fce(f),c=hH(t,e,f,d,c,a-1)-1):(Bce(c+1),t[c]=f),c++),l++;return c},pH=hH,jce=j,Hce=pH,Gce=ze,zce=We,Vce=$t,Wce=Ip;jce({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,r=Gce(this),n=zce(r),i=Wce(r,0);return i.length=Hce(i,r,r,n,0,e===void 0?1:Vce(e)),i}});var Kce=j,Yce=pH,qce=It,Xce=ze,Qce=We,Zce=Ip;Kce({target:"Array",proto:!0},{flatMap:function(e){var r=Xce(this),n=Qce(r),i;return qce(e),i=Zce(r,0),i.length=Yce(i,r,r,n,0,1,e,arguments.length>1?arguments[1]:void 0),i}});var Jce=sr.forEach,eue=ps,tue=eue("forEach"),gH=tue?[].forEach:function(e){return Jce(this,e,arguments.length>1?arguments[1]:void 0)},rue=j,nN=gH;rue({target:"Array",proto:!0,forced:[].forEach!=nN},{forEach:nN});var nue=Ae,iue=oH,aue=function(t,e,r,n){try{return n?e(nue(r)[0],r[1]):e(r)}catch(i){iue(t,"throw",i)}},sue=Li,oue=Ie,lue=ze,cue=aue,uue=s$,fue=Uf,due=We,iN=hs,hue=jx,pue=Lp,aN=Array,mH=function(e){var r=lue(e),n=fue(this),i=arguments.length,a=i>1?arguments[1]:void 0,s=a!==void 0;s&&(a=sue(a,i>2?arguments[2]:void 0));var o=pue(r),c=0,l,u,f,d,h,p;if(o&&!(this===aN&&uue(o)))for(d=hue(r,o),h=d.next,u=n?new this:[];!(f=oue(h,d)).done;c++)p=s?cue(d,a,[f.value,c],!0):f.value,iN(u,c,p);else for(l=due(r),u=n?new this(l):aN(l);l>c;c++)p=s?a(r[c],c):r[c],iN(u,c,p);return u.length=c,u},gue=De,vH=gue("iterator"),yH=!1;try{var mue=0,sN={next:function(){return{done:!!mue++}},return:function(){yH=!0}};sN[vH]=function(){return this},Array.from(sN,function(){throw 2})}catch{}var zx=function(t,e){if(!e&&!yH)return!1;var r=!1;try{var n={};n[vH]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch{}return r},vue=j,yue=mH,xue=zx,Eue=!xue(function(t){Array.from(t)});vue({target:"Array",stat:!0,forced:Eue},{from:yue});var _ue=j,bue=bp.includes,Sue=re,Tue=ln,wue=Sue(function(){return!Array(1).includes()});_ue({target:"Array",proto:!0,forced:wue},{includes:function(e){return bue(this,e,arguments.length>1?arguments[1]:void 0)}});Tue("includes");var Rue=j,Aue=Bo,Iue=bp.indexOf,$ue=ps,y2=Aue([].indexOf),xH=!!y2&&1/y2([1],1,-0)<0,Cue=xH||!$ue("indexOf");Rue({target:"Array",proto:!0,forced:Cue},{indexOf:function(e){var r=arguments.length>1?arguments[1]:void 0;return xH?y2(this,e,r)||0:Iue(this,e,r)}});var kue=j,Oue=Uo;kue({target:"Array",stat:!0},{isArray:Oue});var Lue=re,Pue=Pe,Nue=Ne,oN=ai,Due=St,Mue=De,x2=Mue("iterator"),EH=!1,jl,mb,vb;[].keys&&(vb=[].keys(),"next"in vb?(mb=oN(oN(vb)),mb!==Object.prototype&&(jl=mb)):EH=!0);var Fue=!Nue(jl)||Lue(function(){var t={};return jl[x2].call(t)!==t});Fue&&(jl={});Pue(jl[x2])||Due(jl,x2,function(){return this});var _H={IteratorPrototype:jl,BUGGY_SAFARI_ITERATORS:EH},Bue=_H.IteratorPrototype,Uue=ni,jue=ti,Hue=Tn,Gue=Op,zue=function(){return this},c$=function(t,e,r,n){var i=e+" Iterator";return t.prototype=Uue(Bue,{next:jue(+!n,r)}),Hue(t,i,!1),Gue[i]=zue,t},Vue=j,Wue=Ie,bH=Bf,Kue=Pe,Yue=c$,lN=ai,cN=xa,que=Tn,Xue=Lr,yb=St,Que=De,Zue=Op,SH=_H,Jue=bH.PROPER,efe=bH.CONFIGURABLE,uN=SH.IteratorPrototype,jg=SH.BUGGY_SAFARI_ITERATORS,Sd=Que("iterator"),fN="keys",Td="values",dN="entries",tfe=function(){return this},u$=function(t,e,r,n,i,a,s){Yue(r,e,n);var o=function(v){if(v===i&&d)return d;if(!jg&&v in u)return u[v];switch(v){case fN:return function(){return new r(this,v)};case Td:return function(){return new r(this,v)};case dN:return function(){return new r(this,v)}}return function(){return new r(this)}},c=e+" Iterator",l=!1,u=t.prototype,f=u[Sd]||u["@@iterator"]||i&&u[i],d=!jg&&f||o(i),h=e=="Array"&&u.entries||f,p,m,g;if(h&&(p=lN(h.call(new t)),p!==Object.prototype&&p.next&&(lN(p)!==uN&&(cN?cN(p,uN):Kue(p[Sd])||yb(p,Sd,tfe)),que(p,c,!0))),Jue&&i==Td&&f&&f.name!==Td&&(efe?Xue(u,"name",Td):(l=!0,d=function(){return Wue(f,this)})),i)if(m={values:o(Td),keys:a?d:o(fN),entries:o(dN)},s)for(g in m)(jg||l||!(g in u))&&yb(u,g,m[g]);else Vue({target:e,proto:!0,forced:jg||l},m);return u[Sd]!==d&&yb(u,Sd,d,{name:i}),Zue[e]=d,m},Vx=function(t,e){return{value:t,done:e}},rfe=Yt,f$=ln,hN=Op,TH=Dt,nfe=ht.f,ife=u$,Hg=Vx,afe=be,wH="Array Iterator",sfe=TH.set,ofe=TH.getterFor(wH),RH=ife(Array,"Array",function(t,e){sfe(this,{type:wH,target:rfe(t),index:0,kind:e})},function(){var t=ofe(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,Hg(void 0,!0)):r=="keys"?Hg(n,!1):r=="values"?Hg(e[n],!1):Hg([n,e[n]],!1)},"values"),pN=hN.Arguments=hN.Array;f$("keys");f$("values");f$("entries");if(afe&&pN.name!=="values")try{nfe(pN,"name",{value:"values"})}catch{}var lfe=j,cfe=ie,ufe=Df,ffe=Yt,dfe=ps,hfe=cfe([].join),pfe=ufe!=Object,gfe=pfe||!dfe("join",",");lfe({target:"Array",proto:!0,forced:gfe},{join:function(e){return hfe(ffe(this),e===void 0?",":e)}});var mfe=ii,vfe=Yt,yfe=$t,xfe=We,Efe=ps,_fe=Math.min,E2=[].lastIndexOf,AH=!!E2&&1/[1].lastIndexOf(1,-0)<0,bfe=Efe("lastIndexOf"),Sfe=AH||!bfe,IH=Sfe?function(e){if(AH)return mfe(E2,this,arguments)||0;var r=vfe(this),n=xfe(r),i=n-1;for(arguments.length>1&&(i=_fe(i,yfe(arguments[1]))),i<0&&(i=n+i);i>=0;i--)if(i in r&&r[i]===e)return i||0;return-1}:E2,Tfe=j,gN=IH;Tfe({target:"Array",proto:!0,forced:gN!==[].lastIndexOf},{lastIndexOf:gN});var wfe=j,Rfe=sr.map,Afe=Pp,Ife=Afe("map");wfe({target:"Array",proto:!0,forced:!Ife},{map:function(e){return Rfe(this,e,arguments.length>1?arguments[1]:void 0)}});var $fe=j,Cfe=re,kfe=Uf,Ofe=hs,$H=Array,Lfe=Cfe(function(){function t(){}return!($H.of.call(t)instanceof t)});$fe({target:"Array",stat:!0,forced:Lfe},{of:function(){for(var e=0,r=arguments.length,n=new(kfe(this)?this:$H)(r);r>e;)Ofe(n,e,arguments[e++]);return n.length=r,n}});var Pfe=be,Nfe=Uo,Dfe=TypeError,Mfe=Object.getOwnPropertyDescriptor,Ffe=Pfe&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}(),d$=Ffe?function(t,e){if(Nfe(t)&&!Mfe(t,"length").writable)throw Dfe("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},Bfe=j,Ufe=ze,jfe=We,Hfe=d$,Gfe=Hf,zfe=re,Vfe=zfe(function(){return[].push.call({length:4294967296},1)!==4294967297}),Wfe=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},Kfe=Vfe||!Wfe();Bfe({target:"Array",proto:!0,arity:1,forced:Kfe},{push:function(e){var r=Ufe(this),n=jfe(r),i=arguments.length;Gfe(n+i);for(var a=0;a<i;a++)r[n]=arguments[a],n++;return Hfe(r,n),n}});var Yfe=It,qfe=ze,Xfe=Df,Qfe=We,Zfe=TypeError,mN=function(t){return function(e,r,n,i){Yfe(r);var a=qfe(e),s=Xfe(a),o=Qfe(a),c=t?o-1:0,l=t?-1:1;if(n<2)for(;;){if(c in s){i=s[c],c+=l;break}if(c+=l,t?c<0:o<=c)throw Zfe("Reduce of empty array with no initial value")}for(;t?c>=0:o>c;c+=l)c in s&&(i=r(i,s[c],c,a));return i}},Wx={left:mN(!1),right:mN(!0)},Jfe=Or,gs=typeof process<"u"&&Jfe(process)=="process",ede=j,tde=Wx.left,rde=ps,vN=us,nde=gs,ide=!nde&&vN>79&&vN<83,ade=ide||!rde("reduce");ede({target:"Array",proto:!0,forced:ade},{reduce:function(e){var r=arguments.length;return tde(this,e,r,r>1?arguments[1]:void 0)}});var sde=j,ode=Wx.right,lde=ps,yN=us,cde=gs,ude=!cde&&yN>79&&yN<83,fde=ude||!lde("reduceRight");sde({target:"Array",proto:!0,forced:fde},{reduceRight:function(e){return ode(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}});var dde=j,hde=ie,pde=Uo,gde=hde([].reverse),xN=[1,2];dde({target:"Array",proto:!0,forced:String(xN)===String(xN.reverse())},{reverse:function(){return pde(this)&&(this.length=this.length),gde(this)}});var mde=j,EN=Uo,vde=Uf,yde=Ne,_N=va,xde=We,Ede=Yt,_de=hs,bde=De,Sde=Pp,Tde=lc,wde=Sde("slice"),Rde=bde("species"),xb=Array,Ade=Math.max;mde({target:"Array",proto:!0,forced:!wde},{slice:function(e,r){var n=Ede(this),i=xde(n),a=_N(e,i),s=_N(r===void 0?i:r,i),o,c,l;if(EN(n)&&(o=n.constructor,vde(o)&&(o===xb||EN(o.prototype))?o=void 0:yde(o)&&(o=o[Rde],o===null&&(o=void 0)),o===xb||o===void 0))return Tde(n,a,s);for(c=new(o===void 0?xb:o)(Ade(s-a,0)),l=0;a<s;a++,l++)a in n&&_de(c,l,n[a]);return c.length=l,c}});var Ide=j,$de=sr.some,Cde=ps,kde=Cde("some");Ide({target:"Array",proto:!0,forced:!kde},{some:function(e){return $de(this,e,arguments.length>1?arguments[1]:void 0)}});var bN=Ap,Ode=Math.floor,_2=function(t,e){var r=t.length,n=Ode(r/2);return r<8?Lde(t,e):Pde(t,_2(bN(t,0,n),e),_2(bN(t,n),e),e)},Lde=function(t,e){for(var r=t.length,n=1,i,a;n<r;){for(a=n,i=t[n];a&&e(t[a-1],i)>0;)t[a]=t[--a];a!==n++&&(t[a]=i)}return t},Pde=function(t,e,r,n){for(var i=e.length,a=r.length,s=0,o=0;s<i||o<a;)t[s+o]=s<i&&o<a?n(e[s],r[o])<=0?e[s++]:r[o++]:s<i?e[s++]:r[o++];return t},h$=_2,Nde=cs,SN=Nde.match(/firefox\/(\d+)/i),CH=!!SN&&+SN[1],Dde=cs,kH=/MSIE|Trident/.test(Dde),Mde=cs,TN=Mde.match(/AppleWebKit\/(\d+)\./),p$=!!TN&&+TN[1],Fde=j,OH=ie,Bde=It,Ude=ze,wN=We,jde=Hx,RN=$e,g$=re,Hde=h$,Gde=ps,AN=CH,zde=kH,IN=us,$N=p$,Ws=[],CN=OH(Ws.sort),Vde=OH(Ws.push),Wde=g$(function(){Ws.sort(void 0)}),Kde=g$(function(){Ws.sort(null)}),Yde=Gde("sort"),LH=!g$(function(){if(IN)return IN<70;if(!(AN&&AN>3)){if(zde)return!0;if($N)return $N<603;var t="",e,r,n,i;for(e=65;e<76;e++){switch(r=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(i=0;i<47;i++)Ws.push({k:r+i,v:n})}for(Ws.sort(function(a,s){return s.v-a.v}),i=0;i<Ws.length;i++)r=Ws[i].k.charAt(0),t.charAt(t.length-1)!==r&&(t+=r);return t!=="DGBEFHACIJK"}}),qde=Wde||!Kde||!Yde||!LH,Xde=function(t){return function(e,r){return r===void 0?-1:e===void 0?1:t!==void 0?+t(e,r)||0:RN(e)>RN(r)?1:-1}};Fde({target:"Array",proto:!0,forced:qde},{sort:function(e){e!==void 0&&Bde(e);var r=Ude(this);if(LH)return e===void 0?CN(r):CN(r,e);var n=[],i=wN(r),a,s;for(s=0;s<i;s++)s in r&&Vde(n,r[s]);for(Hde(n,Xde(e)),a=wN(n),s=0;s<a;)r[s]=n[s++];for(;s<i;)jde(r,s++);return r}});var Qde=dt,Zde=ar,Jde=De,ehe=be,kN=Jde("species"),Gf=function(t){var e=Qde(t);ehe&&e&&!e[kN]&&Zde(e,kN,{configurable:!0,get:function(){return this}})},the=Gf;the("Array");var rhe=j,nhe=ze,ihe=va,ahe=$t,she=We,ohe=d$,lhe=Hf,che=Ip,uhe=hs,Eb=Hx,fhe=Pp,dhe=fhe("splice"),hhe=Math.max,phe=Math.min;rhe({target:"Array",proto:!0,forced:!dhe},{splice:function(e,r){var n=nhe(this),i=she(n),a=ihe(e,i),s=arguments.length,o,c,l,u,f,d;for(s===0?o=c=0:s===1?(o=0,c=i-a):(o=s-2,c=phe(hhe(ahe(r),0),i-a)),lhe(i+o-c),l=che(n,c),u=0;u<c;u++)f=a+u,f in n&&uhe(l,u,n[f]);if(l.length=c,o<c){for(u=a;u<i-c;u++)f=u+c,d=u+o,f in n?n[d]=n[f]:Eb(n,d);for(u=i;u>i-c+o;u--)Eb(n,u-1)}else if(o>c)for(u=i-c;u>a;u--)f=u+c-1,d=u+o-1,f in n?n[d]=n[f]:Eb(n,d);for(u=0;u<o;u++)n[u+a]=arguments[u+2];return ohe(n,i-c+o),l}});var ghe=We,PH=function(t,e){for(var r=ghe(t),n=new e(r),i=0;i<r;i++)n[i]=t[r-i-1];return n},mhe=j,vhe=PH,yhe=Yt,xhe=ln,Ehe=Array;mhe({target:"Array",proto:!0},{toReversed:function(){return vhe(yhe(this),Ehe)}});xhe("toReversed");var _he=We,m$=function(t,e){for(var r=0,n=_he(e),i=new t(n);n>r;)i[r]=e[r++];return i},bhe=de,She=function(t){return bhe[t].prototype},The=j,whe=ie,Rhe=It,Ahe=Yt,Ihe=m$,$he=She,Che=ln,khe=Array,Ohe=whe($he("Array").sort);The({target:"Array",proto:!0},{toSorted:function(e){e!==void 0&&Rhe(e);var r=Ahe(this),n=Ihe(khe,r);return Ohe(n,e)}});Che("toSorted");var Lhe=j,Phe=ln,Nhe=Hf,Dhe=We,Mhe=va,Fhe=Yt,Bhe=$t,Uhe=Array,jhe=Math.max,Hhe=Math.min;Lhe({target:"Array",proto:!0},{toSpliced:function(e,r){var n=Fhe(this),i=Dhe(n),a=Mhe(e,i),s=arguments.length,o=0,c,l,u,f;for(s===0?c=l=0:s===1?(c=0,l=i-a):(c=s-2,l=Hhe(jhe(Bhe(r),0),i-a)),u=Nhe(i+c-l),f=Uhe(u);o<a;o++)f[o]=n[o];for(;o<a+c;o++)f[o]=arguments[o-a+2];for(;o<u;o++)f[o]=n[o+l-c];return f}});Phe("toSpliced");var Ghe=ln;Ghe("flat");var zhe=ln;zhe("flatMap");var Vhe=j,Whe=ze,Khe=We,Yhe=d$,qhe=Hx,Xhe=Hf,Qhe=[].unshift(0)!==1,Zhe=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(t){return t instanceof TypeError}},Jhe=Qhe||!Zhe();Vhe({target:"Array",proto:!0,arity:1,forced:Jhe},{unshift:function(e){var r=Whe(this),n=Khe(r),i=arguments.length;if(i){Xhe(n+i);for(var a=n;a--;){var s=a+i;a in r?r[s]=r[a]:qhe(r,s)}for(var o=0;o<i;o++)r[o]=arguments[o]}return Yhe(r,n+i)}});var e0e=We,t0e=$t,r0e=RangeError,NH=function(t,e,r,n){var i=e0e(t),a=t0e(r),s=a<0?i+a:a;if(s>=i||s<0)throw r0e("Incorrect index");for(var o=new e(i),c=0;c<i;c++)o[c]=c===s?n:t[c];return o},n0e=j,i0e=NH,a0e=Yt,s0e=Array;n0e({target:"Array",proto:!0},{with:function(t,e){return i0e(a0e(this),s0e,t,e)}});var v$=typeof ArrayBuffer<"u"&&typeof DataView<"u",o0e=St,Np=function(t,e,r){for(var n in e)o0e(t,n,e[n],r);return t},l0e=ri,c0e=TypeError,ba=function(t,e){if(l0e(e,t))return t;throw c0e("Incorrect invocation")},u0e=$t,f0e=Sn,d0e=RangeError,DH=function(t){if(t===void 0)return 0;var e=u0e(t),r=f0e(e);if(e!==r)throw d0e("Wrong length or index");return r},h0e=Array,p0e=Math.abs,Na=Math.pow,g0e=Math.floor,m0e=Math.log,v0e=Math.LN2,y0e=function(t,e,r){var n=h0e(r),i=r*8-e-1,a=(1<<i)-1,s=a>>1,o=e===23?Na(2,-24)-Na(2,-77):0,c=t<0||t===0&&1/t<0?1:0,l=0,u,f,d;for(t=p0e(t),t!=t||t===1/0?(f=t!=t?1:0,u=a):(u=g0e(m0e(t)/v0e),d=Na(2,-u),t*d<1&&(u--,d*=2),u+s>=1?t+=o/d:t+=o*Na(2,1-s),t*d>=2&&(u++,d/=2),u+s>=a?(f=0,u=a):u+s>=1?(f=(t*d-1)*Na(2,e),u=u+s):(f=t*Na(2,s-1)*Na(2,e),u=0));e>=8;)n[l++]=f&255,f/=256,e-=8;for(u=u<<e|f,i+=e;i>0;)n[l++]=u&255,u/=256,i-=8;return n[--l]|=c*128,n},x0e=function(t,e){var r=t.length,n=r*8-e-1,i=(1<<n)-1,a=i>>1,s=n-7,o=r-1,c=t[o--],l=c&127,u;for(c>>=7;s>0;)l=l*256+t[o--],s-=8;for(u=l&(1<<-s)-1,l>>=-s,s+=e;s>0;)u=u*256+t[o--],s-=8;if(l===0)l=1-a;else{if(l===i)return u?NaN:c?-1/0:1/0;u=u+Na(2,e),l=l-a}return(c?-1:1)*u*Na(2,l-e)},E0e={pack:y0e,unpack:x0e},Kx=de,y$=ie,_b=be,_0e=v$,MH=Bf,ON=Lr,b0e=ar,LN=Np,bb=re,Gg=ba,S0e=$t,T0e=Sn,py=DH,FH=E0e,w0e=ai,PN=xa,R0e=ds.f,A0e=l$,I0e=Ap,BH=Tn,x$=Dt,$0e=MH.PROPER,NN=MH.CONFIGURABLE,bu="ArrayBuffer",Yx="DataView",Su="prototype",C0e="Wrong length",UH="Wrong index",DN=x$.getterFor(bu),$h=x$.getterFor(Yx),MN=x$.set,Mn=Kx[bu],pn=Mn,$c=pn&&pn[Su],Qi=Kx[Yx],rl=Qi&&Qi[Su],FN=Object.prototype,k0e=Kx.Array,gy=Kx.RangeError,O0e=y$(A0e),L0e=y$([].reverse),jH=FH.pack,BN=FH.unpack,UN=function(t){return[t&255]},jN=function(t){return[t&255,t>>8&255]},HN=function(t){return[t&255,t>>8&255,t>>16&255,t>>24&255]},GN=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},P0e=function(t){return jH(t,23,4)},N0e=function(t){return jH(t,52,8)},zg=function(t,e,r){b0e(t[Su],e,{configurable:!0,get:function(){return r(this)[e]}})},As=function(t,e,r,n){var i=py(r),a=$h(t);if(i+e>a.byteLength)throw gy(UH);var s=a.bytes,o=i+a.byteOffset,c=I0e(s,o,o+e);return n?c:L0e(c)},Is=function(t,e,r,n,i,a){var s=py(r),o=$h(t);if(s+e>o.byteLength)throw gy(UH);for(var c=o.bytes,l=s+o.byteOffset,u=n(+i),f=0;f<e;f++)c[l+f]=u[a?f:e-f-1]};if(!_0e)pn=function(e){Gg(this,$c);var r=py(e);MN(this,{type:bu,bytes:O0e(k0e(r),0),byteLength:r}),_b||(this.byteLength=r,this.detached=!1)},$c=pn[Su],Qi=function(e,r,n){Gg(this,rl),Gg(e,$c);var i=DN(e),a=i.byteLength,s=S0e(r);if(s<0||s>a)throw gy("Wrong offset");if(n=n===void 0?a-s:T0e(n),s+n>a)throw gy(C0e);MN(this,{type:Yx,buffer:e,byteLength:n,byteOffset:s,bytes:i.bytes}),_b||(this.buffer=e,this.byteLength=n,this.byteOffset=s)},rl=Qi[Su],_b&&(zg(pn,"byteLength",DN),zg(Qi,"buffer",$h),zg(Qi,"byteLength",$h),zg(Qi,"byteOffset",$h)),LN(rl,{getInt8:function(e){return As(this,1,e)[0]<<24>>24},getUint8:function(e){return As(this,1,e)[0]},getInt16:function(e){var r=As(this,2,e,arguments.length>1?arguments[1]:void 0);return(r[1]<<8|r[0])<<16>>16},getUint16:function(e){var r=As(this,2,e,arguments.length>1?arguments[1]:void 0);return r[1]<<8|r[0]},getInt32:function(e){return GN(As(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return GN(As(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return BN(As(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return BN(As(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,r){Is(this,1,e,UN,r)},setUint8:function(e,r){Is(this,1,e,UN,r)},setInt16:function(e,r){Is(this,2,e,jN,r,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,r){Is(this,2,e,jN,r,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,r){Is(this,4,e,HN,r,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,r){Is(this,4,e,HN,r,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,r){Is(this,4,e,P0e,r,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,r){Is(this,8,e,N0e,r,arguments.length>2?arguments[2]:void 0)}});else{var zN=$0e&&Mn.name!==bu;if(!bb(function(){Mn(1)})||!bb(function(){new Mn(-1)})||bb(function(){return new Mn,new Mn(1.5),new Mn(NaN),Mn.length!=1||zN&&!NN})){pn=function(e){return Gg(this,$c),new Mn(py(e))},pn[Su]=$c;for(var VN=R0e(Mn),WN=0,Sb;VN.length>WN;)(Sb=VN[WN++])in pn||ON(pn,Sb,Mn[Sb]);$c.constructor=pn}else zN&&NN&&ON(Mn,"name",bu);PN&&w0e(rl)!==FN&&PN(rl,FN);var Vg=new Qi(new pn(2)),KN=y$(rl.setInt8);Vg.setInt8(0,2147483648),Vg.setInt8(1,2147483649),(Vg.getInt8(0)||!Vg.getInt8(1))&&LN(rl,{setInt8:function(e,r){KN(this,e,r<<24>>24)},setUint8:function(e,r){KN(this,e,r<<24>>24)}},{unsafe:!0})}BH(pn,bu);BH(Qi,Yx);var qx={ArrayBuffer:pn,DataView:Qi},D0e=j,M0e=de,F0e=qx,B0e=Gf,E$="ArrayBuffer",YN=F0e[E$],U0e=M0e[E$];D0e({global:!0,constructor:!0,forced:U0e!==YN},{ArrayBuffer:YN});B0e(E$);var j0e=v$,_$=be,$r=de,HH=Pe,Xx=Ne,bo=Ue,b$=ya,H0e=oc,G0e=Lr,b2=St,z0e=ar,V0e=ri,Qx=ai,zf=xa,W0e=De,K0e=Ff,GH=Dt,zH=GH.enforce,Y0e=GH.get,my=$r.Int8Array,S2=my&&my.prototype,qN=$r.Uint8ClampedArray,XN=qN&&qN.prototype,ea=my&&Qx(my),Ti=S2&&Qx(S2),q0e=Object.prototype,S$=$r.TypeError,QN=W0e("toStringTag"),T2=K0e("TYPED_ARRAY_TAG"),vy="TypedArrayConstructor",rs=j0e&&!!zf&&b$($r.opera)!=="Opera",VH=!1,Xr,Ks,Tu,ns={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},T$={BigInt64Array:8,BigUint64Array:8},X0e=function(e){if(!Xx(e))return!1;var r=b$(e);return r==="DataView"||bo(ns,r)||bo(T$,r)},WH=function(t){var e=Qx(t);if(Xx(e)){var r=Y0e(e);return r&&bo(r,vy)?r[vy]:WH(e)}},KH=function(t){if(!Xx(t))return!1;var e=b$(t);return bo(ns,e)||bo(T$,e)},Q0e=function(t){if(KH(t))return t;throw S$("Target is not a typed array")},Z0e=function(t){if(HH(t)&&(!zf||V0e(ea,t)))return t;throw S$(H0e(t)+" is not a typed array constructor")},J0e=function(t,e,r,n){if(_$){if(r)for(var i in ns){var a=$r[i];if(a&&bo(a.prototype,t))try{delete a.prototype[t]}catch{try{a.prototype[t]=e}catch{}}}(!Ti[t]||r)&&b2(Ti,t,r?e:rs&&S2[t]||e,n)}},epe=function(t,e,r){var n,i;if(_$){if(zf){if(r){for(n in ns)if(i=$r[n],i&&bo(i,t))try{delete i[t]}catch{}}if(!ea[t]||r)try{return b2(ea,t,r?e:rs&&ea[t]||e)}catch{}else return}for(n in ns)i=$r[n],i&&(!i[t]||r)&&b2(i,t,e)}};for(Xr in ns)Ks=$r[Xr],Tu=Ks&&Ks.prototype,Tu?zH(Tu)[vy]=Ks:rs=!1;for(Xr in T$)Ks=$r[Xr],Tu=Ks&&Ks.prototype,Tu&&(zH(Tu)[vy]=Ks);if((!rs||!HH(ea)||ea===Function.prototype)&&(ea=function(){throw S$("Incorrect invocation")},rs))for(Xr in ns)$r[Xr]&&zf($r[Xr],ea);if((!rs||!Ti||Ti===q0e)&&(Ti=ea.prototype,rs))for(Xr in ns)$r[Xr]&&zf($r[Xr].prototype,Ti);rs&&Qx(XN)!==Ti&&zf(XN,Ti);if(_$&&!bo(Ti,QN)){VH=!0,z0e(Ti,QN,{configurable:!0,get:function(){return Xx(this)?this[T2]:void 0}});for(Xr in ns)$r[Xr]&&G0e($r[Xr],T2,Xr)}var ke={NATIVE_ARRAY_BUFFER_VIEWS:rs,TYPED_ARRAY_TAG:VH&&T2,aTypedArray:Q0e,aTypedArrayConstructor:Z0e,exportTypedArrayMethod:J0e,exportTypedArrayStaticMethod:epe,getTypedArrayConstructor:WH,isView:X0e,isTypedArray:KH,TypedArray:ea,TypedArrayPrototype:Ti},tpe=j,YH=ke,rpe=YH.NATIVE_ARRAY_BUFFER_VIEWS;tpe({target:"ArrayBuffer",stat:!0,forced:!rpe},{isView:YH.isView});var npe=Uf,ipe=oc,ape=TypeError,w$=function(t){if(npe(t))return t;throw ape(ipe(t)+" is not a constructor")},ZN=Ae,spe=w$,ope=sn,lpe=De,cpe=lpe("species"),Vf=function(t,e){var r=ZN(t).constructor,n;return r===void 0||ope(n=ZN(r)[cpe])?e:spe(n)},upe=j,R$=Bo,fpe=re,qH=qx,JN=Ae,eD=va,dpe=Sn,hpe=Vf,A$=qH.ArrayBuffer,w2=qH.DataView,XH=w2.prototype,tD=R$(A$.prototype.slice),ppe=R$(XH.getUint8),gpe=R$(XH.setUint8),mpe=fpe(function(){return!new A$(2).slice(1,void 0).byteLength});upe({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:mpe},{slice:function(e,r){if(tD&&r===void 0)return tD(JN(this),e);for(var n=JN(this).byteLength,i=eD(e,n),a=eD(r===void 0?n:r,n),s=new(hpe(this,A$))(dpe(a-i)),o=new w2(this),c=new w2(s),l=0;i<a;)gpe(c,l++,ppe(o,i++));return s}});var vpe=j,ype=qx,xpe=v$;vpe({global:!0,constructor:!0,forced:!xpe},{DataView:ype.DataView});var Epe=j,_pe=ie,bpe=re,Spe=bpe(function(){return new Date(16e11).getYear()!==120}),Tpe=_pe(Date.prototype.getFullYear);Epe({target:"Date",proto:!0,forced:Spe},{getYear:function(){return Tpe(this)-1900}});var wpe=j,Rpe=ie,QH=Date,Ape=Rpe(QH.prototype.getTime);wpe({target:"Date",stat:!0},{now:function(){return Ape(new QH)}});var Ipe=j,ZH=ie,$pe=$t,JH=Date.prototype,Cpe=ZH(JH.getTime),kpe=ZH(JH.setFullYear);Ipe({target:"Date",proto:!0},{setYear:function(e){Cpe(this);var r=$pe(e),n=0<=r&&r<=99?r+1900:r;return kpe(this,n)}});var Ope=j;Ope({target:"Date",proto:!0},{toGMTString:Date.prototype.toUTCString});var Lpe=$t,Ppe=$e,Npe=Nt,Dpe=RangeError,Zx=function(e){var r=Ppe(Npe(this)),n="",i=Lpe(e);if(i<0||i==1/0)throw Dpe("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(r+=r))i&1&&(n+=r);return n},eG=ie,Mpe=Sn,rD=$e,Fpe=Zx,Bpe=Nt,Upe=eG(Fpe),jpe=eG("".slice),Hpe=Math.ceil,nD=function(t){return function(e,r,n){var i=rD(Bpe(e)),a=Mpe(r),s=i.length,o=n===void 0?" ":rD(n),c,l;return a<=s||o==""?i:(c=a-s,l=Upe(o,Hpe(c/o.length)),l.length>c&&(l=jpe(l,0,c)),t?i+l:l+i)}},I$={start:nD(!1),end:nD(!0)},jo=ie,iD=re,nl=I$.start,Gpe=RangeError,zpe=isFinite,Vpe=Math.abs,ms=Date.prototype,Tb=ms.toISOString,Wpe=jo(ms.getTime),Kpe=jo(ms.getUTCDate),Ype=jo(ms.getUTCFullYear),qpe=jo(ms.getUTCHours),Xpe=jo(ms.getUTCMilliseconds),Qpe=jo(ms.getUTCMinutes),Zpe=jo(ms.getUTCMonth),Jpe=jo(ms.getUTCSeconds),ege=iD(function(){return Tb.call(new Date(-5e13-1))!="0385-07-25T07:06:39.999Z"})||!iD(function(){Tb.call(new Date(NaN))})?function(){if(!zpe(Wpe(this)))throw Gpe("Invalid time value");var e=this,r=Ype(e),n=Xpe(e),i=r<0?"-":r>9999?"+":"";return i+nl(Vpe(r),i?6:4,0)+"-"+nl(Zpe(e)+1,2,0)+"-"+nl(Kpe(e),2,0)+"T"+nl(qpe(e),2,0)+":"+nl(Qpe(e),2,0)+":"+nl(Jpe(e),2,0)+"."+nl(n,3,0)+"Z"}:Tb,tge=j,aD=ege;tge({target:"Date",proto:!0,forced:Date.prototype.toISOString!==aD},{toISOString:aD});var rge=j,nge=re,ige=ze,age=Cx,sge=nge(function(){return new Date(NaN).toJSON()!==null||Date.prototype.toJSON.call({toISOString:function(){return 1}})!==1});rge({target:"Date",proto:!0,arity:1,forced:sge},{toJSON:function(e){var r=ige(this),n=age(r,"number");return typeof n=="number"&&!isFinite(n)?null:r.toISOString()}});var oge=Ae,lge=cj,cge=TypeError,uge=function(t){if(oge(this),t==="string"||t==="default")t="string";else if(t!=="number")throw cge("Incorrect hint");return lge(this,t)},fge=Ue,dge=St,hge=uge,pge=De,sD=pge("toPrimitive"),oD=Date.prototype;fge(oD,sD)||dge(oD,sD,hge);var tG=ie,gge=St,$$=Date.prototype,lD="Invalid Date",rG="toString",mge=tG($$[rG]),vge=tG($$.getTime);String(new Date(NaN))!=lD&&gge($$,rG,function(){var e=vge(this);return e===e?mge(this):lD});var yge=j,Dp=ie,xge=$e,Ege=Dp("".charAt),_ge=Dp("".charCodeAt),bge=Dp(/./.exec),Sge=Dp(1 .toString),Tge=Dp("".toUpperCase),wge=/[\w*+\-./@]/,cD=function(t,e){for(var r=Sge(t,16);r.length<e;)r="0"+r;return r};yge({global:!0},{escape:function(e){for(var r=xge(e),n="",i=r.length,a=0,s,o;a<i;)s=Ege(r,a++),bge(wge,s)?n+=s:(o=_ge(s,0),o<256?n+="%"+cD(o,2):n+="%u"+Tge(cD(o,4)));return n}});var nG=ie,Rge=It,Age=Ne,Ige=Ue,uD=lc,$ge=xp,iG=Function,Cge=nG([].concat),kge=nG([].join),wb={},Oge=function(t,e,r){if(!Ige(wb,e)){for(var n=[],i=0;i<e;i++)n[i]="a["+i+"]";wb[e]=iG("C,a","return new C("+kge(n,",")+")")}return wb[e](t,r)},aG=$ge?iG.bind:function(e){var r=Rge(this),n=r.prototype,i=uD(arguments,1),a=function(){var o=Cge(i,uD(arguments));return this instanceof a?Oge(r,o.length,o):r.apply(e,o)};return Age(n)&&(a.prototype=n),a},Lge=j,fD=aG;Lge({target:"Function",proto:!0,forced:Function.bind!==fD},{bind:fD});var Pge=Pe,dD=Ne,Nge=ht,Dge=ai,Mge=De,Fge=d0,Rb=Mge("hasInstance"),hD=Function.prototype;Rb in hD||Nge.f(hD,Rb,{value:Fge(function(t){if(!Pge(this)||!dD(t))return!1;var e=this.prototype;if(!dD(e))return t instanceof this;for(;t=Dge(t);)if(e===t)return!0;return!1},Rb)});var Bge=be,Uge=Bf.EXISTS,sG=ie,jge=ar,oG=Function.prototype,Hge=sG(oG.toString),lG=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,Gge=sG(lG.exec),zge="name";Bge&&!Uge&&jge(oG,zge,{configurable:!0,get:function(){try{return Gge(lG,Hge(this))[1]}catch{return""}}});var Vge=j,Ab=de;Vge({global:!0,forced:Ab.globalThis!==Ab},{globalThis:Ab});var Wge=de,Kge=Tn;Kge(Wge.JSON,"JSON",!0);var is={},Yge={get exports(){return is},set exports(t){is=t}},qge=re,C$=qge(function(){if(typeof ArrayBuffer=="function"){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}),Xge=re,Qge=Ne,Zge=Or,pD=C$,Sv=Object.isExtensible,Jge=Xge(function(){Sv(1)}),k$=Jge||pD?function(e){return!Qge(e)||pD&&Zge(e)=="ArrayBuffer"?!1:Sv?Sv(e):!0}:Sv,eme=re,Wf=!eme(function(){return Object.isExtensible(Object.preventExtensions({}))}),tme=j,rme=ie,nme=_p,ime=Ne,O$=Ue,ame=ht.f,gD=ds,sme=Nx,L$=k$,ome=Ff,lme=Wf,cG=!1,as=ome("meta"),cme=0,P$=function(t){ame(t,as,{value:{objectID:"O"+cme++,weakData:{}}})},ume=function(t,e){if(!ime(t))return typeof t=="symbol"?t:(typeof t=="string"?"S":"P")+t;if(!O$(t,as)){if(!L$(t))return"F";if(!e)return"E";P$(t)}return t[as].objectID},fme=function(t,e){if(!O$(t,as)){if(!L$(t))return!0;if(!e)return!1;P$(t)}return t[as].weakData},dme=function(t){return lme&&cG&&L$(t)&&!O$(t,as)&&P$(t),t},hme=function(){pme.enable=function(){},cG=!0;var t=gD.f,e=rme([].splice),r={};r[as]=1,t(r).length&&(gD.f=function(n){for(var i=t(n),a=0,s=i.length;a<s;a++)if(i[a]===as){e(i,a,1);break}return i},tme({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:sme.f}))},pme=Yge.exports={enable:hme,fastKey:ume,getWeakData:fme,onFreeze:dme};nme[as]=!0;var gme=j,mme=de,vme=ie,mD=wp,yme=St,xme=is,Eme=_a,_me=ba,bme=Pe,Sme=sn,Ib=Ne,$b=re,Tme=zx,wme=Tn,Rme=jf,Jx=function(t,e,r){var n=t.indexOf("Map")!==-1,i=t.indexOf("Weak")!==-1,a=n?"set":"add",s=mme[t],o=s&&s.prototype,c=s,l={},u=function(v){var y=vme(o[v]);yme(o,v,v=="add"?function(E){return y(this,E===0?0:E),this}:v=="delete"?function(x){return i&&!Ib(x)?!1:y(this,x===0?0:x)}:v=="get"?function(E){return i&&!Ib(E)?void 0:y(this,E===0?0:E)}:v=="has"?function(E){return i&&!Ib(E)?!1:y(this,E===0?0:E)}:function(E,S){return y(this,E===0?0:E,S),this})},f=mD(t,!bme(s)||!(i||o.forEach&&!$b(function(){new s().entries().next()})));if(f)c=r.getConstructor(e,t,n,a),xme.enable();else if(mD(t,!0)){var d=new c,h=d[a](i?{}:-0,1)!=d,p=$b(function(){d.has(1)}),m=Tme(function(v){new s(v)}),g=!i&&$b(function(){for(var v=new s,y=5;y--;)v[a](y,y);return!v.has(-0)});m||(c=e(function(v,y){_me(v,o);var x=Rme(new s,v,c);return Sme(y)||Eme(y,x[a],{that:x,AS_ENTRIES:n}),x}),c.prototype=o,o.constructor=c),(p||g)&&(u("delete"),u("has"),n&&u("get")),(g||h)&&u(a),i&&o.clear&&delete o.clear}return l[t]=c,gme({global:!0,constructor:!0,forced:c!=s},l),wme(c,t),i||r.setStrong(c,t,n),c},Ame=ni,Ime=ar,vD=Np,$me=Li,Cme=ba,kme=sn,Ome=_a,Lme=u$,Wg=Vx,Pme=Gf,wd=be,yD=is.fastKey,uG=Dt,xD=uG.set,Cb=uG.getterFor,fG={getConstructor:function(t,e,r,n){var i=t(function(l,u){Cme(l,a),xD(l,{type:e,index:Ame(null),first:void 0,last:void 0,size:0}),wd||(l.size=0),kme(u)||Ome(u,l[n],{that:l,AS_ENTRIES:r})}),a=i.prototype,s=Cb(e),o=function(l,u,f){var d=s(l),h=c(l,u),p,m;return h?h.value=f:(d.last=h={index:m=yD(u,!0),key:u,value:f,previous:p=d.last,next:void 0,removed:!1},d.first||(d.first=h),p&&(p.next=h),wd?d.size++:l.size++,m!=="F"&&(d.index[m]=h)),l},c=function(l,u){var f=s(l),d=yD(u),h;if(d!=="F")return f.index[d];for(h=f.first;h;h=h.next)if(h.key==u)return h};return vD(a,{clear:function(){for(var u=this,f=s(u),d=f.index,h=f.first;h;)h.removed=!0,h.previous&&(h.previous=h.previous.next=void 0),delete d[h.index],h=h.next;f.first=f.last=void 0,wd?f.size=0:u.size=0},delete:function(l){var u=this,f=s(u),d=c(u,l);if(d){var h=d.next,p=d.previous;delete f.index[d.index],d.removed=!0,p&&(p.next=h),h&&(h.previous=p),f.first==d&&(f.first=h),f.last==d&&(f.last=p),wd?f.size--:u.size--}return!!d},forEach:function(u){for(var f=s(this),d=$me(u,arguments.length>1?arguments[1]:void 0),h;h=h?h.next:f.first;)for(d(h.value,h.key,this);h&&h.removed;)h=h.previous},has:function(u){return!!c(this,u)}}),vD(a,r?{get:function(u){var f=c(this,u);return f&&f.value},set:function(u,f){return o(this,u===0?0:u,f)}}:{add:function(u){return o(this,u=u===0?0:u,u)}}),wd&&Ime(a,"size",{configurable:!0,get:function(){return s(this).size}}),i},setStrong:function(t,e,r){var n=e+" Iterator",i=Cb(e),a=Cb(n);Lme(t,e,function(s,o){xD(this,{type:n,target:s,state:i(s),kind:o,last:void 0})},function(){for(var s=a(this),o=s.kind,c=s.last;c&&c.removed;)c=c.previous;return!s.target||!(s.last=c=c?c.next:s.state.first)?(s.target=void 0,Wg(void 0,!0)):o=="keys"?Wg(c.key,!1):o=="values"?Wg(c.value,!1):Wg([c.key,c.value],!1)},r?"entries":"values",!r,!0),Pme(e)}},Nme=Jx,Dme=fG;Nme("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},Dme);var Mme=Math.log,dG=Math.log1p||function(e){var r=+e;return r>-1e-8&&r<1e-8?r-r*r/2:Mme(1+r)},Fme=j,Bme=dG,kb=Math.acosh,Ume=Math.log,ED=Math.sqrt,jme=Math.LN2,Hme=!kb||Math.floor(kb(Number.MAX_VALUE))!=710||kb(1/0)!=1/0;Fme({target:"Math",stat:!0,forced:Hme},{acosh:function(e){var r=+e;return r<1?NaN:r>9490626562425156e-8?Ume(r)+jme:Bme(r-1+ED(r-1)*ED(r+1))}});var Gme=j,_D=Math.asinh,zme=Math.log,Vme=Math.sqrt;function hG(t){var e=+t;return!isFinite(e)||e==0?e:e<0?-hG(-e):zme(e+Vme(e*e+1))}var Wme=!(_D&&1/_D(0)>0);Gme({target:"Math",stat:!0,forced:Wme},{asinh:hG});var Kme=j,bD=Math.atanh,Yme=Math.log,qme=!(bD&&1/bD(-0)<0);Kme({target:"Math",stat:!0,forced:qme},{atanh:function(e){var r=+e;return r==0?r:Yme((1+r)/(1-r))/2}});var N$=Math.sign||function(e){var r=+e;return r==0||r!=r?r:r<0?-1:1},Xme=j,Qme=N$,Zme=Math.abs,Jme=Math.pow;Xme({target:"Math",stat:!0},{cbrt:function(e){var r=+e;return Qme(r)*Jme(Zme(r),1/3)}});var eve=j,tve=Math.floor,rve=Math.log,nve=Math.LOG2E;eve({target:"Math",stat:!0},{clz32:function(e){var r=e>>>0;return r?31-tve(rve(r+.5)*nve):32}});var Rd=Math.expm1,ive=Math.exp,eE=!Rd||Rd(10)>22025.465794806718||Rd(10)<22025.465794806718||Rd(-2e-17)!=-2e-17?function(e){var r=+e;return r==0?r:r>-1e-6&&r<1e-6?r+r*r/2:ive(r)-1}:Rd,ave=j,sve=eE,SD=Math.cosh,ove=Math.abs,Ob=Math.E,lve=!SD||SD(710)===1/0;ave({target:"Math",stat:!0,forced:lve},{cosh:function(e){var r=sve(ove(e)-1)+1;return(r+1/(r*Ob*Ob))*(Ob/2)}});var cve=j,TD=eE;cve({target:"Math",stat:!0,forced:TD!=Math.expm1},{expm1:TD});var uve=N$,fve=Math.abs,tE=Math.pow,R2=tE(2,-52),Tv=tE(2,-23),dve=tE(2,127)*(2-Tv),Lb=tE(2,-126),hve=function(t){return t+1/R2-1/R2},pve=Math.fround||function(e){var r=+e,n=fve(r),i=uve(r),a,s;return n<Lb?i*hve(n/Lb/Tv)*Lb*Tv:(a=(1+Tv/R2)*n,s=a-(a-n),s>dve||s!=s?i*(1/0):i*s)},gve=j,mve=pve;gve({target:"Math",stat:!0},{fround:mve});var vve=j,wD=Math.hypot,yve=Math.abs,xve=Math.sqrt,Eve=!!wD&&wD(1/0,NaN)!==1/0;vve({target:"Math",stat:!0,arity:2,forced:Eve},{hypot:function(e,r){for(var n=0,i=0,a=arguments.length,s=0,o,c;i<a;)o=yve(arguments[i++]),s<o?(c=s/o,n=n*c*c+1,s=o):o>0?(c=o/s,n+=c*c):n+=o;return s===1/0?1/0:s*xve(n)}});var _ve=j,bve=re,RD=Math.imul,Sve=bve(function(){return RD(4294967295,5)!=-5||RD.length!=2});_ve({target:"Math",stat:!0,forced:Sve},{imul:function(e,r){var n=65535,i=+e,a=+r,s=n&i,o=n&a;return 0|s*o+((n&i>>>16)*o+s*(n&a>>>16)<<16>>>0)}});var Tve=Math.log,wve=Math.LOG10E,pG=Math.log10||function(e){return Tve(e)*wve},Rve=j,Ave=pG;Rve({target:"Math",stat:!0},{log10:Ave});var Ive=j,$ve=dG;Ive({target:"Math",stat:!0},{log1p:$ve});var Cve=j,kve=Math.log,Ove=Math.LN2;Cve({target:"Math",stat:!0},{log2:function(e){return kve(e)/Ove}});var Lve=j,Pve=N$;Lve({target:"Math",stat:!0},{sign:Pve});var Nve=j,Dve=re,AD=eE,Mve=Math.abs,ID=Math.exp,Fve=Math.E,Bve=Dve(function(){return Math.sinh(-2e-17)!=-2e-17});Nve({target:"Math",stat:!0,forced:Bve},{sinh:function(e){var r=+e;return Mve(r)<1?(AD(r)-AD(-r))/2:(ID(r-1)-ID(-r-1))*(Fve/2)}});var Uve=j,$D=eE,CD=Math.exp;Uve({target:"Math",stat:!0},{tanh:function(e){var r=+e,n=$D(r),i=$D(-r);return n==1/0?1:i==1/0?-1:(n-i)/(CD(r)+CD(-r))}});var jve=Tn;jve(Math,"Math",!0);var Hve=j,Gve=mj;Hve({target:"Math",stat:!0},{trunc:Gve});var zve=ie,rE=zve(1 .valueOf),nE=`	
\v\f\r                　\u2028\u2029\uFEFF`,Vve=ie,Wve=Nt,Kve=$e,A2=nE,kD=Vve("".replace),Yve=RegExp("^["+A2+"]+"),qve=RegExp("(^|[^"+A2+"])["+A2+"]+$"),Pb=function(t){return function(e){var r=Kve(Wve(e));return t&1&&(r=kD(r,Yve,"")),t&2&&(r=kD(r,qve,"$1")),r}},Kf={start:Pb(1),end:Pb(2),trim:Pb(3)},Xve=j,gG=UI,Qve=be,mG=de,vG=XI,yG=ie,Zve=wp,OD=Ue,Jve=jf,eye=ri,tye=sc,xG=Cx,rye=re,nye=ds.f,iye=ir.f,aye=ht.f,sye=rE,oye=Kf.trim,iE="Number",wu=mG[iE];vG[iE];var D$=wu.prototype,lye=mG.TypeError,cye=yG("".slice),Kg=yG("".charCodeAt),uye=function(t){var e=xG(t,"number");return typeof e=="bigint"?e:fye(e)},fye=function(t){var e=xG(t,"number"),r,n,i,a,s,o,c,l;if(tye(e))throw lye("Cannot convert a Symbol value to a number");if(typeof e=="string"&&e.length>2){if(e=oye(e),r=Kg(e,0),r===43||r===45){if(n=Kg(e,2),n===88||n===120)return NaN}else if(r===48){switch(Kg(e,1)){case 66:case 98:i=2,a=49;break;case 79:case 111:i=8,a=55;break;default:return+e}for(s=cye(e,2),o=s.length,c=0;c<o;c++)if(l=Kg(s,c),l<48||l>a)return NaN;return parseInt(s,i)}}return+e},M$=Zve(iE,!wu(" 0o1")||!wu("0b1")||wu("+0x1")),dye=function(t){return eye(D$,t)&&rye(function(){sye(t)})},aE=function(e){var r=arguments.length<1?0:wu(uye(e));return dye(this)?Jve(Object(r),this,aE):r};aE.prototype=D$;M$&&!gG&&(D$.constructor=aE);Xve({global:!0,constructor:!0,wrap:!0,forced:M$},{Number:aE});var hye=function(t,e){for(var r=Qve?nye(e):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),n=0,i;r.length>n;n++)OD(e,i=r[n])&&!OD(t,i)&&aye(t,i,iye(e,i))};(M$||gG)&&hye(vG[iE],wu);var pye=j;pye({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{EPSILON:Math.pow(2,-52)});var gye=de,mye=gye.isFinite,vye=Number.isFinite||function(e){return typeof e=="number"&&mye(e)},yye=j,xye=vye;yye({target:"Number",stat:!0},{isFinite:xye});var Eye=Ne,_ye=Math.floor,F$=Number.isInteger||function(e){return!Eye(e)&&isFinite(e)&&_ye(e)===e},bye=j,Sye=F$;bye({target:"Number",stat:!0},{isInteger:Sye});var Tye=j;Tye({target:"Number",stat:!0},{isNaN:function(e){return e!=e}});var wye=j,Rye=F$,Aye=Math.abs;wye({target:"Number",stat:!0},{isSafeInteger:function(e){return Rye(e)&&Aye(e)<=9007199254740991}});var Iye=j;Iye({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991});var $ye=j;$ye({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991});var EG=de,Cye=re,kye=ie,Oye=$e,Lye=Kf.trim,Pye=nE,Nye=kye("".charAt),yy=EG.parseFloat,LD=EG.Symbol,PD=LD&&LD.iterator,Dye=1/yy(Pye+"-0")!==-1/0||PD&&!Cye(function(){yy(Object(PD))}),_G=Dye?function(e){var r=Lye(Oye(e)),n=yy(r);return n===0&&Nye(r,0)=="-"?-0:n}:yy,Mye=j,ND=_G;Mye({target:"Number",stat:!0,forced:Number.parseFloat!=ND},{parseFloat:ND});var bG=de,Fye=re,Bye=ie,Uye=$e,jye=Kf.trim,DD=nE,Ch=bG.parseInt,MD=bG.Symbol,FD=MD&&MD.iterator,SG=/^[+-]?0x/i,Hye=Bye(SG.exec),Gye=Ch(DD+"08")!==8||Ch(DD+"0x16")!==22||FD&&!Fye(function(){Ch(Object(FD))}),TG=Gye?function(e,r){var n=jye(Uye(e));return Ch(n,r>>>0||(Hye(SG,n)?16:10))}:Ch,zye=j,BD=TG;zye({target:"Number",stat:!0,forced:Number.parseInt!=BD},{parseInt:BD});var Vye=j,B$=ie,Wye=$t,Kye=rE,Yye=Zx,qye=pG,I2=re,Xye=RangeError,UD=String,Qye=isFinite,Zye=Math.abs,Jye=Math.floor,jD=Math.pow,e1e=Math.round,ta=B$(1 .toExponential),t1e=B$(Yye),HD=B$("".slice),wG=ta(-69e-12,4)==="-6.9000e-11"&&ta(1.255,2)==="1.25e+0"&&ta(12345,3)==="1.235e+4"&&ta(25,0)==="3e+1",r1e=function(){return I2(function(){ta(1,1/0)})&&I2(function(){ta(1,-1/0)})},n1e=function(){return!I2(function(){ta(1/0,1/0),ta(NaN,1/0)})},i1e=!wG||!r1e()||!n1e();Vye({target:"Number",proto:!0,forced:i1e},{toExponential:function(e){var r=Kye(this);if(e===void 0)return ta(r);var n=Wye(e);if(!Qye(r))return String(r);if(n<0||n>20)throw Xye("Incorrect fraction digits");if(wG)return ta(r,n);var i="",a="",s=0,o="",c="";if(r<0&&(i="-",r=-r),r===0)s=0,a=t1e("0",n+1);else{var l=qye(r);s=Jye(l);var u=0,f=jD(10,s-n);u=e1e(r/f),2*r>=(2*u+1)*f&&(u+=1),u>=jD(10,n+1)&&(u/=10,s+=1),a=UD(u)}return n!==0&&(a=HD(a,0,1)+"."+HD(a,1)),s===0?(o="+",c="0"):(o=s>0?"+":"-",c=UD(Zye(s))),a+="e"+o+c,i+a}});var a1e=j,U$=ie,s1e=$t,o1e=rE,l1e=Zx,GD=re,c1e=RangeError,RG=String,AG=Math.floor,$2=U$(l1e),zD=U$("".slice),Ad=U$(1 .toFixed),cu=function(t,e,r){return e===0?r:e%2===1?cu(t,e-1,r*t):cu(t*t,e/2,r)},u1e=function(t){for(var e=0,r=t;r>=4096;)e+=12,r/=4096;for(;r>=2;)e+=1,r/=2;return e},Cc=function(t,e,r){for(var n=-1,i=r;++n<6;)i+=e*t[n],t[n]=i%1e7,i=AG(i/1e7)},Nb=function(t,e){for(var r=6,n=0;--r>=0;)n+=t[r],t[r]=AG(n/e),n=n%e*1e7},VD=function(t){for(var e=6,r="";--e>=0;)if(r!==""||e===0||t[e]!==0){var n=RG(t[e]);r=r===""?n:r+$2("0",7-n.length)+n}return r},f1e=GD(function(){return Ad(8e-5,3)!=="0.000"||Ad(.9,0)!=="1"||Ad(1.255,2)!=="1.25"||Ad(0xde0b6b3a7640080,0)!=="1000000000000000128"})||!GD(function(){Ad({})});a1e({target:"Number",proto:!0,forced:f1e},{toFixed:function(e){var r=o1e(this),n=s1e(e),i=[0,0,0,0,0,0],a="",s="0",o,c,l,u;if(n<0||n>20)throw c1e("Incorrect fraction digits");if(r!=r)return"NaN";if(r<=-1e21||r>=1e21)return RG(r);if(r<0&&(a="-",r=-r),r>1e-21)if(o=u1e(r*cu(2,69,1))-69,c=o<0?r*cu(2,-o,1):r/cu(2,o,1),c*=4503599627370496,o=52-o,o>0){for(Cc(i,0,c),l=n;l>=7;)Cc(i,1e7,0),l-=7;for(Cc(i,cu(10,l,1),0),l=o-1;l>=23;)Nb(i,1<<23),l-=23;Nb(i,1<<l),Cc(i,1,1),Nb(i,2),s=VD(i)}else Cc(i,0,c),Cc(i,1<<-o,0),s=VD(i)+$2("0",n);return n>0?(u=s.length,s=a+(u<=n?"0."+$2("0",n-u)+s:zD(s,0,u-n)+"."+zD(s,u-n))):s=a+s,s}});var d1e=j,h1e=ie,WD=re,KD=rE,xy=h1e(1 .toPrecision),p1e=WD(function(){return xy(1,void 0)!=="1"})||!WD(function(){xy({})});d1e({target:"Number",proto:!0,forced:p1e},{toPrecision:function(e){return e===void 0?xy(KD(this)):xy(KD(this),e)}});var YD=be,g1e=ie,m1e=Ie,v1e=re,Db=Rp,y1e=Sp,x1e=Ep,E1e=ze,_1e=Df,kc=Object.assign,qD=Object.defineProperty,b1e=g1e([].concat),IG=!kc||v1e(function(){if(YD&&kc({b:1},kc(qD({},"a",{enumerable:!0,get:function(){qD(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach(function(i){e[i]=i}),kc({},t)[r]!=7||Db(kc({},e)).join("")!=n})?function(e,r){for(var n=E1e(e),i=arguments.length,a=1,s=y1e.f,o=x1e.f;i>a;)for(var c=_1e(arguments[a++]),l=s?b1e(Db(c),s(c)):Db(c),u=l.length,f=0,d;u>f;)d=l[f++],(!YD||m1e(o,c,d))&&(n[d]=c[d]);return n}:kc,S1e=j,XD=IG;S1e({target:"Object",stat:!0,arity:2,forced:Object.assign!==XD},{assign:XD});var T1e=j,w1e=be,R1e=ni;T1e({target:"Object",stat:!0,sham:!w1e},{create:R1e});var A1e=de,I1e=re,QD=p$,sE=!I1e(function(){if(!(QD&&QD<535)){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete A1e[t]}}),$1e=j,C1e=be,k1e=sE,O1e=It,L1e=ze,P1e=ht;C1e&&$1e({target:"Object",proto:!0,forced:k1e},{__defineGetter__:function(e,r){P1e.f(L1e(this),e,{get:O1e(r),enumerable:!0,configurable:!0})}});var N1e=j,D1e=be,ZD=Px.f;N1e({target:"Object",stat:!0,forced:Object.defineProperties!==ZD,sham:!D1e},{defineProperties:ZD});var M1e=j,F1e=be,JD=ht.f;M1e({target:"Object",stat:!0,forced:Object.defineProperty!==JD,sham:!F1e},{defineProperty:JD});var B1e=j,U1e=be,j1e=sE,H1e=It,G1e=ze,z1e=ht;U1e&&B1e({target:"Object",proto:!0,forced:j1e},{__defineSetter__:function(e,r){z1e.f(G1e(this),e,{set:H1e(r),enumerable:!0,configurable:!0})}});var V1e=be,$G=ie,W1e=Rp,K1e=Yt,Y1e=Ep.f,q1e=$G(Y1e),X1e=$G([].push),e3=function(t){return function(e){for(var r=K1e(e),n=W1e(r),i=n.length,a=0,s=[],o;i>a;)o=n[a++],(!V1e||q1e(r,o))&&X1e(s,t?[o,r[o]]:r[o]);return s}},CG={entries:e3(!0),values:e3(!1)},Q1e=j,Z1e=CG.entries;Q1e({target:"Object",stat:!0},{entries:function(e){return Z1e(e)}});var J1e=j,exe=Wf,txe=re,rxe=Ne,nxe=is.onFreeze,C2=Object.freeze,ixe=txe(function(){C2(1)});J1e({target:"Object",stat:!0,forced:ixe,sham:!exe},{freeze:function(e){return C2&&rxe(e)?C2(nxe(e)):e}});var axe=j,sxe=_a,oxe=hs;axe({target:"Object",stat:!0},{fromEntries:function(e){var r={};return sxe(e,function(n,i){oxe(r,n,i)},{AS_ENTRIES:!0}),r}});var lxe=j,cxe=re,uxe=Yt,kG=ir.f,OG=be,fxe=!OG||cxe(function(){kG(1)});lxe({target:"Object",stat:!0,forced:fxe,sham:!OG},{getOwnPropertyDescriptor:function(e,r){return kG(uxe(e),r)}});var dxe=j,hxe=be,pxe=KI,gxe=Yt,mxe=ir,vxe=hs;dxe({target:"Object",stat:!0,sham:!hxe},{getOwnPropertyDescriptors:function(e){for(var r=gxe(e),n=mxe.f,i=pxe(r),a={},s=0,o,c;i.length>s;)c=n(r,o=i[s++]),c!==void 0&&vxe(a,o,c);return a}});var yxe=j,xxe=re,Exe=Nx.f,_xe=xxe(function(){return!Object.getOwnPropertyNames(1)});yxe({target:"Object",stat:!0,forced:_xe},{getOwnPropertyNames:Exe});var bxe=j,Sxe=re,Txe=ze,LG=ai,wxe=a$,Rxe=Sxe(function(){LG(1)});bxe({target:"Object",stat:!0,forced:Rxe,sham:!wxe},{getPrototypeOf:function(e){return LG(Txe(e))}});var Axe=j,Ixe=Ue;Axe({target:"Object",stat:!0},{hasOwn:Ixe});var PG=Object.is||function(e,r){return e===r?e!==0||1/e===1/r:e!=e&&r!=r},$xe=j,Cxe=PG;$xe({target:"Object",stat:!0},{is:Cxe});var kxe=j,t3=k$;kxe({target:"Object",stat:!0,forced:Object.isExtensible!==t3},{isExtensible:t3});var Oxe=j,Lxe=re,Pxe=Ne,Nxe=Or,NG=C$,k2=Object.isFrozen,Dxe=NG||Lxe(function(){k2(1)});Oxe({target:"Object",stat:!0,forced:Dxe},{isFrozen:function(e){return!Pxe(e)||NG&&Nxe(e)=="ArrayBuffer"?!0:k2?k2(e):!1}});var Mxe=j,Fxe=re,Bxe=Ne,Uxe=Or,DG=C$,O2=Object.isSealed,jxe=DG||Fxe(function(){O2(1)});Mxe({target:"Object",stat:!0,forced:jxe},{isSealed:function(e){return!Bxe(e)||DG&&Uxe(e)=="ArrayBuffer"?!0:O2?O2(e):!1}});var Hxe=j,Gxe=ze,MG=Rp,zxe=re,Vxe=zxe(function(){MG(1)});Hxe({target:"Object",stat:!0,forced:Vxe},{keys:function(e){return MG(Gxe(e))}});var Wxe=j,Kxe=be,Yxe=sE,qxe=ze,Xxe=Fo,Qxe=ai,Zxe=ir.f;Kxe&&Wxe({target:"Object",proto:!0,forced:Yxe},{__lookupGetter__:function(e){var r=qxe(this),n=Xxe(e),i;do if(i=Zxe(r,n))return i.get;while(r=Qxe(r))}});var Jxe=j,eEe=be,tEe=sE,rEe=ze,nEe=Fo,iEe=ai,aEe=ir.f;eEe&&Jxe({target:"Object",proto:!0,forced:tEe},{__lookupSetter__:function(e){var r=rEe(this),n=nEe(e),i;do if(i=aEe(r,n))return i.set;while(r=iEe(r))}});var sEe=j,oEe=Ne,lEe=is.onFreeze,cEe=Wf,uEe=re,L2=Object.preventExtensions,fEe=uEe(function(){L2(1)});sEe({target:"Object",stat:!0,forced:fEe,sham:!cEe},{preventExtensions:function(e){return L2&&oEe(e)?L2(lEe(e)):e}});var dEe=be,hEe=ar,r3=Ne,pEe=ze,gEe=Nt,n3=Object.getPrototypeOf,i3=Object.setPrototypeOf,a3=Object.prototype,s3="__proto__";if(dEe&&n3&&i3&&!(s3 in a3))try{hEe(a3,s3,{configurable:!0,get:function(){return n3(pEe(this))},set:function(e){var r=gEe(this);!r3(e)&&e!==null||!r3(r)||i3(r,e)}})}catch{}var mEe=j,vEe=Ne,yEe=is.onFreeze,xEe=Wf,EEe=re,P2=Object.seal,_Ee=EEe(function(){P2(1)});mEe({target:"Object",stat:!0,forced:_Ee,sham:!xEe},{seal:function(e){return P2&&vEe(e)?P2(yEe(e)):e}});var bEe=j,SEe=xa;bEe({target:"Object",stat:!0},{setPrototypeOf:SEe});var TEe=YI,wEe=ya,REe=TEe?{}.toString:function(){return"[object "+wEe(this)+"]"},AEe=YI,IEe=St,$Ee=REe;AEe||IEe(Object.prototype,"toString",$Ee,{unsafe:!0});var CEe=j,kEe=CG.values;CEe({target:"Object",stat:!0},{values:function(e){return kEe(e)}});var OEe=j,o3=_G;OEe({global:!0,forced:parseFloat!=o3},{parseFloat:o3});var LEe=j,l3=TG;LEe({global:!0,forced:parseInt!=l3},{parseInt:l3});var PEe=TypeError,vs=function(t,e){if(t<e)throw PEe("Not enough arguments");return t},NEe=cs,FG=/(?:ipad|iphone|ipod).*applewebkit/i.test(NEe),xn=de,DEe=ii,MEe=Li,c3=Pe,FEe=Ue,BG=re,u3=xj,BEe=lc,f3=kx,UEe=vs,jEe=FG,HEe=gs,N2=xn.setImmediate,D2=xn.clearImmediate,GEe=xn.process,Mb=xn.Dispatch,zEe=xn.Function,d3=xn.MessageChannel,VEe=xn.String,Fb=0,kh={},h3="onreadystatechange",m0,il,Bb,Ub;BG(function(){m0=xn.location});var j$=function(t){if(FEe(kh,t)){var e=kh[t];delete kh[t],e()}},jb=function(t){return function(){j$(t)}},p3=function(t){j$(t.data)},g3=function(t){xn.postMessage(VEe(t),m0.protocol+"//"+m0.host)};(!N2||!D2)&&(N2=function(e){UEe(arguments.length,1);var r=c3(e)?e:zEe(e),n=BEe(arguments,1);return kh[++Fb]=function(){DEe(r,void 0,n)},il(Fb),Fb},D2=function(e){delete kh[e]},HEe?il=function(t){GEe.nextTick(jb(t))}:Mb&&Mb.now?il=function(t){Mb.now(jb(t))}:d3&&!jEe?(Bb=new d3,Ub=Bb.port2,Bb.port1.onmessage=p3,il=MEe(Ub.postMessage,Ub)):xn.addEventListener&&c3(xn.postMessage)&&!xn.importScripts&&m0&&m0.protocol!=="file:"&&!BG(g3)?(il=g3,xn.addEventListener("message",p3,!1)):h3 in f3("script")?il=function(t){u3.appendChild(f3("script"))[h3]=function(){u3.removeChild(this),j$(t)}}:il=function(t){setTimeout(jb(t),0)});var oE={set:N2,clear:D2},UG=function(){this.head=null,this.tail=null};UG.prototype={add:function(t){var e={item:t,next:null},r=this.tail;r?r.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t){var e=this.head=t.next;return e===null&&(this.tail=null),t.item}}};var jG=UG,WEe=cs,KEe=/ipad|iphone|ipod/i.test(WEe)&&typeof Pebble<"u",YEe=cs,qEe=/web0s(?!.*chrome)/i.test(YEe),Hl=de,m3=Li,XEe=ir.f,Hb=oE.set,QEe=jG,ZEe=FG,JEe=KEe,e_e=qEe,Gb=gs,v3=Hl.MutationObserver||Hl.WebKitMutationObserver,y3=Hl.document,x3=Hl.process,Yg=Hl.Promise,E3=XEe(Hl,"queueMicrotask"),M2=E3&&E3.value,Oc,zb,Vb,qg,_3;if(!M2){var Xg=new QEe,Qg=function(){var t,e;for(Gb&&(t=x3.domain)&&t.exit();e=Xg.get();)try{e()}catch(r){throw Xg.head&&Oc(),r}t&&t.enter()};!ZEe&&!Gb&&!e_e&&v3&&y3?(zb=!0,Vb=y3.createTextNode(""),new v3(Qg).observe(Vb,{characterData:!0}),Oc=function(){Vb.data=zb=!zb}):!JEe&&Yg&&Yg.resolve?(qg=Yg.resolve(void 0),qg.constructor=Yg,_3=m3(qg.then,qg),Oc=function(){_3(Qg)}):Gb?Oc=function(){x3.nextTick(Qg)}:(Hb=m3(Hb,Hl),Oc=function(){Hb(Qg)}),M2=function(t){Xg.head||Oc(),Xg.add(t)}}var HG=M2,t_e=function(t,e){try{arguments.length==1?console.error(t):console.error(t,e)}catch{}},Mp=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}},r_e=de,Fp=r_e.Promise,H$=typeof Deno=="object"&&Deno&&typeof Deno.version=="object",n_e=H$,i_e=gs,GG=!n_e&&!i_e&&typeof window=="object"&&typeof document=="object",a_e=de,Oh=Fp,s_e=Pe,o_e=wp,l_e=zI,c_e=De,u_e=GG,f_e=H$,Wb=us;Oh&&Oh.prototype;var d_e=c_e("species"),F2=!1,zG=s_e(a_e.PromiseRejectionEvent),h_e=o_e("Promise",function(){var t=l_e(Oh),e=t!==String(Oh);if(!e&&Wb===66)return!0;if(!Wb||Wb<51||!/native code/.test(t)){var r=new Oh(function(a){a(1)}),n=function(a){a(function(){},function(){})},i=r.constructor={};if(i[d_e]=n,F2=r.then(function(){})instanceof n,!F2)return!0}return!e&&(u_e||f_e)&&!zG}),Bp={CONSTRUCTOR:h_e,REJECTION_EVENT:zG,SUBCLASSING:F2},Ho={},b3=It,p_e=TypeError,g_e=function(t){var e,r;this.promise=new t(function(n,i){if(e!==void 0||r!==void 0)throw p_e("Bad Promise constructor");e=n,r=i}),this.resolve=b3(e),this.reject=b3(r)};Ho.f=function(t){return new g_e(t)};var m_e=j,Ey=gs,So=de,af=Ie,S3=St,T3=xa,v_e=Tn,y_e=Gf,x_e=It,wv=Pe,E_e=Ne,__e=ba,b_e=Vf,VG=oE.set,G$=HG,S_e=t_e,T_e=Mp,w_e=jG,WG=Dt,_y=Fp,z$=Bp,KG=Ho,lE="Promise",YG=z$.CONSTRUCTOR,R_e=z$.REJECTION_EVENT,A_e=z$.SUBCLASSING,Kb=WG.getterFor(lE),I_e=WG.set,Zc=_y&&_y.prototype,yl=_y,Zg=Zc,qG=So.TypeError,B2=So.document,V$=So.process,U2=KG.f,$_e=U2,C_e=!!(B2&&B2.createEvent&&So.dispatchEvent),XG="unhandledrejection",k_e="rejectionhandled",w3=0,QG=1,O_e=2,W$=1,ZG=2,Jg,R3,L_e,A3,JG=function(t){var e;return E_e(t)&&wv(e=t.then)?e:!1},ez=function(t,e){var r=e.value,n=e.state==QG,i=n?t.ok:t.fail,a=t.resolve,s=t.reject,o=t.domain,c,l,u;try{i?(n||(e.rejection===ZG&&N_e(e),e.rejection=W$),i===!0?c=r:(o&&o.enter(),c=i(r),o&&(o.exit(),u=!0)),c===t.promise?s(qG("Promise-chain cycle")):(l=JG(c))?af(l,c,a,s):a(c)):s(r)}catch(f){o&&!u&&o.exit(),s(f)}},tz=function(t,e){t.notified||(t.notified=!0,G$(function(){for(var r=t.reactions,n;n=r.get();)ez(n,t);t.notified=!1,e&&!t.rejection&&P_e(t)}))},rz=function(t,e,r){var n,i;C_e?(n=B2.createEvent("Event"),n.promise=e,n.reason=r,n.initEvent(t,!1,!0),So.dispatchEvent(n)):n={promise:e,reason:r},!R_e&&(i=So["on"+t])?i(n):t===XG&&S_e("Unhandled promise rejection",r)},P_e=function(t){af(VG,So,function(){var e=t.facade,r=t.value,n=I3(t),i;if(n&&(i=T_e(function(){Ey?V$.emit("unhandledRejection",r,e):rz(XG,e,r)}),t.rejection=Ey||I3(t)?ZG:W$,i.error))throw i.value})},I3=function(t){return t.rejection!==W$&&!t.parent},N_e=function(t){af(VG,So,function(){var e=t.facade;Ey?V$.emit("rejectionHandled",e):rz(k_e,e,t.value)})},uu=function(t,e,r){return function(n){t(e,n,r)}},Ru=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=O_e,tz(t,!0))},j2=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw qG("Promise can't be resolved itself");var n=JG(e);n?G$(function(){var i={done:!1};try{af(n,e,uu(j2,i,t),uu(Ru,i,t))}catch(a){Ru(i,a,t)}}):(t.value=e,t.state=QG,tz(t,!1))}catch(i){Ru({done:!1},i,t)}}};if(YG&&(yl=function(e){__e(this,Zg),x_e(e),af(Jg,this);var r=Kb(this);try{e(uu(j2,r),uu(Ru,r))}catch(n){Ru(r,n)}},Zg=yl.prototype,Jg=function(e){I_e(this,{type:lE,done:!1,notified:!1,parent:!1,reactions:new w_e,rejection:!1,state:w3,value:void 0})},Jg.prototype=S3(Zg,"then",function(e,r){var n=Kb(this),i=U2(b_e(this,yl));return n.parent=!0,i.ok=wv(e)?e:!0,i.fail=wv(r)&&r,i.domain=Ey?V$.domain:void 0,n.state==w3?n.reactions.add(i):G$(function(){ez(i,n)}),i.promise}),R3=function(){var t=new Jg,e=Kb(t);this.promise=t,this.resolve=uu(j2,e),this.reject=uu(Ru,e)},KG.f=U2=function(t){return t===yl||t===L_e?new R3(t):$_e(t)},wv(_y)&&Zc!==Object.prototype)){A3=Zc.then,A_e||S3(Zc,"then",function(e,r){var n=this;return new yl(function(i,a){af(A3,n,i,a)}).then(e,r)},{unsafe:!0});try{delete Zc.constructor}catch{}T3&&T3(Zc,Zg)}m_e({global:!0,constructor:!0,wrap:!0,forced:YG},{Promise:yl});v_e(yl,lE,!1);y_e(lE);var D_e=Fp,M_e=zx,F_e=Bp.CONSTRUCTOR,cE=F_e||!M_e(function(t){D_e.all(t).then(void 0,function(){})}),B_e=j,U_e=Ie,j_e=It,H_e=Ho,G_e=Mp,z_e=_a,V_e=cE;B_e({target:"Promise",stat:!0,forced:V_e},{all:function(e){var r=this,n=H_e.f(r),i=n.resolve,a=n.reject,s=G_e(function(){var o=j_e(r.resolve),c=[],l=0,u=1;z_e(e,function(f){var d=l++,h=!1;u++,U_e(o,r,f).then(function(p){h||(h=!0,c[d]=p,--u||i(c))},a)}),--u||i(c)});return s.error&&a(s.value),n.promise}});var W_e=j,K_e=Bp.CONSTRUCTOR,H2=Fp,Y_e=dt,q_e=Pe,X_e=St,$3=H2&&H2.prototype;W_e({target:"Promise",proto:!0,forced:K_e,real:!0},{catch:function(t){return this.then(void 0,t)}});if(q_e(H2)){var C3=Y_e("Promise").prototype.catch;$3.catch!==C3&&X_e($3,"catch",C3,{unsafe:!0})}var Q_e=j,Z_e=Ie,J_e=It,ebe=Ho,tbe=Mp,rbe=_a,nbe=cE;Q_e({target:"Promise",stat:!0,forced:nbe},{race:function(e){var r=this,n=ebe.f(r),i=n.reject,a=tbe(function(){var s=J_e(r.resolve);rbe(e,function(o){Z_e(s,r,o).then(n.resolve,i)})});return a.error&&i(a.value),n.promise}});var ibe=j,abe=Ie,sbe=Ho,obe=Bp.CONSTRUCTOR;ibe({target:"Promise",stat:!0,forced:obe},{reject:function(e){var r=sbe.f(this);return abe(r.reject,void 0,e),r.promise}});var lbe=Ae,cbe=Ne,ube=Ho,nz=function(t,e){if(lbe(t),cbe(e)&&e.constructor===t)return e;var r=ube.f(t),n=r.resolve;return n(e),r.promise},fbe=j,dbe=dt,hbe=Bp.CONSTRUCTOR,pbe=nz;dbe("Promise");fbe({target:"Promise",stat:!0,forced:hbe},{resolve:function(e){return pbe(this,e)}});var gbe=j,mbe=Ie,vbe=It,ybe=Ho,xbe=Mp,Ebe=_a,_be=cE;gbe({target:"Promise",stat:!0,forced:_be},{allSettled:function(e){var r=this,n=ybe.f(r),i=n.resolve,a=n.reject,s=xbe(function(){var o=vbe(r.resolve),c=[],l=0,u=1;Ebe(e,function(f){var d=l++,h=!1;u++,mbe(o,r,f).then(function(p){h||(h=!0,c[d]={status:"fulfilled",value:p},--u||i(c))},function(p){h||(h=!0,c[d]={status:"rejected",reason:p},--u||i(c))})}),--u||i(c)});return s.error&&a(s.value),n.promise}});var bbe=j,Sbe=Ie,Tbe=It,wbe=dt,Rbe=Ho,Abe=Mp,Ibe=_a,$be=cE,k3="No one promise resolved";bbe({target:"Promise",stat:!0,forced:$be},{any:function(e){var r=this,n=wbe("AggregateError"),i=Rbe.f(r),a=i.resolve,s=i.reject,o=Abe(function(){var c=Tbe(r.resolve),l=[],u=0,f=1,d=!1;Ibe(e,function(h){var p=u++,m=!1;f++,Sbe(c,r,h).then(function(g){m||d||(d=!0,a(g))},function(g){m||d||(m=!0,l[p]=g,--f||s(new n(l,k3)))})}),--f||s(new n(l,k3))});return o.error&&s(o.value),i.promise}});var Cbe=j,by=Fp,kbe=re,iz=dt,az=Pe,Obe=Vf,O3=nz,Lbe=St,G2=by&&by.prototype,Pbe=!!by&&kbe(function(){G2.finally.call({then:function(){}},function(){})});Cbe({target:"Promise",proto:!0,real:!0,forced:Pbe},{finally:function(t){var e=Obe(this,iz("Promise")),r=az(t);return this.then(r?function(n){return O3(e,t()).then(function(){return n})}:t,r?function(n){return O3(e,t()).then(function(){throw n})}:t)}});if(az(by)){var L3=iz("Promise").prototype.finally;G2.finally!==L3&&Lbe(G2,"finally",L3,{unsafe:!0})}var Nbe=j,Dbe=ii,Mbe=It,Fbe=Ae,Bbe=re,Ube=!Bbe(function(){Reflect.apply(function(){})});Nbe({target:"Reflect",stat:!0,forced:Ube},{apply:function(e,r,n){return Dbe(Mbe(e),r,Fbe(n))}});var jbe=j,Hbe=dt,Yb=ii,Gbe=aG,P3=w$,zbe=Ae,N3=Ne,Vbe=ni,sz=re,K$=Hbe("Reflect","construct"),Wbe=Object.prototype,Kbe=[].push,oz=sz(function(){function t(){}return!(K$(function(){},[],t)instanceof t)}),lz=!sz(function(){K$(function(){})}),D3=oz||lz;jbe({target:"Reflect",stat:!0,forced:D3,sham:D3},{construct:function(e,r){P3(e),zbe(r);var n=arguments.length<3?e:P3(arguments[2]);if(lz&&!oz)return K$(e,r,n);if(e==n){switch(r.length){case 0:return new e;case 1:return new e(r[0]);case 2:return new e(r[0],r[1]);case 3:return new e(r[0],r[1],r[2]);case 4:return new e(r[0],r[1],r[2],r[3])}var i=[null];return Yb(Kbe,i,r),new(Yb(Gbe,e,i))}var a=n.prototype,s=Vbe(N3(a)?a:Wbe),o=Yb(e,s,r);return N3(o)?o:s}});var Ybe=j,qbe=be,M3=Ae,Xbe=Fo,cz=ht,Qbe=re,Zbe=Qbe(function(){Reflect.defineProperty(cz.f({},1,{value:1}),1,{value:2})});Ybe({target:"Reflect",stat:!0,forced:Zbe,sham:!qbe},{defineProperty:function(e,r,n){M3(e);var i=Xbe(r);M3(n);try{return cz.f(e,i,n),!0}catch{return!1}}});var Jbe=j,eSe=Ae,tSe=ir.f;Jbe({target:"Reflect",stat:!0},{deleteProperty:function(e,r){var n=tSe(eSe(e),r);return n&&!n.configurable?!1:delete e[r]}});var F3=Ue,uz=function(t){return t!==void 0&&(F3(t,"value")||F3(t,"writable"))},rSe=j,nSe=Ie,iSe=Ne,aSe=Ae,sSe=uz,oSe=ir,lSe=ai;function fz(t,e){var r=arguments.length<3?t:arguments[2],n,i;if(aSe(t)===r)return t[e];if(n=oSe.f(t,e),n)return sSe(n)?n.value:n.get===void 0?void 0:nSe(n.get,r);if(iSe(i=lSe(t)))return fz(i,e,r)}rSe({target:"Reflect",stat:!0},{get:fz});var cSe=j,uSe=be,fSe=Ae,dSe=ir;cSe({target:"Reflect",stat:!0,sham:!uSe},{getOwnPropertyDescriptor:function(e,r){return dSe.f(fSe(e),r)}});var hSe=j,pSe=Ae,gSe=ai,mSe=a$;hSe({target:"Reflect",stat:!0,sham:!mSe},{getPrototypeOf:function(e){return gSe(pSe(e))}});var vSe=j;vSe({target:"Reflect",stat:!0},{has:function(e,r){return r in e}});var ySe=j,xSe=Ae,ESe=k$;ySe({target:"Reflect",stat:!0},{isExtensible:function(e){return xSe(e),ESe(e)}});var _Se=j,bSe=KI;_Se({target:"Reflect",stat:!0},{ownKeys:bSe});var SSe=j,TSe=dt,wSe=Ae,RSe=Wf;SSe({target:"Reflect",stat:!0,sham:!RSe},{preventExtensions:function(e){wSe(e);try{var r=TSe("Object","preventExtensions");return r&&r(e),!0}catch{return!1}}});var ASe=j,ISe=Ie,$Se=Ae,B3=Ne,CSe=uz,kSe=re,z2=ht,U3=ir,OSe=ai,j3=ti;function dz(t,e,r){var n=arguments.length<4?t:arguments[3],i=U3.f($Se(t),e),a,s,o;if(!i){if(B3(s=OSe(t)))return dz(s,e,r,n);i=j3(0)}if(CSe(i)){if(i.writable===!1||!B3(n))return!1;if(a=U3.f(n,e)){if(a.get||a.set||a.writable===!1)return!1;a.value=r,z2.f(n,e,a)}else z2.f(n,e,j3(0,r))}else{if(o=i.set,o===void 0)return!1;ISe(o,n,r)}return!0}var LSe=kSe(function(){var t=function(){},e=z2.f(new t,"a",{configurable:!0});return Reflect.set(t.prototype,"a",1,e)!==!1});ASe({target:"Reflect",stat:!0,forced:LSe},{set:dz});var PSe=j,NSe=Ae,DSe=Xj,H3=xa;H3&&PSe({target:"Reflect",stat:!0},{setPrototypeOf:function(e,r){NSe(e),DSe(r);try{return H3(e,r),!0}catch{return!1}}});var MSe=j,FSe=de,BSe=Tn;MSe({global:!0},{Reflect:{}});BSe(FSe.Reflect,"Reflect",!0);var USe=Ne,jSe=Or,HSe=De,GSe=HSe("match"),Up=function(t){var e;return USe(t)&&((e=t[GSe])!==void 0?!!e:jSe(t)=="RegExp")},zSe=Ae,Y$=function(){var t=zSe(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e},VSe=Ie,WSe=Ue,KSe=ri,YSe=Y$,G3=RegExp.prototype,jp=function(t){var e=t.flags;return e===void 0&&!("flags"in G3)&&!WSe(t,"flags")&&KSe(G3,t)?VSe(YSe,t):e},q$=re,qSe=de,X$=qSe.RegExp,Q$=q$(function(){var t=X$("a","y");return t.lastIndex=2,t.exec("abcd")!=null}),XSe=Q$||q$(function(){return!X$("a","y").sticky}),QSe=Q$||q$(function(){var t=X$("^r","gy");return t.lastIndex=2,t.exec("str")!=null}),uE={BROKEN_CARET:QSe,MISSED_STICKY:XSe,UNSUPPORTED_Y:Q$},ZSe=re,JSe=de,eTe=JSe.RegExp,Z$=ZSe(function(){var t=eTe(".","s");return!(t.dotAll&&t.exec(`
`)&&t.flags==="s")}),tTe=re,rTe=de,nTe=rTe.RegExp,hz=tTe(function(){var t=nTe("(?<a>b)","g");return t.exec("b").groups.a!=="b"||"b".replace(t,"$<a>c")!=="bc"}),iTe=be,J$=de,Hp=ie,aTe=wp,sTe=jf,oTe=Lr,lTe=ds.f,z3=ri,cTe=Up,V3=$e,uTe=jp,pz=uE,fTe=Qj,dTe=St,hTe=re,pTe=Ue,gTe=Dt.enforce,mTe=Gf,vTe=De,gz=Z$,mz=hz,yTe=vTe("match"),no=J$.RegExp,Jc=no.prototype,xTe=J$.SyntaxError,ETe=Hp(Jc.exec),Sy=Hp("".charAt),W3=Hp("".replace),K3=Hp("".indexOf),_Te=Hp("".slice),bTe=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,Pl=/a/g,qb=/a/g,STe=new no(Pl)!==Pl,vz=pz.MISSED_STICKY,TTe=pz.UNSUPPORTED_Y,wTe=iTe&&(!STe||vz||gz||mz||hTe(function(){return qb[yTe]=!1,no(Pl)!=Pl||no(qb)==qb||no(Pl,"i")!="/a/i"})),RTe=function(t){for(var e=t.length,r=0,n="",i=!1,a;r<=e;r++){if(a=Sy(t,r),a==="\\"){n+=a+Sy(t,++r);continue}!i&&a==="."?n+="[\\s\\S]":(a==="["?i=!0:a==="]"&&(i=!1),n+=a)}return n},ATe=function(t){for(var e=t.length,r=0,n="",i=[],a={},s=!1,o=!1,c=0,l="",u;r<=e;r++){if(u=Sy(t,r),u==="\\")u=u+Sy(t,++r);else if(u==="]")s=!1;else if(!s)switch(!0){case u==="[":s=!0;break;case u==="(":ETe(bTe,_Te(t,r+1))&&(r+=2,o=!0),n+=u,c++;continue;case(u===">"&&o):if(l===""||pTe(a,l))throw new xTe("Invalid capture group name");a[l]=!0,i[i.length]=[l,c],o=!1,l="";continue}o?l+=u:n+=u}return[n,i]};if(aTe("RegExp",wTe)){for(var al=function(e,r){var n=z3(Jc,this),i=cTe(e),a=r===void 0,s=[],o=e,c,l,u,f,d,h;if(!n&&i&&a&&e.constructor===al)return e;if((i||z3(Jc,e))&&(e=e.source,a&&(r=uTe(o))),e=e===void 0?"":V3(e),r=r===void 0?"":V3(r),o=e,gz&&"dotAll"in Pl&&(l=!!r&&K3(r,"s")>-1,l&&(r=W3(r,/s/g,""))),c=r,vz&&"sticky"in Pl&&(u=!!r&&K3(r,"y")>-1,u&&TTe&&(r=W3(r,/y/g,""))),mz&&(f=ATe(e),e=f[0],s=f[1]),d=sTe(no(e,r),n?this:Jc,al),(l||u||s.length)&&(h=gTe(d),l&&(h.dotAll=!0,h.raw=al(RTe(e),c)),u&&(h.sticky=!0),s.length&&(h.groups=s)),e!==o)try{oTe(d,"source",o===""?"(?:)":o)}catch{}return d},Y3=lTe(no),q3=0;Y3.length>q3;)fTe(al,no,Y3[q3++]);Jc.constructor=al,al.prototype=Jc,dTe(J$,"RegExp",al,{constructor:!0})}mTe("RegExp");var ITe=be,$Te=Z$,CTe=Or,kTe=ar,OTe=Dt.get,X3=RegExp.prototype,LTe=TypeError;ITe&&$Te&&kTe(X3,"dotAll",{configurable:!0,get:function(){if(this!==X3){if(CTe(this)==="RegExp")return!!OTe(this).dotAll;throw LTe("Incompatible receiver, RegExp required")}}});var fu=Ie,fE=ie,PTe=$e,NTe=Y$,DTe=uE,MTe=_o,FTe=ni,BTe=Dt.get,UTe=Z$,jTe=hz,HTe=MTe("native-string-replace",String.prototype.replace),Ty=RegExp.prototype.exec,V2=Ty,GTe=fE("".charAt),zTe=fE("".indexOf),VTe=fE("".replace),Xb=fE("".slice),W2=function(){var t=/a/,e=/b*/g;return fu(Ty,t,"a"),fu(Ty,e,"a"),t.lastIndex!==0||e.lastIndex!==0}(),yz=DTe.BROKEN_CARET,K2=/()??/.exec("")[1]!==void 0,WTe=W2||K2||yz||UTe||jTe;WTe&&(V2=function(e){var r=this,n=BTe(r),i=PTe(e),a=n.raw,s,o,c,l,u,f,d;if(a)return a.lastIndex=r.lastIndex,s=fu(V2,a,i),r.lastIndex=a.lastIndex,s;var h=n.groups,p=yz&&r.sticky,m=fu(NTe,r),g=r.source,v=0,y=i;if(p&&(m=VTe(m,"y",""),zTe(m,"g")===-1&&(m+="g"),y=Xb(i,r.lastIndex),r.lastIndex>0&&(!r.multiline||r.multiline&&GTe(i,r.lastIndex-1)!==`
`)&&(g="(?: "+g+")",y=" "+y,v++),o=new RegExp("^(?:"+g+")",m)),K2&&(o=new RegExp("^"+g+"$(?!\\s)",m)),W2&&(c=r.lastIndex),l=fu(Ty,p?o:r,y),p?l?(l.input=Xb(l.input,v),l[0]=Xb(l[0],v),l.index=r.lastIndex,r.lastIndex+=l[0].length):r.lastIndex=0:W2&&l&&(r.lastIndex=r.global?l.index+l[0].length:c),K2&&l&&l.length>1&&fu(HTe,l[0],o,function(){for(u=1;u<arguments.length-2;u++)arguments[u]===void 0&&(l[u]=void 0)}),l&&h)for(l.groups=f=FTe(null),u=0;u<h.length;u++)d=h[u],f[d[0]]=l[d[1]];return l});var dE=V2,KTe=j,Q3=dE;KTe({target:"RegExp",proto:!0,forced:/./.exec!==Q3},{exec:Q3});var YTe=de,qTe=be,XTe=ar,QTe=Y$,ZTe=re,xz=YTe.RegExp,Ez=xz.prototype,JTe=qTe&&ZTe(function(){var t=!0;try{xz(".","d")}catch{t=!1}var e={},r="",n=t?"dgimsy":"gimsy",i=function(c,l){Object.defineProperty(e,c,{get:function(){return r+=l,!0}})},a={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};t&&(a.hasIndices="d");for(var s in a)i(s,a[s]);var o=Object.getOwnPropertyDescriptor(Ez,"flags").get.call(e);return o!==n||r!==n});JTe&&XTe(Ez,"flags",{configurable:!0,get:QTe});var ewe=be,twe=uE.MISSED_STICKY,rwe=Or,nwe=ar,iwe=Dt.get,Z3=RegExp.prototype,awe=TypeError;ewe&&twe&&nwe(Z3,"sticky",{configurable:!0,get:function(){if(this!==Z3){if(rwe(this)==="RegExp")return!!iwe(this).sticky;throw awe("Incompatible receiver, RegExp required")}}});var swe=j,J3=Ie,owe=Pe,e4=Ae,lwe=$e,cwe=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},e.test("abc")===!0&&t}(),uwe=/./.test;swe({target:"RegExp",proto:!0,forced:!cwe},{test:function(t){var e=e4(this),r=lwe(t),n=e.exec;if(!owe(n))return J3(uwe,e,r);var i=J3(n,e,r);return i===null?!1:(e4(i),!0)}});var fwe=Bf.PROPER,dwe=St,hwe=Ae,t4=$e,pwe=re,gwe=jp,eC="toString",mwe=RegExp.prototype,_z=mwe[eC],vwe=pwe(function(){return _z.call({source:"a",flags:"b"})!="/a/b"}),ywe=fwe&&_z.name!=eC;(vwe||ywe)&&dwe(RegExp.prototype,eC,function(){var e=hwe(this),r=t4(e.source),n=t4(gwe(e));return"/"+r+"/"+n},{unsafe:!0});var xwe=Jx,Ewe=fG;xwe("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},Ewe);var _we=j,bwe=ie,Swe=Nt,Twe=$t,wwe=$e,Rwe=re,Awe=bwe("".charAt),Iwe=Rwe(function(){return"𠮷".at(-2)!=="\uD842"});_we({target:"String",proto:!0,forced:Iwe},{at:function(e){var r=wwe(Swe(this)),n=r.length,i=Twe(e),a=i>=0?i:n+i;return a<0||a>=n?void 0:Awe(r,a)}});var tC=ie,$we=$t,Cwe=$e,kwe=Nt,Owe=tC("".charAt),r4=tC("".charCodeAt),Lwe=tC("".slice),n4=function(t){return function(e,r){var n=Cwe(kwe(e)),i=$we(r),a=n.length,s,o;return i<0||i>=a?t?"":void 0:(s=r4(n,i),s<55296||s>56319||i+1===a||(o=r4(n,i+1))<56320||o>57343?t?Owe(n,i):s:t?Lwe(n,i,i+2):(s-55296<<10)+(o-56320)+65536)}},hE={codeAt:n4(!1),charAt:n4(!0)},Pwe=j,Nwe=hE.codeAt;Pwe({target:"String",proto:!0},{codePointAt:function(e){return Nwe(this,e)}});var Dwe=Up,Mwe=TypeError,rC=function(t){if(Dwe(t))throw Mwe("The method doesn't accept regular expressions");return t},Fwe=De,Bwe=Fwe("match"),nC=function(t){var e=/./;try{"/./"[t](e)}catch{try{return e[Bwe]=!1,"/./"[t](e)}catch{}}return!1},Uwe=j,bz=Bo,jwe=ir.f,Hwe=Sn,i4=$e,Gwe=rC,zwe=Nt,Vwe=nC,a4=bz("".endsWith),Wwe=bz("".slice),Kwe=Math.min,Sz=Vwe("endsWith"),Ywe=!Sz&&!!function(){var t=jwe(String.prototype,"endsWith");return t&&!t.writable}();Uwe({target:"String",proto:!0,forced:!Ywe&&!Sz},{endsWith:function(e){var r=i4(zwe(this));Gwe(e);var n=arguments.length>1?arguments[1]:void 0,i=r.length,a=n===void 0?i:Kwe(Hwe(n),i),s=i4(e);return a4?a4(r,s,a):Wwe(r,a-s.length,a)===s}});var qwe=j,Xwe=ie,Qwe=va,Zwe=RangeError,s4=String.fromCharCode,o4=String.fromCodePoint,Jwe=Xwe([].join),e2e=!!o4&&o4.length!=1;qwe({target:"String",stat:!0,arity:1,forced:e2e},{fromCodePoint:function(e){for(var r=[],n=arguments.length,i=0,a;n>i;){if(a=+arguments[i++],Qwe(a,1114111)!==a)throw Zwe(a+" is not a valid code point");r[i]=a<65536?s4(a):s4(((a-=65536)>>10)+55296,a%1024+56320)}return Jwe(r,"")}});var t2e=j,r2e=ie,n2e=rC,i2e=Nt,l4=$e,a2e=nC,s2e=r2e("".indexOf);t2e({target:"String",proto:!0,forced:!a2e("includes")},{includes:function(e){return!!~s2e(l4(i2e(this)),l4(n2e(e)),arguments.length>1?arguments[1]:void 0)}});var o2e=hE.charAt,l2e=$e,Tz=Dt,c2e=u$,c4=Vx,wz="String Iterator",u2e=Tz.set,f2e=Tz.getterFor(wz);c2e(String,"String",function(t){u2e(this,{type:wz,string:l2e(t),index:0})},function(){var e=f2e(this),r=e.string,n=e.index,i;return n>=r.length?c4(void 0,!0):(i=o2e(r,n),e.index+=i.length,c4(i,!1))});var u4=Bo,f4=St,d2e=dE,d4=re,Rz=De,h2e=Lr,p2e=Rz("species"),Qb=RegExp.prototype,pE=function(t,e,r,n){var i=Rz(t),a=!d4(function(){var l={};return l[i]=function(){return 7},""[t](l)!=7}),s=a&&!d4(function(){var l=!1,u=/a/;return t==="split"&&(u={},u.constructor={},u.constructor[p2e]=function(){return u},u.flags="",u[i]=/./[i]),u.exec=function(){return l=!0,null},u[i](""),!l});if(!a||!s||r){var o=u4(/./[i]),c=e(i,""[t],function(l,u,f,d,h){var p=u4(l),m=u.exec;return m===d2e||m===Qb.exec?a&&!h?{done:!0,value:o(u,f,d)}:{done:!0,value:p(f,u,d)}:{done:!1}});f4(String.prototype,t,c[0]),f4(Qb,i,c[1])}n&&h2e(Qb[i],"sham",!0)},g2e=hE.charAt,gE=function(t,e,r){return e+(r?g2e(t,e).length:1)},h4=Ie,m2e=Ae,v2e=Pe,y2e=Or,x2e=dE,E2e=TypeError,Gp=function(t,e){var r=t.exec;if(v2e(r)){var n=h4(r,t,e);return n!==null&&m2e(n),n}if(y2e(t)==="RegExp")return h4(x2e,t,e);throw E2e("RegExp#exec called on incompatible receiver")},_2e=Ie,b2e=pE,S2e=Ae,T2e=sn,w2e=Sn,Zb=$e,R2e=Nt,A2e=fs,I2e=gE,p4=Gp;b2e("match",function(t,e,r){return[function(i){var a=R2e(this),s=T2e(i)?void 0:A2e(i,t);return s?_2e(s,i,a):new RegExp(i)[t](Zb(a))},function(n){var i=S2e(this),a=Zb(n),s=r(e,i,a);if(s.done)return s.value;if(!i.global)return p4(i,a);var o=i.unicode;i.lastIndex=0;for(var c=[],l=0,u;(u=p4(i,a))!==null;){var f=Zb(u[0]);c[l]=f,f===""&&(i.lastIndex=I2e(a,w2e(i.lastIndex),o)),l++}return l===0?null:c}]});var $2e=j,C2e=Ie,Az=Bo,k2e=c$,em=Vx,g4=Nt,Iz=Sn,v0=$e,O2e=Ae,L2e=sn,P2e=Or,N2e=Up,$z=jp,D2e=fs,M2e=St,F2e=re,B2e=De,U2e=Vf,j2e=gE,H2e=Gp,Cz=Dt,G2e=UI,wy=B2e("matchAll"),kz="RegExp String",Oz=kz+" Iterator",z2e=Cz.set,V2e=Cz.getterFor(Oz),m4=RegExp.prototype,W2e=TypeError,Y2=Az("".indexOf),Ry=Az("".matchAll),Jb=!!Ry&&!F2e(function(){Ry("a",/./)}),K2e=k2e(function(e,r,n,i){z2e(this,{type:Oz,regexp:e,string:r,global:n,unicode:i,done:!1})},kz,function(){var e=V2e(this);if(e.done)return em(void 0,!0);var r=e.regexp,n=e.string,i=H2e(r,n);return i===null?(e.done=!0,em(void 0,!0)):e.global?(v0(i[0])===""&&(r.lastIndex=j2e(n,Iz(r.lastIndex),e.unicode)),em(i,!1)):(e.done=!0,em(i,!1))}),Lz=function(t){var e=O2e(this),r=v0(t),n=U2e(e,RegExp),i=v0($z(e)),a,s,o;return a=new n(n===RegExp?e.source:e,i),s=!!~Y2(i,"g"),o=!!~Y2(i,"u"),a.lastIndex=Iz(e.lastIndex),new K2e(a,r,s,o)};$2e({target:"String",proto:!0,forced:Jb},{matchAll:function(e){var r=g4(this),n,i,a,s;if(L2e(e)){if(Jb)return Ry(r,e)}else{if(N2e(e)&&(n=v0(g4($z(e))),!~Y2(n,"g")))throw W2e("`.matchAll` does not allow non-global regexes");if(Jb)return Ry(r,e);if(a=D2e(e,wy),a===void 0&&G2e&&P2e(e)=="RegExp"&&(a=Lz),a)return C2e(a,e,r)}return i=v0(r),s=new RegExp(e,"g"),s[wy](i)}});wy in m4||M2e(m4,wy,Lz);var Y2e=cs,Pz=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(Y2e),q2e=j,X2e=I$.end,Q2e=Pz;q2e({target:"String",proto:!0,forced:Q2e},{padEnd:function(e){return X2e(this,e,arguments.length>1?arguments[1]:void 0)}});var Z2e=j,J2e=I$.start,eRe=Pz;Z2e({target:"String",proto:!0,forced:eRe},{padStart:function(e){return J2e(this,e,arguments.length>1?arguments[1]:void 0)}});var tRe=j,Nz=ie,rRe=Yt,nRe=ze,v4=$e,iRe=We,y4=Nz([].push),aRe=Nz([].join);tRe({target:"String",stat:!0},{raw:function(e){var r=rRe(nRe(e).raw),n=iRe(r);if(!n)return"";for(var i=arguments.length,a=[],s=0;;){if(y4(a,v4(r[s++])),s===n)return aRe(a,"");s<i&&y4(a,v4(arguments[s]))}}});var sRe=j,oRe=Zx;sRe({target:"String",proto:!0},{repeat:oRe});var iC=ie,lRe=ze,cRe=Math.floor,eS=iC("".charAt),uRe=iC("".replace),tS=iC("".slice),fRe=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,dRe=/\$([$&'`]|\d{1,2})/g,Dz=function(t,e,r,n,i,a){var s=r+t.length,o=n.length,c=dRe;return i!==void 0&&(i=lRe(i),c=fRe),uRe(a,c,function(l,u){var f;switch(eS(u,0)){case"$":return"$";case"&":return t;case"`":return tS(e,0,r);case"'":return tS(e,s);case"<":f=i[tS(u,1,-1)];break;default:var d=+u;if(d===0)return l;if(d>o){var h=cRe(d/10);return h===0?l:h<=o?n[h-1]===void 0?eS(u,1):n[h-1]+eS(u,1):l}f=n[d-1]}return f===void 0?"":f})},hRe=ii,x4=Ie,mE=ie,pRe=pE,gRe=re,mRe=Ae,vRe=Pe,yRe=sn,xRe=$t,ERe=Sn,Lc=$e,_Re=Nt,bRe=gE,SRe=fs,TRe=Dz,wRe=Gp,RRe=De,q2=RRe("replace"),ARe=Math.max,IRe=Math.min,$Re=mE([].concat),rS=mE([].push),E4=mE("".indexOf),_4=mE("".slice),CRe=function(t){return t===void 0?t:String(t)},kRe=function(){return"a".replace(/./,"$0")==="$0"}(),b4=function(){return/./[q2]?/./[q2]("a","$0")==="":!1}(),ORe=!gRe(function(){var t=/./;return t.exec=function(){var e=[];return e.groups={a:"7"},e},"".replace(t,"$<a>")!=="7"});pRe("replace",function(t,e,r){var n=b4?"$":"$0";return[function(a,s){var o=_Re(this),c=yRe(a)?void 0:SRe(a,q2);return c?x4(c,a,o,s):x4(e,Lc(o),a,s)},function(i,a){var s=mRe(this),o=Lc(i);if(typeof a=="string"&&E4(a,n)===-1&&E4(a,"$<")===-1){var c=r(e,s,o,a);if(c.done)return c.value}var l=vRe(a);l||(a=Lc(a));var u=s.global;if(u){var f=s.unicode;s.lastIndex=0}for(var d=[];;){var h=wRe(s,o);if(h===null||(rS(d,h),!u))break;var p=Lc(h[0]);p===""&&(s.lastIndex=bRe(o,ERe(s.lastIndex),f))}for(var m="",g=0,v=0;v<d.length;v++){h=d[v];for(var y=Lc(h[0]),x=ARe(IRe(xRe(h.index),o.length),0),E=[],S=1;S<h.length;S++)rS(E,CRe(h[S]));var b=h.groups;if(l){var T=$Re([y],E,x,o);b!==void 0&&rS(T,b);var R=Lc(hRe(a,void 0,T))}else R=TRe(y,o,x,E,b,a);x>=g&&(m+=_4(o,g,x)+R,g=x+y.length)}return m+_4(o,g)}]},!ORe||!kRe||b4);var LRe=j,PRe=Ie,aC=ie,S4=Nt,NRe=Pe,DRe=sn,MRe=Up,Id=$e,FRe=fs,BRe=jp,URe=Dz,jRe=De,HRe=jRe("replace"),GRe=TypeError,Mz=aC("".indexOf);aC("".replace);var T4=aC("".slice),zRe=Math.max,w4=function(t,e,r){return r>t.length?-1:e===""?r:Mz(t,e,r)};LRe({target:"String",proto:!0},{replaceAll:function(e,r){var n=S4(this),i,a,s,o,c,l,u,f,d,h=0,p=0,m="";if(!DRe(e)){if(i=MRe(e),i&&(a=Id(S4(BRe(e))),!~Mz(a,"g")))throw GRe("`.replaceAll` does not allow non-global regexes");if(s=FRe(e,HRe),s)return PRe(s,e,n,r)}for(o=Id(n),c=Id(e),l=NRe(r),l||(r=Id(r)),u=c.length,f=zRe(1,u),h=w4(o,c,0);h!==-1;)d=l?Id(r(c,h,o)):URe(c,o,h,[],void 0,r),m+=T4(o,p,h)+d,p=h+u,h=w4(o,c,h+f);return p<o.length&&(m+=T4(o,p)),m}});var VRe=Ie,WRe=pE,KRe=Ae,YRe=sn,qRe=Nt,R4=PG,A4=$e,XRe=fs,QRe=Gp;WRe("search",function(t,e,r){return[function(i){var a=qRe(this),s=YRe(i)?void 0:XRe(i,t);return s?VRe(s,i,a):new RegExp(i)[t](A4(a))},function(n){var i=KRe(this),a=A4(n),s=r(e,i,a);if(s.done)return s.value;var o=i.lastIndex;R4(o,0)||(i.lastIndex=0);var c=QRe(i,a);return R4(i.lastIndex,o)||(i.lastIndex=o),c===null?-1:c.index}]});var ZRe=ii,$d=Ie,sC=ie,JRe=pE,eAe=Ae,tAe=sn,rAe=Up,I4=Nt,nAe=Vf,iAe=gE,aAe=Sn,nS=$e,sAe=fs,$4=Ap,C4=Gp,oAe=dE,lAe=uE,cAe=re,Pc=lAe.UNSUPPORTED_Y,k4=4294967295,uAe=Math.min,Fz=[].push,fAe=sC(/./.exec),Nc=sC(Fz),Cd=sC("".slice),dAe=!cAe(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return r.length!==2||r[0]!=="a"||r[1]!=="b"});JRe("split",function(t,e,r){var n;return"abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?n=function(i,a){var s=nS(I4(this)),o=a===void 0?k4:a>>>0;if(o===0)return[];if(i===void 0)return[s];if(!rAe(i))return $d(e,s,i,o);for(var c=[],l=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(i.sticky?"y":""),u=0,f=new RegExp(i.source,l+"g"),d,h,p;(d=$d(oAe,f,s))&&(h=f.lastIndex,!(h>u&&(Nc(c,Cd(s,u,d.index)),d.length>1&&d.index<s.length&&ZRe(Fz,c,$4(d,1)),p=d[0].length,u=h,c.length>=o)));)f.lastIndex===d.index&&f.lastIndex++;return u===s.length?(p||!fAe(f,""))&&Nc(c,""):Nc(c,Cd(s,u)),c.length>o?$4(c,0,o):c}:"0".split(void 0,0).length?n=function(i,a){return i===void 0&&a===0?[]:$d(e,this,i,a)}:n=e,[function(a,s){var o=I4(this),c=tAe(a)?void 0:sAe(a,t);return c?$d(c,a,o,s):$d(n,nS(o),a,s)},function(i,a){var s=eAe(this),o=nS(i),c=r(n,s,o,a,n!==e);if(c.done)return c.value;var l=nAe(s,RegExp),u=s.unicode,f=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(Pc?"g":"y"),d=new l(Pc?"^(?:"+s.source+")":s,f),h=a===void 0?k4:a>>>0;if(h===0)return[];if(o.length===0)return C4(d,o)===null?[o]:[];for(var p=0,m=0,g=[];m<o.length;){d.lastIndex=Pc?0:m;var v=C4(d,Pc?Cd(o,m):o),y;if(v===null||(y=uAe(aAe(d.lastIndex+(Pc?m:0)),o.length))===p)m=iAe(o,m,u);else{if(Nc(g,Cd(o,p,m)),g.length===h)return g;for(var x=1;x<=v.length-1;x++)if(Nc(g,v[x]),g.length===h)return g;m=p=y}}return Nc(g,Cd(o,p)),g}]},!dAe,Pc);var hAe=j,Bz=Bo,pAe=ir.f,gAe=Sn,O4=$e,mAe=rC,vAe=Nt,yAe=nC,L4=Bz("".startsWith),xAe=Bz("".slice),EAe=Math.min,Uz=yAe("startsWith"),_Ae=!Uz&&!!function(){var t=pAe(String.prototype,"startsWith");return t&&!t.writable}();hAe({target:"String",proto:!0,forced:!_Ae&&!Uz},{startsWith:function(e){var r=O4(vAe(this));mAe(e);var n=gAe(EAe(arguments.length>1?arguments[1]:void 0,r.length)),i=O4(e);return L4?L4(r,i,n):xAe(r,n,n+i.length)===i}});var bAe=j,SAe=ie,TAe=Nt,P4=$t,wAe=$e,RAe=SAe("".slice),AAe=Math.max,IAe=Math.min,$Ae=!"".substr||"ab".substr(-1)!=="b";bAe({target:"String",proto:!0,forced:$Ae},{substr:function(e,r){var n=wAe(TAe(this)),i=n.length,a=P4(e),s,o;return a===1/0&&(a=0),a<0&&(a=AAe(i+a,0)),s=r===void 0?i:P4(r),s<=0||s===1/0?"":(o=IAe(a+s,i),a>=o?"":RAe(n,a,o))}});var CAe=Bf.PROPER,kAe=re,N4=nE,D4="​᠎",oC=function(t){return kAe(function(){return!!N4[t]()||D4[t]()!==D4||CAe&&N4[t].name!==t})},OAe=j,LAe=Kf.trim,PAe=oC;OAe({target:"String",proto:!0,forced:PAe("trim")},{trim:function(){return LAe(this)}});var NAe=Kf.end,DAe=oC,jz=DAe("trimEnd")?function(){return NAe(this)}:"".trimEnd,MAe=j,M4=jz;MAe({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==M4},{trimRight:M4});var FAe=j,F4=jz;FAe({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==F4},{trimEnd:F4});var BAe=Kf.start,UAe=oC,Hz=UAe("trimStart")?function(){return BAe(this)}:"".trimStart,jAe=j,B4=Hz;jAe({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==B4},{trimLeft:B4});var HAe=j,U4=Hz;HAe({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==U4},{trimStart:U4});var GAe=ie,zAe=Nt,j4=$e,VAe=/"/g,WAe=GAe("".replace),wn=function(t,e,r,n){var i=j4(zAe(t)),a="<"+e;return r!==""&&(a+=" "+r+'="'+WAe(j4(n),VAe,"&quot;")+'"'),a+">"+i+"</"+e+">"},KAe=re,Rn=function(t){return KAe(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})},YAe=j,qAe=wn,XAe=Rn;YAe({target:"String",proto:!0,forced:XAe("anchor")},{anchor:function(e){return qAe(this,"a","name",e)}});var QAe=j,ZAe=wn,JAe=Rn;QAe({target:"String",proto:!0,forced:JAe("big")},{big:function(){return ZAe(this,"big","","")}});var eIe=j,tIe=wn,rIe=Rn;eIe({target:"String",proto:!0,forced:rIe("blink")},{blink:function(){return tIe(this,"blink","","")}});var nIe=j,iIe=wn,aIe=Rn;nIe({target:"String",proto:!0,forced:aIe("bold")},{bold:function(){return iIe(this,"b","","")}});var sIe=j,oIe=wn,lIe=Rn;sIe({target:"String",proto:!0,forced:lIe("fixed")},{fixed:function(){return oIe(this,"tt","","")}});var cIe=j,uIe=wn,fIe=Rn;cIe({target:"String",proto:!0,forced:fIe("fontcolor")},{fontcolor:function(e){return uIe(this,"font","color",e)}});var dIe=j,hIe=wn,pIe=Rn;dIe({target:"String",proto:!0,forced:pIe("fontsize")},{fontsize:function(e){return hIe(this,"font","size",e)}});var gIe=j,mIe=wn,vIe=Rn;gIe({target:"String",proto:!0,forced:vIe("italics")},{italics:function(){return mIe(this,"i","","")}});var yIe=j,xIe=wn,EIe=Rn;yIe({target:"String",proto:!0,forced:EIe("link")},{link:function(e){return xIe(this,"a","href",e)}});var _Ie=j,bIe=wn,SIe=Rn;_Ie({target:"String",proto:!0,forced:SIe("small")},{small:function(){return bIe(this,"small","","")}});var TIe=j,wIe=wn,RIe=Rn;TIe({target:"String",proto:!0,forced:RIe("strike")},{strike:function(){return wIe(this,"strike","","")}});var AIe=j,IIe=wn,$Ie=Rn;AIe({target:"String",proto:!0,forced:$Ie("sub")},{sub:function(){return IIe(this,"sub","","")}});var CIe=j,kIe=wn,OIe=Rn;CIe({target:"String",proto:!0,forced:OIe("sup")},{sup:function(){return kIe(this,"sup","","")}});var Ci={},H4={get exports(){return Ci},set exports(t){Ci=t}},Gz=de,iS=re,LIe=zx,PIe=ke.NATIVE_ARRAY_BUFFER_VIEWS,NIe=Gz.ArrayBuffer,sl=Gz.Int8Array,lC=!PIe||!iS(function(){sl(1)})||!iS(function(){new sl(-1)})||!LIe(function(t){new sl,new sl(null),new sl(1.5),new sl(t)},!0)||iS(function(){return new sl(new NIe(2),1,void 0).length!==1}),DIe=$t,MIe=RangeError,FIe=function(t){var e=DIe(t);if(e<0)throw MIe("The argument can't be less than 0");return e},BIe=FIe,UIe=RangeError,zz=function(t,e){var r=BIe(t);if(r%e)throw UIe("Wrong offset");return r},jIe=ya,Vz=function(t){var e=jIe(t);return e=="BigInt64Array"||e=="BigUint64Array"},HIe=Cx,GIe=TypeError,cC=function(t){var e=HIe(t,"number");if(typeof e=="number")throw GIe("Can't convert number to bigint");return BigInt(e)},zIe=Li,VIe=Ie,WIe=w$,KIe=ze,YIe=We,qIe=jx,XIe=Lp,QIe=s$,ZIe=Vz,JIe=ke.aTypedArrayConstructor,e$e=cC,Wz=function(e){var r=WIe(this),n=KIe(e),i=arguments.length,a=i>1?arguments[1]:void 0,s=a!==void 0,o=XIe(n),c,l,u,f,d,h,p,m;if(o&&!QIe(o))for(p=qIe(n,o),m=p.next,n=[];!(h=VIe(m,p)).done;)n.push(h.value);for(s&&i>2&&(a=zIe(a,arguments[2])),l=YIe(n),u=new(JIe(r))(l),f=ZIe(u),c=0;l>c;c++)d=s?a(n[c],c):n[c],u[c]=f?e$e(d):+d;return u},G4=j,Kz=de,z4=Ie,t$e=be,r$e=lC,Yf=ke,Yz=qx,V4=ba,n$e=ti,kd=Lr,i$e=F$,a$e=Sn,W4=DH,aS=zz,qz=Fo,Od=Ue,s$e=ya,X2=Ne,o$e=sc,l$e=ni,c$e=ri,tm=xa,u$e=ds.f,K4=Wz,f$e=sr.forEach,d$e=Gf,h$e=ar,Xz=ht,Qz=ir,uC=Dt,p$e=jf,Q2=uC.get,g$e=uC.set,m$e=uC.enforce,Zz=Xz.f,v$e=Qz.f,y$e=Math.round,sS=Kz.RangeError,Jz=Yz.ArrayBuffer,x$e=Jz.prototype,E$e=Yz.DataView,rm=Yf.NATIVE_ARRAY_BUFFER_VIEWS,Y4=Yf.TYPED_ARRAY_TAG,q4=Yf.TypedArray,Ld=Yf.TypedArrayPrototype,_$e=Yf.aTypedArrayConstructor,Z2=Yf.isTypedArray,nm="BYTES_PER_ELEMENT",oS="Wrong length",X4=function(t,e){_$e(t);for(var r=0,n=e.length,i=new t(n);n>r;)i[r]=e[r++];return i},im=function(t,e){h$e(t,e,{configurable:!0,get:function(){return Q2(this)[e]}})},Q4=function(t){var e;return c$e(x$e,t)||(e=s$e(t))=="ArrayBuffer"||e=="SharedArrayBuffer"},eV=function(t,e){return Z2(t)&&!o$e(e)&&e in t&&i$e(+e)&&e>=0},Z4=function(e,r){return r=qz(r),eV(e,r)?n$e(2,e[r]):v$e(e,r)},J4=function(e,r,n){return r=qz(r),eV(e,r)&&X2(n)&&Od(n,"value")&&!Od(n,"get")&&!Od(n,"set")&&!n.configurable&&(!Od(n,"writable")||n.writable)&&(!Od(n,"enumerable")||n.enumerable)?(e[r]=n.value,e):Zz(e,r,n)};t$e?(rm||(Qz.f=Z4,Xz.f=J4,im(Ld,"buffer"),im(Ld,"byteOffset"),im(Ld,"byteLength"),im(Ld,"length")),G4({target:"Object",stat:!0,forced:!rm},{getOwnPropertyDescriptor:Z4,defineProperty:J4}),H4.exports=function(t,e,r){var n=t.match(/\d+/)[0]/8,i=t+(r?"Clamped":"")+"Array",a="get"+t,s="set"+t,o=Kz[i],c=o,l=c&&c.prototype,u={},f=function(m,g){var v=Q2(m);return v.view[a](g*n+v.byteOffset,!0)},d=function(m,g,v){var y=Q2(m);r&&(v=(v=y$e(v))<0?0:v>255?255:v&255),y.view[s](g*n+y.byteOffset,v,!0)},h=function(m,g){Zz(m,g,{get:function(){return f(this,g)},set:function(v){return d(this,g,v)},enumerable:!0})};rm?r$e&&(c=e(function(m,g,v,y){return V4(m,l),p$e(function(){return X2(g)?Q4(g)?y!==void 0?new o(g,aS(v,n),y):v!==void 0?new o(g,aS(v,n)):new o(g):Z2(g)?X4(c,g):z4(K4,c,g):new o(W4(g))}(),m,c)}),tm&&tm(c,q4),f$e(u$e(o),function(m){m in c||kd(c,m,o[m])}),c.prototype=l):(c=e(function(m,g,v,y){V4(m,l);var x=0,E=0,S,b,T;if(!X2(g))T=W4(g),b=T*n,S=new Jz(b);else if(Q4(g)){S=g,E=aS(v,n);var R=g.byteLength;if(y===void 0){if(R%n||(b=R-E,b<0))throw sS(oS)}else if(b=a$e(y)*n,b+E>R)throw sS(oS);T=b/n}else return Z2(g)?X4(c,g):z4(K4,c,g);for(g$e(m,{buffer:S,byteOffset:E,byteLength:b,length:T,view:new E$e(S)});x<T;)h(m,x++)}),tm&&tm(c,q4),l=c.prototype=l$e(Ld)),l.constructor!==c&&kd(l,"constructor",c),m$e(l).TypedArrayConstructor=c,Y4&&kd(l,Y4,i);var p=c!=o;u[i]=c,G4({global:!0,constructor:!0,forced:p,sham:!rm},u),nm in c||kd(c,nm,n),nm in l||kd(l,nm,n),d$e(i)}):H4.exports=function(){};var b$e=Ci;b$e("Float32",function(t){return function(r,n,i){return t(this,r,n,i)}});var S$e=Ci;S$e("Float64",function(t){return function(r,n,i){return t(this,r,n,i)}});var T$e=Ci;T$e("Int8",function(t){return function(r,n,i){return t(this,r,n,i)}});var w$e=Ci;w$e("Int16",function(t){return function(r,n,i){return t(this,r,n,i)}});var R$e=Ci;R$e("Int32",function(t){return function(r,n,i){return t(this,r,n,i)}});var A$e=Ci;A$e("Uint8",function(t){return function(r,n,i){return t(this,r,n,i)}});var I$e=Ci;I$e("Uint8",function(t){return function(r,n,i){return t(this,r,n,i)}},!0);var $$e=Ci;$$e("Uint16",function(t){return function(r,n,i){return t(this,r,n,i)}});var C$e=Ci;C$e("Uint32",function(t){return function(r,n,i){return t(this,r,n,i)}});var tV=ke,k$e=We,O$e=$t,L$e=tV.aTypedArray,P$e=tV.exportTypedArrayMethod;P$e("at",function(e){var r=L$e(this),n=k$e(r),i=O$e(e),a=i>=0?i:n+i;return a<0||a>=n?void 0:r[a]});var N$e=ie,rV=ke,D$e=uH,M$e=N$e(D$e),F$e=rV.aTypedArray,B$e=rV.exportTypedArrayMethod;B$e("copyWithin",function(e,r){return M$e(F$e(this),e,r,arguments.length>2?arguments[2]:void 0)});var nV=ke,U$e=sr.every,j$e=nV.aTypedArray,H$e=nV.exportTypedArrayMethod;H$e("every",function(e){return U$e(j$e(this),e,arguments.length>1?arguments[1]:void 0)});var iV=ke,G$e=l$,z$e=cC,V$e=ya,W$e=Ie,K$e=ie,Y$e=re,q$e=iV.aTypedArray,X$e=iV.exportTypedArrayMethod,Q$e=K$e("".slice),Z$e=Y$e(function(){var t=0;return new Int8Array(2).fill({valueOf:function(){return t++}}),t!==1});X$e("fill",function(e){var r=arguments.length;q$e(this);var n=Q$e(V$e(this),0,3)==="Big"?z$e(e):+e;return W$e(G$e,this,n,r>1?arguments[1]:void 0,r>2?arguments[2]:void 0)},Z$e);var aV=ke,J$e=Vf,eCe=aV.aTypedArrayConstructor,tCe=aV.getTypedArrayConstructor,vE=function(t){return eCe(J$e(t,tCe(t)))},rCe=m$,nCe=vE,iCe=function(t,e){return rCe(nCe(t),e)},sV=ke,aCe=sr.filter,sCe=iCe,oCe=sV.aTypedArray,lCe=sV.exportTypedArrayMethod;lCe("filter",function(e){var r=aCe(oCe(this),e,arguments.length>1?arguments[1]:void 0);return sCe(this,r)});var oV=ke,cCe=sr.find,uCe=oV.aTypedArray,fCe=oV.exportTypedArrayMethod;fCe("find",function(e){return cCe(uCe(this),e,arguments.length>1?arguments[1]:void 0)});var lV=ke,dCe=sr.findIndex,hCe=lV.aTypedArray,pCe=lV.exportTypedArrayMethod;pCe("findIndex",function(e){return dCe(hCe(this),e,arguments.length>1?arguments[1]:void 0)});var cV=ke,gCe=Gx.findLast,mCe=cV.aTypedArray,vCe=cV.exportTypedArrayMethod;vCe("findLast",function(e){return gCe(mCe(this),e,arguments.length>1?arguments[1]:void 0)});var uV=ke,yCe=Gx.findLastIndex,xCe=uV.aTypedArray,ECe=uV.exportTypedArrayMethod;ECe("findLastIndex",function(e){return yCe(xCe(this),e,arguments.length>1?arguments[1]:void 0)});var fV=ke,_Ce=sr.forEach,bCe=fV.aTypedArray,SCe=fV.exportTypedArrayMethod;SCe("forEach",function(e){_Ce(bCe(this),e,arguments.length>1?arguments[1]:void 0)});var TCe=lC,wCe=ke.exportTypedArrayStaticMethod,RCe=Wz;wCe("from",RCe,TCe);var dV=ke,ACe=bp.includes,ICe=dV.aTypedArray,$Ce=dV.exportTypedArrayMethod;$Ce("includes",function(e){return ACe(ICe(this),e,arguments.length>1?arguments[1]:void 0)});var hV=ke,CCe=bp.indexOf,kCe=hV.aTypedArray,OCe=hV.exportTypedArrayMethod;OCe("indexOf",function(e){return CCe(kCe(this),e,arguments.length>1?arguments[1]:void 0)});var LCe=de,PCe=re,fC=ie,pV=ke,dC=RH,NCe=De,hC=NCe("iterator"),e8=LCe.Uint8Array,DCe=fC(dC.values),MCe=fC(dC.keys),FCe=fC(dC.entries),pC=pV.aTypedArray,yE=pV.exportTypedArrayMethod,eu=e8&&e8.prototype,xE=!PCe(function(){eu[hC].call([1])}),gV=!!eu&&eu.values&&eu[hC]===eu.values&&eu.values.name==="values",mV=function(){return DCe(pC(this))};yE("entries",function(){return FCe(pC(this))},xE);yE("keys",function(){return MCe(pC(this))},xE);yE("values",mV,xE||!gV,{name:"values"});yE(hC,mV,xE||!gV,{name:"values"});var vV=ke,BCe=ie,UCe=vV.aTypedArray,jCe=vV.exportTypedArrayMethod,HCe=BCe([].join);jCe("join",function(e){return HCe(UCe(this),e)});var yV=ke,GCe=ii,zCe=IH,VCe=yV.aTypedArray,WCe=yV.exportTypedArrayMethod;WCe("lastIndexOf",function(e){var r=arguments.length;return GCe(zCe,VCe(this),r>1?[e,arguments[1]]:[e])});var xV=ke,KCe=sr.map,YCe=vE,qCe=xV.aTypedArray,XCe=xV.exportTypedArrayMethod;XCe("map",function(e){return KCe(qCe(this),e,arguments.length>1?arguments[1]:void 0,function(r,n){return new(YCe(r))(n)})});var EV=ke,QCe=lC,ZCe=EV.aTypedArrayConstructor,JCe=EV.exportTypedArrayStaticMethod;JCe("of",function(){for(var e=0,r=arguments.length,n=new(ZCe(this))(r);r>e;)n[e]=arguments[e++];return n},QCe);var _V=ke,eke=Wx.left,tke=_V.aTypedArray,rke=_V.exportTypedArrayMethod;rke("reduce",function(e){var r=arguments.length;return eke(tke(this),e,r,r>1?arguments[1]:void 0)});var bV=ke,nke=Wx.right,ike=bV.aTypedArray,ake=bV.exportTypedArrayMethod;ake("reduceRight",function(e){var r=arguments.length;return nke(ike(this),e,r,r>1?arguments[1]:void 0)});var SV=ke,ske=SV.aTypedArray,oke=SV.exportTypedArrayMethod,lke=Math.floor;oke("reverse",function(){for(var e=this,r=ske(e).length,n=lke(r/2),i=0,a;i<n;)a=e[i],e[i++]=e[--r],e[r]=a;return e});var TV=de,wV=Ie,gC=ke,cke=We,uke=zz,fke=ze,RV=re,dke=TV.RangeError,J2=TV.Int8Array,t8=J2&&J2.prototype,AV=t8&&t8.set,hke=gC.aTypedArray,pke=gC.exportTypedArrayMethod,eR=!RV(function(){var t=new Uint8ClampedArray(2);return wV(AV,t,{length:1,0:3},1),t[1]!==3}),gke=eR&&gC.NATIVE_ARRAY_BUFFER_VIEWS&&RV(function(){var t=new J2(2);return t.set(1),t.set("2",1),t[0]!==0||t[1]!==2});pke("set",function(e){hke(this);var r=uke(arguments.length>1?arguments[1]:void 0,1),n=fke(e);if(eR)return wV(AV,this,n,r);var i=this.length,a=cke(n),s=0;if(a+r>i)throw dke("Wrong length");for(;s<a;)this[r+s]=n[s++]},!eR||gke);var IV=ke,mke=vE,vke=re,yke=lc,xke=IV.aTypedArray,Eke=IV.exportTypedArrayMethod,_ke=vke(function(){new Int8Array(1).slice()});Eke("slice",function(e,r){for(var n=yke(xke(this),e,r),i=mke(this),a=0,s=n.length,o=new i(s);s>a;)o[a]=n[a++];return o},_ke);var $V=ke,bke=sr.some,Ske=$V.aTypedArray,Tke=$V.exportTypedArrayMethod;Tke("some",function(e){return bke(Ske(this),e,arguments.length>1?arguments[1]:void 0)});var wke=de,Rke=Bo,tR=re,Ake=It,Ike=h$,CV=ke,r8=CH,$ke=kH,n8=us,i8=p$,Cke=CV.aTypedArray,kke=CV.exportTypedArrayMethod,y0=wke.Uint16Array,Au=y0&&Rke(y0.prototype.sort),Oke=!!Au&&!(tR(function(){Au(new y0(2),null)})&&tR(function(){Au(new y0(2),{})})),a8=!!Au&&!tR(function(){if(n8)return n8<74;if(r8)return r8<67;if($ke)return!0;if(i8)return i8<602;var t=new y0(516),e=Array(516),r,n;for(r=0;r<516;r++)n=r%4,t[r]=515-r,e[r]=r-2*n+3;for(Au(t,function(i,a){return(i/4|0)-(a/4|0)}),r=0;r<516;r++)if(t[r]!==e[r])return!0}),Lke=function(t){return function(e,r){return t!==void 0?+t(e,r)||0:r!==r?-1:e!==e?1:e===0&&r===0?1/e>0&&1/r<0?1:-1:e>r}};kke("sort",function(e){return e!==void 0&&Ake(e),a8?Au(this,e):Ike(Cke(this),Lke(e))},!a8||Oke);var kV=ke,Pke=Sn,s8=va,Nke=vE,Dke=kV.aTypedArray,Mke=kV.exportTypedArrayMethod;Mke("subarray",function(e,r){var n=Dke(this),i=n.length,a=s8(e,i),s=Nke(n);return new s(n.buffer,n.byteOffset+a*n.BYTES_PER_ELEMENT,Pke((r===void 0?i:s8(r,i))-a))});var Fke=de,Bke=ii,OV=ke,rR=re,o8=lc,Ay=Fke.Int8Array,l8=OV.aTypedArray,Uke=OV.exportTypedArrayMethod,LV=[].toLocaleString,jke=!!Ay&&rR(function(){LV.call(new Ay(1))}),Hke=rR(function(){return[1,2].toLocaleString()!=new Ay([1,2]).toLocaleString()})||!rR(function(){Ay.prototype.toLocaleString.call([1,2])});Uke("toLocaleString",function(){return Bke(LV,jke?o8(l8(this)):l8(this),o8(arguments))},Hke);var Gke=PH,mC=ke,zke=mC.aTypedArray,Vke=mC.exportTypedArrayMethod,Wke=mC.getTypedArrayConstructor;Vke("toReversed",function(){return Gke(zke(this),Wke(this))});var EE=ke,Kke=ie,Yke=It,qke=m$,Xke=EE.aTypedArray,Qke=EE.getTypedArrayConstructor,Zke=EE.exportTypedArrayMethod,Jke=Kke(EE.TypedArrayPrototype.sort);Zke("toSorted",function(e){e!==void 0&&Yke(e);var r=Xke(this),n=qke(Qke(r),r);return Jke(n,e)});var eOe=ke.exportTypedArrayMethod,tOe=re,rOe=de,nOe=ie,c8=rOe.Uint8Array,iOe=c8&&c8.prototype||{},Iy=[].toString,aOe=nOe([].join);tOe(function(){Iy.call({})})&&(Iy=function(){return aOe(this)});var sOe=iOe.toString!=Iy;eOe("toString",Iy,sOe);var oOe=NH,vC=ke,lOe=Vz,cOe=$t,uOe=cC,fOe=vC.aTypedArray,dOe=vC.getTypedArrayConstructor,hOe=vC.exportTypedArrayMethod,pOe=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(t){return t===8}}();hOe("with",function(t,e){var r=fOe(this),n=cOe(t),i=lOe(r)?uOe(e):+e;return oOe(r,dOe(r),n,i)},!pOe);var gOe=j,yC=ie,mOe=$e,u8=String.fromCharCode,f8=yC("".charAt),d8=yC(/./.exec),h8=yC("".slice),vOe=/^[\da-f]{2}$/i,yOe=/^[\da-f]{4}$/i;gOe({global:!0},{unescape:function(e){for(var r=mOe(e),n="",i=r.length,a=0,s,o;a<i;){if(s=f8(r,a++),s==="%"){if(f8(r,a)==="u"){if(o=h8(r,a+1,a+5),d8(yOe,o)){n+=u8(parseInt(o,16)),a+=5;continue}}else if(o=h8(r,a,a+2),d8(vOe,o)){n+=u8(parseInt(o,16)),a+=2;continue}}n+=s}return n}});var xOe=ie,p8=Np,am=is.getWeakData,EOe=ba,_Oe=Ae,bOe=sn,lS=Ne,SOe=_a,PV=sr,g8=Ue,NV=Dt,TOe=NV.set,wOe=NV.getterFor,ROe=PV.find,AOe=PV.findIndex,IOe=xOe([].splice),$Oe=0,sm=function(t){return t.frozen||(t.frozen=new DV)},DV=function(){this.entries=[]},cS=function(t,e){return ROe(t.entries,function(r){return r[0]===e})};DV.prototype={get:function(t){var e=cS(this,t);if(e)return e[1]},has:function(t){return!!cS(this,t)},set:function(t,e){var r=cS(this,t);r?r[1]=e:this.entries.push([t,e])},delete:function(t){var e=AOe(this.entries,function(r){return r[0]===t});return~e&&IOe(this.entries,e,1),!!~e}};var MV={getConstructor:function(t,e,r,n){var i=t(function(c,l){EOe(c,a),TOe(c,{type:e,id:$Oe++,frozen:void 0}),bOe(l)||SOe(l,c[n],{that:c,AS_ENTRIES:r})}),a=i.prototype,s=wOe(e),o=function(c,l,u){var f=s(c),d=am(_Oe(l),!0);return d===!0?sm(f).set(l,u):d[f.id]=u,c};return p8(a,{delete:function(c){var l=s(this);if(!lS(c))return!1;var u=am(c);return u===!0?sm(l).delete(c):u&&g8(u,l.id)&&delete u[l.id]},has:function(l){var u=s(this);if(!lS(l))return!1;var f=am(l);return f===!0?sm(u).has(l):f&&g8(f,u.id)}}),p8(a,r?{get:function(l){var u=s(this);if(lS(l)){var f=am(l);return f===!0?sm(u).get(l):f?f[u.id]:void 0}},set:function(l,u){return o(this,l,u)}}:{add:function(l){return o(this,l,!0)}}),i}},COe=Wf,m8=de,Rv=ie,v8=Np,kOe=is,OOe=Jx,FV=MV,om=Ne,lm=Dt.enforce,LOe=re,POe=hj,zp=Object,NOe=Array.isArray,cm=zp.isExtensible,BV=zp.isFrozen,DOe=zp.isSealed,UV=zp.freeze,MOe=zp.seal,y8={},x8={},FOe=!m8.ActiveXObject&&"ActiveXObject"in m8,Pd,jV=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},HV=OOe("WeakMap",jV,FV),tu=HV.prototype,Av=Rv(tu.set),BOe=function(){return COe&&LOe(function(){var t=UV([]);return Av(new HV,t,1),!BV(t)})};if(POe)if(FOe){Pd=FV.getConstructor(jV,"WeakMap",!0),kOe.enable();var E8=Rv(tu.delete),um=Rv(tu.has),_8=Rv(tu.get);v8(tu,{delete:function(t){if(om(t)&&!cm(t)){var e=lm(this);return e.frozen||(e.frozen=new Pd),E8(this,t)||e.frozen.delete(t)}return E8(this,t)},has:function(e){if(om(e)&&!cm(e)){var r=lm(this);return r.frozen||(r.frozen=new Pd),um(this,e)||r.frozen.has(e)}return um(this,e)},get:function(e){if(om(e)&&!cm(e)){var r=lm(this);return r.frozen||(r.frozen=new Pd),um(this,e)?_8(this,e):r.frozen.get(e)}return _8(this,e)},set:function(e,r){if(om(e)&&!cm(e)){var n=lm(this);n.frozen||(n.frozen=new Pd),um(this,e)?Av(this,e,r):n.frozen.set(e,r)}else Av(this,e,r);return this}})}else BOe()&&v8(tu,{set:function(e,r){var n;return NOe(e)&&(BV(e)?n=y8:DOe(e)&&(n=x8)),Av(this,e,r),n==y8&&UV(e),n==x8&&MOe(e),this}});var UOe=Jx,jOe=MV;UOe("WeakSet",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},jOe);var GV="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",zV={};for(var fm=0;fm<66;fm++)zV[GV.charAt(fm)]=fm;var VV={itoc:GV,ctoi:zV},HOe=j,GOe=de,WV=dt,xC=ie,zOe=Ie,EC=re,VOe=$e,WOe=Ue,KOe=vs,uS=VV.ctoi,KV=/[^\d+/a-z]/i,YOe=/[\t\n\f\r ]+/g,qOe=/[=]{1,2}$/,Vp=WV("atob"),XOe=String.fromCharCode,QOe=xC("".charAt),b8=xC("".replace),ZOe=xC(KV.exec),_C=EC(function(){return Vp(" ")!==""}),bC=!EC(function(){Vp("a")}),S8=!_C&&!bC&&!EC(function(){Vp()}),T8=!_C&&!bC&&Vp.length!==1;HOe({global:!0,bind:!0,enumerable:!0,forced:_C||bC||S8||T8},{atob:function(e){if(KOe(arguments.length,1),S8||T8)return zOe(Vp,GOe,e);var r=b8(VOe(e),YOe,""),n="",i=0,a=0,s,o;if(r.length%4==0&&(r=b8(r,qOe,"")),r.length%4==1||ZOe(KV,r))throw new(WV("DOMException"))("The string is not correctly encoded","InvalidCharacterError");for(;s=QOe(r,i++);)WOe(uS,s)&&(o=a%4?o*64+uS[s]:uS[s],a++%4&&(n+=XOe(255&o>>(-2*a&6))));return n}});var JOe=j,eLe=de,YV=dt,qV=ie,tLe=Ie,XV=re,w8=$e,rLe=vs,nLe=VV.itoc,Gl=YV("btoa"),R8=qV("".charAt),iLe=qV("".charCodeAt),A8=!!Gl&&!XV(function(){Gl()}),I8=!!Gl&&XV(function(){return Gl(null)!=="bnVsbA=="}),$8=!!Gl&&Gl.length!==1;JOe({global:!0,bind:!0,enumerable:!0,forced:A8||I8||$8},{btoa:function(e){if(rLe(arguments.length,1),A8||I8||$8)return tLe(Gl,eLe,w8(e));for(var r=w8(e),n="",i=0,a=nLe,s,o;R8(r,i)||(a="=",i%1);){if(o=iLe(r,i+=3/4),o>255)throw new(YV("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");s=s<<8|o,n+=R8(a,63&s>>8-i%1*8)}return n}});var QV={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},aLe=kx,fS=aLe("span").classList,C8=fS&&fS.constructor&&fS.constructor.prototype,ZV=C8===Object.prototype?void 0:C8,k8=de,O8=QV,sLe=ZV,dS=gH,oLe=Lr,JV=function(t){if(t&&t.forEach!==dS)try{oLe(t,"forEach",dS)}catch{t.forEach=dS}};for(var hS in O8)O8[hS]&&JV(k8[hS]&&k8[hS].prototype);JV(sLe);var L8=de,eW=QV,lLe=ZV,hh=RH,pS=Lr,tW=De,gS=tW("iterator"),P8=tW("toStringTag"),mS=hh.values,rW=function(t,e){if(t){if(t[gS]!==mS)try{pS(t,gS,mS)}catch{t[gS]=mS}if(t[P8]||pS(t,P8,e),eW[e]){for(var r in hh)if(t[r]!==hh[r])try{pS(t,r,hh[r])}catch{t[r]=hh[r]}}}};for(var vS in eW)rW(L8[vS]&&L8[vS].prototype,vS);rW(lLe,"DOMTokenList");var cLe=gs,uLe=function(t){try{if(cLe)return Function('return require("'+t+'")')()}catch{}},nW={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}},fLe=j,dLe=uLe,$y=dt,SC=re,hLe=ni,TC=ti,Cy=ht.f,pLe=St,Iv=ar,$v=Ue,gLe=ba,mLe=Ae,iW=sH,N8=kp,Iu=nW,vLe=n$,aW=Dt,wC=be,sf="DOMException",nR="DATA_CLONE_ERR",_E=$y("Error"),ss=$y(sf)||function(){try{var t=$y("MessageChannel")||dLe("worker_threads").MessageChannel;new t().port1.postMessage(new WeakMap)}catch(e){if(e.name==nR&&e.code==25)return e.constructor}}(),yLe=ss&&ss.prototype,sW=_E.prototype,xLe=aW.set,ELe=aW.getterFor(sf),_Le="stack"in _E(sf),oW=function(t){return $v(Iu,t)&&Iu[t].m?Iu[t].c:0},RC=function(){gLe(this,Lh);var e=arguments.length,r=N8(e<1?void 0:arguments[0]),n=N8(e<2?void 0:arguments[1],"Error"),i=oW(n);if(xLe(this,{type:sf,name:n,message:r,code:i}),wC||(this.name=n,this.message=r,this.code=i),_Le){var a=_E(r);a.name=sf,Cy(this,"stack",TC(1,vLe(a.stack,1)))}},Lh=RC.prototype=hLe(sW),lW=function(t){return{enumerable:!0,configurable:!0,get:t}},yS=function(t){return lW(function(){return ELe(this)[t]})};wC&&(Iv(Lh,"code",yS("code")),Iv(Lh,"message",yS("message")),Iv(Lh,"name",yS("name")));Cy(Lh,"constructor",TC(1,RC));var bE=SC(function(){return!(new ss instanceof _E)}),bLe=bE||SC(function(){return sW.toString!==iW||String(new ss(1,2))!=="2: 1"}),SLe=bE||SC(function(){return new ss(1,"DataCloneError").code!==25});bE||ss[nR]!==25||yLe[nR];var D8=bE;fLe({global:!0,constructor:!0,forced:D8},{DOMException:D8?RC:ss});var x0=$y(sf),ky=x0.prototype;bLe&&ss===x0&&pLe(ky,"toString",iW);SLe&&wC&&ss===x0&&Iv(ky,"code",lW(function(){return oW(mLe(this).name)}));for(var M8 in Iu)if($v(Iu,M8)){var F8=Iu[M8],dm=F8.s,B8=TC(6,F8.c);$v(x0,dm)||Cy(x0,dm,B8),$v(ky,dm)||Cy(ky,dm,B8)}var TLe=j,wLe=de,AC=dt,iR=ti,aR=ht.f,U8=Ue,RLe=ba,ALe=jf,j8=kp,xS=nW,ILe=n$,$Le=be,Wp="DOMException",cW=AC("Error"),Kp=AC(Wp),IC=function(){RLe(this,CLe);var e=arguments.length,r=j8(e<1?void 0:arguments[0]),n=j8(e<2?void 0:arguments[1],"Error"),i=new Kp(r,n),a=cW(r);return a.name=Wp,aR(i,"stack",iR(1,ILe(a.stack,1))),ALe(i,this,IC),i},CLe=IC.prototype=Kp.prototype,kLe="stack"in cW(Wp),OLe="stack"in new Kp(1,2),ES=Kp&&$Le&&Object.getOwnPropertyDescriptor(wLe,Wp),LLe=!!ES&&!(ES.writable&&ES.configurable),H8=kLe&&!LLe&&!OLe;TLe({global:!0,constructor:!0,forced:H8},{DOMException:H8?IC:Kp});var ph=AC(Wp),G8=ph.prototype;if(G8.constructor!==ph){aR(G8,"constructor",iR(1,ph));for(var z8 in xS)if(U8(xS,z8)){var V8=xS[z8],W8=V8.s;U8(ph,W8)||aR(ph,W8,iR(6,V8.c))}}var PLe=dt,NLe=Tn,K8="DOMException";NLe(PLe(K8),K8);var DLe=j,MLe=de,Y8=oE.clear;DLe({global:!0,bind:!0,enumerable:!0,forced:MLe.clearImmediate!==Y8},{clearImmediate:Y8});var FLe=typeof Bun=="function"&&Bun&&typeof Bun.version=="string",uW=de,BLe=ii,ULe=Pe,jLe=FLe,HLe=cs,GLe=lc,zLe=vs,VLe=uW.Function,WLe=/MSIE .\./.test(HLe)||jLe&&function(){var t=uW.Bun.version.split(".");return t.length<3||t[0]==0&&(t[1]<3||t[1]==3&&t[2]==0)}(),$C=function(t,e){var r=e?2:1;return WLe?function(n,i){var a=zLe(arguments.length,1)>r,s=ULe(n)?n:VLe(n),o=a?GLe(arguments,r):[],c=a?function(){BLe(s,this,o)}:s;return e?t(c,i):t(c)}:t},KLe=j,fW=de,q8=oE.set,YLe=$C,X8=fW.setImmediate?YLe(q8,!1):q8;KLe({global:!0,bind:!0,enumerable:!0,forced:fW.setImmediate!==X8},{setImmediate:X8});var qLe=j,XLe=de,QLe=HG,ZLe=It,JLe=vs,ePe=gs,tPe=XLe.process;qLe({global:!0,enumerable:!0,dontCallGetSet:!0},{queueMicrotask:function(e){JLe(arguments.length,1),ZLe(e);var r=ePe&&tPe.domain;QLe(r?r.bind(e):e)}});var rPe=j,Ds=de,nPe=ar,iPe=be,aPe=TypeError,sPe=Object.defineProperty,Q8=Ds.self!==Ds;try{if(iPe){var _S=Object.getOwnPropertyDescriptor(Ds,"self");(Q8||!_S||!_S.get||!_S.enumerable)&&nPe(Ds,"self",{get:function(){return Ds},set:function(e){if(this!==Ds)throw aPe("Illegal invocation");sPe(Ds,"self",{value:e,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}else rPe({global:!0,simple:!0,forced:Q8},{self:Ds})}catch{}var hm=ie,Nd=Map.prototype,oPe={Map,set:hm(Nd.set),get:hm(Nd.get),has:hm(Nd.has),remove:hm(Nd.delete),proto:Nd},bS=ie,pm=Set.prototype,lPe={Set,add:bS(pm.add),has:bS(pm.has),remove:bS(pm.delete),proto:pm},cPe=de,uPe=re,SS=us,fPe=GG,dPe=H$,hPe=gs,Z8=cPe.structuredClone,pPe=!!Z8&&!uPe(function(){if(dPe&&SS>92||hPe&&SS>94||fPe&&SS>97)return!1;var t=new ArrayBuffer(8),e=Z8(t,{transfer:[t]});return t.byteLength!=0||e.byteLength!=8}),gPe=j,vt=de,CC=dt,Yp=ie,kC=re,mPe=Ff,Cv=Pe,vPe=Uf,yPe=sn,sR=Ne,xPe=sc,EPe=_a,dW=Ae,hW=ya,_Pe=Ue,bPe=hs,TS=Lr,kv=We,SPe=vs,TPe=jp,SE=oPe,pW=lPe,wPe=tH,gW=pPe,gh=vt.Object,RPe=vt.Array,mW=vt.Date,qp=vt.Error,APe=vt.EvalError,IPe=vt.RangeError,$Pe=vt.ReferenceError,CPe=vt.SyntaxError,vW=vt.TypeError,kPe=vt.URIError,OPe=vt.PerformanceMark,of=vt.WebAssembly,LPe=of&&of.CompileError||qp,PPe=of&&of.LinkError||qp,NPe=of&&of.RuntimeError||qp,zl=CC("DOMException"),oR=SE.Map,yW=SE.has,DPe=SE.get,Oy=SE.set,MPe=pW.Set,FPe=pW.add,BPe=CC("Object","keys"),UPe=Yp([].push),jPe=Yp((!0).valueOf),HPe=Yp(1 .valueOf),GPe=Yp("".valueOf),zPe=Yp(mW.prototype.getTime),lR=mPe("structuredClone"),E0="DataCloneError",gm="Transferring",xW=function(t){return!kC(function(){var e=new vt.Set([7]),r=t(e),n=t(gh(7));return r==e||!r.has(7)||typeof n!="object"||n!=7})&&t},J8=function(t,e){return!kC(function(){var r=new e,n=t({a:r,b:r});return!(n&&n.a===n.b&&n.a instanceof e&&n.a.stack===r.stack)})},VPe=function(t){return!kC(function(){var e=t(new vt.AggregateError([1],lR,{cause:3}));return e.name!="AggregateError"||e.errors[0]!=1||e.message!=lR||e.cause!=3})},$u=vt.structuredClone,WPe=!J8($u,qp)||!J8($u,zl)||!VPe($u),KPe=!$u&&xW(function(t){return new OPe(lR,{detail:t}).detail}),$s=xW($u)||KPe,wS=function(t){throw new zl("Uncloneable type: "+t,E0)},fr=function(t,e){throw new zl((e||"Cloning")+" of "+t+" cannot be properly polyfilled in this engine",E0)},YPe=function(){var t;try{t=new vt.DataTransfer}catch{try{t=new vt.ClipboardEvent("").clipboardData}catch{}}return t&&t.items&&t.files?t:null},ur=function(t,e){if(xPe(t)&&wS("Symbol"),!sR(t))return t;if(e){if(yW(e,t))return DPe(e,t)}else e=new oR;var r=hW(t),n=!1,i,a,s,o,c,l,u,f,d,h,p;switch(r){case"Array":s=RPe(kv(t)),n=!0;break;case"Object":s={},n=!0;break;case"Map":s=new oR,n=!0;break;case"Set":s=new MPe,n=!0;break;case"RegExp":s=new RegExp(t.source,TPe(t));break;case"Error":switch(a=t.name,a){case"AggregateError":s=CC("AggregateError")([]);break;case"EvalError":s=APe();break;case"RangeError":s=IPe();break;case"ReferenceError":s=$Pe();break;case"SyntaxError":s=CPe();break;case"TypeError":s=vW();break;case"URIError":s=kPe();break;case"CompileError":s=LPe();break;case"LinkError":s=PPe();break;case"RuntimeError":s=NPe();break;default:s=qp()}n=!0;break;case"DOMException":s=new zl(t.message,t.name),n=!0;break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":i=vt[r],sR(i)||fr(r),s=new i(ur(t.buffer,e),t.byteOffset,r==="DataView"?t.byteLength:t.length);break;case"DOMQuad":try{s=new DOMQuad(ur(t.p1,e),ur(t.p2,e),ur(t.p3,e),ur(t.p4,e))}catch{$s?s=$s(t):fr(r)}break;case"FileList":if(o=YPe(),o){for(c=0,l=kv(t);c<l;c++)o.items.add(ur(t[c],e));s=o.files}else $s?s=$s(t):fr(r);break;case"ImageData":try{s=new ImageData(ur(t.data,e),t.width,t.height,{colorSpace:t.colorSpace})}catch{$s?s=$s(t):fr(r)}break;default:if($s)s=$s(t);else switch(r){case"BigInt":s=gh(t.valueOf());break;case"Boolean":s=gh(jPe(t));break;case"Number":s=gh(HPe(t));break;case"String":s=gh(GPe(t));break;case"Date":s=new mW(zPe(t));break;case"ArrayBuffer":i=vt.DataView,!i&&typeof t.slice!="function"&&fr(r);try{if(typeof t.slice=="function"&&!t.resizable)s=t.slice(0);else for(l=t.byteLength,p=("maxByteLength"in t)?{maxByteLength:t.maxByteLength}:void 0,s=new ArrayBuffer(l,p),d=new i(t),h=new i(s),c=0;c<l;c++)h.setUint8(c,d.getUint8(c))}catch{throw new zl("ArrayBuffer is detached",E0)}break;case"SharedArrayBuffer":s=t;break;case"Blob":try{s=t.slice(0,t.size,t.type)}catch{fr(r)}break;case"DOMPoint":case"DOMPointReadOnly":i=vt[r];try{s=i.fromPoint?i.fromPoint(t):new i(t.x,t.y,t.z,t.w)}catch{fr(r)}break;case"DOMRect":case"DOMRectReadOnly":i=vt[r];try{s=i.fromRect?i.fromRect(t):new i(t.x,t.y,t.width,t.height)}catch{fr(r)}break;case"DOMMatrix":case"DOMMatrixReadOnly":i=vt[r];try{s=i.fromMatrix?i.fromMatrix(t):new i(t)}catch{fr(r)}break;case"AudioData":case"VideoFrame":Cv(t.clone)||fr(r);try{s=t.clone()}catch{wS(r)}break;case"File":try{s=new File([t],t.name,t)}catch{fr(r)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":fr(r);default:wS(r)}}if(Oy(e,t,s),n)switch(r){case"Array":case"Object":for(u=BPe(t),c=0,l=kv(u);c<l;c++)f=u[c],bPe(s,f,ur(t[f],e));break;case"Map":t.forEach(function(m,g){Oy(s,ur(g,e),ur(m,e))});break;case"Set":t.forEach(function(m){FPe(s,ur(m,e))});break;case"Error":TS(s,"message",ur(t.message,e)),_Pe(t,"cause")&&TS(s,"cause",ur(t.cause,e)),a=="AggregateError"&&(s.errors=ur(t.errors,e));case"DOMException":wPe&&TS(s,"stack",ur(t.stack,e))}return s},qPe=function(t,e){if(!sR(t))throw vW("Transfer option cannot be converted to a sequence");var r=[];EPe(t,function(d){UPe(r,dW(d))});var n=0,i=kv(r),a,s,o,c,l,u,f;if(gW)for(c=$u(r,{transfer:r});n<i;)Oy(e,r[n],c[n++]);else for(;n<i;){if(a=r[n++],yW(e,a))throw new zl("Duplicate transferable",E0);switch(s=hW(a),s){case"ImageBitmap":o=vt.OffscreenCanvas,vPe(o)||fr(s,gm);try{u=new o(a.width,a.height),f=u.getContext("bitmaprenderer"),f.transferFromImageBitmap(a),l=u.transferToImageBitmap()}catch{}break;case"AudioData":case"VideoFrame":(!Cv(a.clone)||!Cv(a.close))&&fr(s,gm);try{l=a.clone(),a.close()}catch{}break;case"ArrayBuffer":Cv(a.transfer)||fr(s,gm),l=a.transfer();break;case"MediaSourceHandle":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":fr(s,gm)}if(l===void 0)throw new zl("This object cannot be transferred: "+s,E0);Oy(e,a,l)}};gPe({global:!0,enumerable:!0,sham:!gW,forced:WPe},{structuredClone:function(e){var r=SPe(arguments.length,1)>1&&!yPe(arguments[1])?dW(arguments[1]):void 0,n=r?r.transfer:void 0,i;return n!==void 0&&(i=new oR,qPe(n,i)),ur(e,i)}});var XPe=j,EW=de,QPe=$C,eM=QPe(EW.setInterval,!0);XPe({global:!0,bind:!0,forced:EW.setInterval!==eM},{setInterval:eM});var ZPe=j,_W=de,JPe=$C,tM=JPe(_W.setTimeout,!0);ZPe({global:!0,bind:!0,forced:_W.setTimeout!==tM},{setTimeout:tM});var eNe=re,tNe=De,rNe=be,rM=UI,nNe=tNe("iterator"),OC=!eNe(function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,r="";return t.pathname="c%20d",e.forEach(function(n,i){e.delete("b"),r+=i+n}),rM&&!t.toJSON||!e.size&&(rM||!rNe)||!e.sort||t.href!=="http://a/c%20d?a=1&c=3"||e.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!e[nNe]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://тест").host!=="xn--e1aybc"||new URL("http://a#б").hash!=="#%D0%B1"||r!=="a1c3"||new URL("http://x",void 0).host!=="x"}),uc=ie,RS=2147483647,Ph=36,bW=1,cR=26,iNe=38,aNe=700,sNe=72,oNe=128,lNe="-",cNe=/[^\0-\u007E]/,SW=/[.\u3002\uFF0E\uFF61]/g,nM="Overflow: input needs wider integers to process",AS=Ph-bW,iM=RangeError,uNe=uc(SW.exec),du=Math.floor,IS=String.fromCharCode,aM=uc("".charCodeAt),TW=uc([].join),Ys=uc([].push),fNe=uc("".replace),dNe=uc("".split),hNe=uc("".toLowerCase),pNe=function(t){for(var e=[],r=0,n=t.length;r<n;){var i=aM(t,r++);if(i>=55296&&i<=56319&&r<n){var a=aM(t,r++);(a&64512)==56320?Ys(e,((i&1023)<<10)+(a&1023)+65536):(Ys(e,i),r--)}else Ys(e,i)}return e},sM=function(t){return t+22+75*(t<26)},gNe=function(t,e,r){var n=0;for(t=r?du(t/aNe):t>>1,t+=du(t/e);t>AS*cR>>1;)t=du(t/AS),n+=Ph;return du(n+(AS+1)*t/(t+iNe))},mNe=function(t){var e=[];t=pNe(t);var r=t.length,n=oNe,i=0,a=sNe,s,o;for(s=0;s<t.length;s++)o=t[s],o<128&&Ys(e,IS(o));var c=e.length,l=c;for(c&&Ys(e,lNe);l<r;){var u=RS;for(s=0;s<t.length;s++)o=t[s],o>=n&&o<u&&(u=o);var f=l+1;if(u-n>du((RS-i)/f))throw iM(nM);for(i+=(u-n)*f,n=u,s=0;s<t.length;s++){if(o=t[s],o<n&&++i>RS)throw iM(nM);if(o==n){for(var d=i,h=Ph;;){var p=h<=a?bW:h>=a+cR?cR:h-a;if(d<p)break;var m=d-p,g=Ph-p;Ys(e,IS(sM(p+m%g))),d=du(m/g),h+=Ph}Ys(e,IS(sM(d))),a=gNe(i,f,l==c),i=0,l++}}i++,n++}return TW(e,"")},vNe=function(t){var e=[],r=dNe(fNe(hNe(t),SW,"."),"."),n,i;for(n=0;n<r.length;n++)i=r[n],Ys(e,uNe(cNe,i)?"xn--"+mNe(i):i);return TW(e,".")},uR=j,lf=de,mm=Ie,fa=ie,Cu=be,wW=OC,RW=St,yNe=ar,xNe=Np,ENe=Tn,_Ne=c$,LC=Dt,AW=ba,$S=Pe,bNe=Ue,SNe=Li,TNe=ya,wNe=Ae,IW=Ne,mn=$e,RNe=ni,oM=ti,fR=jx,ANe=Lp,Dc=vs,INe=De,$Ne=h$,CNe=INe("iterator"),Xp="URLSearchParams",$W=Xp+"Iterator",CW=LC.set,Bn=LC.getterFor(Xp),kNe=LC.getterFor($W),ONe=Object.getOwnPropertyDescriptor,PC=function(t){if(!Cu)return lf[t];var e=ONe(lf,t);return e&&e.value},lM=PC("fetch"),Ly=PC("Request"),Nh=PC("Headers"),CS=Ly&&Ly.prototype,cM=Nh&&Nh.prototype,LNe=lf.RegExp,PNe=lf.TypeError,kW=lf.decodeURIComponent,NNe=lf.encodeURIComponent,DNe=fa("".charAt),uM=fa([].join),bl=fa([].push),dR=fa("".replace),MNe=fa([].shift),fM=fa([].splice),dM=fa("".split),FNe=fa("".slice),BNe=/\+/g,hM=Array(4),UNe=function(t){return hM[t-1]||(hM[t-1]=LNe("((?:%[\\da-f]{2}){"+t+"})","gi"))},jNe=function(t){try{return kW(t)}catch{return t}},pM=function(t){var e=dR(t,BNe," "),r=4;try{return kW(e)}catch{for(;r;)e=dR(e,UNe(r--),jNe);return e}},HNe=/[!'()~]|%20/g,GNe={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},zNe=function(t){return GNe[t]},gM=function(t){return dR(NNe(t),HNe,zNe)},kS=_Ne(function(e,r){CW(this,{type:$W,iterator:fR(Bn(e).entries),kind:r})},"Iterator",function(){var e=kNe(this),r=e.kind,n=e.iterator.next(),i=n.value;return n.done||(n.value=r==="keys"?i.key:r==="values"?i.value:[i.key,i.value]),n},!0),OW=function(t){this.entries=[],this.url=null,t!==void 0&&(IW(t)?this.parseObject(t):this.parseQuery(typeof t=="string"?DNe(t,0)==="?"?FNe(t,1):t:mn(t)))};OW.prototype={type:Xp,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e=ANe(t),r,n,i,a,s,o,c;if(e)for(r=fR(t,e),n=r.next;!(i=mm(n,r)).done;){if(a=fR(wNe(i.value)),s=a.next,(o=mm(s,a)).done||(c=mm(s,a)).done||!mm(s,a).done)throw PNe("Expected sequence with length 2");bl(this.entries,{key:mn(o.value),value:mn(c.value)})}else for(var l in t)bNe(t,l)&&bl(this.entries,{key:l,value:mn(t[l])})},parseQuery:function(t){if(t)for(var e=dM(t,"&"),r=0,n,i;r<e.length;)n=e[r++],n.length&&(i=dM(n,"="),bl(this.entries,{key:pM(MNe(i)),value:pM(uM(i,"="))}))},serialize:function(){for(var t=this.entries,e=[],r=0,n;r<t.length;)n=t[r++],bl(e,gM(n.key)+"="+gM(n.value));return uM(e,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var TE=function(){AW(this,cf);var e=arguments.length>0?arguments[0]:void 0,r=CW(this,new OW(e));Cu||(this.length=r.entries.length)},cf=TE.prototype;xNe(cf,{append:function(e,r){Dc(arguments.length,2);var n=Bn(this);bl(n.entries,{key:mn(e),value:mn(r)}),Cu||this.length++,n.updateURL()},delete:function(t){Dc(arguments.length,1);for(var e=Bn(this),r=e.entries,n=mn(t),i=0;i<r.length;)r[i].key===n?fM(r,i,1):i++;Cu||(this.length=r.length),e.updateURL()},get:function(e){Dc(arguments.length,1);for(var r=Bn(this).entries,n=mn(e),i=0;i<r.length;i++)if(r[i].key===n)return r[i].value;return null},getAll:function(e){Dc(arguments.length,1);for(var r=Bn(this).entries,n=mn(e),i=[],a=0;a<r.length;a++)r[a].key===n&&bl(i,r[a].value);return i},has:function(e){Dc(arguments.length,1);for(var r=Bn(this).entries,n=mn(e),i=0;i<r.length;)if(r[i++].key===n)return!0;return!1},set:function(e,r){Dc(arguments.length,1);for(var n=Bn(this),i=n.entries,a=!1,s=mn(e),o=mn(r),c=0,l;c<i.length;c++)l=i[c],l.key===s&&(a?fM(i,c--,1):(a=!0,l.value=o));a||bl(i,{key:s,value:o}),Cu||(this.length=i.length),n.updateURL()},sort:function(){var e=Bn(this);$Ne(e.entries,function(r,n){return r.key>n.key?1:-1}),e.updateURL()},forEach:function(e){for(var r=Bn(this).entries,n=SNe(e,arguments.length>1?arguments[1]:void 0),i=0,a;i<r.length;)a=r[i++],n(a.value,a.key,this)},keys:function(){return new kS(this,"keys")},values:function(){return new kS(this,"values")},entries:function(){return new kS(this,"entries")}},{enumerable:!0});RW(cf,CNe,cf.entries,{name:"entries"});RW(cf,"toString",function(){return Bn(this).serialize()},{enumerable:!0});Cu&&yNe(cf,"size",{get:function(){return Bn(this).entries.length},configurable:!0,enumerable:!0});ENe(TE,Xp);uR({global:!0,constructor:!0,forced:!wW},{URLSearchParams:TE});if(!wW&&$S(Nh)){var VNe=fa(cM.has),WNe=fa(cM.set),mM=function(t){if(IW(t)){var e=t.body,r;if(TNe(e)===Xp)return r=t.headers?new Nh(t.headers):new Nh,VNe(r,"content-type")||WNe(r,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),RNe(t,{body:oM(0,mn(e)),headers:oM(0,r)})}return t};if($S(lM)&&uR({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return lM(e,arguments.length>1?mM(arguments[1]):{})}}),$S(Ly)){var OS=function(e){return AW(this,CS),new Ly(e,arguments.length>1?mM(arguments[1]):{})};CS.constructor=OS,OS.prototype=CS,uR({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:OS})}}var KNe={URLSearchParams:TE,getState:Bn},YNe=j,NC=be,qNe=OC,DC=de,vM=Li,si=ie,Py=St,On=ar,XNe=ba,hR=Ue,MC=IG,Mc=mH,pi=Ap,QNe=hE.codeAt,ZNe=vNe,La=$e,JNe=Tn,eDe=vs,LW=KNe,PW=Dt,tDe=PW.set,Ny=PW.getterFor("URL"),rDe=LW.URLSearchParams,nDe=LW.getState,Dd=DC.URL,pR=DC.TypeError,Dy=DC.parseInt,iDe=Math.floor,yM=Math.pow,jn=si("".charAt),bi=si(/./.exec),mh=si([].join),aDe=si(1 .toString),sDe=si([].pop),ru=si([].push),LS=si("".replace),oDe=si([].shift),lDe=si("".split),Dh=si("".slice),My=si("".toLowerCase),cDe=si([].unshift),uDe="Invalid authority",PS="Invalid scheme",ol="Invalid host",xM="Invalid port",NW=/[a-z]/i,fDe=/[\d+-.a-z]/i,gR=/\d/,dDe=/^0x/i,hDe=/^[0-7]+$/,pDe=/^\d+$/,DW=/^[\da-f]+$/i,gDe=/[\0\t\n\r #%/:<>?@[\\\]^|]/,mDe=/[\0\t\n\r #/:<>?@[\\\]^|]/,vDe=/^[\u0000-\u0020]+/,yDe=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,xDe=/[\t\n\r]/g,Ln,EDe=function(t){var e=lDe(t,"."),r,n,i,a,s,o,c;if(e.length&&e[e.length-1]==""&&e.length--,r=e.length,r>4)return t;for(n=[],i=0;i<r;i++){if(a=e[i],a=="")return t;if(s=10,a.length>1&&jn(a,0)=="0"&&(s=bi(dDe,a)?16:8,a=Dh(a,s==8?1:2)),a==="")o=0;else{if(!bi(s==10?pDe:s==8?hDe:DW,a))return t;o=Dy(a,s)}ru(n,o)}for(i=0;i<r;i++)if(o=n[i],i==r-1){if(o>=yM(256,5-r))return null}else if(o>255)return null;for(c=sDe(n),i=0;i<n.length;i++)c+=n[i]*yM(256,3-i);return c},_De=function(t){var e=[0,0,0,0,0,0,0,0],r=0,n=null,i=0,a,s,o,c,l,u,f,d=function(){return jn(t,i)};if(d()==":"){if(jn(t,1)!=":")return;i+=2,r++,n=r}for(;d();){if(r==8)return;if(d()==":"){if(n!==null)return;i++,r++,n=r;continue}for(a=s=0;s<4&&bi(DW,d());)a=a*16+Dy(d(),16),i++,s++;if(d()=="."){if(s==0||(i-=s,r>6))return;for(o=0;d();){if(c=null,o>0)if(d()=="."&&o<4)i++;else return;if(!bi(gR,d()))return;for(;bi(gR,d());){if(l=Dy(d(),10),c===null)c=l;else{if(c==0)return;c=c*10+l}if(c>255)return;i++}e[r]=e[r]*256+c,o++,(o==2||o==4)&&r++}if(o!=4)return;break}else if(d()==":"){if(i++,!d())return}else if(d())return;e[r++]=a}if(n!==null)for(u=r-n,r=7;r!=0&&u>0;)f=e[r],e[r--]=e[n+u-1],e[n+--u]=f;else if(r!=8)return;return e},bDe=function(t){for(var e=null,r=1,n=null,i=0,a=0;a<8;a++)t[a]!==0?(i>r&&(e=n,r=i),n=null,i=0):(n===null&&(n=a),++i);return i>r&&(e=n,r=i),e},Md=function(t){var e,r,n,i;if(typeof t=="number"){for(e=[],r=0;r<4;r++)cDe(e,t%256),t=iDe(t/256);return mh(e,".")}else if(typeof t=="object"){for(e="",n=bDe(t),r=0;r<8;r++)i&&t[r]===0||(i&&(i=!1),n===r?(e+=r?":":"::",i=!0):(e+=aDe(t[r],16),r<7&&(e+=":")));return"["+e+"]"}return t},Ov={},MW=MC({},Ov,{" ":1,'"':1,"<":1,">":1,"`":1}),FW=MC({},MW,{"#":1,"?":1,"{":1,"}":1}),NS=MC({},FW,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Cs=function(t,e){var r=QNe(t,0);return r>32&&r<127&&!hR(e,t)?t:encodeURIComponent(t)},vm={ftp:21,file:null,http:80,https:443,ws:80,wss:443},vh=function(t,e){var r;return t.length==2&&bi(NW,jn(t,0))&&((r=jn(t,1))==":"||!e&&r=="|")},EM=function(t){var e;return t.length>1&&vh(Dh(t,0,2))&&(t.length==2||(e=jn(t,2))==="/"||e==="\\"||e==="?"||e==="#")},SDe=function(t){return t==="."||My(t)==="%2e"},TDe=function(t){return t=My(t),t===".."||t==="%2e."||t===".%2e"||t==="%2e%2e"},DS={},_M={},MS={},bM={},SM={},FS={},TM={},wM={},ym={},xm={},BS={},US={},jS={},HS={},RM={},GS={},Fc={},zi={},AM={},ll={},Aa={},FC=function(t,e,r){var n=La(t),i,a,s;if(e){if(a=this.parse(n),a)throw pR(a);this.searchParams=null}else{if(r!==void 0&&(i=new FC(r,!0)),a=this.parse(n,null,i),a)throw pR(a);s=nDe(new rDe),s.bindURL(this),this.searchParams=s}};FC.prototype={type:"URL",parse:function(t,e,r){var n=this,i=e||DS,a=0,s="",o=!1,c=!1,l=!1,u,f,d,h;for(t=La(t),e||(n.scheme="",n.username="",n.password="",n.host=null,n.port=null,n.path=[],n.query=null,n.fragment=null,n.cannotBeABaseURL=!1,t=LS(t,vDe,""),t=LS(t,yDe,"$1")),t=LS(t,xDe,""),u=Mc(t);a<=u.length;){switch(f=u[a],i){case DS:if(f&&bi(NW,f))s+=My(f),i=_M;else{if(e)return PS;i=MS;continue}break;case _M:if(f&&(bi(fDe,f)||f=="+"||f=="-"||f=="."))s+=My(f);else if(f==":"){if(e&&(n.isSpecial()!=hR(vm,s)||s=="file"&&(n.includesCredentials()||n.port!==null)||n.scheme=="file"&&!n.host))return;if(n.scheme=s,e){n.isSpecial()&&vm[n.scheme]==n.port&&(n.port=null);return}s="",n.scheme=="file"?i=HS:n.isSpecial()&&r&&r.scheme==n.scheme?i=bM:n.isSpecial()?i=wM:u[a+1]=="/"?(i=SM,a++):(n.cannotBeABaseURL=!0,ru(n.path,""),i=AM)}else{if(e)return PS;s="",i=MS,a=0;continue}break;case MS:if(!r||r.cannotBeABaseURL&&f!="#")return PS;if(r.cannotBeABaseURL&&f=="#"){n.scheme=r.scheme,n.path=pi(r.path),n.query=r.query,n.fragment="",n.cannotBeABaseURL=!0,i=Aa;break}i=r.scheme=="file"?HS:FS;continue;case bM:if(f=="/"&&u[a+1]=="/")i=ym,a++;else{i=FS;continue}break;case SM:if(f=="/"){i=xm;break}else{i=zi;continue}case FS:if(n.scheme=r.scheme,f==Ln)n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=pi(r.path),n.query=r.query;else if(f=="/"||f=="\\"&&n.isSpecial())i=TM;else if(f=="?")n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=pi(r.path),n.query="",i=ll;else if(f=="#")n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=pi(r.path),n.query=r.query,n.fragment="",i=Aa;else{n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,n.path=pi(r.path),n.path.length--,i=zi;continue}break;case TM:if(n.isSpecial()&&(f=="/"||f=="\\"))i=ym;else if(f=="/")i=xm;else{n.username=r.username,n.password=r.password,n.host=r.host,n.port=r.port,i=zi;continue}break;case wM:if(i=ym,f!="/"||jn(s,a+1)!="/")continue;a++;break;case ym:if(f!="/"&&f!="\\"){i=xm;continue}break;case xm:if(f=="@"){o&&(s="%40"+s),o=!0,d=Mc(s);for(var p=0;p<d.length;p++){var m=d[p];if(m==":"&&!l){l=!0;continue}var g=Cs(m,NS);l?n.password+=g:n.username+=g}s=""}else if(f==Ln||f=="/"||f=="?"||f=="#"||f=="\\"&&n.isSpecial()){if(o&&s=="")return uDe;a-=Mc(s).length+1,s="",i=BS}else s+=f;break;case BS:case US:if(e&&n.scheme=="file"){i=GS;continue}else if(f==":"&&!c){if(s=="")return ol;if(h=n.parseHost(s),h)return h;if(s="",i=jS,e==US)return}else if(f==Ln||f=="/"||f=="?"||f=="#"||f=="\\"&&n.isSpecial()){if(n.isSpecial()&&s=="")return ol;if(e&&s==""&&(n.includesCredentials()||n.port!==null))return;if(h=n.parseHost(s),h)return h;if(s="",i=Fc,e)return;continue}else f=="["?c=!0:f=="]"&&(c=!1),s+=f;break;case jS:if(bi(gR,f))s+=f;else if(f==Ln||f=="/"||f=="?"||f=="#"||f=="\\"&&n.isSpecial()||e){if(s!=""){var v=Dy(s,10);if(v>65535)return xM;n.port=n.isSpecial()&&v===vm[n.scheme]?null:v,s=""}if(e)return;i=Fc;continue}else return xM;break;case HS:if(n.scheme="file",f=="/"||f=="\\")i=RM;else if(r&&r.scheme=="file")if(f==Ln)n.host=r.host,n.path=pi(r.path),n.query=r.query;else if(f=="?")n.host=r.host,n.path=pi(r.path),n.query="",i=ll;else if(f=="#")n.host=r.host,n.path=pi(r.path),n.query=r.query,n.fragment="",i=Aa;else{EM(mh(pi(u,a),""))||(n.host=r.host,n.path=pi(r.path),n.shortenPath()),i=zi;continue}else{i=zi;continue}break;case RM:if(f=="/"||f=="\\"){i=GS;break}r&&r.scheme=="file"&&!EM(mh(pi(u,a),""))&&(vh(r.path[0],!0)?ru(n.path,r.path[0]):n.host=r.host),i=zi;continue;case GS:if(f==Ln||f=="/"||f=="\\"||f=="?"||f=="#"){if(!e&&vh(s))i=zi;else if(s==""){if(n.host="",e)return;i=Fc}else{if(h=n.parseHost(s),h)return h;if(n.host=="localhost"&&(n.host=""),e)return;s="",i=Fc}continue}else s+=f;break;case Fc:if(n.isSpecial()){if(i=zi,f!="/"&&f!="\\")continue}else if(!e&&f=="?")n.query="",i=ll;else if(!e&&f=="#")n.fragment="",i=Aa;else if(f!=Ln&&(i=zi,f!="/"))continue;break;case zi:if(f==Ln||f=="/"||f=="\\"&&n.isSpecial()||!e&&(f=="?"||f=="#")){if(TDe(s)?(n.shortenPath(),f!="/"&&!(f=="\\"&&n.isSpecial())&&ru(n.path,"")):SDe(s)?f!="/"&&!(f=="\\"&&n.isSpecial())&&ru(n.path,""):(n.scheme=="file"&&!n.path.length&&vh(s)&&(n.host&&(n.host=""),s=jn(s,0)+":"),ru(n.path,s)),s="",n.scheme=="file"&&(f==Ln||f=="?"||f=="#"))for(;n.path.length>1&&n.path[0]==="";)oDe(n.path);f=="?"?(n.query="",i=ll):f=="#"&&(n.fragment="",i=Aa)}else s+=Cs(f,FW);break;case AM:f=="?"?(n.query="",i=ll):f=="#"?(n.fragment="",i=Aa):f!=Ln&&(n.path[0]+=Cs(f,Ov));break;case ll:!e&&f=="#"?(n.fragment="",i=Aa):f!=Ln&&(f=="'"&&n.isSpecial()?n.query+="%27":f=="#"?n.query+="%23":n.query+=Cs(f,Ov));break;case Aa:f!=Ln&&(n.fragment+=Cs(f,MW));break}a++}},parseHost:function(t){var e,r,n;if(jn(t,0)=="["){if(jn(t,t.length-1)!="]"||(e=_De(Dh(t,1,-1)),!e))return ol;this.host=e}else if(this.isSpecial()){if(t=ZNe(t),bi(gDe,t)||(e=EDe(t),e===null))return ol;this.host=e}else{if(bi(mDe,t))return ol;for(e="",r=Mc(t),n=0;n<r.length;n++)e+=Cs(r[n],Ov);this.host=e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme=="file"},includesCredentials:function(){return this.username!=""||this.password!=""},isSpecial:function(){return hR(vm,this.scheme)},shortenPath:function(){var t=this.path,e=t.length;e&&(this.scheme!="file"||e!=1||!vh(t[0],!0))&&t.length--},serialize:function(){var t=this,e=t.scheme,r=t.username,n=t.password,i=t.host,a=t.port,s=t.path,o=t.query,c=t.fragment,l=e+":";return i!==null?(l+="//",t.includesCredentials()&&(l+=r+(n?":"+n:"")+"@"),l+=Md(i),a!==null&&(l+=":"+a)):e=="file"&&(l+="//"),l+=t.cannotBeABaseURL?s[0]:s.length?"/"+mh(s,"/"):"",o!==null&&(l+="?"+o),c!==null&&(l+="#"+c),l},setHref:function(t){var e=this.parse(t);if(e)throw pR(e);this.searchParams.update()},getOrigin:function(){var t=this.scheme,e=this.port;if(t=="blob")try{return new uf(t.path[0]).origin}catch{return"null"}return t=="file"||!this.isSpecial()?"null":t+"://"+Md(this.host)+(e!==null?":"+e:"")},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(La(t)+":",DS)},getUsername:function(){return this.username},setUsername:function(t){var e=Mc(La(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<e.length;r++)this.username+=Cs(e[r],NS)}},getPassword:function(){return this.password},setPassword:function(t){var e=Mc(La(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<e.length;r++)this.password+=Cs(e[r],NS)}},getHost:function(){var t=this.host,e=this.port;return t===null?"":e===null?Md(t):Md(t)+":"+e},setHost:function(t){this.cannotBeABaseURL||this.parse(t,BS)},getHostname:function(){var t=this.host;return t===null?"":Md(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,US)},getPort:function(){var t=this.port;return t===null?"":La(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(t=La(t),t==""?this.port=null:this.parse(t,jS))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+mh(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,Fc))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){t=La(t),t==""?this.query=null:(jn(t,0)=="?"&&(t=Dh(t,1)),this.query="",this.parse(t,ll)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){if(t=La(t),t==""){this.fragment=null;return}jn(t,0)=="#"&&(t=Dh(t,1)),this.fragment="",this.parse(t,Aa)},update:function(){this.query=this.searchParams.serialize()||null}};var uf=function(e){var r=XNe(this,_r),n=eDe(arguments.length,1)>1?arguments[1]:void 0,i=tDe(r,new FC(e,!1,n));NC||(r.href=i.serialize(),r.origin=i.getOrigin(),r.protocol=i.getProtocol(),r.username=i.getUsername(),r.password=i.getPassword(),r.host=i.getHost(),r.hostname=i.getHostname(),r.port=i.getPort(),r.pathname=i.getPathname(),r.search=i.getSearch(),r.searchParams=i.getSearchParams(),r.hash=i.getHash())},_r=uf.prototype,Pn=function(t,e){return{get:function(){return Ny(this)[t]()},set:e&&function(r){return Ny(this)[e](r)},configurable:!0,enumerable:!0}};NC&&(On(_r,"href",Pn("serialize","setHref")),On(_r,"origin",Pn("getOrigin")),On(_r,"protocol",Pn("getProtocol","setProtocol")),On(_r,"username",Pn("getUsername","setUsername")),On(_r,"password",Pn("getPassword","setPassword")),On(_r,"host",Pn("getHost","setHost")),On(_r,"hostname",Pn("getHostname","setHostname")),On(_r,"port",Pn("getPort","setPort")),On(_r,"pathname",Pn("getPathname","setPathname")),On(_r,"search",Pn("getSearch","setSearch")),On(_r,"searchParams",Pn("getSearchParams")),On(_r,"hash",Pn("getHash","setHash")));Py(_r,"toJSON",function(){return Ny(this).serialize()},{enumerable:!0});Py(_r,"toString",function(){return Ny(this).serialize()},{enumerable:!0});if(Dd){var IM=Dd.createObjectURL,$M=Dd.revokeObjectURL;IM&&Py(uf,"createObjectURL",vM(IM,Dd)),$M&&Py(uf,"revokeObjectURL",vM($M,Dd))}JNe(uf,"URL");YNe({global:!0,constructor:!0,forced:!qNe,sham:!NC},{URL:uf});var wDe=j,RDe=dt,ADe=re,IDe=vs,CM=$e,$De=OC,BW=RDe("URL"),CDe=$De&&ADe(function(){BW.canParse()});wDe({target:"URL",stat:!0,forced:!CDe},{canParse:function(e){var r=IDe(arguments.length,1),n=CM(e),i=r<2||arguments[1]===void 0?void 0:CM(arguments[1]);try{return!!new BW(n,i)}catch{return!1}}});var kDe=j,ODe=Ie;kDe({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return ODe(URL.prototype.toString,this)}});var LDe=be,PDe=ie,NDe=ar,mR=URLSearchParams.prototype,DDe=PDe(mR.forEach);LDe&&!("size"in mR)&&NDe(mR,"size",{get:function(){var e=0;return DDe(this,function(){e++}),e},configurable:!0,enumerable:!0});(function(t){t.exports=XI})(Gee);var Vl={},MDe={get exports(){return Vl},set exports(t){Vl=t}},oi={},vR={},FDe={get exports(){return vR},set exports(t){vR=t}},UW={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,r,n,i;if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}if(typeof window>"u"||typeof MessageChannel!="function"){var c=null,l=null,u=function(){if(c!==null)try{var k=t.unstable_now();c(!0,k),c=null}catch(O){throw setTimeout(u,0),O}};e=function(k){c!==null?setTimeout(e,0,k):(c=k,setTimeout(u,0))},r=function(k,O){l=setTimeout(k,O)},n=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,d=window.clearTimeout;if(typeof console<"u"){var h=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof h!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var p=!1,m=null,g=-1,v=5,y=0;t.unstable_shouldYield=function(){return t.unstable_now()>=y},i=function(){},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<k?Math.floor(1e3/k):5};var x=new MessageChannel,E=x.port2;x.port1.onmessage=function(){if(m!==null){var k=t.unstable_now();y=k+v;try{m(!0,k)?E.postMessage(null):(p=!1,m=null)}catch(O){throw E.postMessage(null),O}}else p=!1},e=function(k){m=k,p||(p=!0,E.postMessage(null))},r=function(k,O){g=f(function(){k(t.unstable_now())},O)},n=function(){d(g),g=-1}}function S(k,O){var F=k.length;k.push(O);e:for(;;){var D=F-1>>>1,Q=k[D];if(Q!==void 0&&0<R(Q,O))k[D]=O,k[F]=Q,F=D;else break e}}function b(k){return k=k[0],k===void 0?null:k}function T(k){var O=k[0];if(O!==void 0){var F=k.pop();if(F!==O){k[0]=F;e:for(var D=0,Q=k.length;D<Q;){var ee=2*(D+1)-1,fe=k[ee],se=ee+1,tt=k[se];if(fe!==void 0&&0>R(fe,F))tt!==void 0&&0>R(tt,fe)?(k[D]=tt,k[se]=F,D=se):(k[D]=fe,k[ee]=F,D=ee);else if(tt!==void 0&&0>R(tt,F))k[D]=tt,k[se]=F,D=se;else break e}}return O}return null}function R(k,O){var F=k.sortIndex-O.sortIndex;return F!==0?F:k.id-O.id}var I=[],w=[],C=1,L=null,H=3,N=!1,P=!1,B=!1;function V(k){for(var O=b(w);O!==null;){if(O.callback===null)T(w);else if(O.startTime<=k)T(w),O.sortIndex=O.expirationTime,S(I,O);else break;O=b(w)}}function M(k){if(B=!1,V(k),!P)if(b(I)!==null)P=!0,e(U);else{var O=b(w);O!==null&&r(M,O.startTime-k)}}function U(k,O){P=!1,B&&(B=!1,n()),N=!0;var F=H;try{for(V(O),L=b(I);L!==null&&(!(L.expirationTime>O)||k&&!t.unstable_shouldYield());){var D=L.callback;if(typeof D=="function"){L.callback=null,H=L.priorityLevel;var Q=D(L.expirationTime<=O);O=t.unstable_now(),typeof Q=="function"?L.callback=Q:L===b(I)&&T(I),V(O)}else T(I);L=b(I)}if(L!==null)var ee=!0;else{var fe=b(w);fe!==null&&r(M,fe.startTime-O),ee=!1}return ee}finally{L=null,H=F,N=!1}}var W=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){P||N||(P=!0,e(U))},t.unstable_getCurrentPriorityLevel=function(){return H},t.unstable_getFirstCallbackNode=function(){return b(I)},t.unstable_next=function(k){switch(H){case 1:case 2:case 3:var O=3;break;default:O=H}var F=H;H=O;try{return k()}finally{H=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=W,t.unstable_runWithPriority=function(k,O){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var F=H;H=k;try{return O()}finally{H=F}},t.unstable_scheduleCallback=function(k,O,F){var D=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?D+F:D):F=D,k){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=F+Q,k={id:C++,callback:O,priorityLevel:k,startTime:F,expirationTime:Q,sortIndex:-1},F>D?(k.sortIndex=F,S(w,k),b(I)===null&&k===b(w)&&(B?n():B=!0,r(M,F-D))):(k.sortIndex=Q,S(I,k),P||N||(P=!0,e(U))),k},t.unstable_wrapCallback=function(k){var O=H;return function(){var F=H;H=O;try{return k.apply(this,arguments)}finally{H=F}}}})(UW);(function(t){t.exports=UW})(FDe);/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wE=A,ut=PI,Kt=vR;function te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!wE)throw Error(te(227));var jW=new Set,_0={};function fc(t,e){ff(t,e),ff(t+"Capture",e)}function ff(t,e){for(_0[t]=e,t=0;t<e.length;t++)jW.add(e[t])}var os=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),BDe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kM=Object.prototype.hasOwnProperty,OM={},LM={};function UDe(t){return kM.call(LM,t)?!0:kM.call(OM,t)?!1:BDe.test(t)?LM[t]=!0:(OM[t]=!0,!1)}function jDe(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function HDe(t,e,r,n){if(e===null||typeof e>"u"||jDe(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Pr(t,e,r,n,i,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var rr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){rr[t]=new Pr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];rr[e]=new Pr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){rr[t]=new Pr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){rr[t]=new Pr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){rr[t]=new Pr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){rr[t]=new Pr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){rr[t]=new Pr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){rr[t]=new Pr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){rr[t]=new Pr(t,5,!1,t.toLowerCase(),null,!1,!1)});var BC=/[\-:]([a-z])/g;function UC(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(BC,UC);rr[e]=new Pr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(BC,UC);rr[e]=new Pr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(BC,UC);rr[e]=new Pr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){rr[t]=new Pr(t,1,!1,t.toLowerCase(),null,!1,!1)});rr.xlinkHref=new Pr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){rr[t]=new Pr(t,1,!1,t.toLowerCase(),null,!0,!0)});function jC(t,e,r,n){var i=rr.hasOwnProperty(e)?rr[e]:null,a=i!==null?i.type===0:n?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");a||(HDe(e,r,i,n)&&(r=null),n||i===null?UDe(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var dc=wE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yh=60103,Sl=60106,Gs=60107,HC=60108,Mh=60114,GC=60109,zC=60110,RE=60112,Fh=60113,Fy=60120,AE=60115,VC=60116,WC=60121,KC=60128,HW=60129,YC=60130,yR=60131;if(typeof Symbol=="function"&&Symbol.for){var Ut=Symbol.for;yh=Ut("react.element"),Sl=Ut("react.portal"),Gs=Ut("react.fragment"),HC=Ut("react.strict_mode"),Mh=Ut("react.profiler"),GC=Ut("react.provider"),zC=Ut("react.context"),RE=Ut("react.forward_ref"),Fh=Ut("react.suspense"),Fy=Ut("react.suspense_list"),AE=Ut("react.memo"),VC=Ut("react.lazy"),WC=Ut("react.block"),Ut("react.scope"),KC=Ut("react.opaque.id"),HW=Ut("react.debug_trace_mode"),YC=Ut("react.offscreen"),yR=Ut("react.legacy_hidden")}var PM=typeof Symbol=="function"&&Symbol.iterator;function Fd(t){return t===null||typeof t!="object"?null:(t=PM&&t[PM]||t["@@iterator"],typeof t=="function"?t:null)}var zS;function xh(t){if(zS===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);zS=e&&e[1]||""}return`
`+zS+t}var VS=!1;function Em(t,e){if(!t||VS)return"";VS=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),a=n.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o])return`
`+i[s].replace(" at new "," at ");while(1<=s&&0<=o);break}}}finally{VS=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?xh(t):""}function GDe(t){switch(t.tag){case 5:return xh(t.type);case 16:return xh("Lazy");case 13:return xh("Suspense");case 19:return xh("SuspenseList");case 0:case 2:case 15:return t=Em(t.type,!1),t;case 11:return t=Em(t.type.render,!1),t;case 22:return t=Em(t.type._render,!1),t;case 1:return t=Em(t.type,!0),t;default:return""}}function ku(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Gs:return"Fragment";case Sl:return"Portal";case Mh:return"Profiler";case HC:return"StrictMode";case Fh:return"Suspense";case Fy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case zC:return(t.displayName||"Context")+".Consumer";case GC:return(t._context.displayName||"Context")+".Provider";case RE:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case AE:return ku(t.type);case WC:return ku(t._render);case VC:e=t._payload,t=t._init;try{return ku(t(e))}catch{}}return null}function To(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function GW(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function zDe(t){var e=GW(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _m(t){t._valueTracker||(t._valueTracker=zDe(t))}function zW(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=GW(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function By(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xR(t,e){var r=e.checked;return ut({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function NM(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=To(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function VW(t,e){e=e.checked,e!=null&&jC(t,"checked",e,!1)}function ER(t,e){VW(t,e);var r=To(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_R(t,e.type,r):e.hasOwnProperty("defaultValue")&&_R(t,e.type,To(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function DM(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function _R(t,e,r){(e!=="number"||By(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}function VDe(t){var e="";return wE.Children.forEach(t,function(r){r!=null&&(e+=r)}),e}function bR(t,e){return t=ut({children:void 0},e),(e=VDe(e.children))&&(t.children=e),t}function Ou(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+To(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function SR(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(te(91));return ut({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function MM(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(te(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(te(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:To(r)}}function WW(t,e){var r=To(e.value),n=To(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function FM(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var TR={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function KW(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wR(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?KW(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bm,YW=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!==TR.svg||"innerHTML"in t)t.innerHTML=e;else{for(bm=bm||document.createElement("div"),bm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function b0(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Bh={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WDe=["Webkit","ms","Moz","O"];Object.keys(Bh).forEach(function(t){WDe.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Bh[e]=Bh[t]})});function qW(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Bh.hasOwnProperty(t)&&Bh[t]?(""+e).trim():e+"px"}function XW(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=qW(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var KDe=ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function RR(t,e){if(e){if(KDe[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(te(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(te(62))}}function AR(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function qC(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var IR=null,Lu=null,Pu=null;function BM(t){if(t=Zp(t)){if(typeof IR!="function")throw Error(te(280));var e=t.stateNode;e&&(e=LE(e),IR(t.stateNode,t.type,e))}}function QW(t){Lu?Pu?Pu.push(t):Pu=[t]:Lu=t}function ZW(){if(Lu){var t=Lu,e=Pu;if(Pu=Lu=null,BM(t),e)for(t=0;t<e.length;t++)BM(e[t])}}function XC(t,e){return t(e)}function JW(t,e,r,n,i){return t(e,r,n,i)}function QC(){}var eK=XC,Tl=!1,WS=!1;function ZC(){(Lu!==null||Pu!==null)&&(QC(),ZW())}function YDe(t,e,r){if(WS)return t(e,r);WS=!0;try{return eK(t,e,r)}finally{WS=!1,ZC()}}function S0(t,e){var r=t.stateNode;if(r===null)return null;var n=LE(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(te(231,e,typeof r));return r}var $R=!1;if(os)try{var Bd={};Object.defineProperty(Bd,"passive",{get:function(){$R=!0}}),window.addEventListener("test",Bd,Bd),window.removeEventListener("test",Bd,Bd)}catch{$R=!1}function qDe(t,e,r,n,i,a,s,o,c){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(u){this.onError(u)}}var Uh=!1,Uy=null,jy=!1,CR=null,XDe={onError:function(t){Uh=!0,Uy=t}};function QDe(t,e,r,n,i,a,s,o,c){Uh=!1,Uy=null,qDe.apply(XDe,arguments)}function ZDe(t,e,r,n,i,a,s,o,c){if(QDe.apply(this,arguments),Uh){if(Uh){var l=Uy;Uh=!1,Uy=null}else throw Error(te(198));jy||(jy=!0,CR=l)}}function hc(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&1026&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function tK(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function UM(t){if(hc(t)!==t)throw Error(te(188))}function JDe(t){var e=t.alternate;if(!e){if(e=hc(t),e===null)throw Error(te(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return UM(i),t;if(a===n)return UM(i),e;a=a.sibling}throw Error(te(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s)throw Error(te(189))}}if(r.alternate!==n)throw Error(te(190))}if(r.tag!==3)throw Error(te(188));return r.stateNode.current===r?t:e}function rK(t){if(t=JDe(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function jM(t,e){for(var r=t.alternate;e!==null;){if(e===t||e===r)return!0;e=e.return}return!1}var nK,JC,iK,aK,kR=!1,ra=[],io=null,ao=null,so=null,T0=new Map,w0=new Map,Ud=[],HM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function OR(t,e,r,n,i){return{blockedOn:t,domEventName:e,eventSystemFlags:r|16,nativeEvent:i,targetContainers:[n]}}function GM(t,e){switch(t){case"focusin":case"focusout":io=null;break;case"dragenter":case"dragleave":ao=null;break;case"mouseover":case"mouseout":so=null;break;case"pointerover":case"pointerout":T0.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":w0.delete(e.pointerId)}}function jd(t,e,r,n,i,a){return t===null||t.nativeEvent!==a?(t=OR(e,r,n,i,a),e!==null&&(e=Zp(e),e!==null&&JC(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function e3e(t,e,r,n,i){switch(e){case"focusin":return io=jd(io,t,e,r,n,i),!0;case"dragenter":return ao=jd(ao,t,e,r,n,i),!0;case"mouseover":return so=jd(so,t,e,r,n,i),!0;case"pointerover":var a=i.pointerId;return T0.set(a,jd(T0.get(a)||null,t,e,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,w0.set(a,jd(w0.get(a)||null,t,e,r,n,i)),!0}return!1}function t3e(t){var e=wl(t.target);if(e!==null){var r=hc(e);if(r!==null){if(e=r.tag,e===13){if(e=tK(r),e!==null){t.blockedOn=e,aK(t.lanePriority,function(){Kt.unstable_runWithPriority(t.priority,function(){iK(r)})});return}}else if(e===3&&r.stateNode.hydrate){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lv(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=nk(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null)return e=Zp(r),e!==null&&JC(e),t.blockedOn=r,!1;e.shift()}return!0}function zM(t,e,r){Lv(t)&&r.delete(e)}function r3e(){for(kR=!1;0<ra.length;){var t=ra[0];if(t.blockedOn!==null){t=Zp(t.blockedOn),t!==null&&nK(t);break}for(var e=t.targetContainers;0<e.length;){var r=nk(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null){t.blockedOn=r;break}e.shift()}t.blockedOn===null&&ra.shift()}io!==null&&Lv(io)&&(io=null),ao!==null&&Lv(ao)&&(ao=null),so!==null&&Lv(so)&&(so=null),T0.forEach(zM),w0.forEach(zM)}function Hd(t,e){t.blockedOn===e&&(t.blockedOn=null,kR||(kR=!0,Kt.unstable_scheduleCallback(Kt.unstable_NormalPriority,r3e)))}function sK(t){function e(i){return Hd(i,t)}if(0<ra.length){Hd(ra[0],t);for(var r=1;r<ra.length;r++){var n=ra[r];n.blockedOn===t&&(n.blockedOn=null)}}for(io!==null&&Hd(io,t),ao!==null&&Hd(ao,t),so!==null&&Hd(so,t),T0.forEach(e),w0.forEach(e),r=0;r<Ud.length;r++)n=Ud[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ud.length&&(r=Ud[0],r.blockedOn===null);)t3e(r),r.blockedOn===null&&Ud.shift()}function Sm(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var hu={animationend:Sm("Animation","AnimationEnd"),animationiteration:Sm("Animation","AnimationIteration"),animationstart:Sm("Animation","AnimationStart"),transitionend:Sm("Transition","TransitionEnd")},KS={},oK={};os&&(oK=document.createElement("div").style,"AnimationEvent"in window||(delete hu.animationend.animation,delete hu.animationiteration.animation,delete hu.animationstart.animation),"TransitionEvent"in window||delete hu.transitionend.transition);function IE(t){if(KS[t])return KS[t];if(!hu[t])return t;var e=hu[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in oK)return KS[t]=e[r];return t}var lK=IE("animationend"),cK=IE("animationiteration"),uK=IE("animationstart"),fK=IE("transitionend"),dK=new Map,ek=new Map,n3e=["abort","abort",lK,"animationEnd",cK,"animationIteration",uK,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",fK,"transitionEnd","waiting","waiting"];function tk(t,e){for(var r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),ek.set(n,e),dK.set(n,i),fc(i,[n])}}var i3e=Kt.unstable_now;i3e();var Je=8;function nu(t){if(1&t)return Je=15,1;if(2&t)return Je=14,2;if(4&t)return Je=13,4;var e=24&t;return e!==0?(Je=12,e):t&32?(Je=11,32):(e=192&t,e!==0?(Je=10,e):t&256?(Je=9,256):(e=3584&t,e!==0?(Je=8,e):t&4096?(Je=7,4096):(e=4186112&t,e!==0?(Je=6,e):(e=62914560&t,e!==0?(Je=5,e):t&67108864?(Je=4,67108864):t&134217728?(Je=3,134217728):(e=805306368&t,e!==0?(Je=2,e):1073741824&t?(Je=1,1073741824):(Je=8,t))))))}function a3e(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function s3e(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(te(358,t))}}function R0(t,e){var r=t.pendingLanes;if(r===0)return Je=0;var n=0,i=0,a=t.expiredLanes,s=t.suspendedLanes,o=t.pingedLanes;if(a!==0)n=a,i=Je=15;else if(a=r&134217727,a!==0){var c=a&~s;c!==0?(n=nu(c),i=Je):(o&=a,o!==0&&(n=nu(o),i=Je))}else a=r&~s,a!==0?(n=nu(a),i=Je):o!==0&&(n=nu(o),i=Je);if(n===0)return 0;if(n=31-wo(n),n=r&((0>n?0:1<<n)<<1)-1,e!==0&&e!==n&&!(e&s)){if(nu(e),i<=Je)return e;Je=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-wo(e),i=1<<r,n|=t[r],e&=~i;return n}function hK(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Hy(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=iu(24&~e),t===0?Hy(10,e):t;case 10:return t=iu(192&~e),t===0?Hy(8,e):t;case 8:return t=iu(3584&~e),t===0&&(t=iu(4186112&~e),t===0&&(t=512)),t;case 2:return e=iu(805306368&~e),e===0&&(e=268435456),e}throw Error(te(358,t))}function iu(t){return t&-t}function YS(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function $E(t,e,r){t.pendingLanes|=e;var n=e-1;t.suspendedLanes&=n,t.pingedLanes&=n,t=t.eventTimes,e=31-wo(e),t[e]=r}var wo=Math.clz32?Math.clz32:c3e,o3e=Math.log,l3e=Math.LN2;function c3e(t){return t===0?32:31-(o3e(t)/l3e|0)|0}var u3e=Kt.unstable_UserBlockingPriority,f3e=Kt.unstable_runWithPriority,Pv=!0;function d3e(t,e,r,n){Tl||QC();var i=rk,a=Tl;Tl=!0;try{JW(i,t,e,r,n)}finally{(Tl=a)||ZC()}}function h3e(t,e,r,n){f3e(u3e,rk.bind(null,t,e,r,n))}function rk(t,e,r,n){if(Pv){var i;if((i=(e&4)===0)&&0<ra.length&&-1<HM.indexOf(t))t=OR(null,t,e,r,n),ra.push(t);else{var a=nk(t,e,r,n);if(a===null)i&&GM(t,n);else{if(i){if(-1<HM.indexOf(t)){t=OR(a,t,e,r,n),ra.push(t);return}if(e3e(a,t,e,r,n))return;GM(t,n)}RK(t,e,n,null,r)}}}}function nk(t,e,r,n){var i=qC(n);if(i=wl(i),i!==null){var a=hc(i);if(a===null)i=null;else{var s=a.tag;if(s===13){if(i=tK(a),i!==null)return i;i=null}else if(s===3){if(a.stateNode.hydrate)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return RK(t,e,n,i,r),null}var qs=null,ik=null,Nv=null;function pK(){if(Nv)return Nv;var t,e=ik,r=e.length,n,i="value"in qs?qs.value:qs.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var s=r-t;for(n=1;n<=s&&e[r-n]===i[a-n];n++);return Nv=i.slice(t,1<n?1-n:void 0)}function Dv(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Tm(){return!0}function VM(){return!1}function An(t){function e(r,n,i,a,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Tm:VM,this.isPropagationStopped=VM,this}return ut(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Tm)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Tm)},persist:function(){},isPersistent:Tm}),e}var qf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ak=An(qf),Qp=ut({},qf,{view:0,detail:0}),p3e=An(Qp),qS,XS,Gd,CE=ut({},Qp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sk,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gd&&(Gd&&t.type==="mousemove"?(qS=t.screenX-Gd.screenX,XS=t.screenY-Gd.screenY):XS=qS=0,Gd=t),qS)},movementY:function(t){return"movementY"in t?t.movementY:XS}}),WM=An(CE),g3e=ut({},CE,{dataTransfer:0}),m3e=An(g3e),v3e=ut({},Qp,{relatedTarget:0}),QS=An(v3e),y3e=ut({},qf,{animationName:0,elapsedTime:0,pseudoElement:0}),x3e=An(y3e),E3e=ut({},qf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_3e=An(E3e),b3e=ut({},qf,{data:0}),KM=An(b3e),S3e={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},T3e={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},w3e={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function R3e(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=w3e[t])?!!e[t]:!1}function sk(){return R3e}var A3e=ut({},Qp,{key:function(t){if(t.key){var e=S3e[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Dv(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?T3e[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sk,charCode:function(t){return t.type==="keypress"?Dv(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Dv(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),I3e=An(A3e),$3e=ut({},CE,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),YM=An($3e),C3e=ut({},Qp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sk}),k3e=An(C3e),O3e=ut({},qf,{propertyName:0,elapsedTime:0,pseudoElement:0}),L3e=An(O3e),P3e=ut({},CE,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),N3e=An(P3e),D3e=[9,13,27,32],ok=os&&"CompositionEvent"in window,jh=null;os&&"documentMode"in document&&(jh=document.documentMode);var M3e=os&&"TextEvent"in window&&!jh,gK=os&&(!ok||jh&&8<jh&&11>=jh),qM=String.fromCharCode(32),XM=!1;function mK(t,e){switch(t){case"keyup":return D3e.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vK(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var pu=!1;function F3e(t,e){switch(t){case"compositionend":return vK(e);case"keypress":return e.which!==32?null:(XM=!0,qM);case"textInput":return t=e.data,t===qM&&XM?null:t;default:return null}}function B3e(t,e){if(pu)return t==="compositionend"||!ok&&mK(t,e)?(t=pK(),Nv=ik=qs=null,pu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return gK&&e.locale!=="ko"?null:e.data;default:return null}}var U3e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function QM(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!U3e[t.type]:e==="textarea"}function yK(t,e,r,n){QW(n),e=Gy(e,"onChange"),0<e.length&&(r=new ak("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Hh=null,A0=null;function j3e(t){SK(t,0)}function kE(t){var e=mu(t);if(zW(e))return t}function H3e(t,e){if(t==="change")return e}var xK=!1;if(os){var ZS;if(os){var JS="oninput"in document;if(!JS){var ZM=document.createElement("div");ZM.setAttribute("oninput","return;"),JS=typeof ZM.oninput=="function"}ZS=JS}else ZS=!1;xK=ZS&&(!document.documentMode||9<document.documentMode)}function JM(){Hh&&(Hh.detachEvent("onpropertychange",EK),A0=Hh=null)}function EK(t){if(t.propertyName==="value"&&kE(A0)){var e=[];if(yK(e,A0,t,qC(t)),t=j3e,Tl)t(e);else{Tl=!0;try{XC(t,e)}finally{Tl=!1,ZC()}}}}function G3e(t,e,r){t==="focusin"?(JM(),Hh=e,A0=r,Hh.attachEvent("onpropertychange",EK)):t==="focusout"&&JM()}function z3e(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return kE(A0)}function V3e(t,e){if(t==="click")return kE(e)}function W3e(t,e){if(t==="input"||t==="change")return kE(e)}function K3e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var zn=typeof Object.is=="function"?Object.is:K3e,Y3e=Object.prototype.hasOwnProperty;function I0(t,e){if(zn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!Y3e.call(e,r[n])||!zn(t[r[n]],e[r[n]]))return!1;return!0}function eF(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tF(t,e){var r=eF(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=eF(r)}}function _K(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_K(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function rF(){for(var t=window,e=By();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=By(t.document)}return e}function LR(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var q3e=os&&"documentMode"in document&&11>=document.documentMode,gu=null,PR=null,Gh=null,NR=!1;function nF(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;NR||gu==null||gu!==By(n)||(n=gu,"selectionStart"in n&&LR(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Gh&&I0(Gh,n)||(Gh=n,n=Gy(PR,"onSelect"),0<n.length&&(e=new ak("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=gu)))}tk("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);tk("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);tk(n3e,2);for(var iF="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),eT=0;eT<iF.length;eT++)ek.set(iF[eT],0);ff("onMouseEnter",["mouseout","mouseover"]);ff("onMouseLeave",["mouseout","mouseover"]);ff("onPointerEnter",["pointerout","pointerover"]);ff("onPointerLeave",["pointerout","pointerover"]);fc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fc("onBeforeInput",["compositionend","keypress","textInput","paste"]);fc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bK=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eh));function aF(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,ZDe(n,e,void 0,t),t.currentTarget=null}function SK(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var a=void 0;if(e)for(var s=n.length-1;0<=s;s--){var o=n[s],c=o.instance,l=o.currentTarget;if(o=o.listener,c!==a&&i.isPropagationStopped())break e;aF(i,o,l),a=c}else for(s=0;s<n.length;s++){if(o=n[s],c=o.instance,l=o.currentTarget,o=o.listener,c!==a&&i.isPropagationStopped())break e;aF(i,o,l),a=c}}}if(jy)throw t=CR,jy=!1,CR=null,t}function rt(t,e){var r=IK(e),n=t+"__bubble";r.has(n)||(wK(e,t,2,!1),r.add(n))}var sF="_reactListening"+Math.random().toString(36).slice(2);function TK(t){t[sF]||(t[sF]=!0,jW.forEach(function(e){bK.has(e)||oF(e,!1,t,null),oF(e,!0,t,null)}))}function oF(t,e,r,n){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,a=r;if(t==="selectionchange"&&r.nodeType!==9&&(a=r.ownerDocument),n!==null&&!e&&bK.has(t)){if(t!=="scroll")return;i|=2,a=n}var s=IK(a),o=t+"__"+(e?"capture":"bubble");s.has(o)||(e&&(i|=4),wK(a,t,i,e),s.add(o))}function wK(t,e,r,n){var i=ek.get(e);switch(i===void 0?2:i){case 0:i=d3e;break;case 1:i=h3e;break;default:i=rk}r=i.bind(null,e,r,t),i=void 0,!$R||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function RK(t,e,r,n,i){var a=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;s=s.return}for(;o!==null;){if(s=wl(o),s===null)return;if(c=s.tag,c===5||c===6){n=a=s;continue e}o=o.parentNode}}n=n.return}YDe(function(){var l=a,u=qC(r),f=[];e:{var d=dK.get(t);if(d!==void 0){var h=ak,p=t;switch(t){case"keypress":if(Dv(r)===0)break e;case"keydown":case"keyup":h=I3e;break;case"focusin":p="focus",h=QS;break;case"focusout":p="blur",h=QS;break;case"beforeblur":case"afterblur":h=QS;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=WM;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=m3e;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=k3e;break;case lK:case cK:case uK:h=x3e;break;case fK:h=L3e;break;case"scroll":h=p3e;break;case"wheel":h=N3e;break;case"copy":case"cut":case"paste":h=_3e;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=YM}var m=(e&4)!==0,g=!m&&t==="scroll",v=m?d!==null?d+"Capture":null:d;m=[];for(var y=l,x;y!==null;){x=y;var E=x.stateNode;if(x.tag===5&&E!==null&&(x=E,v!==null&&(E=S0(y,v),E!=null&&m.push($0(y,E,x)))),g)break;y=y.return}0<m.length&&(d=new h(d,p,null,r,u),f.push({event:d,listeners:m}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&!(e&16)&&(p=r.relatedTarget||r.fromElement)&&(wl(p)||p[Xf]))break e;if((h||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,h?(p=r.relatedTarget||r.toElement,h=l,p=p?wl(p):null,p!==null&&(g=hc(p),p!==g||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=l),h!==p)){if(m=WM,E="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(m=YM,E="onPointerLeave",v="onPointerEnter",y="pointer"),g=h==null?d:mu(h),x=p==null?d:mu(p),d=new m(E,y+"leave",h,r,u),d.target=g,d.relatedTarget=x,E=null,wl(u)===l&&(m=new m(v,y+"enter",p,r,u),m.target=x,m.relatedTarget=g,E=m),g=E,h&&p)t:{for(m=h,v=p,y=0,x=m;x;x=Bc(x))y++;for(x=0,E=v;E;E=Bc(E))x++;for(;0<y-x;)m=Bc(m),y--;for(;0<x-y;)v=Bc(v),x--;for(;y--;){if(m===v||v!==null&&m===v.alternate)break t;m=Bc(m),v=Bc(v)}m=null}else m=null;h!==null&&lF(f,d,h,m,!1),p!==null&&g!==null&&lF(f,g,p,m,!0)}}e:{if(d=l?mu(l):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var S=H3e;else if(QM(d))if(xK)S=W3e;else{S=z3e;var b=G3e}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=V3e);if(S&&(S=S(t,l))){yK(f,S,r,u);break e}b&&b(t,d,l),t==="focusout"&&(b=d._wrapperState)&&b.controlled&&d.type==="number"&&_R(d,"number",d.value)}switch(b=l?mu(l):window,t){case"focusin":(QM(b)||b.contentEditable==="true")&&(gu=b,PR=l,Gh=null);break;case"focusout":Gh=PR=gu=null;break;case"mousedown":NR=!0;break;case"contextmenu":case"mouseup":case"dragend":NR=!1,nF(f,r,u);break;case"selectionchange":if(q3e)break;case"keydown":case"keyup":nF(f,r,u)}var T;if(ok)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else pu?mK(t,r)&&(R="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(gK&&r.locale!=="ko"&&(pu||R!=="onCompositionStart"?R==="onCompositionEnd"&&pu&&(T=pK()):(qs=u,ik="value"in qs?qs.value:qs.textContent,pu=!0)),b=Gy(l,R),0<b.length&&(R=new KM(R,t,null,r,u),f.push({event:R,listeners:b}),T?R.data=T:(T=vK(r),T!==null&&(R.data=T)))),(T=M3e?F3e(t,r):B3e(t,r))&&(l=Gy(l,"onBeforeInput"),0<l.length&&(u=new KM("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:l}),u.data=T))}SK(f,e)})}function $0(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Gy(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=S0(t,r),a!=null&&n.unshift($0(t,a,i)),a=S0(t,e),a!=null&&n.push($0(t,a,i))),t=t.return}return n}function Bc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function lF(t,e,r,n,i){for(var a=e._reactName,s=[];r!==null&&r!==n;){var o=r,c=o.alternate,l=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&l!==null&&(o=l,i?(c=S0(r,a),c!=null&&s.unshift($0(r,c,o))):i||(c=S0(r,a),c!=null&&s.push($0(r,c,o)))),r=r.return}s.length!==0&&t.push({event:e,listeners:s})}function zy(){}var tT=null,rT=null;function AK(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function DR(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var cF=typeof setTimeout=="function"?setTimeout:void 0,X3e=typeof clearTimeout=="function"?clearTimeout:void 0;function lk(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function Nu(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function uF(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var nT=0;function Q3e(t){return{$$typeof:KC,toString:t,valueOf:t}}var OE=Math.random().toString(36).slice(2),Xs="__reactFiber$"+OE,Vy="__reactProps$"+OE,Xf="__reactContainer$"+OE,fF="__reactEvents$"+OE;function wl(t){var e=t[Xs];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Xf]||r[Xs]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=uF(t);t!==null;){if(r=t[Xs])return r;t=uF(t)}return e}t=r,r=t.parentNode}return null}function Zp(t){return t=t[Xs]||t[Xf],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function mu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(te(33))}function LE(t){return t[Vy]||null}function IK(t){var e=t[fF];return e===void 0&&(e=t[fF]=new Set),e}var MR=[],vu=-1;function Go(t){return{current:t}}function it(t){0>vu||(t.current=MR[vu],MR[vu]=null,vu--)}function bt(t,e){vu++,MR[vu]=t.current,t.current=e}var Ro={},yr=Go(Ro),Jr=Go(!1),Wl=Ro;function df(t,e){var r=t.type.contextTypes;if(!r)return Ro;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=e[a];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function en(t){return t=t.childContextTypes,t!=null}function Wy(){it(Jr),it(yr)}function dF(t,e,r){if(yr.current!==Ro)throw Error(te(168));bt(yr,e),bt(Jr,r)}function $K(t,e,r){var n=t.stateNode;if(t=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(te(108,ku(e)||"Unknown",i));return ut({},r,n)}function Mv(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ro,Wl=yr.current,bt(yr,t),bt(Jr,Jr.current),!0}function hF(t,e,r){var n=t.stateNode;if(!n)throw Error(te(169));r?(t=$K(t,e,Wl),n.__reactInternalMemoizedMergedChildContext=t,it(Jr),it(yr),bt(yr,t)):it(Jr),bt(Jr,r)}var ck=null,Nl=null,Z3e=Kt.unstable_runWithPriority,uk=Kt.unstable_scheduleCallback,FR=Kt.unstable_cancelCallback,J3e=Kt.unstable_shouldYield,pF=Kt.unstable_requestPaint,BR=Kt.unstable_now,e4e=Kt.unstable_getCurrentPriorityLevel,PE=Kt.unstable_ImmediatePriority,CK=Kt.unstable_UserBlockingPriority,kK=Kt.unstable_NormalPriority,OK=Kt.unstable_LowPriority,LK=Kt.unstable_IdlePriority,iT={},t4e=pF!==void 0?pF:function(){},ja=null,Fv=null,aT=!1,gF=BR(),pr=1e4>gF?BR:function(){return BR()-gF};function hf(){switch(e4e()){case PE:return 99;case CK:return 98;case kK:return 97;case OK:return 96;case LK:return 95;default:throw Error(te(332))}}function PK(t){switch(t){case 99:return PE;case 98:return CK;case 97:return kK;case 96:return OK;case 95:return LK;default:throw Error(te(332))}}function Kl(t,e){return t=PK(t),Z3e(t,e)}function C0(t,e,r){return t=PK(t),uk(t,e,r)}function Sa(){if(Fv!==null){var t=Fv;Fv=null,FR(t)}NK()}function NK(){if(!aT&&ja!==null){aT=!0;var t=0;try{var e=ja;Kl(99,function(){for(;t<e.length;t++){var r=e[t];do r=r(!0);while(r!==null)}}),ja=null}catch(r){throw ja!==null&&(ja=ja.slice(t+1)),uk(PE,Sa),r}finally{aT=!1}}}var r4e=dc.ReactCurrentBatchConfig;function yi(t,e){if(t&&t.defaultProps){e=ut({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var Ky=Go(null),Yy=null,yu=null,qy=null;function fk(){qy=yu=Yy=null}function dk(t){var e=Ky.current;it(Ky),t.type._context._currentValue=e}function DK(t,e){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)===e){if(r===null||(r.childLanes&e)===e)break;r.childLanes|=e}else t.childLanes|=e,r!==null&&(r.childLanes|=e);t=t.return}}function Du(t,e){Yy=t,qy=yu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(wi=!0),t.firstContext=null)}function Xn(t,e){if(qy!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(qy=t,e=1073741823),e={context:t,observedBits:e,next:null},yu===null){if(Yy===null)throw Error(te(308));yu=e,Yy.dependencies={lanes:0,firstContext:e,responders:null}}else yu=yu.next=e;return t._currentValue}var Ms=!1;function hk(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function MK(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function oo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function lo(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}}function mF(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=s:a=a.next=s,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function k0(t,e,r,n){var i=t.updateQueue;Ms=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,l=c.next;c.next=null,s===null?a=l:s.next=l,s=c;var u=t.alternate;if(u!==null){u=u.updateQueue;var f=u.lastBaseUpdate;f!==s&&(f===null?u.firstBaseUpdate=l:f.next=l,u.lastBaseUpdate=c)}}if(a!==null){f=i.baseState,s=0,u=l=c=null;do{o=a.lane;var d=a.eventTime;if((n&o)===o){u!==null&&(u=u.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var h=t,p=a;switch(o=e,d=r,p.tag){case 1:if(h=p.payload,typeof h=="function"){f=h.call(d,f,o);break e}f=h;break e;case 3:h.flags=h.flags&-4097|64;case 0:if(h=p.payload,o=typeof h=="function"?h.call(d,f,o):h,o==null)break e;f=ut({},f,o);break e;case 2:Ms=!0}}a.callback!==null&&(t.flags|=32,o=i.effects,o===null?i.effects=[a]:o.push(a))}else d={eventTime:d,lane:o,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=d,c=f):u=u.next=d,s|=o;if(a=a.next,a===null){if(o=i.shared.pending,o===null)break;a=o.next,o.next=null,i.lastBaseUpdate=o,i.shared.pending=null}}while(1);u===null&&(c=f),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,eg|=s,t.lanes=s,t.memoizedState=f}}function vF(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(te(191,i));i.call(n)}}}var FK=new wE.Component().refs;function Xy(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ut({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var NE={isMounted:function(t){return(t=t._reactInternals)?hc(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=bn(),i=co(t),a=oo(n,i);a.payload=e,r!=null&&(a.callback=r),lo(t,a),uo(t,i,n)},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=bn(),i=co(t),a=oo(n,i);a.tag=1,a.payload=e,r!=null&&(a.callback=r),lo(t,a),uo(t,i,n)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=bn(),n=co(t),i=oo(r,n);i.tag=2,e!=null&&(i.callback=e),lo(t,i),uo(t,n,r)}};function yF(t,e,r,n,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,a,s):e.prototype&&e.prototype.isPureReactComponent?!I0(r,n)||!I0(i,a):!0}function BK(t,e,r){var n=!1,i=Ro,a=e.contextType;return typeof a=="object"&&a!==null?a=Xn(a):(i=en(e)?Wl:yr.current,n=e.contextTypes,a=(n=n!=null)?df(t,i):Ro),e=new e(r,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=NE,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function xF(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&NE.enqueueReplaceState(e,e.state,null)}function UR(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=FK,hk(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Xn(a):(a=en(e)?Wl:yr.current,i.context=df(t,a)),k0(t,r,i,n),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(Xy(t,e,a,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&NE.enqueueReplaceState(i,i.state,null),k0(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var wm=Array.isArray;function zd(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(te(309));var n=r.stateNode}if(!n)throw Error(te(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(a){var s=n.refs;s===FK&&(s=n.refs={}),a===null?delete s[i]:s[i]=a},e._stringRef=i,e)}if(typeof t!="string")throw Error(te(284));if(!r._owner)throw Error(te(290,t))}return t}function Rm(t,e){if(t.type!=="textarea")throw Error(te(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function UK(t){function e(g,v){if(t){var y=g.lastEffect;y!==null?(y.nextEffect=v,g.lastEffect=v):g.firstEffect=g.lastEffect=v,v.nextEffect=null,v.flags=8}}function r(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function n(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=Io(g,v),g.index=0,g.sibling=null,g}function a(g,v,y){return g.index=y,t?(y=g.alternate,y!==null?(y=y.index,y<v?(g.flags=2,v):y):(g.flags=2,v)):v}function s(g){return t&&g.alternate===null&&(g.flags=2),g}function o(g,v,y,x){return v===null||v.tag!==6?(v=uT(y,g.mode,x),v.return=g,v):(v=i(v,y),v.return=g,v)}function c(g,v,y,x){return v!==null&&v.elementType===y.type?(x=i(v,y.props),x.ref=zd(g,v,y),x.return=g,x):(x=Hv(y.type,y.key,y.props,null,g.mode,x),x.ref=zd(g,v,y),x.return=g,x)}function l(g,v,y,x){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=fT(y,g.mode,x),v.return=g,v):(v=i(v,y.children||[]),v.return=g,v)}function u(g,v,y,x,E){return v===null||v.tag!==7?(v=Uu(y,g.mode,x,E),v.return=g,v):(v=i(v,y),v.return=g,v)}function f(g,v,y){if(typeof v=="string"||typeof v=="number")return v=uT(""+v,g.mode,y),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case yh:return y=Hv(v.type,v.key,v.props,null,g.mode,y),y.ref=zd(g,null,v),y.return=g,y;case Sl:return v=fT(v,g.mode,y),v.return=g,v}if(wm(v)||Fd(v))return v=Uu(v,g.mode,y,null),v.return=g,v;Rm(g,v)}return null}function d(g,v,y,x){var E=v!==null?v.key:null;if(typeof y=="string"||typeof y=="number")return E!==null?null:o(g,v,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case yh:return y.key===E?y.type===Gs?u(g,v,y.props.children,x,E):c(g,v,y,x):null;case Sl:return y.key===E?l(g,v,y,x):null}if(wm(y)||Fd(y))return E!==null?null:u(g,v,y,x,null);Rm(g,y)}return null}function h(g,v,y,x,E){if(typeof x=="string"||typeof x=="number")return g=g.get(y)||null,o(v,g,""+x,E);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case yh:return g=g.get(x.key===null?y:x.key)||null,x.type===Gs?u(v,g,x.props.children,E,x.key):c(v,g,x,E);case Sl:return g=g.get(x.key===null?y:x.key)||null,l(v,g,x,E)}if(wm(x)||Fd(x))return g=g.get(y)||null,u(v,g,x,E,null);Rm(v,x)}return null}function p(g,v,y,x){for(var E=null,S=null,b=v,T=v=0,R=null;b!==null&&T<y.length;T++){b.index>T?(R=b,b=null):R=b.sibling;var I=d(g,b,y[T],x);if(I===null){b===null&&(b=R);break}t&&b&&I.alternate===null&&e(g,b),v=a(I,v,T),S===null?E=I:S.sibling=I,S=I,b=R}if(T===y.length)return r(g,b),E;if(b===null){for(;T<y.length;T++)b=f(g,y[T],x),b!==null&&(v=a(b,v,T),S===null?E=b:S.sibling=b,S=b);return E}for(b=n(g,b);T<y.length;T++)R=h(b,g,T,y[T],x),R!==null&&(t&&R.alternate!==null&&b.delete(R.key===null?T:R.key),v=a(R,v,T),S===null?E=R:S.sibling=R,S=R);return t&&b.forEach(function(w){return e(g,w)}),E}function m(g,v,y,x){var E=Fd(y);if(typeof E!="function")throw Error(te(150));if(y=E.call(y),y==null)throw Error(te(151));for(var S=E=null,b=v,T=v=0,R=null,I=y.next();b!==null&&!I.done;T++,I=y.next()){b.index>T?(R=b,b=null):R=b.sibling;var w=d(g,b,I.value,x);if(w===null){b===null&&(b=R);break}t&&b&&w.alternate===null&&e(g,b),v=a(w,v,T),S===null?E=w:S.sibling=w,S=w,b=R}if(I.done)return r(g,b),E;if(b===null){for(;!I.done;T++,I=y.next())I=f(g,I.value,x),I!==null&&(v=a(I,v,T),S===null?E=I:S.sibling=I,S=I);return E}for(b=n(g,b);!I.done;T++,I=y.next())I=h(b,g,T,I.value,x),I!==null&&(t&&I.alternate!==null&&b.delete(I.key===null?T:I.key),v=a(I,v,T),S===null?E=I:S.sibling=I,S=I);return t&&b.forEach(function(C){return e(g,C)}),E}return function(g,v,y,x){var E=typeof y=="object"&&y!==null&&y.type===Gs&&y.key===null;E&&(y=y.props.children);var S=typeof y=="object"&&y!==null;if(S)switch(y.$$typeof){case yh:e:{for(S=y.key,E=v;E!==null;){if(E.key===S){switch(E.tag){case 7:if(y.type===Gs){r(g,E.sibling),v=i(E,y.props.children),v.return=g,g=v;break e}break;default:if(E.elementType===y.type){r(g,E.sibling),v=i(E,y.props),v.ref=zd(g,E,y),v.return=g,g=v;break e}}r(g,E);break}else e(g,E);E=E.sibling}y.type===Gs?(v=Uu(y.props.children,g.mode,x,y.key),v.return=g,g=v):(x=Hv(y.type,y.key,y.props,null,g.mode,x),x.ref=zd(g,v,y),x.return=g,g=x)}return s(g);case Sl:e:{for(E=y.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){r(g,v.sibling),v=i(v,y.children||[]),v.return=g,g=v;break e}else{r(g,v);break}else e(g,v);v=v.sibling}v=fT(y,g.mode,x),v.return=g,g=v}return s(g)}if(typeof y=="string"||typeof y=="number")return y=""+y,v!==null&&v.tag===6?(r(g,v.sibling),v=i(v,y),v.return=g,g=v):(r(g,v),v=uT(y,g.mode,x),v.return=g,g=v),s(g);if(wm(y))return p(g,v,y,x);if(Fd(y))return m(g,v,y,x);if(S&&Rm(g,y),typeof y>"u"&&!E)switch(g.tag){case 1:case 22:case 0:case 11:case 15:throw Error(te(152,ku(g.type)||"Component"))}return r(g,v)}}var Qy=UK(!0),jK=UK(!1),Jp={},sa=Go(Jp),O0=Go(Jp),L0=Go(Jp);function Rl(t){if(t===Jp)throw Error(te(174));return t}function jR(t,e){switch(bt(L0,e),bt(O0,t),bt(sa,Jp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wR(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wR(e,t)}it(sa),bt(sa,e)}function pf(){it(sa),it(O0),it(L0)}function EF(t){Rl(L0.current);var e=Rl(sa.current),r=wR(e,t.type);e!==r&&(bt(O0,t),bt(sa,r))}function pk(t){O0.current===t&&(it(sa),it(O0))}var _t=Go(0);function Zy(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&64)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Va=null,Qs=null,oa=!1;function HK(t,e){var r=Vn(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=e,r.return=t,r.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r}function _F(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function HR(t){if(oa){var e=Qs;if(e){var r=e;if(!_F(t,e)){if(e=Nu(r.nextSibling),!e||!_F(t,e)){t.flags=t.flags&-1025|2,oa=!1,Va=t;return}HK(Va,r)}Va=t,Qs=Nu(e.firstChild)}else t.flags=t.flags&-1025|2,oa=!1,Va=t}}function bF(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Va=t}function Am(t){if(t!==Va)return!1;if(!oa)return bF(t),oa=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!DR(e,t.memoizedProps))for(e=Qs;e;)HK(t,e),e=Nu(e.nextSibling);if(bF(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Qs=Nu(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Qs=null}}else Qs=Va?Nu(t.stateNode.nextSibling):null;return!0}function sT(){Qs=Va=null,oa=!1}var Mu=[];function gk(){for(var t=0;t<Mu.length;t++)Mu[t]._workInProgressVersionPrimary=null;Mu.length=0}var zh=dc.ReactCurrentDispatcher,qn=dc.ReactCurrentBatchConfig,P0=0,At=null,dr=null,Jt=null,Jy=!1,Vh=!1;function Dr(){throw Error(te(321))}function mk(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!zn(t[r],e[r]))return!1;return!0}function vk(t,e,r,n,i,a){if(P0=a,At=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zh.current=t===null||t.memoizedState===null?i4e:a4e,t=r(n,i),Vh){a=0;do{if(Vh=!1,!(25>a))throw Error(te(301));a+=1,Jt=dr=null,e.updateQueue=null,zh.current=s4e,t=r(n,i)}while(Vh)}if(zh.current=n1,e=dr!==null&&dr.next!==null,P0=0,Jt=dr=At=null,Jy=!1,e)throw Error(te(300));return t}function Al(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?At.memoizedState=Jt=t:Jt=Jt.next=t,Jt}function pc(){if(dr===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=dr.next;var e=Jt===null?At.memoizedState:Jt.next;if(e!==null)Jt=e,dr=t;else{if(t===null)throw Error(te(310));dr=t,t={memoizedState:dr.memoizedState,baseState:dr.baseState,baseQueue:dr.baseQueue,queue:dr.queue,next:null},Jt===null?At.memoizedState=Jt=t:Jt=Jt.next=t}return Jt}function na(t,e){return typeof e=="function"?e(t):e}function Vd(t){var e=pc(),r=e.queue;if(r===null)throw Error(te(311));r.lastRenderedReducer=t;var n=dr,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}n.baseQueue=i=a,r.pending=null}if(i!==null){i=i.next,n=n.baseState;var o=s=a=null,c=i;do{var l=c.lane;if((P0&l)===l)o!==null&&(o=o.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),n=c.eagerReducer===t?c.eagerState:t(n,c.action);else{var u={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};o===null?(s=o=u,a=n):o=o.next=u,At.lanes|=l,eg|=l}c=c.next}while(c!==null&&c!==i);o===null?a=n:o.next=s,zn(n,e.memoizedState)||(wi=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=o,r.lastRenderedState=n}return[e.memoizedState,r.dispatch]}function Wd(t){var e=pc(),r=e.queue;if(r===null)throw Error(te(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);zn(a,e.memoizedState)||(wi=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,n]}function SF(t,e,r){var n=e._getVersion;n=n(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===n:(t=t.mutableReadLanes,(t=(P0&t)===t)&&(e._workInProgressVersionPrimary=n,Mu.push(e))),t)return r(e._source);throw Mu.push(e),Error(te(350))}function GK(t,e,r,n){var i=Ir;if(i===null)throw Error(te(349));var a=e._getVersion,s=a(e._source),o=zh.current,c=o.useState(function(){return SF(i,e,r)}),l=c[1],u=c[0];c=Jt;var f=t.memoizedState,d=f.refs,h=d.getSnapshot,p=f.source;f=f.subscribe;var m=At;return t.memoizedState={refs:d,source:e,subscribe:n},o.useEffect(function(){d.getSnapshot=r,d.setSnapshot=l;var g=a(e._source);if(!zn(s,g)){g=r(e._source),zn(u,g)||(l(g),g=co(m),i.mutableReadLanes|=g&i.pendingLanes),g=i.mutableReadLanes,i.entangledLanes|=g;for(var v=i.entanglements,y=g;0<y;){var x=31-wo(y),E=1<<x;v[x]|=g,y&=~E}}},[r,e,n]),o.useEffect(function(){return n(e._source,function(){var g=d.getSnapshot,v=d.setSnapshot;try{v(g(e._source));var y=co(m);i.mutableReadLanes|=y&i.pendingLanes}catch(x){v(function(){throw x})}})},[e,n]),zn(h,r)&&zn(p,e)&&zn(f,n)||(t={pending:null,dispatch:null,lastRenderedReducer:na,lastRenderedState:u},t.dispatch=l=Ek.bind(null,At,t),c.queue=t,c.baseQueue=null,u=SF(i,e,r),c.memoizedState=c.baseState=u),u}function zK(t,e,r){var n=pc();return GK(n,t,e,r)}function Kd(t){var e=Al();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:na,lastRenderedState:t},t=t.dispatch=Ek.bind(null,At,t),[e.memoizedState,t]}function e1(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=At.updateQueue,e===null?(e={lastEffect:null},At.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function TF(t){var e=Al();return t={current:t},e.memoizedState=t}function t1(){return pc().memoizedState}function GR(t,e,r,n){var i=Al();At.flags|=t,i.memoizedState=e1(1|e,r,void 0,n===void 0?null:n)}function yk(t,e,r,n){var i=pc();n=n===void 0?null:n;var a=void 0;if(dr!==null){var s=dr.memoizedState;if(a=s.destroy,n!==null&&mk(n,s.deps)){e1(e,r,a,n);return}}At.flags|=t,i.memoizedState=e1(1|e,r,a,n)}function wF(t,e){return GR(516,4,t,e)}function r1(t,e){return yk(516,4,t,e)}function VK(t,e){return yk(4,2,t,e)}function WK(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function KK(t,e,r){return r=r!=null?r.concat([t]):null,yk(4,2,WK.bind(null,e,t),r)}function xk(){}function YK(t,e){var r=pc();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&mk(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function qK(t,e){var r=pc();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&mk(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function n4e(t,e){var r=hf();Kl(98>r?98:r,function(){t(!0)}),Kl(97<r?97:r,function(){var n=qn.transition;qn.transition=1;try{t(!1),e()}finally{qn.transition=n}})}function Ek(t,e,r){var n=bn(),i=co(t),a={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},s=e.pending;if(s===null?a.next=a:(a.next=s.next,s.next=a),e.pending=a,s=t.alternate,t===At||s!==null&&s===At)Vh=Jy=!0;else{if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,c=s(o,r);if(a.eagerReducer=s,a.eagerState=c,zn(c,o))return}catch{}finally{}uo(t,i,n)}}var n1={readContext:Xn,useCallback:Dr,useContext:Dr,useEffect:Dr,useImperativeHandle:Dr,useLayoutEffect:Dr,useMemo:Dr,useReducer:Dr,useRef:Dr,useState:Dr,useDebugValue:Dr,useDeferredValue:Dr,useTransition:Dr,useMutableSource:Dr,useOpaqueIdentifier:Dr,unstable_isNewReconciler:!1},i4e={readContext:Xn,useCallback:function(t,e){return Al().memoizedState=[t,e===void 0?null:e],t},useContext:Xn,useEffect:wF,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,GR(4,2,WK.bind(null,e,t),r)},useLayoutEffect:function(t,e){return GR(4,2,t,e)},useMemo:function(t,e){var r=Al();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Al();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t=n.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=Ek.bind(null,At,t),[n.memoizedState,t]},useRef:TF,useState:Kd,useDebugValue:xk,useDeferredValue:function(t){var e=Kd(t),r=e[0],n=e[1];return wF(function(){var i=qn.transition;qn.transition=1;try{n(t)}finally{qn.transition=i}},[t]),r},useTransition:function(){var t=Kd(!1),e=t[0];return t=n4e.bind(null,t[1]),TF(t),[t,e]},useMutableSource:function(t,e,r){var n=Al();return n.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:r},GK(n,t,e,r)},useOpaqueIdentifier:function(){if(oa){var t=!1,e=Q3e(function(){throw t||(t=!0,r("r:"+(nT++).toString(36))),Error(te(355))}),r=Kd(e)[1];return!(At.mode&2)&&(At.flags|=516,e1(5,function(){r("r:"+(nT++).toString(36))},void 0,null)),e}return e="r:"+(nT++).toString(36),Kd(e),e},unstable_isNewReconciler:!1},a4e={readContext:Xn,useCallback:YK,useContext:Xn,useEffect:r1,useImperativeHandle:KK,useLayoutEffect:VK,useMemo:qK,useReducer:Vd,useRef:t1,useState:function(){return Vd(na)},useDebugValue:xk,useDeferredValue:function(t){var e=Vd(na),r=e[0],n=e[1];return r1(function(){var i=qn.transition;qn.transition=1;try{n(t)}finally{qn.transition=i}},[t]),r},useTransition:function(){var t=Vd(na)[0];return[t1().current,t]},useMutableSource:zK,useOpaqueIdentifier:function(){return Vd(na)[0]},unstable_isNewReconciler:!1},s4e={readContext:Xn,useCallback:YK,useContext:Xn,useEffect:r1,useImperativeHandle:KK,useLayoutEffect:VK,useMemo:qK,useReducer:Wd,useRef:t1,useState:function(){return Wd(na)},useDebugValue:xk,useDeferredValue:function(t){var e=Wd(na),r=e[0],n=e[1];return r1(function(){var i=qn.transition;qn.transition=1;try{n(t)}finally{qn.transition=i}},[t]),r},useTransition:function(){var t=Wd(na)[0];return[t1().current,t]},useMutableSource:zK,useOpaqueIdentifier:function(){return Wd(na)[0]},unstable_isNewReconciler:!1},o4e=dc.ReactCurrentOwner,wi=!1;function Gr(t,e,r,n){e.child=t===null?jK(e,null,r,n):Qy(e,t.child,r,n)}function RF(t,e,r,n,i){r=r.render;var a=e.ref;return Du(e,i),n=vk(t,e,r,n,a,i),t!==null&&!wi?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,Wa(t,e,i)):(e.flags|=1,Gr(t,e,n,i),e.child)}function AF(t,e,r,n,i,a){if(t===null){var s=r.type;return typeof s=="function"&&!Rk(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,XK(t,e,s,n,i,a)):(t=Hv(r.type,null,n,e,e.mode,a),t.ref=e.ref,t.return=e,e.child=t)}return s=t.child,!(i&a)&&(i=s.memoizedProps,r=r.compare,r=r!==null?r:I0,r(i,n)&&t.ref===e.ref)?Wa(t,e,a):(e.flags|=1,t=Io(s,n),t.ref=e.ref,t.return=e,e.child=t)}function XK(t,e,r,n,i,a){if(t!==null&&I0(t.memoizedProps,n)&&t.ref===e.ref)if(wi=!1,(a&i)!==0)t.flags&16384&&(wi=!0);else return e.lanes=t.lanes,Wa(t,e,a);return zR(t,e,r,n,a)}function oT(t,e,r){var n=e.pendingProps,i=n.children,a=t!==null?t.memoizedState:null;if(n.mode==="hidden"||n.mode==="unstable-defer-without-hiding")if(!(e.mode&4))e.memoizedState={baseLanes:0},$m(e,r);else if(r&1073741824)e.memoizedState={baseLanes:0},$m(e,a!==null?a.baseLanes:r);else return t=a!==null?a.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},$m(e,t),null;else a!==null?(n=a.baseLanes|r,e.memoizedState=null):n=r,$m(e,n);return Gr(t,e,i,r),e.child}function QK(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=128)}function zR(t,e,r,n,i){var a=en(r)?Wl:yr.current;return a=df(e,a),Du(e,i),r=vk(t,e,r,n,a,i),t!==null&&!wi?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,Wa(t,e,i)):(e.flags|=1,Gr(t,e,r,i),e.child)}function IF(t,e,r,n,i){if(en(r)){var a=!0;Mv(e)}else a=!1;if(Du(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),BK(e,r,n),UR(e,r,n,i),n=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var c=s.context,l=r.contextType;typeof l=="object"&&l!==null?l=Xn(l):(l=en(r)?Wl:yr.current,l=df(e,l));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||c!==l)&&xF(e,s,n,l),Ms=!1;var d=e.memoizedState;s.state=d,k0(e,n,s,i),c=e.memoizedState,o!==n||d!==c||Jr.current||Ms?(typeof u=="function"&&(Xy(e,r,u,n),c=e.memoizedState),(o=Ms||yF(e,r,o,n,d,c,l))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4)):(typeof s.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=n,e.memoizedState=c),s.props=n,s.state=c,s.context=l,n=o):(typeof s.componentDidMount=="function"&&(e.flags|=4),n=!1)}else{s=e.stateNode,MK(t,e),o=e.memoizedProps,l=e.type===e.elementType?o:yi(e.type,o),s.props=l,f=e.pendingProps,d=s.context,c=r.contextType,typeof c=="object"&&c!==null?c=Xn(c):(c=en(r)?Wl:yr.current,c=df(e,c));var h=r.getDerivedStateFromProps;(u=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||d!==c)&&xF(e,s,n,c),Ms=!1,d=e.memoizedState,s.state=d,k0(e,n,s,i);var p=e.memoizedState;o!==f||d!==p||Jr.current||Ms?(typeof h=="function"&&(Xy(e,r,h,n),p=e.memoizedState),(l=Ms||yF(e,r,l,n,d,p,c))?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,p,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,p,c)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=256),e.memoizedProps=n,e.memoizedState=p),s.props=n,s.state=p,s.context=c,n=l):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=256),n=!1)}return VR(t,e,r,n,a,i)}function VR(t,e,r,n,i,a){QK(t,e);var s=(e.flags&64)!==0;if(!n&&!s)return i&&hF(e,r,!1),Wa(t,e,a);n=e.stateNode,o4e.current=e;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&s?(e.child=Qy(e,t.child,null,a),e.child=Qy(e,null,o,a)):Gr(t,e,o,a),e.memoizedState=n.state,i&&hF(e,r,!0),e.child}function $F(t){var e=t.stateNode;e.pendingContext?dF(t,e.pendingContext,e.pendingContext!==e.context):e.context&&dF(t,e.context,!1),jR(t,e.containerInfo)}var Im={dehydrated:null,retryLane:0};function CF(t,e,r){var n=e.pendingProps,i=_t.current,a=!1,s;return(s=(e.flags&64)!==0)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-65):t!==null&&t.memoizedState===null||n.fallback===void 0||n.unstable_avoidThisFallback===!0||(i|=1),bt(_t,i&1),t===null?(n.fallback!==void 0&&HR(e),t=n.children,i=n.fallback,a?(t=kF(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=Im,t):typeof n.unstable_expectedLoadTime=="number"?(t=kF(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=Im,e.lanes=33554432,t):(r=Ak({mode:"visible",children:t},e.mode,r,null),r.return=e,e.child=r)):t.memoizedState!==null?a?(n=LF(t,e,n.children,n.fallback,r),a=e.child,i=t.child.memoizedState,a.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},a.childLanes=t.childLanes&~r,e.memoizedState=Im,n):(r=OF(t,e,n.children,r),e.memoizedState=null,r):a?(n=LF(t,e,n.children,n.fallback,r),a=e.child,i=t.child.memoizedState,a.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},a.childLanes=t.childLanes&~r,e.memoizedState=Im,n):(r=OF(t,e,n.children,r),e.memoizedState=null,r)}function kF(t,e,r,n){var i=t.mode,a=t.child;return e={mode:"hidden",children:e},!(i&2)&&a!==null?(a.childLanes=0,a.pendingProps=e):a=Ak(e,i,0,null),r=Uu(r,i,n,null),a.return=t,r.return=t,a.sibling=r,t.child=a,r}function OF(t,e,r,n){var i=t.child;return t=i.sibling,r=Io(i,{mode:"visible",children:r}),!(e.mode&2)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=r}function LF(t,e,r,n,i){var a=e.mode,s=t.child;t=s.sibling;var o={mode:"hidden",children:r};return!(a&2)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=o,s=r.lastEffect,s!==null?(e.firstEffect=r.firstEffect,e.lastEffect=s,s.nextEffect=null):e.firstEffect=e.lastEffect=null):r=Io(s,o),t!==null?n=Io(t,n):(n=Uu(n,a,i,null),n.flags|=2),n.return=e,r.return=e,r.sibling=n,e.child=r,n}function PF(t,e){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),DK(t.return,e)}function lT(t,e,r,n,i,a){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:a}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i,s.lastEffect=a)}function NF(t,e,r){var n=e.pendingProps,i=n.revealOrder,a=n.tail;if(Gr(t,e,n.children,r),n=_t.current,n&2)n=n&1|2,e.flags|=64;else{if(t!==null&&t.flags&64)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&PF(t,r);else if(t.tag===19)PF(t,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(bt(_t,n),!(e.mode&2))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Zy(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),lT(e,!1,i,r,a,e.lastEffect);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Zy(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}lT(e,!0,r,null,a,e.lastEffect);break;case"together":lT(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Wa(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),eg|=e.lanes,r&e.childLanes){if(t!==null&&e.child!==t.child)throw Error(te(153));if(e.child!==null){for(t=e.child,r=Io(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Io(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}return null}var ZK,WR,JK,eY;ZK=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};WR=function(){};JK=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Rl(sa.current);var a=null;switch(r){case"input":i=xR(t,i),n=xR(t,n),a=[];break;case"option":i=bR(t,i),n=bR(t,n),a=[];break;case"select":i=ut({},i,{value:void 0}),n=ut({},n,{value:void 0}),a=[];break;case"textarea":i=SR(t,i),n=SR(t,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=zy)}RR(r,n);var s;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var o=i[l];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(_0.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in n){var c=n[l];if(o=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&c!==o&&(c!=null||o!=null))if(l==="style")if(o){for(s in o)!o.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&o[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(a||(a=[]),a.push(l,r)),r=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(_0.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&rt("scroll",t),a||o===c||(a=[])):typeof c=="object"&&c!==null&&c.$$typeof===KC?c.toString():(a=a||[]).push(l,c))}r&&(a=a||[]).push("style",r);var l=a;(e.updateQueue=l)&&(e.flags|=4)}};eY=function(t,e,r,n){r!==n&&(e.flags|=4)};function Yd(t,e){if(!oa)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function l4e(t,e,r){var n=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return en(e.type)&&Wy(),null;case 3:return pf(),it(Jr),it(yr),gk(),n=e.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Am(e)?e.flags|=4:n.hydrate||(e.flags|=256)),WR(e),null;case 5:pk(e);var i=Rl(L0.current);if(r=e.type,t!==null&&e.stateNode!=null)JK(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=128);else{if(!n){if(e.stateNode===null)throw Error(te(166));return null}if(t=Rl(sa.current),Am(e)){n=e.stateNode,r=e.type;var a=e.memoizedProps;switch(n[Xs]=e,n[Vy]=a,r){case"dialog":rt("cancel",n),rt("close",n);break;case"iframe":case"object":case"embed":rt("load",n);break;case"video":case"audio":for(t=0;t<Eh.length;t++)rt(Eh[t],n);break;case"source":rt("error",n);break;case"img":case"image":case"link":rt("error",n),rt("load",n);break;case"details":rt("toggle",n);break;case"input":NM(n,a),rt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},rt("invalid",n);break;case"textarea":MM(n,a),rt("invalid",n)}RR(r,a),t=null;for(var s in a)a.hasOwnProperty(s)&&(i=a[s],s==="children"?typeof i=="string"?n.textContent!==i&&(t=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(t=["children",""+i]):_0.hasOwnProperty(s)&&i!=null&&s==="onScroll"&&rt("scroll",n));switch(r){case"input":_m(n),DM(n,a,!0);break;case"textarea":_m(n),FM(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=zy)}n=t,e.updateQueue=n,n!==null&&(e.flags|=4)}else{switch(s=i.nodeType===9?i:i.ownerDocument,t===TR.html&&(t=KW(r)),t===TR.html?r==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=s.createElement(r,{is:n.is}):(t=s.createElement(r),r==="select"&&(s=t,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):t=s.createElementNS(t,r),t[Xs]=e,t[Vy]=n,ZK(t,e,!1,!1),e.stateNode=t,s=AR(r,n),r){case"dialog":rt("cancel",t),rt("close",t),i=n;break;case"iframe":case"object":case"embed":rt("load",t),i=n;break;case"video":case"audio":for(i=0;i<Eh.length;i++)rt(Eh[i],t);i=n;break;case"source":rt("error",t),i=n;break;case"img":case"image":case"link":rt("error",t),rt("load",t),i=n;break;case"details":rt("toggle",t),i=n;break;case"input":NM(t,n),i=xR(t,n),rt("invalid",t);break;case"option":i=bR(t,n);break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=ut({},n,{value:void 0}),rt("invalid",t);break;case"textarea":MM(t,n),i=SR(t,n),rt("invalid",t);break;default:i=n}RR(r,i);var o=i;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?XW(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&YW(t,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&b0(t,c):typeof c=="number"&&b0(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(_0.hasOwnProperty(a)?c!=null&&a==="onScroll"&&rt("scroll",t):c!=null&&jC(t,a,c,s))}switch(r){case"input":_m(t),DM(t,n,!1);break;case"textarea":_m(t),FM(t);break;case"option":n.value!=null&&t.setAttribute("value",""+To(n.value));break;case"select":t.multiple=!!n.multiple,a=n.value,a!=null?Ou(t,!!n.multiple,a,!1):n.defaultValue!=null&&Ou(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=zy)}AK(r,n)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)eY(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(te(166));r=Rl(L0.current),Rl(sa.current),Am(e)?(n=e.stateNode,r=e.memoizedProps,n[Xs]=e,n.nodeValue!==r&&(e.flags|=4)):(n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Xs]=e,e.stateNode=n)}return null;case 13:return it(_t),n=e.memoizedState,e.flags&64?(e.lanes=r,e):(n=n!==null,r=!1,t===null?e.memoizedProps.fallback!==void 0&&Am(e):r=t.memoizedState!==null,n&&!r&&e.mode&2&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||_t.current&1?er===0&&(er=3):((er===0||er===3)&&(er=4),Ir===null||!(eg&134217727)&&!(Zf&134217727)||Fu(Ir,mr))),(n||r)&&(e.flags|=4),null);case 4:return pf(),WR(e),t===null&&TK(e.stateNode.containerInfo),null;case 10:return dk(e),null;case 17:return en(e.type)&&Wy(),null;case 19:if(it(_t),n=e.memoizedState,n===null)return null;if(a=(e.flags&64)!==0,s=n.rendering,s===null)if(a)Yd(n,!1);else{if(er!==0||t!==null&&t.flags&64)for(t=e.child;t!==null;){if(s=Zy(t),s!==null){for(e.flags|=64,Yd(n,!1),a=s.updateQueue,a!==null&&(e.updateQueue=a,e.flags|=4),n.lastEffect===null&&(e.firstEffect=null),e.lastEffect=n.lastEffect,n=r,r=e.child;r!==null;)a=r,t=n,a.flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return bt(_t,_t.current&1|2),e.child}t=t.sibling}n.tail!==null&&pr()>ZR&&(e.flags|=64,a=!0,Yd(n,!1),e.lanes=33554432)}else{if(!a)if(t=Zy(s),t!==null){if(e.flags|=64,a=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Yd(n,!0),n.tail===null&&n.tailMode==="hidden"&&!s.alternate&&!oa)return e=e.lastEffect=n.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*pr()-n.renderingStartTime>ZR&&r!==1073741824&&(e.flags|=64,a=!0,Yd(n,!1),e.lanes=33554432);n.isBackwards?(s.sibling=e.child,e.child=s):(r=n.last,r!==null?r.sibling=s:e.child=s,n.last=s)}return n.tail!==null?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=e.lastEffect,n.renderingStartTime=pr(),r.sibling=null,e=_t.current,bt(_t,a?e&1|2:e&1),r):null;case 23:case 24:return wk(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&n.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(te(156,e.tag))}function c4e(t){switch(t.tag){case 1:en(t.type)&&Wy();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(pf(),it(Jr),it(yr),gk(),e=t.flags,e&64)throw Error(te(285));return t.flags=e&-4097|64,t;case 5:return pk(t),null;case 13:return it(_t),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return it(_t),null;case 4:return pf(),null;case 10:return dk(t),null;case 23:case 24:return wk(),null;default:return null}}function _k(t,e){try{var r="",n=e;do r+=GDe(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i}}function KR(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var u4e=typeof WeakMap=="function"?WeakMap:Map;function tY(t,e,r){r=oo(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){a1||(a1=!0,JR=n),KR(t,e)},r}function rY(t,e,r){r=oo(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return KR(t,e),n(i)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(ia===null?ia=new Set([this]):ia.add(this),KR(t,e));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),r}var f4e=typeof WeakSet=="function"?WeakSet:Set;function DF(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(r){fo(t,r)}else e.current=null}function d4e(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var r=t.memoizedProps,n=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?r:yi(e.type,r),n),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&lk(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(te(163))}function h4e(t,e,r){switch(r.tag){case 0:case 11:case 15:case 22:if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;n=i.next,i=i.tag,i&4&&i&1&&(fY(r,t),_4e(r,t)),t=n}while(t!==e)}return;case 1:t=r.stateNode,r.flags&4&&(e===null?t.componentDidMount():(n=r.elementType===r.type?e.memoizedProps:yi(r.type,e.memoizedProps),t.componentDidUpdate(n,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=r.updateQueue,e!==null&&vF(r,e,t);return;case 3:if(e=r.updateQueue,e!==null){if(t=null,r.child!==null)switch(r.child.tag){case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}vF(r,e,t)}return;case 5:t=r.stateNode,e===null&&r.flags&4&&AK(r.type,r.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&sK(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(te(163))}function MF(t,e){for(var r=t;;){if(r.tag===5){var n=r.stateNode;if(e)n=n.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,n.style.display=qW("display",i)}}else if(r.tag===6)r.stateNode.nodeValue=e?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function FF(t,e){if(Nl&&typeof Nl.onCommitFiberUnmount=="function")try{Nl.onCommitFiberUnmount(ck,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var r=t=t.next;do{var n=r,i=n.destroy;if(n=n.tag,i!==void 0)if(n&4)fY(e,r);else{n=e;try{i()}catch(a){fo(n,a)}}r=r.next}while(r!==t)}break;case 1:if(DF(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(a){fo(e,a)}break;case 5:DF(e);break;case 4:nY(t,e)}}function BF(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function UF(t){return t.tag===5||t.tag===3||t.tag===4}function jF(t){e:{for(var e=t.return;e!==null;){if(UF(e))break e;e=e.return}throw Error(te(160))}var r=e;switch(e=r.stateNode,r.tag){case 5:var n=!1;break;case 3:e=e.containerInfo,n=!0;break;case 4:e=e.containerInfo,n=!0;break;default:throw Error(te(161))}r.flags&16&&(b0(e,""),r.flags&=-17);e:t:for(r=t;;){for(;r.sibling===null;){if(r.return===null||UF(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}n?YR(t,r,e):qR(t,r,e)}function YR(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=zy));else if(n!==4&&(t=t.child,t!==null))for(YR(t,e,r),t=t.sibling;t!==null;)YR(t,e,r),t=t.sibling}function qR(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(qR(t,e,r),t=t.sibling;t!==null;)qR(t,e,r),t=t.sibling}function nY(t,e){for(var r=e,n=!1,i,a;;){if(!n){n=r.return;e:for(;;){if(n===null)throw Error(te(160));switch(i=n.stateNode,n.tag){case 5:a=!1;break e;case 3:i=i.containerInfo,a=!0;break e;case 4:i=i.containerInfo,a=!0;break e}n=n.return}n=!0}if(r.tag===5||r.tag===6){e:for(var s=t,o=r,c=o;;)if(FF(s,c),c.child!==null&&c.tag!==4)c.child.return=c,c=c.child;else{if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}a?(s=i,o=r.stateNode,s.nodeType===8?s.parentNode.removeChild(o):s.removeChild(o)):i.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){i=r.stateNode.containerInfo,a=!0,r.child.return=r,r=r.child;continue}}else if(FF(t,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return,r.tag===4&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function cT(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do(n.tag&3)===3&&(t=n.destroy,n.destroy=void 0,t!==void 0&&t()),n=n.next;while(n!==r)}return;case 1:return;case 5:if(r=e.stateNode,r!=null){n=e.memoizedProps;var i=t!==null?t.memoizedProps:n;t=e.type;var a=e.updateQueue;if(e.updateQueue=null,a!==null){for(r[Vy]=n,t==="input"&&n.type==="radio"&&n.name!=null&&VW(r,n),AR(t,i),e=AR(t,n),i=0;i<a.length;i+=2){var s=a[i],o=a[i+1];s==="style"?XW(r,o):s==="dangerouslySetInnerHTML"?YW(r,o):s==="children"?b0(r,o):jC(r,s,o,e)}switch(t){case"input":ER(r,n);break;case"textarea":WW(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,a=n.value,a!=null?Ou(r,!!n.multiple,a,!1):t!==!!n.multiple&&(n.defaultValue!=null?Ou(r,!!n.multiple,n.defaultValue,!0):Ou(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(te(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:r=e.stateNode,r.hydrate&&(r.hydrate=!1,sK(r.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(Tk=pr(),MF(e.child,!0)),HF(e);return;case 19:HF(e);return;case 17:return;case 23:case 24:MF(e,e.memoizedState!==null);return}throw Error(te(163))}function HF(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new f4e),e.forEach(function(n){var i=T4e.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function p4e(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var g4e=Math.ceil,i1=dc.ReactCurrentDispatcher,bk=dc.ReactCurrentOwner,_e=0,Ir=null,Lt=null,mr=0,Yl=0,XR=Go(0),er=0,DE=null,Qf=0,eg=0,Zf=0,Sk=0,QR=null,Tk=0,ZR=1/0;function Jf(){ZR=pr()+500}var ue=null,a1=!1,JR=null,ia=null,Ao=!1,Wh=null,_h=90,eA=[],tA=[],Qa=null,Kh=0,rA=null,Bv=-1,za=0,Uv=0,Yh=null,jv=!1;function bn(){return _e&48?pr():Bv!==-1?Bv:Bv=pr()}function co(t){if(t=t.mode,!(t&2))return 1;if(!(t&4))return hf()===99?1:2;if(za===0&&(za=Qf),r4e.transition!==0){Uv!==0&&(Uv=QR!==null?QR.pendingLanes:0),t=za;var e=4186112&~Uv;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=hf(),_e&4&&t===98?t=Hy(12,za):(t=a3e(t),t=Hy(t,za)),t}function uo(t,e,r){if(50<Kh)throw Kh=0,rA=null,Error(te(185));if(t=ME(t,e),t===null)return null;$E(t,e,r),t===Ir&&(Zf|=e,er===4&&Fu(t,mr));var n=hf();e===1?_e&8&&!(_e&48)?nA(t):(Qn(t,r),_e===0&&(Jf(),Sa())):(!(_e&4)||n!==98&&n!==99||(Qa===null?Qa=new Set([t]):Qa.add(t)),Qn(t,r)),QR=t}function ME(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}function Qn(t,e){for(var r=t.callbackNode,n=t.suspendedLanes,i=t.pingedLanes,a=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-wo(s),c=1<<o,l=a[o];if(l===-1){if(!(c&n)||c&i){l=e,nu(c);var u=Je;a[o]=10<=u?l+250:6<=u?l+5e3:-1}}else l<=e&&(t.expiredLanes|=c);s&=~c}if(n=R0(t,t===Ir?mr:0),e=Je,n===0)r!==null&&(r!==iT&&FR(r),t.callbackNode=null,t.callbackPriority=0);else{if(r!==null){if(t.callbackPriority===e)return;r!==iT&&FR(r)}e===15?(r=nA.bind(null,t),ja===null?(ja=[r],Fv=uk(PE,NK)):ja.push(r),r=iT):e===14?r=C0(99,nA.bind(null,t)):(r=s3e(e),r=C0(r,iY.bind(null,t))),t.callbackPriority=e,t.callbackNode=r}}function iY(t){if(Bv=-1,Uv=za=0,_e&48)throw Error(te(327));var e=t.callbackNode;if(zo()&&t.callbackNode!==e)return null;var r=R0(t,t===Ir?mr:0);if(r===0)return null;var n=r,i=_e;_e|=16;var a=lY();(Ir!==t||mr!==n)&&(Jf(),Bu(t,n));do try{y4e();break}catch(o){oY(t,o)}while(1);if(fk(),i1.current=a,_e=i,Lt!==null?n=0:(Ir=null,mr=0,n=er),Qf&Zf)Bu(t,0);else if(n!==0){if(n===2&&(_e|=64,t.hydrate&&(t.hydrate=!1,lk(t.containerInfo)),r=hK(t),r!==0&&(n=bh(t,r))),n===1)throw e=DE,Bu(t,0),Fu(t,r),Qn(t,pr()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=r,n){case 0:case 1:throw Error(te(345));case 2:dl(t);break;case 3:if(Fu(t,r),(r&62914560)===r&&(n=Tk+500-pr(),10<n)){if(R0(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){bn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=cF(dl.bind(null,t),n);break}dl(t);break;case 4:if(Fu(t,r),(r&4186112)===r)break;for(n=t.eventTimes,i=-1;0<r;){var s=31-wo(r);a=1<<s,s=n[s],s>i&&(i=s),r&=~a}if(r=i,r=pr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*g4e(r/1960))-r,10<r){t.timeoutHandle=cF(dl.bind(null,t),r);break}dl(t);break;case 5:dl(t);break;default:throw Error(te(329))}}return Qn(t,pr()),t.callbackNode===e?iY.bind(null,t):null}function Fu(t,e){for(e&=~Sk,e&=~Zf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-wo(e),n=1<<r;t[r]=-1,e&=~n}}function nA(t){if(_e&48)throw Error(te(327));if(zo(),t===Ir&&t.expiredLanes&mr){var e=mr,r=bh(t,e);Qf&Zf&&(e=R0(t,e),r=bh(t,e))}else e=R0(t,0),r=bh(t,e);if(t.tag!==0&&r===2&&(_e|=64,t.hydrate&&(t.hydrate=!1,lk(t.containerInfo)),e=hK(t),e!==0&&(r=bh(t,e))),r===1)throw r=DE,Bu(t,0),Fu(t,e),Qn(t,pr()),r;return t.finishedWork=t.current.alternate,t.finishedLanes=e,dl(t),Qn(t,pr()),null}function m4e(){if(Qa!==null){var t=Qa;Qa=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Qn(e,pr())})}Sa()}function aY(t,e){var r=_e;_e|=1;try{return t(e)}finally{_e=r,_e===0&&(Jf(),Sa())}}function sY(t,e){var r=_e;_e&=-2,_e|=8;try{return t(e)}finally{_e=r,_e===0&&(Jf(),Sa())}}function $m(t,e){bt(XR,Yl),Yl|=e,Qf|=e}function wk(){Yl=XR.current,it(XR)}function Bu(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,X3e(r)),Lt!==null)for(r=Lt.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&Wy();break;case 3:pf(),it(Jr),it(yr),gk();break;case 5:pk(n);break;case 4:pf();break;case 13:it(_t);break;case 19:it(_t);break;case 10:dk(n);break;case 23:case 24:wk()}r=r.return}Ir=t,Lt=Io(t.current,null),mr=Yl=Qf=e,er=0,DE=null,Sk=Zf=eg=0}function oY(t,e){do{var r=Lt;try{if(fk(),zh.current=n1,Jy){for(var n=At.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Jy=!1}if(P0=0,Jt=dr=At=null,Vh=!1,bk.current=null,r===null||r.return===null){er=1,DE=e,Lt=null;break}e:{var a=t,s=r.return,o=r,c=e;if(e=mr,o.flags|=2048,o.firstEffect=o.lastEffect=null,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c;if(!(o.mode&2)){var u=o.alternate;u?(o.updateQueue=u.updateQueue,o.memoizedState=u.memoizedState,o.lanes=u.lanes):(o.updateQueue=null,o.memoizedState=null)}var f=(_t.current&1)!==0,d=s;do{var h;if(h=d.tag===13){var p=d.memoizedState;if(p!==null)h=p.dehydrated!==null;else{var m=d.memoizedProps;h=m.fallback===void 0?!1:m.unstable_avoidThisFallback!==!0?!0:!f}}if(h){var g=d.updateQueue;if(g===null){var v=new Set;v.add(l),d.updateQueue=v}else g.add(l);if(!(d.mode&2)){if(d.flags|=64,o.flags|=16384,o.flags&=-2981,o.tag===1)if(o.alternate===null)o.tag=17;else{var y=oo(-1,1);y.tag=2,lo(o,y)}o.lanes|=1;break e}c=void 0,o=e;var x=a.pingCache;if(x===null?(x=a.pingCache=new u4e,c=new Set,x.set(l,c)):(c=x.get(l),c===void 0&&(c=new Set,x.set(l,c))),!c.has(o)){c.add(o);var E=S4e.bind(null,a,l,o);l.then(E,E)}d.flags|=4096,d.lanes=e;break e}d=d.return}while(d!==null);c=Error((ku(o.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}er!==5&&(er=2),c=_k(c,o),d=s;do{switch(d.tag){case 3:a=c,d.flags|=4096,e&=-e,d.lanes|=e;var S=tY(d,a,e);mF(d,S);break e;case 1:a=c;var b=d.type,T=d.stateNode;if(!(d.flags&64)&&(typeof b.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(ia===null||!ia.has(T)))){d.flags|=4096,e&=-e,d.lanes|=e;var R=rY(d,a,e);mF(d,R);break e}}d=d.return}while(d!==null)}uY(r)}catch(I){e=I,Lt===r&&r!==null&&(Lt=r=r.return);continue}break}while(1)}function lY(){var t=i1.current;return i1.current=n1,t===null?n1:t}function bh(t,e){var r=_e;_e|=16;var n=lY();Ir===t&&mr===e||Bu(t,e);do try{v4e();break}catch(i){oY(t,i)}while(1);if(fk(),_e=r,i1.current=n,Lt!==null)throw Error(te(261));return Ir=null,mr=0,er}function v4e(){for(;Lt!==null;)cY(Lt)}function y4e(){for(;Lt!==null&&!J3e();)cY(Lt)}function cY(t){var e=dY(t.alternate,t,Yl);t.memoizedProps=t.pendingProps,e===null?uY(t):Lt=e,bk.current=null}function uY(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&2048){if(r=c4e(e),r!==null){r.flags&=2047,Lt=r;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}else{if(r=l4e(r,e,Yl),r!==null){Lt=r;return}if(r=e,r.tag!==24&&r.tag!==23||r.memoizedState===null||Yl&1073741824||!(r.mode&4)){for(var n=0,i=r.child;i!==null;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}t!==null&&!(t.flags&2048)&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}if(e=e.sibling,e!==null){Lt=e;return}Lt=e=t}while(e!==null);er===0&&(er=5)}function dl(t){var e=hf();return Kl(99,x4e.bind(null,t,e)),null}function x4e(t,e){do zo();while(Wh!==null);if(_e&48)throw Error(te(327));var r=t.finishedWork;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(te(177));t.callbackNode=null;var n=r.lanes|r.childLanes,i=n,a=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var s=t.eventTimes,o=t.expirationTimes;0<a;){var c=31-wo(a),l=1<<c;i[c]=0,s[c]=-1,o[c]=-1,a&=~l}if(Qa!==null&&!(n&24)&&Qa.has(t)&&Qa.delete(t),t===Ir&&(Lt=Ir=null,mr=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,n!==null){if(i=_e,_e|=32,bk.current=null,tT=Pv,s=rF(),LR(s)){if("selectionStart"in s)o={start:s.selectionStart,end:s.selectionEnd};else e:if(o=(o=s.ownerDocument)&&o.defaultView||window,(l=o.getSelection&&o.getSelection())&&l.rangeCount!==0){o=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{o.nodeType,c.nodeType}catch{o=null;break e}var u=0,f=-1,d=-1,h=0,p=0,m=s,g=null;t:for(;;){for(var v;m!==o||a!==0&&m.nodeType!==3||(f=u+a),m!==c||l!==0&&m.nodeType!==3||(d=u+l),m.nodeType===3&&(u+=m.nodeValue.length),(v=m.firstChild)!==null;)g=m,m=v;for(;;){if(m===s)break t;if(g===o&&++h===a&&(f=u),g===c&&++p===l&&(d=u),(v=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=v}o=f===-1||d===-1?null:{start:f,end:d}}else o=null;o=o||{start:0,end:0}}else o=null;rT={focusedElem:s,selectionRange:o},Pv=!1,Yh=null,jv=!1,ue=n;do try{E4e()}catch(I){if(ue===null)throw Error(te(330));fo(ue,I),ue=ue.nextEffect}while(ue!==null);Yh=null,ue=n;do try{for(s=t;ue!==null;){var y=ue.flags;if(y&16&&b0(ue.stateNode,""),y&128){var x=ue.alternate;if(x!==null){var E=x.ref;E!==null&&(typeof E=="function"?E(null):E.current=null)}}switch(y&1038){case 2:jF(ue),ue.flags&=-3;break;case 6:jF(ue),ue.flags&=-3,cT(ue.alternate,ue);break;case 1024:ue.flags&=-1025;break;case 1028:ue.flags&=-1025,cT(ue.alternate,ue);break;case 4:cT(ue.alternate,ue);break;case 8:o=ue,nY(s,o);var S=o.alternate;BF(o),S!==null&&BF(S)}ue=ue.nextEffect}}catch(I){if(ue===null)throw Error(te(330));fo(ue,I),ue=ue.nextEffect}while(ue!==null);if(E=rT,x=rF(),y=E.focusedElem,s=E.selectionRange,x!==y&&y&&y.ownerDocument&&_K(y.ownerDocument.documentElement,y)){for(s!==null&&LR(y)&&(x=s.start,E=s.end,E===void 0&&(E=x),"selectionStart"in y?(y.selectionStart=x,y.selectionEnd=Math.min(E,y.value.length)):(E=(x=y.ownerDocument||document)&&x.defaultView||window,E.getSelection&&(E=E.getSelection(),o=y.textContent.length,S=Math.min(s.start,o),s=s.end===void 0?S:Math.min(s.end,o),!E.extend&&S>s&&(o=s,s=S,S=o),o=tF(y,S),a=tF(y,s),o&&a&&(E.rangeCount!==1||E.anchorNode!==o.node||E.anchorOffset!==o.offset||E.focusNode!==a.node||E.focusOffset!==a.offset)&&(x=x.createRange(),x.setStart(o.node,o.offset),E.removeAllRanges(),S>s?(E.addRange(x),E.extend(a.node,a.offset)):(x.setEnd(a.node,a.offset),E.addRange(x)))))),x=[],E=y;E=E.parentNode;)E.nodeType===1&&x.push({element:E,left:E.scrollLeft,top:E.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<x.length;y++)E=x[y],E.element.scrollLeft=E.left,E.element.scrollTop=E.top}Pv=!!tT,rT=tT=null,t.current=r,ue=n;do try{for(y=t;ue!==null;){var b=ue.flags;if(b&36&&h4e(y,ue.alternate,ue),b&128){x=void 0;var T=ue.ref;if(T!==null){var R=ue.stateNode;switch(ue.tag){case 5:x=R;break;default:x=R}typeof T=="function"?T(x):T.current=x}}ue=ue.nextEffect}}catch(I){if(ue===null)throw Error(te(330));fo(ue,I),ue=ue.nextEffect}while(ue!==null);ue=null,t4e(),_e=i}else t.current=r;if(Ao)Ao=!1,Wh=t,_h=e;else for(ue=n;ue!==null;)e=ue.nextEffect,ue.nextEffect=null,ue.flags&8&&(b=ue,b.sibling=null,b.stateNode=null),ue=e;if(n=t.pendingLanes,n===0&&(ia=null),n===1?t===rA?Kh++:(Kh=0,rA=t):Kh=0,r=r.stateNode,Nl&&typeof Nl.onCommitFiberRoot=="function")try{Nl.onCommitFiberRoot(ck,r,void 0,(r.current.flags&64)===64)}catch{}if(Qn(t,pr()),a1)throw a1=!1,t=JR,JR=null,t;return _e&8||Sa(),null}function E4e(){for(;ue!==null;){var t=ue.alternate;jv||Yh===null||(ue.flags&8?jM(ue,Yh)&&(jv=!0):ue.tag===13&&p4e(t,ue)&&jM(ue,Yh)&&(jv=!0));var e=ue.flags;e&256&&d4e(t,ue),!(e&512)||Ao||(Ao=!0,C0(97,function(){return zo(),null})),ue=ue.nextEffect}}function zo(){if(_h!==90){var t=97<_h?97:_h;return _h=90,Kl(t,b4e)}return!1}function _4e(t,e){eA.push(e,t),Ao||(Ao=!0,C0(97,function(){return zo(),null}))}function fY(t,e){tA.push(e,t),Ao||(Ao=!0,C0(97,function(){return zo(),null}))}function b4e(){if(Wh===null)return!1;var t=Wh;if(Wh=null,_e&48)throw Error(te(331));var e=_e;_e|=32;var r=tA;tA=[];for(var n=0;n<r.length;n+=2){var i=r[n],a=r[n+1],s=i.destroy;if(i.destroy=void 0,typeof s=="function")try{s()}catch(c){if(a===null)throw Error(te(330));fo(a,c)}}for(r=eA,eA=[],n=0;n<r.length;n+=2){i=r[n],a=r[n+1];try{var o=i.create;i.destroy=o()}catch(c){if(a===null)throw Error(te(330));fo(a,c)}}for(o=t.current.firstEffect;o!==null;)t=o.nextEffect,o.nextEffect=null,o.flags&8&&(o.sibling=null,o.stateNode=null),o=t;return _e=e,Sa(),!0}function GF(t,e,r){e=_k(r,e),e=tY(t,e,1),lo(t,e),e=bn(),t=ME(t,1),t!==null&&($E(t,1,e),Qn(t,e))}function fo(t,e){if(t.tag===3)GF(t,t,e);else for(var r=t.return;r!==null;){if(r.tag===3){GF(r,t,e);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ia===null||!ia.has(n))){t=_k(e,t);var i=rY(r,t,1);if(lo(r,i),i=bn(),r=ME(r,1),r!==null)$E(r,1,i),Qn(r,i);else if(typeof n.componentDidCatch=="function"&&(ia===null||!ia.has(n)))try{n.componentDidCatch(e,t)}catch{}break}}r=r.return}}function S4e(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=bn(),t.pingedLanes|=t.suspendedLanes&r,Ir===t&&(mr&r)===r&&(er===4||er===3&&(mr&62914560)===mr&&500>pr()-Tk?Bu(t,0):Sk|=r),Qn(t,e)}function T4e(t,e){var r=t.stateNode;r!==null&&r.delete(e),e=0,e===0&&(e=t.mode,e&2?e&4?(za===0&&(za=Qf),e=iu(62914560&~za),e===0&&(e=4194304)):e=hf()===99?1:2:e=1),r=bn(),t=ME(t,e),t!==null&&($E(t,e,r),Qn(t,r))}var dY;dY=function(t,e,r){var n=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||Jr.current)wi=!0;else if(r&n)wi=!!(t.flags&16384);else{switch(wi=!1,e.tag){case 3:$F(e),sT();break;case 5:EF(e);break;case 1:en(e.type)&&Mv(e);break;case 4:jR(e,e.stateNode.containerInfo);break;case 10:n=e.memoizedProps.value;var i=e.type._context;bt(Ky,i._currentValue),i._currentValue=n;break;case 13:if(e.memoizedState!==null)return r&e.child.childLanes?CF(t,e,r):(bt(_t,_t.current&1),e=Wa(t,e,r),e!==null?e.sibling:null);bt(_t,_t.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&64){if(n)return NF(t,e,r);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),bt(_t,_t.current),n)break;return null;case 23:case 24:return e.lanes=0,oT(t,e,r)}return Wa(t,e,r)}else wi=!1;switch(e.lanes=0,e.tag){case 2:if(n=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=df(e,yr.current),Du(e,r),i=vk(null,e,n,t,i,r),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,en(n)){var a=!0;Mv(e)}else a=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,hk(e);var s=n.getDerivedStateFromProps;typeof s=="function"&&Xy(e,n,s,t),i.updater=NE,e.stateNode=i,i._reactInternals=e,UR(e,n,t,r),e=VR(null,e,n,!0,a,r)}else e.tag=0,Gr(null,e,i,r),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,a=i._init,i=a(i._payload),e.type=i,a=e.tag=R4e(i),t=yi(i,t),a){case 0:e=zR(null,e,i,t,r);break e;case 1:e=IF(null,e,i,t,r);break e;case 11:e=RF(null,e,i,t,r);break e;case 14:e=AF(null,e,i,yi(i.type,t),n,r);break e}throw Error(te(306,i,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:yi(n,i),zR(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:yi(n,i),IF(t,e,n,i,r);case 3:if($F(e),n=e.updateQueue,t===null||n===null)throw Error(te(282));if(n=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,MK(t,e),k0(e,n,null,r),n=e.memoizedState.element,n===i)sT(),e=Wa(t,e,r);else{if(i=e.stateNode,(a=i.hydrate)&&(Qs=Nu(e.stateNode.containerInfo.firstChild),Va=e,a=oa=!0),a){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)a=t[i],a._workInProgressVersionPrimary=t[i+1],Mu.push(a);for(r=jK(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else Gr(t,e,n,r),sT();e=e.child}return e;case 5:return EF(e),t===null&&HR(e),n=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,s=i.children,DR(n,i)?s=null:a!==null&&DR(n,a)&&(e.flags|=16),QK(t,e),Gr(t,e,s,r),e.child;case 6:return t===null&&HR(e),null;case 13:return CF(t,e,r);case 4:return jR(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Qy(e,null,n,r):Gr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:yi(n,i),RF(t,e,n,i,r);case 7:return Gr(t,e,e.pendingProps,r),e.child;case 8:return Gr(t,e,e.pendingProps.children,r),e.child;case 12:return Gr(t,e,e.pendingProps.children,r),e.child;case 10:e:{n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value;var o=e.type._context;if(bt(Ky,o._currentValue),o._currentValue=a,s!==null)if(o=s.value,a=zn(o,a)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(o,a):1073741823)|0,a===0){if(s.children===i.children&&!Jr.current){e=Wa(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){s=o.child;for(var l=c.firstContext;l!==null;){if(l.context===n&&l.observedBits&a){o.tag===1&&(l=oo(-1,r&-r),l.tag=2,lo(o,l)),o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),DK(o.return,r),c.lanes|=r;break}l=l.next}}else s=o.tag===10&&o.type===e.type?null:o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Gr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,a=e.pendingProps,n=a.children,Du(e,r),i=Xn(i,a.unstable_observedBits),n=n(i),e.flags|=1,Gr(t,e,n,r),e.child;case 14:return i=e.type,a=yi(i,e.pendingProps),a=yi(i.type,a),AF(t,e,i,a,n,r);case 15:return XK(t,e,e.type,e.pendingProps,n,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:yi(n,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,en(n)?(t=!0,Mv(e)):t=!1,Du(e,r),BK(e,n,i),UR(e,n,i,r),VR(null,e,n,!0,t,r);case 19:return NF(t,e,r);case 23:return oT(t,e,r);case 24:return oT(t,e,r)}throw Error(te(156,e.tag))};function w4e(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(t,e,r,n){return new w4e(t,e,r,n)}function Rk(t){return t=t.prototype,!(!t||!t.isReactComponent)}function R4e(t){if(typeof t=="function")return Rk(t)?1:0;if(t!=null){if(t=t.$$typeof,t===RE)return 11;if(t===AE)return 14}return 2}function Io(t,e){var r=t.alternate;return r===null?(r=Vn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Hv(t,e,r,n,i,a){var s=2;if(n=t,typeof t=="function")Rk(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Gs:return Uu(r.children,i,a,e);case HW:s=8,i|=16;break;case HC:s=8,i|=1;break;case Mh:return t=Vn(12,r,e,i|8),t.elementType=Mh,t.type=Mh,t.lanes=a,t;case Fh:return t=Vn(13,r,e,i),t.type=Fh,t.elementType=Fh,t.lanes=a,t;case Fy:return t=Vn(19,r,e,i),t.elementType=Fy,t.lanes=a,t;case YC:return Ak(r,i,a,e);case yR:return t=Vn(24,r,e,i),t.elementType=yR,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case GC:s=10;break e;case zC:s=9;break e;case RE:s=11;break e;case AE:s=14;break e;case VC:s=16,n=null;break e;case WC:s=22;break e}throw Error(te(130,t==null?t:typeof t,""))}return e=Vn(s,r,e,i),e.elementType=t,e.type=n,e.lanes=a,e}function Uu(t,e,r,n){return t=Vn(7,t,n,e),t.lanes=r,t}function Ak(t,e,r,n){return t=Vn(23,t,n,e),t.elementType=YC,t.lanes=r,t}function uT(t,e,r){return t=Vn(6,t,null,e),t.lanes=r,t}function fT(t,e,r){return e=Vn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function A4e(t,e,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=YS(0),this.expirationTimes=YS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=YS(0),this.mutableSourceEagerHydrationData=null}function I4e(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sl,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function s1(t,e,r,n){var i=e.current,a=bn(),s=co(i);e:if(r){r=r._reactInternals;t:{if(hc(r)!==r||r.tag!==1)throw Error(te(170));var o=r;do{switch(o.tag){case 3:o=o.stateNode.context;break t;case 1:if(en(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break t}}o=o.return}while(o!==null);throw Error(te(171))}if(r.tag===1){var c=r.type;if(en(c)){r=$K(r,c,o);break e}}r=o}else r=Ro;return e.context===null?e.context=r:e.pendingContext=r,e=oo(a,s),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),lo(i,e),uo(i,s,a),s}function dT(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function zF(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Ik(t,e){zF(t,e),(t=t.alternate)&&zF(t,e)}function $4e(){return null}function $k(t,e,r){var n=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new A4e(t,e,r!=null&&r.hydrate===!0),e=Vn(3,null,null,e===2?7:e===1?3:0),r.current=e,e.stateNode=r,hk(e),t[Xf]=r.current,TK(t.nodeType===8?t.parentNode:t),n)for(t=0;t<n.length;t++){e=n[t];var i=e._getVersion;i=i(e._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[e,i]:r.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=r}$k.prototype.render=function(t){s1(t,this._internalRoot,null,null)};$k.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;s1(null,t,null,function(){e[Xf]=null})};function tg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function C4e(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var r;r=t.lastChild;)t.removeChild(r);return new $k(t,0,e?{hydrate:!0}:void 0)}function FE(t,e,r,n,i){var a=r._reactRootContainer;if(a){var s=a._internalRoot;if(typeof i=="function"){var o=i;i=function(){var l=dT(s);o.call(l)}}s1(e,s,t,i)}else{if(a=r._reactRootContainer=C4e(r,n),s=a._internalRoot,typeof i=="function"){var c=i;i=function(){var l=dT(s);c.call(l)}}sY(function(){s1(e,s,t,i)})}return dT(s)}nK=function(t){if(t.tag===13){var e=bn();uo(t,4,e),Ik(t,4)}};JC=function(t){if(t.tag===13){var e=bn();uo(t,67108864,e),Ik(t,67108864)}};iK=function(t){if(t.tag===13){var e=bn(),r=co(t);uo(t,r,e),Ik(t,r)}};aK=function(t,e){return e()};IR=function(t,e,r){switch(e){case"input":if(ER(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=LE(n);if(!i)throw Error(te(90));zW(n),ER(n,i)}}}break;case"textarea":WW(t,r);break;case"select":e=r.value,e!=null&&Ou(t,!!r.multiple,e,!1)}};XC=aY;JW=function(t,e,r,n,i){var a=_e;_e|=4;try{return Kl(98,t.bind(null,e,r,n,i))}finally{_e=a,_e===0&&(Jf(),Sa())}};QC=function(){!(_e&49)&&(m4e(),zo())};eK=function(t,e){var r=_e;_e|=2;try{return t(e)}finally{_e=r,_e===0&&(Jf(),Sa())}};function hY(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tg(e))throw Error(te(200));return I4e(t,e,null,r)}var k4e={Events:[Zp,mu,LE,QW,ZW,zo,{current:!1}]},qd={findFiberByHostInstance:wl,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},O4e={bundleType:qd.bundleType,version:qd.version,rendererPackageName:qd.rendererPackageName,rendererConfig:qd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:dc.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=rK(t),t===null?null:t.stateNode},findFiberByHostInstance:qd.findFiberByHostInstance||$4e,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cm.isDisabled&&Cm.supportsFiber)try{ck=Cm.inject(O4e),Nl=Cm}catch{}}oi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k4e;oi.createPortal=hY;oi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(te(188)):Error(te(268,Object.keys(t)));return t=rK(e),t=t===null?null:t.stateNode,t};oi.flushSync=function(t,e){var r=_e;if(r&48)return t(e);_e|=1;try{if(t)return Kl(99,t.bind(null,e))}finally{_e=r,Sa()}};oi.hydrate=function(t,e,r){if(!tg(e))throw Error(te(200));return FE(null,t,e,!0,r)};oi.render=function(t,e,r){if(!tg(e))throw Error(te(200));return FE(null,t,e,!1,r)};oi.unmountComponentAtNode=function(t){if(!tg(t))throw Error(te(40));return t._reactRootContainer?(sY(function(){FE(null,null,t,!1,function(){t._reactRootContainer=null,t[Xf]=null})}),!0):!1};oi.unstable_batchedUpdates=aY;oi.unstable_createPortal=function(t,e){return hY(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};oi.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!tg(r))throw Error(te(200));if(t==null||t._reactInternals===void 0)throw Error(te(38));return FE(t,e,r,!1,n)};oi.version="17.0.2";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}e(),t.exports=oi})(MDe);const L4e=$x(Vl);function o1(t,e){return o1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},o1(t,e)}function da(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,o1(t,e)}var xe={},P4e={get exports(){return xe},set exports(t){xe=t}},N4e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",D4e=N4e,M4e=D4e;function pY(){}function gY(){}gY.resetWarningCache=pY;var F4e=function(){function t(n,i,a,s,o,c){if(c!==M4e){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:gY,resetWarningCache:pY};return r.PropTypes=r,r};P4e.exports=F4e();function nr(){return nr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nr.apply(this,arguments)}function km(t){return t.charAt(0)==="/"}function hT(t,e){for(var r=e,n=r+1,i=t.length;n<i;r+=1,n+=1)t[r]=t[n];t.pop()}function B4e(t,e){e===void 0&&(e="");var r=t&&t.split("/")||[],n=e&&e.split("/")||[],i=t&&km(t),a=e&&km(e),s=i||a;if(t&&km(t)?n=r:r.length&&(n.pop(),n=n.concat(r)),!n.length)return"/";var o;if(n.length){var c=n[n.length-1];o=c==="."||c===".."||c===""}else o=!1;for(var l=0,u=n.length;u>=0;u--){var f=n[u];f==="."?hT(n,u):f===".."?(hT(n,u),l++):l&&(hT(n,u),l--)}if(!s)for(;l--;l)n.unshift("..");s&&n[0]!==""&&(!n[0]||!km(n[0]))&&n.unshift("");var d=n.join("/");return o&&d.substr(-1)!=="/"&&(d+="/"),d}function VF(t){return t.valueOf?t.valueOf():Object.prototype.valueOf.call(t)}function Gv(t,e){if(t===e)return!0;if(t==null||e==null)return!1;if(Array.isArray(t))return Array.isArray(e)&&t.length===e.length&&t.every(function(i,a){return Gv(i,e[a])});if(typeof t=="object"||typeof e=="object"){var r=VF(t),n=VF(e);return r!==t||n!==e?Gv(r,n):Object.keys(Object.assign({},t,e)).every(function(i){return Gv(t[i],e[i])})}return!1}var U4e=!0,pT="Invariant failed";function Vo(t,e){if(!t){if(U4e)throw new Error(pT);var r=typeof e=="function"?e():e,n=r?"".concat(pT,": ").concat(r):pT;throw new Error(n)}}function qh(t){return t.charAt(0)==="/"?t:"/"+t}function WF(t){return t.charAt(0)==="/"?t.substr(1):t}function j4e(t,e){return t.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(t.charAt(e.length))!==-1}function mY(t,e){return j4e(t,e)?t.substr(e.length):t}function vY(t){return t.charAt(t.length-1)==="/"?t.slice(0,-1):t}function H4e(t){var e=t||"/",r="",n="",i=e.indexOf("#");i!==-1&&(n=e.substr(i),e=e.substr(0,i));var a=e.indexOf("?");return a!==-1&&(r=e.substr(a),e=e.substr(0,a)),{pathname:e,search:r==="?"?"":r,hash:n==="#"?"":n}}function zr(t){var e=t.pathname,r=t.search,n=t.hash,i=e||"/";return r&&r!=="?"&&(i+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function wr(t,e,r,n){var i;typeof t=="string"?(i=H4e(t),i.state=e):(i=nr({},t),i.pathname===void 0&&(i.pathname=""),i.search?i.search.charAt(0)!=="?"&&(i.search="?"+i.search):i.search="",i.hash?i.hash.charAt(0)!=="#"&&(i.hash="#"+i.hash):i.hash="",e!==void 0&&i.state===void 0&&(i.state=e));try{i.pathname=decodeURI(i.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return r&&(i.key=r),n?i.pathname?i.pathname.charAt(0)!=="/"&&(i.pathname=B4e(i.pathname,n.pathname)):i.pathname=n.pathname:i.pathname||(i.pathname="/"),i}function G4e(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&Gv(t.state,e.state)}function Ck(){var t=null;function e(s){return t=s,function(){t===s&&(t=null)}}function r(s,o,c,l){if(t!=null){var u=typeof t=="function"?t(s,o):t;typeof u=="string"?typeof c=="function"?c(u,l):l(!0):l(u!==!1)}else l(!0)}var n=[];function i(s){var o=!0;function c(){o&&s.apply(void 0,arguments)}return n.push(c),function(){o=!1,n=n.filter(function(l){return l!==c})}}function a(){for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];n.forEach(function(l){return l.apply(void 0,o)})}return{setPrompt:e,confirmTransitionTo:r,appendListener:i,notifyListeners:a}}var yY=!!(typeof window<"u"&&window.document&&window.document.createElement);function xY(t,e){e(window.confirm(t))}function z4e(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")!==-1||t.indexOf("Android 4.0")!==-1)&&t.indexOf("Mobile Safari")!==-1&&t.indexOf("Chrome")===-1&&t.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function V4e(){return window.navigator.userAgent.indexOf("Trident")===-1}function W4e(){return window.navigator.userAgent.indexOf("Firefox")===-1}function K4e(t){return t.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}var KF="popstate",YF="hashchange";function qF(){try{return window.history.state||{}}catch{return{}}}function Y4e(t){t===void 0&&(t={}),yY||Vo(!1);var e=window.history,r=z4e(),n=!V4e(),i=t,a=i.forceRefresh,s=a===void 0?!1:a,o=i.getUserConfirmation,c=o===void 0?xY:o,l=i.keyLength,u=l===void 0?6:l,f=t.basename?vY(qh(t.basename)):"";function d(U){var W=U||{},k=W.key,O=W.state,F=window.location,D=F.pathname,Q=F.search,ee=F.hash,fe=D+Q+ee;return f&&(fe=mY(fe,f)),wr(fe,O,k)}function h(){return Math.random().toString(36).substr(2,u)}var p=Ck();function m(U){nr(M,U),M.length=e.length,p.notifyListeners(M.location,M.action)}function g(U){K4e(U)||x(d(U.state))}function v(){x(d(qF()))}var y=!1;function x(U){if(y)y=!1,m();else{var W="POP";p.confirmTransitionTo(U,W,c,function(k){k?m({action:W,location:U}):E(U)})}}function E(U){var W=M.location,k=b.indexOf(W.key);k===-1&&(k=0);var O=b.indexOf(U.key);O===-1&&(O=0);var F=k-O;F&&(y=!0,w(F))}var S=d(qF()),b=[S.key];function T(U){return f+zr(U)}function R(U,W){var k="PUSH",O=wr(U,W,h(),M.location);p.confirmTransitionTo(O,k,c,function(F){if(F){var D=T(O),Q=O.key,ee=O.state;if(r)if(e.pushState({key:Q,state:ee},null,D),s)window.location.href=D;else{var fe=b.indexOf(M.location.key),se=b.slice(0,fe+1);se.push(O.key),b=se,m({action:k,location:O})}else window.location.href=D}})}function I(U,W){var k="REPLACE",O=wr(U,W,h(),M.location);p.confirmTransitionTo(O,k,c,function(F){if(F){var D=T(O),Q=O.key,ee=O.state;if(r)if(e.replaceState({key:Q,state:ee},null,D),s)window.location.replace(D);else{var fe=b.indexOf(M.location.key);fe!==-1&&(b[fe]=O.key),m({action:k,location:O})}else window.location.replace(D)}})}function w(U){e.go(U)}function C(){w(-1)}function L(){w(1)}var H=0;function N(U){H+=U,H===1&&U===1?(window.addEventListener(KF,g),n&&window.addEventListener(YF,v)):H===0&&(window.removeEventListener(KF,g),n&&window.removeEventListener(YF,v))}var P=!1;function B(U){U===void 0&&(U=!1);var W=p.setPrompt(U);return P||(N(1),P=!0),function(){return P&&(P=!1,N(-1)),W()}}function V(U){var W=p.appendListener(U);return N(1),function(){N(-1),W()}}var M={length:e.length,action:"POP",location:S,createHref:T,push:R,replace:I,go:w,goBack:C,goForward:L,block:B,listen:V};return M}var XF="hashchange",q4e={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+WF(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:WF,decodePath:qh},slash:{encodePath:qh,decodePath:qh}};function EY(t){var e=t.indexOf("#");return e===-1?t:t.slice(0,e)}function Xd(){var t=window.location.href,e=t.indexOf("#");return e===-1?"":t.substring(e+1)}function X4e(t){window.location.hash=t}function gT(t){window.location.replace(EY(window.location.href)+"#"+t)}function Q4e(t){t===void 0&&(t={}),yY||Vo(!1);var e=window.history;W4e();var r=t,n=r.getUserConfirmation,i=n===void 0?xY:n,a=r.hashType,s=a===void 0?"slash":a,o=t.basename?vY(qh(t.basename)):"",c=q4e[s],l=c.encodePath,u=c.decodePath;function f(){var W=u(Xd());return o&&(W=mY(W,o)),wr(W)}var d=Ck();function h(W){nr(U,W),U.length=e.length,d.notifyListeners(U.location,U.action)}var p=!1,m=null;function g(W,k){return W.pathname===k.pathname&&W.search===k.search&&W.hash===k.hash}function v(){var W=Xd(),k=l(W);if(W!==k)gT(k);else{var O=f(),F=U.location;if(!p&&g(F,O)||m===zr(O))return;m=null,y(O)}}function y(W){if(p)p=!1,h();else{var k="POP";d.confirmTransitionTo(W,k,i,function(O){O?h({action:k,location:W}):x(W)})}}function x(W){var k=U.location,O=T.lastIndexOf(zr(k));O===-1&&(O=0);var F=T.lastIndexOf(zr(W));F===-1&&(F=0);var D=O-F;D&&(p=!0,C(D))}var E=Xd(),S=l(E);E!==S&&gT(S);var b=f(),T=[zr(b)];function R(W){var k=document.querySelector("base"),O="";return k&&k.getAttribute("href")&&(O=EY(window.location.href)),O+"#"+l(o+zr(W))}function I(W,k){var O="PUSH",F=wr(W,void 0,void 0,U.location);d.confirmTransitionTo(F,O,i,function(D){if(D){var Q=zr(F),ee=l(o+Q),fe=Xd()!==ee;if(fe){m=Q,X4e(ee);var se=T.lastIndexOf(zr(U.location)),tt=T.slice(0,se+1);tt.push(Q),T=tt,h({action:O,location:F})}else h()}})}function w(W,k){var O="REPLACE",F=wr(W,void 0,void 0,U.location);d.confirmTransitionTo(F,O,i,function(D){if(D){var Q=zr(F),ee=l(o+Q),fe=Xd()!==ee;fe&&(m=Q,gT(ee));var se=T.indexOf(zr(U.location));se!==-1&&(T[se]=Q),h({action:O,location:F})}})}function C(W){e.go(W)}function L(){C(-1)}function H(){C(1)}var N=0;function P(W){N+=W,N===1&&W===1?window.addEventListener(XF,v):N===0&&window.removeEventListener(XF,v)}var B=!1;function V(W){W===void 0&&(W=!1);var k=d.setPrompt(W);return B||(P(1),B=!0),function(){return B&&(B=!1,P(-1)),k()}}function M(W){var k=d.appendListener(W);return P(1),function(){P(-1),k()}}var U={length:e.length,action:"POP",location:b,createHref:R,push:I,replace:w,go:C,goBack:L,goForward:H,block:V,listen:M};return U}function QF(t,e,r){return Math.min(Math.max(t,e),r)}function Z4e(t){t===void 0&&(t={});var e=t,r=e.getUserConfirmation,n=e.initialEntries,i=n===void 0?["/"]:n,a=e.initialIndex,s=a===void 0?0:a,o=e.keyLength,c=o===void 0?6:o,l=Ck();function u(R){nr(T,R),T.length=T.entries.length,l.notifyListeners(T.location,T.action)}function f(){return Math.random().toString(36).substr(2,c)}var d=QF(s,0,i.length-1),h=i.map(function(R){return typeof R=="string"?wr(R,void 0,f()):wr(R,void 0,R.key||f())}),p=zr;function m(R,I){var w="PUSH",C=wr(R,I,f(),T.location);l.confirmTransitionTo(C,w,r,function(L){if(L){var H=T.index,N=H+1,P=T.entries.slice(0);P.length>N?P.splice(N,P.length-N,C):P.push(C),u({action:w,location:C,index:N,entries:P})}})}function g(R,I){var w="REPLACE",C=wr(R,I,f(),T.location);l.confirmTransitionTo(C,w,r,function(L){L&&(T.entries[T.index]=C,u({action:w,location:C}))})}function v(R){var I=QF(T.index+R,0,T.entries.length-1),w="POP",C=T.entries[I];l.confirmTransitionTo(C,w,r,function(L){L?u({action:w,location:C,index:I}):u()})}function y(){v(-1)}function x(){v(1)}function E(R){var I=T.index+R;return I>=0&&I<T.entries.length}function S(R){return R===void 0&&(R=!1),l.setPrompt(R)}function b(R){return l.appendListener(R)}var T={length:h.length,action:"POP",location:h[d],index:d,entries:h,createHref:p,push:m,replace:g,go:v,goBack:y,goForward:x,canGo:E,block:S,listen:b};return T}var $o={},J4e={get exports(){return $o},set exports(t){$o=t}},e8e=Array.isArray||function(t){return Object.prototype.toString.call(t)=="[object Array]"},l1=e8e;J4e.exports=SY;$o.parse=kk;$o.compile=r8e;$o.tokensToFunction=_Y;$o.tokensToRegExp=bY;var t8e=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function kk(t,e){for(var r=[],n=0,i=0,a="",s=e&&e.delimiter||"/",o;(o=t8e.exec(t))!=null;){var c=o[0],l=o[1],u=o.index;if(a+=t.slice(i,u),i=u+c.length,l){a+=l[1];continue}var f=t[i],d=o[2],h=o[3],p=o[4],m=o[5],g=o[6],v=o[7];a&&(r.push(a),a="");var y=d!=null&&f!=null&&f!==d,x=g==="+"||g==="*",E=g==="?"||g==="*",S=o[2]||s,b=p||m;r.push({name:h||n++,prefix:d||"",delimiter:S,optional:E,repeat:x,partial:y,asterisk:!!v,pattern:b?a8e(b):v?".*":"[^"+zv(S)+"]+?"})}return i<t.length&&(a+=t.substr(i)),a&&r.push(a),r}function r8e(t,e){return _Y(kk(t,e),e)}function n8e(t){return encodeURI(t).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function i8e(t){return encodeURI(t).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function _Y(t,e){for(var r=new Array(t.length),n=0;n<t.length;n++)typeof t[n]=="object"&&(r[n]=new RegExp("^(?:"+t[n].pattern+")$",Lk(e)));return function(i,a){for(var s="",o=i||{},c=a||{},l=c.pretty?n8e:encodeURIComponent,u=0;u<t.length;u++){var f=t[u];if(typeof f=="string"){s+=f;continue}var d=o[f.name],h;if(d==null)if(f.optional){f.partial&&(s+=f.prefix);continue}else throw new TypeError('Expected "'+f.name+'" to be defined');if(l1(d)){if(!f.repeat)throw new TypeError('Expected "'+f.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(d.length===0){if(f.optional)continue;throw new TypeError('Expected "'+f.name+'" to not be empty')}for(var p=0;p<d.length;p++){if(h=l(d[p]),!r[u].test(h))throw new TypeError('Expected all "'+f.name+'" to match "'+f.pattern+'", but received `'+JSON.stringify(h)+"`");s+=(p===0?f.prefix:f.delimiter)+h}continue}if(h=f.asterisk?i8e(d):l(d),!r[u].test(h))throw new TypeError('Expected "'+f.name+'" to match "'+f.pattern+'", but received "'+h+'"');s+=f.prefix+h}return s}}function zv(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function a8e(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function Ok(t,e){return t.keys=e,t}function Lk(t){return t&&t.sensitive?"":"i"}function s8e(t,e){var r=t.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)e.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return Ok(t,e)}function o8e(t,e,r){for(var n=[],i=0;i<t.length;i++)n.push(SY(t[i],e,r).source);var a=new RegExp("(?:"+n.join("|")+")",Lk(r));return Ok(a,e)}function l8e(t,e,r){return bY(kk(t,r),e,r)}function bY(t,e,r){l1(e)||(r=e||r,e=[]),r=r||{};for(var n=r.strict,i=r.end!==!1,a="",s=0;s<t.length;s++){var o=t[s];if(typeof o=="string")a+=zv(o);else{var c=zv(o.prefix),l="(?:"+o.pattern+")";e.push(o),o.repeat&&(l+="(?:"+c+l+")*"),o.optional?o.partial?l=c+"("+l+")?":l="(?:"+c+"("+l+"))?":l=c+"("+l+")",a+=l}}var u=zv(r.delimiter||"/"),f=a.slice(-u.length)===u;return n||(a=(f?a.slice(0,-u.length):a)+"(?:"+u+"(?=$))?"),i?a+="$":a+=n&&f?"":"(?="+u+"|$)",Ok(new RegExp("^"+a,Lk(r)),e)}function SY(t,e,r){return l1(e)||(r=e||r,e=[]),r=r||{},t instanceof RegExp?s8e(t,e):l1(t)?o8e(t,e,r):l8e(t,e,r)}var iA={},c8e={get exports(){return iA},set exports(t){iA=t}},Ke={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qt=typeof Symbol=="function"&&Symbol.for,Pk=qt?Symbol.for("react.element"):60103,Nk=qt?Symbol.for("react.portal"):60106,BE=qt?Symbol.for("react.fragment"):60107,UE=qt?Symbol.for("react.strict_mode"):60108,jE=qt?Symbol.for("react.profiler"):60114,HE=qt?Symbol.for("react.provider"):60109,GE=qt?Symbol.for("react.context"):60110,Dk=qt?Symbol.for("react.async_mode"):60111,zE=qt?Symbol.for("react.concurrent_mode"):60111,VE=qt?Symbol.for("react.forward_ref"):60112,WE=qt?Symbol.for("react.suspense"):60113,u8e=qt?Symbol.for("react.suspense_list"):60120,KE=qt?Symbol.for("react.memo"):60115,YE=qt?Symbol.for("react.lazy"):60116,f8e=qt?Symbol.for("react.block"):60121,d8e=qt?Symbol.for("react.fundamental"):60117,h8e=qt?Symbol.for("react.responder"):60118,p8e=qt?Symbol.for("react.scope"):60119;function In(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Pk:switch(t=t.type,t){case Dk:case zE:case BE:case jE:case UE:case WE:return t;default:switch(t=t&&t.$$typeof,t){case GE:case VE:case YE:case KE:case HE:return t;default:return e}}case Nk:return e}}}function TY(t){return In(t)===zE}Ke.AsyncMode=Dk;Ke.ConcurrentMode=zE;Ke.ContextConsumer=GE;Ke.ContextProvider=HE;Ke.Element=Pk;Ke.ForwardRef=VE;Ke.Fragment=BE;Ke.Lazy=YE;Ke.Memo=KE;Ke.Portal=Nk;Ke.Profiler=jE;Ke.StrictMode=UE;Ke.Suspense=WE;Ke.isAsyncMode=function(t){return TY(t)||In(t)===Dk};Ke.isConcurrentMode=TY;Ke.isContextConsumer=function(t){return In(t)===GE};Ke.isContextProvider=function(t){return In(t)===HE};Ke.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Pk};Ke.isForwardRef=function(t){return In(t)===VE};Ke.isFragment=function(t){return In(t)===BE};Ke.isLazy=function(t){return In(t)===YE};Ke.isMemo=function(t){return In(t)===KE};Ke.isPortal=function(t){return In(t)===Nk};Ke.isProfiler=function(t){return In(t)===jE};Ke.isStrictMode=function(t){return In(t)===UE};Ke.isSuspense=function(t){return In(t)===WE};Ke.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===BE||t===zE||t===jE||t===UE||t===WE||t===u8e||typeof t=="object"&&t!==null&&(t.$$typeof===YE||t.$$typeof===KE||t.$$typeof===HE||t.$$typeof===GE||t.$$typeof===VE||t.$$typeof===d8e||t.$$typeof===h8e||t.$$typeof===p8e||t.$$typeof===f8e)};Ke.typeOf=In;(function(t){t.exports=Ke})(c8e);function rg(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}var wY=iA,g8e={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},m8e={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},RY={};RY[wY.ForwardRef]=g8e;RY[wY.Memo]=m8e;var mT=1073741823,ZF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};function v8e(){var t="__global_unique_id__";return ZF[t]=(ZF[t]||0)+1}function y8e(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function x8e(t){var e=[];return{on:function(n){e.push(n)},off:function(n){e=e.filter(function(i){return i!==n})},get:function(){return t},set:function(n,i){t=n,e.forEach(function(a){return a(t,i)})}}}function E8e(t){return Array.isArray(t)?t[0]:t}function _8e(t,e){var r,n,i="__create-react-context-"+v8e()+"__",a=function(o){da(c,o);function c(){for(var u,f=arguments.length,d=new Array(f),h=0;h<f;h++)d[h]=arguments[h];return u=o.call.apply(o,[this].concat(d))||this,u.emitter=x8e(u.props.value),u}var l=c.prototype;return l.getChildContext=function(){var f;return f={},f[i]=this.emitter,f},l.componentWillReceiveProps=function(f){if(this.props.value!==f.value){var d=this.props.value,h=f.value,p;y8e(d,h)?p=0:(p=typeof e=="function"?e(d,h):mT,p|=0,p!==0&&this.emitter.set(f.value,p))}},l.render=function(){return this.props.children},c}(le.Component);a.childContextTypes=(r={},r[i]=xe.object.isRequired,r);var s=function(o){da(c,o);function c(){for(var u,f=arguments.length,d=new Array(f),h=0;h<f;h++)d[h]=arguments[h];return u=o.call.apply(o,[this].concat(d))||this,u.observedBits=void 0,u.state={value:u.getValue()},u.onUpdate=function(p,m){var g=u.observedBits|0;g&m&&u.setState({value:u.getValue()})},u}var l=c.prototype;return l.componentWillReceiveProps=function(f){var d=f.observedBits;this.observedBits=d??mT},l.componentDidMount=function(){this.context[i]&&this.context[i].on(this.onUpdate);var f=this.props.observedBits;this.observedBits=f??mT},l.componentWillUnmount=function(){this.context[i]&&this.context[i].off(this.onUpdate)},l.getValue=function(){return this.context[i]?this.context[i].get():t},l.render=function(){return E8e(this.props.children)(this.state.value)},c}(le.Component);return s.contextTypes=(n={},n[i]=xe.object,n),{Provider:a,Consumer:s}}var b8e=le.createContext||_8e,AY=function(e){var r=b8e();return r.displayName=e,r},IY=AY("Router-History"),ha=AY("Router"),qE=function(t){da(e,t),e.computeRootMatch=function(i){return{path:"/",url:"/",params:{},isExact:i==="/"}};function e(n){var i;return i=t.call(this,n)||this,i.state={location:n.history.location},i._isMounted=!1,i._pendingLocation=null,n.staticContext||(i.unlisten=n.history.listen(function(a){i._pendingLocation=a})),i}var r=e.prototype;return r.componentDidMount=function(){var i=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(a){i._isMounted&&i.setState({location:a})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return le.createElement(ha.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},le.createElement(IY.Provider,{children:this.props.children||null,value:this.props.history}))},e}(le.Component);le.Component;var S8e=function(t){da(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},r.componentDidUpdate=function(i){this.props.onUpdate&&this.props.onUpdate.call(this,this,i)},r.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},r.render=function(){return null},e}(le.Component),vT={},T8e=1e4,JF=0;function w8e(t){if(vT[t])return vT[t];var e=$o.compile(t);return JF<T8e&&(vT[t]=e,JF++),e}function c1(t,e){return t===void 0&&(t="/"),e===void 0&&(e={}),t==="/"?t:w8e(t)(e,{pretty:!0})}function R8e(t){var e=t.computedMatch,r=t.to,n=t.push,i=n===void 0?!1:n;return le.createElement(ha.Consumer,null,function(a){a||Vo(!1);var s=a.history,o=a.staticContext,c=i?s.push:s.replace,l=wr(e?typeof r=="string"?c1(r,e.params):nr({},r,{pathname:c1(r.pathname,e.params)}):r);return o?(c(l),null):le.createElement(S8e,{onMount:function(){c(l)},onUpdate:function(f,d){var h=wr(d.to);G4e(h,nr({},l,{key:h.key}))||c(l)},to:r})})}var e6={},A8e=1e4,t6=0;function I8e(t,e){var r=""+e.end+e.strict+e.sensitive,n=e6[r]||(e6[r]={});if(n[t])return n[t];var i=[],a=$o(t,i,e),s={regexp:a,keys:i};return t6<A8e&&(n[t]=s,t6++),s}function XE(t,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var r=e,n=r.path,i=r.exact,a=i===void 0?!1:i,s=r.strict,o=s===void 0?!1:s,c=r.sensitive,l=c===void 0?!1:c,u=[].concat(n);return u.reduce(function(f,d){if(!d&&d!=="")return null;if(f)return f;var h=I8e(d,{end:a,strict:o,sensitive:l}),p=h.regexp,m=h.keys,g=p.exec(t);if(!g)return null;var v=g[0],y=g.slice(1),x=t===v;return a&&!x?null:{path:d,url:d==="/"&&v===""?"/":v,isExact:x,params:m.reduce(function(E,S,b){return E[S.name]=y[b],E},{})}},null)}function $8e(t){return le.Children.count(t)===0}var ks=function(t){da(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.render=function(){var i=this;return le.createElement(ha.Consumer,null,function(a){a||Vo(!1);var s=i.props.location||a.location,o=i.props.computedMatch?i.props.computedMatch:i.props.path?XE(s.pathname,i.props):a.match,c=nr({},a,{location:s,match:o}),l=i.props,u=l.children,f=l.component,d=l.render;return Array.isArray(u)&&$8e(u)&&(u=null),le.createElement(ha.Provider,{value:c},c.match?u?typeof u=="function"?u(c):u:f?le.createElement(f,c):d?d(c):null:typeof u=="function"?u(c):null)})},e}(le.Component);function Mk(t){return t.charAt(0)==="/"?t:"/"+t}function C8e(t,e){return t?nr({},e,{pathname:Mk(t)+e.pathname}):e}function k8e(t,e){if(!t)return e;var r=Mk(t);return e.pathname.indexOf(r)!==0?e:nr({},e,{pathname:e.pathname.substr(r.length)})}function r6(t){return typeof t=="string"?t:zr(t)}function yT(t){return function(){Vo(!1)}}function n6(){}le.Component;var O8e=function(t){da(e,t);function e(){return t.apply(this,arguments)||this}var r=e.prototype;return r.render=function(){var i=this;return le.createElement(ha.Consumer,null,function(a){a||Vo(!1);var s=i.props.location||a.location,o,c;return le.Children.forEach(i.props.children,function(l){if(c==null&&le.isValidElement(l)){o=l;var u=l.props.path||l.props.from;c=u?XE(s.pathname,nr({},l.props,{path:u})):a.match}}),c?le.cloneElement(o,{location:s,computedMatch:c}):null})},e}(le.Component),QE=le.useContext;function ed(){return QE(IY)}function $Y(){return QE(ha).location}function CY(){var t=QE(ha).match;return t?t.params:{}}function L8e(t){var e=$Y(),r=QE(ha).match;return t?XE(e.pathname,t):r}var P8e=function(t){da(e,t);function e(){for(var n,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a))||this,n.history=Y4e(n.props),n}var r=e.prototype;return r.render=function(){return le.createElement(qE,{history:this.history,children:this.props.children})},e}(le.Component),N8e=function(t){da(e,t);function e(){for(var n,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=t.call.apply(t,[this].concat(a))||this,n.history=Q4e(n.props),n}var r=e.prototype;return r.render=function(){return le.createElement(qE,{history:this.history,children:this.props.children})},e}(le.Component),aA=function(e,r){return typeof e=="function"?e(r):e},sA=function(e,r){return typeof e=="string"?wr(e,null,null,r):e},Fk=function(e){return e},gf=le.forwardRef;typeof gf>"u"&&(gf=Fk);function D8e(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var M8e=gf(function(t,e){var r=t.innerRef,n=t.navigate,i=t.onClick,a=rg(t,["innerRef","navigate","onClick"]),s=a.target,o=nr({},a,{onClick:function(l){try{i&&i(l)}catch(u){throw l.preventDefault(),u}!l.defaultPrevented&&l.button===0&&(!s||s==="_self")&&!D8e(l)&&(l.preventDefault(),n())}});return Fk!==gf?o.ref=e||r:o.ref=r,le.createElement("a",o)}),ng=gf(function(t,e){var r=t.component,n=r===void 0?M8e:r,i=t.replace,a=t.to,s=t.innerRef,o=rg(t,["component","replace","to","innerRef"]);return le.createElement(ha.Consumer,null,function(c){c||Vo(!1);var l=c.history,u=sA(aA(a,c.location),c.location),f=u?l.createHref(u):"",d=nr({},o,{href:f,navigate:function(){var p=aA(a,c.location),m=zr(c.location)===zr(sA(p)),g=i||m?l.replace:l.push;g(p)}});return Fk!==gf?d.ref=e||s:d.innerRef=s,le.createElement(n,d)})}),kY=function(e){return e},u1=le.forwardRef;typeof u1>"u"&&(u1=kY);function F8e(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.filter(function(n){return n}).join(" ")}u1(function(t,e){var r=t["aria-current"],n=r===void 0?"page":r,i=t.activeClassName,a=i===void 0?"active":i,s=t.activeStyle,o=t.className,c=t.exact,l=t.isActive,u=t.location,f=t.sensitive,d=t.strict,h=t.style,p=t.to,m=t.innerRef,g=rg(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return le.createElement(ha.Consumer,null,function(v){v||Vo(!1);var y=u||v.location,x=sA(aA(p,y),y),E=x.pathname,S=E&&E.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),b=S?XE(y.pathname,{path:S,exact:c,sensitive:f,strict:d}):null,T=!!(l?l(b,y):b),R=typeof o=="function"?o(T):o,I=typeof h=="function"?h(T):h;T&&(R=F8e(R,a),I=nr({},I,s));var w=nr({"aria-current":T&&n||null,className:R,style:I,to:x},g);return kY!==u1?w.ref=e||m:w.innerRef=m,le.createElement(ng,w)})});const B8e="modulepreload",U8e=function(t){return"/"+t},i6={},oA=function(e,r,n){if(!r||r.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(r.map(a=>{if(a=U8e(a),a in i6)return;i6[a]=!0;const s=a.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(!!n)for(let u=i.length-1;u>=0;u--){const f=i[u];if(f.href===a&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${o}`))return;const l=document.createElement("link");if(l.rel=s?"stylesheet":B8e,s||(l.as="script",l.crossOrigin=""),l.href=a,document.head.appendChild(l),s)return new Promise((u,f)=>{l.addEventListener("load",u),l.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e())};function j8e(t={}){const{immediate:e=!1,onNeedRefresh:r,onOfflineReady:n,onRegistered:i,onRegisteredSW:a,onRegisterError:s}=t;let o,c;const l=async(f=!0)=>{await c};async function u(){if("serviceWorker"in navigator){const{Workbox:f}=await oA(()=>import("./workbox-window.prod.es5-dc90f814.js"),[]);o=new f("/sw.js",{scope:"/",type:"classic"}),o.addEventListener("activated",d=>{(d.isUpdate||d.isExternal)&&window.location.reload()}),o.addEventListener("installed",d=>{d.isUpdate||n==null||n()}),o.register({immediate:e}).then(d=>{a?a("/sw.js",d):i==null||i(d)}).catch(d=>{s==null||s(d)})}}return c=u(),l}function zt(t){return zt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zt(t)}function H8e(t,e){if(zt(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(zt(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OY(t){var e=H8e(t,"string");return zt(e)==="symbol"?e:String(e)}function li(t,e,r){return e=OY(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bk(t,e){if(t==null)return{};var r=rg(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var G8e={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},z8e=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function a6(t){var e={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},r=t.match(/<\/?([^\s]+?)[/\s>]/);if(r&&(e.name=r[1],(G8e[r[1]]||t.charAt(t.length-2)==="/")&&(e.voidElement=!0),e.name.startsWith("!--"))){var n=t.indexOf("-->");return{type:"comment",comment:n!==-1?t.slice(4,n):""}}for(var i=new RegExp(z8e),a=null;(a=i.exec(t))!==null;)if(a[0].trim())if(a[1]){var s=a[1].trim(),o=[s,""];s.indexOf("=")>-1&&(o=s.split("=")),e.attrs[o[0]]=o[1],i.lastIndex--}else a[2]&&(e.attrs[a[2]]=a[3].trim().substring(1,a[3].length-1));return e}var V8e=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,W8e=/^\s*$/,K8e=Object.create(null);function LY(t,e){switch(e.type){case"text":return t+e.content;case"tag":return t+="<"+e.name+(e.attrs?function(r){var n=[];for(var i in r)n.push(i+'="'+r[i]+'"');return n.length?" "+n.join(" "):""}(e.attrs):"")+(e.voidElement?"/>":">"),e.voidElement?t:t+e.children.reduce(LY,"")+"</"+e.name+">";case"comment":return t+"<!--"+e.comment+"-->"}}var Y8e={parse:function(t,e){e||(e={}),e.components||(e.components=K8e);var r,n=[],i=[],a=-1,s=!1;if(t.indexOf("<")!==0){var o=t.indexOf("<");n.push({type:"text",content:o===-1?t:t.substring(0,o)})}return t.replace(V8e,function(c,l){if(s){if(c!=="</"+r.name+">")return;s=!1}var u,f=c.charAt(1)!=="/",d=c.startsWith("<!--"),h=l+c.length,p=t.charAt(h);if(d){var m=a6(c);return a<0?(n.push(m),n):((u=i[a]).children.push(m),n)}if(f&&(a++,(r=a6(c)).type==="tag"&&e.components[r.name]&&(r.type="component",s=!0),r.voidElement||s||!p||p==="<"||r.children.push({type:"text",content:t.slice(h,t.indexOf("<",h))}),a===0&&n.push(r),(u=i[a-1])&&u.children.push(r),i[a]=r),(!f||r.voidElement)&&(a>-1&&(r.voidElement||r.name===c.slice(2,-1))&&(a--,r=a===-1?n:i[a]),!s&&p!=="<"&&p)){u=a===-1?n:i[a].children;var g=t.indexOf("<",h),v=t.slice(h,g===-1?void 0:g);W8e.test(v)&&(v=" "),(g>-1&&a+u.length>=0||v!==" ")&&u.push({type:"text",content:v})}}),n},stringify:function(t){return t.reduce(function(e,r){return e+LY("",r)},"")}};function Vv(){if(console&&console.warn){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];typeof r[0]=="string"&&(r[0]="react-i18next:: ".concat(r[0])),(t=console).warn.apply(t,r)}}var s6={};function f1(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];typeof e[0]=="string"&&s6[e[0]]||(typeof e[0]=="string"&&(s6[e[0]]=new Date),Vv.apply(void 0,e))}function o6(t,e,r){t.loadNamespaces(e,function(){if(t.isInitialized)r();else{var n=function i(){setTimeout(function(){t.off("initialized",i)},0),r()};t.on("initialized",n)}})}function q8e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=e.languages[0],i=e.options?e.options.fallbackLng:!1,a=e.languages[e.languages.length-1];if(n.toLowerCase()==="cimode")return!0;var s=function(c,l){var u=e.services.backendConnector.state["".concat(c,"|").concat(l)];return u===-1||u===2};return r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!s(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(n,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||s(n,t)&&(!i||s(a,t)))}function X8e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!e.languages||!e.languages.length)return f1("i18n.languages were undefined or empty",e.languages),!0;var n=e.options.ignoreJSONStructure!==void 0;return n?e.hasLoadedNamespace(t,{precheck:function(a,s){if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&a.services.backendConnector.backend&&a.isLanguageChangingTo&&!s(a.isLanguageChangingTo,t))return!1}}):q8e(t,e,r)}var Q8e=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Z8e={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},J8e=function(e){return Z8e[e]},eMe=function(e){return e.replace(Q8e,J8e)};function l6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function c6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l6(Object(r),!0).forEach(function(n){li(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var lA={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:eMe};function tMe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};lA=c6(c6({},lA),t)}function PY(){return lA}var NY;function rMe(t){NY=t}function Uk(){return NY}var nMe=["format"],iMe=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function u6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?u6(Object(r),!0).forEach(function(n){li(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xT(t,e){if(!t)return!1;var r=t.props?t.props.children:t.children;return e?r.length>0:!!r}function ET(t){return t?t.props?t.props.children:t.children:[]}function aMe(t){return Object.prototype.toString.call(t)!=="[object Array]"?!1:t.every(function(e){return A.isValidElement(e)})}function Sh(t){return Array.isArray(t)?t:[t]}function sMe(t,e){var r=kt({},e);return r.props=Object.assign(t.props,e.props),r}function DY(t,e){if(!t)return"";var r="",n=Sh(t),i=e.transSupportBasicHtmlNodes&&e.transKeepBasicHtmlNodesFor?e.transKeepBasicHtmlNodesFor:[];return n.forEach(function(a,s){if(typeof a=="string")r+="".concat(a);else if(A.isValidElement(a)){var o=Object.keys(a.props).length,c=i.indexOf(a.type)>-1,l=a.props.children;if(!l&&c&&o===0)r+="<".concat(a.type,"/>");else if(!l&&(!c||o!==0))r+="<".concat(s,"></").concat(s,">");else if(a.props.i18nIsDynamicList)r+="<".concat(s,"></").concat(s,">");else if(c&&o===1&&typeof l=="string")r+="<".concat(a.type,">").concat(l,"</").concat(a.type,">");else{var u=DY(l,e);r+="<".concat(s,">").concat(u,"</").concat(s,">")}}else if(a===null)Vv("Trans: the passed in value is invalid - seems you passed in a null child.");else if(zt(a)==="object"){var f=a.format,d=Bk(a,nMe),h=Object.keys(d);if(h.length===1){var p=f?"".concat(h[0],", ").concat(f):h[0];r+="{{".concat(p,"}}")}else Vv("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",a)}else Vv("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",a)}),r}function oMe(t,e,r,n,i,a){if(e==="")return[];var s=n.transKeepBasicHtmlNodesFor||[],o=e&&new RegExp(s.join("|")).test(e);if(!t&&!o)return[e];var c={};function l(g){var v=Sh(g);v.forEach(function(y){typeof y!="string"&&(xT(y)?l(ET(y)):zt(y)==="object"&&!A.isValidElement(y)&&Object.assign(c,y))})}l(t);var u=Y8e.parse("<0>".concat(e,"</0>")),f=kt(kt({},c),i);function d(g,v,y){var x=ET(g),E=p(x,v.children,y);return aMe(x)&&E.length===0?x:E}function h(g,v,y,x,E){g.dummy&&(g.children=v),y.push(A.cloneElement(g,kt(kt({},g.props),{},{key:x}),E?void 0:v))}function p(g,v,y){var x=Sh(g),E=Sh(v);return E.reduce(function(S,b,T){var R=b.children&&b.children[0]&&b.children[0].content&&r.services.interpolator.interpolate(b.children[0].content,f,r.language);if(b.type==="tag"){var I=x[parseInt(b.name,10)];!I&&y.length===1&&y[0][b.name]&&(I=y[0][b.name]),I||(I={});var w=Object.keys(b.attrs).length!==0?sMe({props:b.attrs},I):I,C=A.isValidElement(w),L=C&&xT(b,!0)&&!b.voidElement,H=o&&zt(w)==="object"&&w.dummy&&!C,N=zt(t)==="object"&&t!==null&&Object.hasOwnProperty.call(t,b.name);if(typeof w=="string"){var P=r.services.interpolator.interpolate(w,f,r.language);S.push(P)}else if(xT(w)||L){var B=d(w,b,y);h(w,B,S,T)}else if(H){var V=p(x,b.children,y);S.push(A.cloneElement(w,kt(kt({},w.props),{},{key:T}),V))}else if(Number.isNaN(parseFloat(b.name)))if(N){var M=d(w,b,y);h(w,M,S,T,b.voidElement)}else if(n.transSupportBasicHtmlNodes&&s.indexOf(b.name)>-1)if(b.voidElement)S.push(A.createElement(b.name,{key:"".concat(b.name,"-").concat(T)}));else{var U=p(x,b.children,y);S.push(A.createElement(b.name,{key:"".concat(b.name,"-").concat(T)},U))}else if(b.voidElement)S.push("<".concat(b.name," />"));else{var W=p(x,b.children,y);S.push("<".concat(b.name,">").concat(W,"</").concat(b.name,">"))}else if(zt(w)==="object"&&!C){var k=b.children[0]?R:null;k&&S.push(k)}else b.children.length===1&&R?S.push(A.cloneElement(w,kt(kt({},w.props),{},{key:T}),R)):S.push(A.cloneElement(w,kt(kt({},w.props),{},{key:T})))}else if(b.type==="text"){var O=n.transWrapTextNodes,F=a?n.unescape(r.services.interpolator.interpolate(b.content,f,r.language)):r.services.interpolator.interpolate(b.content,f,r.language);O?S.push(A.createElement(O,{key:"".concat(b.name,"-").concat(T)},F)):S.push(F)}return S},[])}var m=p([{dummy:!0,children:t||[]}],u,Sh(t||[]));return ET(m[0])}function lMe(t){var e=t.children,r=t.count,n=t.parent,i=t.i18nKey,a=t.context,s=t.tOptions,o=s===void 0?{}:s,c=t.values,l=t.defaults,u=t.components,f=t.ns,d=t.i18n,h=t.t,p=t.shouldUnescape,m=Bk(t,iMe),g=d||Uk();if(!g)return f1("You will need to pass in an i18next instance by using i18nextReactModule"),e;var v=h||g.t.bind(g)||function(L){return L};a&&(o.context=a);var y=kt(kt({},PY()),g.options&&g.options.react),x=f||v.ns||g.options&&g.options.defaultNS;x=typeof x=="string"?[x]:x||["translation"];var E=l||DY(e,y)||y.transEmptyNodeValue||i,S=y.hashTransKey,b=i||(S?S(E):E),T=c?o.interpolation:{interpolation:kt(kt({},o.interpolation),{},{prefix:"#$?",suffix:"?$#"})},R=kt(kt(kt(kt({},o),{},{count:r},c),T),{},{defaultValue:E,ns:x}),I=b?v(b,R):E,w=oMe(u||e,I,g,y,R,p),C=n!==void 0?n:y.defaultTransParent;return C?A.createElement(C,m,w):w}function Pi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f6(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,OY(n.key),n)}}function Ni(t,e,r){return e&&f6(t.prototype,e),r&&f6(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}var cMe={type:"3rdParty",init:function(e){tMe(e.options.react),rMe(e)}},MY=A.createContext(),uMe=function(){function t(){Pi(this,t),this.usedNamespaces={}}return Ni(t,[{key:"addUsedNamespaces",value:function(r){var n=this;r.forEach(function(i){n.usedNamespaces[i]||(n.usedNamespaces[i]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),t}(),fMe=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function d6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dMe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?d6(Object(r),!0).forEach(function(n){li(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jk(t){var e=t.children,r=t.count,n=t.parent,i=t.i18nKey,a=t.context,s=t.tOptions,o=s===void 0?{}:s,c=t.values,l=t.defaults,u=t.components,f=t.ns,d=t.i18n,h=t.t,p=t.shouldUnescape,m=Bk(t,fMe),g=A.useContext(MY)||{},v=g.i18n,y=g.defaultNS,x=d||v||Uk(),E=h||x&&x.t.bind(x);return lMe(dMe({children:e,count:r,parent:n,i18nKey:i,context:a,tOptions:o,values:c,defaults:l,components:u,ns:f||E&&E.ns||y||x&&x.options&&x.options.defaultNS,i18n:x,t:h,shouldUnescape:p},m))}function FY(t){if(Array.isArray(t))return t}function hMe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,s,o=[],c=!0,l=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(o.push(n.value),o.length!==e);c=!0);}catch(u){l=!0,i=u}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(l)throw i}}return o}}function h6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function BY(t,e){if(t){if(typeof t=="string")return h6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h6(t,e)}}function UY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pMe(t,e){return FY(t)||hMe(t,e)||BY(t,e)||UY()}function p6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _T(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?p6(Object(r),!0).forEach(function(n){li(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var gMe=function(e,r){var n=A.useRef();return A.useEffect(function(){n.current=r?n.current:e},[e,r]),n.current};function Ce(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.i18n,n=A.useContext(MY)||{},i=n.i18n,a=n.defaultNS,s=r||i||Uk();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new uMe),!s){f1("You will need to pass in an i18next instance by using initReactI18next");var o=function(I,w){return typeof w=="string"?w:w&&zt(w)==="object"&&typeof w.defaultValue=="string"?w.defaultValue:Array.isArray(I)?I[I.length-1]:I},c=[o,{},!1];return c.t=o,c.i18n={},c.ready=!1,c}s.options.react&&s.options.react.wait!==void 0&&f1("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var l=_T(_T(_T({},PY()),s.options.react),e),u=l.useSuspense,f=l.keyPrefix,d=t||a||s.options&&s.options.defaultNS;d=typeof d=="string"?[d]:d||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(d);var h=(s.isInitialized||s.initializedStoreOnce)&&d.every(function(R){return X8e(R,s,l)});function p(){return s.getFixedT(null,l.nsMode==="fallback"?d:d[0],f)}var m=A.useState(p),g=pMe(m,2),v=g[0],y=g[1],x=d.join(),E=gMe(x),S=A.useRef(!0);A.useEffect(function(){var R=l.bindI18n,I=l.bindI18nStore;S.current=!0,!h&&!u&&o6(s,d,function(){S.current&&y(p)}),h&&E&&E!==x&&S.current&&y(p);function w(){S.current&&y(p)}return R&&s&&s.on(R,w),I&&s&&s.store.on(I,w),function(){S.current=!1,R&&s&&R.split(" ").forEach(function(C){return s.off(C,w)}),I&&s&&I.split(" ").forEach(function(C){return s.store.off(C,w)})}},[s,x]);var b=A.useRef(!0);A.useEffect(function(){S.current&&!b.current&&y(p),b.current=!1},[s,f]);var T=[v,s,h];if(T.t=v,T.i18n=s,T.ready=h,h||!h&&!u)return T;throw new Promise(function(R){o6(s,d,function(){R()})})}var ce=(t=>(t.SEARCH="search",t.BOOKMARK="bookmark",t.BOOKMARK_OUTLINE="bookmark_outline",t.CLOCK="clock",t.EYE_SLASH="eyeSlash",t.ARROW_LEFT="arrowLeft",t.ARROW_RIGHT="arrowRight",t.CHEVRON_DOWN="chevronDown",t.CHEVRON_RIGHT="chevronRight",t.CHEVRON_LEFT="chevronLeft",t.CLAPPER_BOARD="clapperBoard",t.FILM="film",t.DRAGON="dragon",t.WARNING="warning",t.MOVIE_WEB="movieWeb",t.DISCORD="discord",t.GITHUB="github",t.PLAY="play",t.PAUSE="pause",t.EXPAND="expand",t.COMPRESS="compress",t.VOLUME="volume",t.VOLUME_X="volume_x",t.X="x",t.EDIT="edit",t.AIRPLAY="airplay",t.EPISODES="episodes",t.SKIP_FORWARD="skip_forward",t.SKIP_BACKWARD="skip_backward",t.FILE="file",t.CAPTIONS="captions",t.LINK="link",t.CASTING="casting",t.CIRCLE_EXCLAMATION="circle_exclamation",t.DOWNLOAD="download",t.GEAR="gear",t.WATCH_PARTY="watch_party",t.PICTURE_IN_PICTURE="pictureInPicture",t.CHECKMARK="checkmark",t.TACHOMETER="tachometer",t))(ce||{});const mMe={search:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M500.3 443.7l-119.7-119.7c27.22-40.41 40.65-90.9 33.46-144.7C401.8 87.79 326.8 13.32 235.2 1.723C99.01-15.51-15.51 99.01 1.724 235.2c11.6 91.64 86.08 166.7 177.6 178.9c53.8 7.189 104.3-6.236 144.7-33.46l119.7 119.7c15.62 15.62 40.95 15.62 56.57 0C515.9 484.7 515.9 459.3 500.3 443.7zM79.1 208c0-70.58 57.42-128 128-128s128 57.42 128 128c0 70.58-57.42 128-128 128S79.1 278.6 79.1 208z"/></svg>',bookmark:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 384 512"><!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M384 48V512l-192-112L0 512V48C0 21.5 21.5 0 48 0h288C362.5 0 384 21.5 384 48z"/></svg>',clock:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512zM232 256C232 264 236 271.5 242.7 275.1L338.7 339.1C349.7 347.3 364.6 344.3 371.1 333.3C379.3 322.3 376.3 307.4 365.3 300L280 243.2V120C280 106.7 269.3 96 255.1 96C242.7 96 231.1 106.7 231.1 120L232 256z"/></svg>',eyeSlash:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 640 512"><!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M150.7 92.77C195 58.27 251.8 32 320 32C400.8 32 465.5 68.84 512.6 112.6C559.4 156 590.7 207.1 605.5 243.7C608.8 251.6 608.8 260.4 605.5 268.3C592.1 300.6 565.2 346.1 525.6 386.7L630.8 469.1C641.2 477.3 643.1 492.4 634.9 502.8C626.7 513.2 611.6 515.1 601.2 506.9L9.196 42.89C-1.236 34.71-3.065 19.63 5.112 9.196C13.29-1.236 28.37-3.065 38.81 5.112L150.7 92.77zM223.1 149.5L313.4 220.3C317.6 211.8 320 202.2 320 191.1C320 180.5 316.1 169.7 311.6 160.4C314.4 160.1 317.2 159.1 320 159.1C373 159.1 416 202.1 416 255.1C416 269.7 413.1 282.7 407.1 294.5L446.6 324.7C457.7 304.3 464 280.9 464 255.1C464 176.5 399.5 111.1 320 111.1C282.7 111.1 248.6 126.2 223.1 149.5zM320 480C239.2 480 174.5 443.2 127.4 399.4C80.62 355.1 49.34 304 34.46 268.3C31.18 260.4 31.18 251.6 34.46 243.7C44 220.8 60.29 191.2 83.09 161.5L177.4 235.8C176.5 242.4 176 249.1 176 255.1C176 335.5 240.5 400 320 400C338.7 400 356.6 396.4 373 389.9L446.2 447.5C409.9 467.1 367.8 480 320 480H320z"/></svg>',arrowLeft:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left"><line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline></svg>',chevronDown:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-down"><polyline points="6 9 12 15 18 9"></polyline></svg>',chevronRight:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline></svg>',chevronLeft:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-left"><polyline points="15 18 9 12 15 6"></polyline></svg>',clapperBoard:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M326.1 160l127.4-127.4C451.7 32.39 449.9 32 448 32h-86.06l-128 128H326.1zM166.1 160l128-128H201.9l-128 128H166.1zM497.7 56.19L393.9 160H512V96C512 80.87 506.5 67.15 497.7 56.19zM134.1 32H64C28.65 32 0 60.65 0 96v64h6.062L134.1 32zM0 416c0 35.35 28.65 64 64 64h384c35.35 0 64-28.65 64-64V192H0V416z"/></svg>',film:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M463.1 32h-416C21.49 32-.0001 53.49-.0001 80v352c0 26.51 21.49 48 47.1 48h416c26.51 0 48-21.49 48-48v-352C511.1 53.49 490.5 32 463.1 32zM111.1 408c0 4.418-3.582 8-8 8H55.1c-4.418 0-8-3.582-8-8v-48c0-4.418 3.582-8 8-8h47.1c4.418 0 8 3.582 8 8L111.1 408zM111.1 280c0 4.418-3.582 8-8 8H55.1c-4.418 0-8-3.582-8-8v-48c0-4.418 3.582-8 8-8h47.1c4.418 0 8 3.582 8 8V280zM111.1 152c0 4.418-3.582 8-8 8H55.1c-4.418 0-8-3.582-8-8v-48c0-4.418 3.582-8 8-8h47.1c4.418 0 8 3.582 8 8L111.1 152zM351.1 400c0 8.836-7.164 16-16 16H175.1c-8.836 0-16-7.164-16-16v-96c0-8.838 7.164-16 16-16h160c8.836 0 16 7.162 16 16V400zM351.1 208c0 8.836-7.164 16-16 16H175.1c-8.836 0-16-7.164-16-16v-96c0-8.838 7.164-16 16-16h160c8.836 0 16 7.162 16 16V208zM463.1 408c0 4.418-3.582 8-8 8h-47.1c-4.418 0-7.1-3.582-7.1-8l0-48c0-4.418 3.582-8 8-8h47.1c4.418 0 8 3.582 8 8V408zM463.1 280c0 4.418-3.582 8-8 8h-47.1c-4.418 0-8-3.582-8-8v-48c0-4.418 3.582-8 8-8h47.1c4.418 0 8 3.582 8 8V280zM463.1 152c0 4.418-3.582 8-8 8h-47.1c-4.418 0-8-3.582-8-8l0-48c0-4.418 3.582-8 7.1-8h47.1c4.418 0 8 3.582 8 8V152z"/></svg>',dragon:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 640 512"><!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M18.43 255.8L192 224L100.8 292.6C90.67 302.8 97.8 320 112 320h222.7c-9.499-26.5-14.75-54.5-14.75-83.38V194.2L200.3 106.8C176.5 90.88 145 92.75 123.3 111.2l-117.5 116.4C-6.562 238 2.436 258 18.43 255.8zM575.2 289.9l-100.7-50.25c-16.25-8.125-26.5-24.75-26.5-43V160h63.99l28.12 22.62C546.1 188.6 554.2 192 562.7 192h30.1c11.1 0 23.12-6.875 28.5-17.75l14.37-28.62c5.374-10.87 4.25-23.75-2.999-33.5l-74.49-99.37C552.1 4.75 543.5 0 533.5 0H296C288.9 0 285.4 8.625 290.4 13.62L351.1 64L292.4 88.75c-5.874 3-5.874 11.37 0 14.37L351.1 128l-.0011 108.6c0 72 35.99 139.4 95.99 179.4c-195.6 6.75-344.4 41-434.1 60.88c-8.124 1.75-13.87 9-13.87 17.38C.0463 504 8.045 512 17.79 512h499.1c63.24 0 119.6-47.5 122.1-110.8C642.3 354 617.1 310.9 575.2 289.9zM489.1 66.25l45.74 11.38c-2.75 11-12.5 18.88-24.12 18.25C497.7 95.25 484.8 83.38 489.1 66.25z"/></svg>',warning:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-alert-triangle"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg>',arrowRight:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg>',movieWeb:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 20.927 20.927"><path d="M18.186,4.5V6.241H16.445V4.5H9.482V6.241H7.741V4.5H6V20.168H7.741V18.427H9.482v1.741h6.964V18.427h1.741v1.741h1.741V4.5Zm-8.7,12.186H7.741V14.945H9.482Zm0-3.482H7.741V11.464H9.482Zm0-3.482H7.741V7.982H9.482Zm8.7,6.964H16.445V14.945h1.741Zm0-3.482H16.445V11.464h1.741Zm0-3.482H16.445V7.982h1.741Z" transform="translate(10.018 -7.425) rotate(45)" fill="currentColor"/></svg>',discord:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 640 512"><!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M524.531,69.836a1.5,1.5,0,0,0-.764-.7A485.065,485.065,0,0,0,404.081,32.03a1.816,1.816,0,0,0-1.923.91,337.461,337.461,0,0,0-14.9,30.6,447.848,447.848,0,0,0-134.426,0,309.541,309.541,0,0,0-15.135-30.6,1.89,1.89,0,0,0-1.924-.91A483.689,483.689,0,0,0,116.085,69.137a1.712,1.712,0,0,0-.788.676C39.068,183.651,18.186,294.69,28.43,404.354a2.016,2.016,0,0,0,.765,1.375A487.666,487.666,0,0,0,176.02,479.918a1.9,1.9,0,0,0,2.063-.676A348.2,348.2,0,0,0,208.12,430.4a1.86,1.86,0,0,0-1.019-2.588,321.173,321.173,0,0,1-45.868-21.853,1.885,1.885,0,0,1-.185-3.126c3.082-2.309,6.166-4.711,9.109-7.137a1.819,1.819,0,0,1,1.9-.256c96.229,43.917,200.41,43.917,295.5,0a1.812,1.812,0,0,1,1.924.233c2.944,2.426,6.027,4.851,9.132,7.16a1.884,1.884,0,0,1-.162,3.126,301.407,301.407,0,0,1-45.89,21.83,1.875,1.875,0,0,0-1,2.611,391.055,391.055,0,0,0,30.014,48.815,1.864,1.864,0,0,0,2.063.7A486.048,486.048,0,0,0,610.7,405.729a1.882,1.882,0,0,0,.765-1.352C623.729,277.594,590.933,167.465,524.531,69.836ZM222.491,337.58c-28.972,0-52.844-26.587-52.844-59.239S193.056,219.1,222.491,219.1c29.665,0,53.306,26.82,52.843,59.239C275.334,310.993,251.924,337.58,222.491,337.58Zm195.38,0c-28.971,0-52.843-26.587-52.843-59.239S388.437,219.1,417.871,219.1c29.667,0,53.307,26.82,52.844,59.239C470.715,310.993,447.538,337.58,417.871,337.58Z"/></svg>',github:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 496 512"><!--! Font Awesome Pro 6.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>',play:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" style="transform: translateX(5%)" height="1em" viewBox="0 0 384 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg>',pause:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 320 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M48 64C21.5 64 0 85.5 0 112V400c0 26.5 21.5 48 48 48H80c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48H48zm192 0c-26.5 0-48 21.5-48 48V400c0 26.5 21.5 48 48 48h32c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48H240z"/></svg>',expand:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 448 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M32 32C14.3 32 0 46.3 0 64v96c0 17.7 14.3 32 32 32s32-14.3 32-32V96h64c17.7 0 32-14.3 32-32s-14.3-32-32-32H32zM64 352c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7 14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H64V352zM320 32c-17.7 0-32 14.3-32 32s14.3 32 32 32h64v64c0 17.7 14.3 32 32 32s32-14.3 32-32V64c0-17.7-14.3-32-32-32H320zM448 352c0-17.7-14.3-32-32-32s-32 14.3-32 32v64H320c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32V352z"/></svg>',compress:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 448 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M160 64c0-17.7-14.3-32-32-32s-32 14.3-32 32v64H32c-17.7 0-32 14.3-32 32s14.3 32 32 32h96c17.7 0 32-14.3 32-32V64zM32 320c-17.7 0-32 14.3-32 32s14.3 32 32 32H96v64c0 17.7 14.3 32 32 32s32-14.3 32-32V352c0-17.7-14.3-32-32-32H32zM352 64c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7 14.3 32 32 32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H352V64zM320 320c-17.7 0-32 14.3-32 32v96c0 17.7 14.3 32 32 32s32-14.3 32-32V384h64c17.7 0 32-14.3 32-32s-14.3-32-32-32H320z"/></svg>',volume:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 640 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M533.6 32.5C598.5 85.3 640 165.8 640 256s-41.5 170.8-106.4 223.5c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C557.5 398.2 592 331.2 592 256s-34.5-142.2-88.7-186.3c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zM473.1 107c43.2 35.2 70.9 88.9 70.9 149s-27.7 113.8-70.9 149c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C475.3 341.3 496 301.1 496 256s-20.7-85.3-53.2-111.8c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zm-60.5 74.5C434.1 199.1 448 225.9 448 256s-13.9 56.9-35.4 74.5c-10.3 8.4-25.4 6.8-33.8-3.5s-6.8-25.4 3.5-33.8C393.1 284.4 400 271 400 256s-6.9-28.4-17.7-37.3c-10.3-8.4-11.8-23.5-3.5-33.8s23.5-11.8 33.8-3.5zM301.1 34.8C312.6 40 320 51.4 320 64V448c0 12.6-7.4 24-18.9 29.2s-25 3.1-34.4-5.3L131.8 352H64c-35.3 0-64-28.7-64-64V224c0-35.3 28.7-64 64-64h67.8L266.7 40.1c9.4-8.4 22.9-10.4 34.4-5.3z"/></svg>',volume_x:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 576 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M301.1 34.8C312.6 40 320 51.4 320 64V448c0 12.6-7.4 24-18.9 29.2s-25 3.1-34.4-5.3L131.8 352H64c-35.3 0-64-28.7-64-64V224c0-35.3 28.7-64 64-64h67.8L266.7 40.1c9.4-8.4 22.9-10.4 34.4-5.3zM425 167l55 55 55-55c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-55 55 55 55c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-55-55-55 55c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l55-55-55-55c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0z"/></svg>',x:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 320 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z"/></svg>',edit:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M362.7 19.3L314.3 67.7 444.3 197.7l48.4-48.4c25-25 25-65.5 0-90.5L453.3 19.3c-25-25-65.5-25-90.5 0zm-71 71L58.6 323.5c-10.4 10.4-18 23.3-22.2 37.4L1 481.2C-1.5 489.7 .8 498.8 7 505s15.3 8.5 23.7 6.1l120.3-35.4c14.1-4.2 27-11.8 37.4-22.2L421.7 220.3 291.7 90.3z"/></svg>',bookmark_outline:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 384 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path fill="currentColor" d="M336 0h-288C21.49 0 0 21.49 0 48v431.9c0 24.7 26.79 40.08 48.12 27.64L192 423.6l143.9 83.93C357.2 519.1 384 504.6 384 479.9V48C384 21.49 362.5 0 336 0zM336 452L192 368l-144 84V54C48 50.63 50.63 48 53.1 48h276C333.4 48 336 50.63 336 54V452z"/></svg>',airplay:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-airplay"><path d="M5 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-1"></path><polygon fill="currentColor" points="12 15 17 21 7 21 12 15"></polygon></svg>',episodes:'<svg width="1em" height="1em" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M3 4C1.34315 4 0 5.34314 0 7V13.9496C0 15.6065 1.34315 16.9496 3 16.9496H5.86645V14.9496H3C2.44772 14.9496 2 14.5019 2 13.9496V7C2 6.44771 2.44771 6 3 6H16.0327C16.585 6 17.0327 6.44772 17.0327 7V9.86645H19.0327V7C19.0327 5.34315 17.6896 4 16.0327 4H3Z" fill="currentColor"/><rect x="5.89929" y="10.5444" width="17" height="10" rx="2" stroke="currentColor" stroke-width="2"/></svg>',skip_forward:'<svg width="1em" height="1em" viewBox="0 0 26 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M11.3333 12.3333L16 7.66667M16 7.66667L11.3333 3M16 7.66667H6.66667C5.42899 7.66667 4.242 8.15833 3.36684 9.0335C2.49167 9.90867 2 11.0957 2 12.3333C2 13.571 2.49167 14.758 3.36684 15.6332C4.242 16.5083 5.42899 17 6.66667 17H9" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" /><path d="M16.5043 14.2727V23H14.6591V16.0241H14.608L12.6094 17.277V15.6406L14.7699 14.2727H16.5043ZM22.0004 23.1918C21.2674 23.1889 20.6367 23.0085 20.1083 22.6506C19.5827 22.2926 19.1779 21.7741 18.8938 21.0952C18.6126 20.4162 18.4734 19.5994 18.4762 18.6449C18.4762 17.6932 18.6168 16.8821 18.8981 16.2116C19.1822 15.5412 19.587 15.0312 20.1126 14.6818C20.641 14.3295 21.2702 14.1534 22.0004 14.1534C22.7305 14.1534 23.3583 14.3295 23.8839 14.6818C24.4123 15.0341 24.8185 15.5455 25.1026 16.2159C25.3867 16.8835 25.5273 17.6932 25.5245 18.6449C25.5245 19.6023 25.3825 20.4205 25.0984 21.0994C24.8171 21.7784 24.4137 22.2969 23.8881 22.6548C23.3626 23.0128 22.7333 23.1918 22.0004 23.1918ZM22.0004 21.6619C22.5004 21.6619 22.8995 21.4105 23.1978 20.9077C23.4961 20.4048 23.6438 19.6506 23.641 18.6449C23.641 17.983 23.5728 17.4318 23.4364 16.9915C23.3029 16.5511 23.1126 16.2202 22.8654 15.9986C22.6211 15.777 22.3327 15.6662 22.0004 15.6662C21.5032 15.6662 21.1055 15.9148 20.8072 16.4119C20.5089 16.9091 20.3583 17.6534 20.3555 18.6449C20.3555 19.3153 20.4222 19.875 20.5558 20.3239C20.6921 20.7699 20.8839 21.1051 21.131 21.3295C21.3782 21.5511 21.668 21.6619 22.0004 21.6619Z" fill="currentColor" /></svg>',skip_backward:'<svg width="1em" height="1em" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.6667 12.3333L9 7.66667M9 7.66667L13.6667 3M9 7.66667H18.3333C19.571 7.66667 20.758 8.15833 21.6332 9.0335C22.5083 9.90867 23 11.0957 23 12.3333C23 13.571 22.5083 14.758 21.6332 15.6332C20.758 16.5083 19.571 17 18.3333 17H16" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M4.50426 14.2727V23H2.65909V16.0241H2.60795L0.609375 17.277V15.6406L2.76989 14.2727H4.50426ZM10.0004 23.1918C9.2674 23.1889 8.63672 23.0085 8.10831 22.6506C7.58274 22.2926 7.17791 21.7741 6.89382 21.0952C6.61257 20.4162 6.47337 19.5994 6.47621 18.6449C6.47621 17.6932 6.61683 16.8821 6.89808 16.2116C7.18217 15.5412 7.587 15.0312 8.11257 14.6818C8.64098 14.3295 9.27024 14.1534 10.0004 14.1534C10.7305 14.1534 11.3583 14.3295 11.8839 14.6818C12.4123 15.0341 12.8185 15.5455 13.1026 16.2159C13.3867 16.8835 13.5273 17.6932 13.5245 18.6449C13.5245 19.6023 13.3825 20.4205 13.0984 21.0994C12.8171 21.7784 12.4137 22.2969 11.8881 22.6548C11.3626 23.0128 10.7333 23.1918 10.0004 23.1918ZM10.0004 21.6619C10.5004 21.6619 10.8995 21.4105 11.1978 20.9077C11.4961 20.4048 11.6438 19.6506 11.641 18.6449C11.641 17.983 11.5728 17.4318 11.4364 16.9915C11.3029 16.5511 11.1126 16.2202 10.8654 15.9986C10.6211 15.777 10.3327 15.6662 10.0004 15.6662C9.5032 15.6662 9.10547 15.9148 8.80717 16.4119C8.50888 16.9091 8.35831 17.6534 8.35547 18.6449C8.35547 19.3153 8.42223 19.875 8.55575 20.3239C8.69212 20.7699 8.88388 21.1051 9.13104 21.3295C9.3782 21.5511 9.66797 21.6619 10.0004 21.6619Z" fill="currentColor"/></svg>',file:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>',captions:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 25 20"><path transform="translate(-3 -6)" d="M25.5,6H5.5A2.507,2.507,0,0,0,3,8.5v15A2.507,2.507,0,0,0,5.5,26h20A2.507,2.507,0,0,0,28,23.5V8.5A2.507,2.507,0,0,0,25.5,6ZM5.5,16h5v2.5h-5ZM18,23.5H5.5V21H18Zm7.5,0h-5V21h5Zm0-5H13V16H25.5Z" fill="currentColor"/></svg>',link:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg>',circle_exclamation:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zm0-384c13.3 0 24 10.7 24 24V264c0 13.3-10.7 24-24 24s-24-10.7-24-24V152c0-13.3 10.7-24 24-24zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"/></svg>',casting:"",download:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-download"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>',gear:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M481.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-30.9 28.1c-7.7 7.1-11.4 17.5-10.9 27.9c.1 2.9 .2 5.8 .2 8.8s-.1 5.9-.2 8.8c-.5 10.5 3.1 20.9 10.9 27.9l30.9 28.1c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-39.7-12.6c-10-3.2-20.8-1.1-29.7 4.6c-4.9 3.1-9.9 6.1-15.1 8.7c-9.3 4.8-16.5 13.2-18.8 23.4l-8.9 40.7c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-8.9-40.7c-2.2-10.2-9.5-18.6-18.8-23.4c-5.2-2.7-10.2-5.6-15.1-8.7c-8.8-5.7-19.7-7.8-29.7-4.6L69.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l30.9-28.1c7.7-7.1 11.4-17.5 10.9-27.9c-.1-2.9-.2-5.8-.2-8.8s.1-5.9 .2-8.8c.5-10.5-3.1-20.9-10.9-27.9L8.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l39.7 12.6c10 3.2 20.8 1.1 29.7-4.6c4.9-3.1 9.9-6.1 15.1-8.7c9.3-4.8 16.5-13.2 18.8-23.4l8.9-40.7c2-9.1 9-16.3 18.2-17.8C213.3 1.2 227.5 0 242 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l8.9 40.7c2.2 10.2 9.4 18.6 18.8 23.4c5.2 2.7 10.2 5.6 15.1 8.7c8.8 5.7 19.7 7.7 29.7 4.6l39.7-12.6c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM242 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"/></svg>',watch_party:'<svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 448 512"><!--! Font Awesome Pro 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M319.4 372c48.5-31.3 80.6-85.9 80.6-148c0-97.2-78.8-176-176-176S48 126.8 48 224c0 62.1 32.1 116.6 80.6 148c1.2 17.3 4 38 7.2 57.1l.2 1C56 395.8 0 316.5 0 224C0 100.3 100.3 0 224 0S448 100.3 448 224c0 92.5-56 171.9-136 206.1l.2-1.1c3.1-19.2 6-39.8 7.2-57zm-2.3-38.1c-1.6-5.7-3.9-11.1-7-16.2c-5.8-9.7-13.5-17-21.9-22.4c19.5-17.6 31.8-43 31.8-71.3c0-53-43-96-96-96s-96 43-96 96c0 28.3 12.3 53.8 31.8 71.3c-8.4 5.4-16.1 12.7-21.9 22.4c-3.1 5.1-5.4 10.5-7 16.2C99.8 307.5 80 268 80 224c0-79.5 64.5-144 144-144s144 64.5 144 144c0 44-19.8 83.5-50.9 109.9zM224 312c32.9 0 64 8.6 64 43.8c0 33-12.9 104.1-20.6 132.9c-5.1 19-24.5 23.4-43.4 23.4s-38.2-4.4-43.4-23.4c-7.8-28.5-20.6-99.7-20.6-132.8c0-35.1 31.1-43.8 64-43.8zm0-144a56 56 0 1 1 0 112 56 56 0 1 1 0-112z"/></svg>',pictureInPicture:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" width="1em" fill="currentColor" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 7h-8v6h8V7zm2-4H3c-1.1 0-2 .9-2 2v14c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98V5c0-1.1-.9-2-2-2zm0 16.01H3V4.98h18v14.03z"/></svg>',checkmark:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" width="1em" fill="currentColor" viewBox="0 0 24 24"><path d="M9 22l-10-10.598 2.798-2.859 7.149 7.473 13.144-14.016 2.909 2.806z" /></svg>',tachometer:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" width="1em" fill="currentColor" viewBox="0 0 576 512"><!-- Font Awesome Pro 5.15.4 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) --><path d="M128 288c-17.67 0-32 14.33-32 32s14.33 32 32 32 32-14.33 32-32-14.33-32-32-32zm154.65-97.08l16.24-48.71c1.16-3.45 3.18-6.35 4.92-9.43-4.73-2.76-9.94-4.78-15.81-4.78-17.67 0-32 14.33-32 32 0 15.78 11.63 28.29 26.65 30.92zM176 176c-17.67 0-32 14.33-32 32s14.33 32 32 32 32-14.33 32-32-14.33-32-32-32zM288 32C128.94 32 0 160.94 0 320c0 52.8 14.25 102.26 39.06 144.8 5.61 9.62 16.3 15.2 27.44 15.2h443c11.14 0 21.83-5.58 27.44-15.2C561.75 422.26 576 372.8 576 320c0-159.06-128.94-288-288-288zm212.27 400H75.73C57.56 397.63 48 359.12 48 320 48 187.66 155.66 80 288 80s240 107.66 240 240c0 39.12-9.56 77.63-27.73 112zM416 320c0 17.67 14.33 32 32 32s32-14.33 32-32-14.33-32-32-32-32 14.33-32 32zm-56.41-182.77c-12.72-4.23-26.16 2.62-30.38 15.17l-45.34 136.01C250.49 290.58 224 318.06 224 352c0 11.72 3.38 22.55 8.88 32h110.25c5.5-9.45 8.88-20.28 8.88-32 0-19.45-8.86-36.66-22.55-48.4l45.34-136.01c4.17-12.57-2.64-26.17-15.21-30.36zM432 208c0-15.8-11.66-28.33-26.72-30.93-.07.21-.07.43-.14.65l-19.5 58.49c4.37 2.24 9.11 3.8 14.36 3.8 17.67-.01 32-14.34 32-32.01z"/></svg>'};function vMe(){const t=A.useRef(null);return A.useEffect(()=>{var r;const e=document.createElement("google-cast-launcher");e.setAttribute("id","castbutton"),(r=t.current)==null||r.appendChild(e)},[]),_("div",{ref:t,className:"h-6"})}const Ge=A.memo(t=>t.icon==="casting"?_(vMe,{}):_("span",{dangerouslySetInnerHTML:{__html:mMe[t.icon]},className:t.className}));function tn(t){const e=t.clickable?"cursor-pointer hover:scale-110 hover:bg-denim-600 hover:text-white active:scale-125":"",r=t.transparent?"bg-opacity-0 hover:bg-opacity-50":"",n=t.active?"border-bink-600 bg-bink-100 text-bink-600":"";return _("div",{className:t.className||void 0,onClick:t.onClick,children:_("div",{className:`flex h-12 w-12 items-center justify-center rounded-full border-2 border-transparent bg-denim-500 transition-[background-color,color,transform,border-color] duration-75 ${r} ${e} ${n}`,children:_(Ge,{icon:t.icon})})})}function d1(t){const e=!!t.url,r=!!t.to,n=_("span",{className:"cursor-pointer font-bold text-bink-600 hover:text-bink-700",children:t.children});return e?_("a",{target:t.newTab?"_blank":void 0,rel:"noreferrer",href:t.url,children:n}):r?_(ng,{to:t.to,children:n}):_("span",{onClick:()=>t.onClick&&t.onClick(),children:n})}function ig(t){return _("h1",{className:`text-2xl font-bold text-white sm:text-3xl md:text-4xl ${t.className??""}`,children:t.children})}const yMe="3.0.15",xMe="https://discord.gg/Jhqt4Xzpfb",EMe="https://github.com/movie-web/movie-web",_Me="G-44YVXRL61C",bMe="https://b267ab7d52674c23af4e4e6cf2956251@o4505053491167232.ingest.sentry.io/4505053495296000",SMe={OMDB_API_KEY:{}.VITE_OMDB_API_KEY,TMDB_API_KEY:{}.VITE_TMDB_API_KEY,APP_VERSION:void 0,GITHUB_LINK:void 0,DISCORD_LINK:void 0,CORS_PROXY_URL:{}.VITE_CORS_PROXY_URL,NORMAL_ROUTER:{}.VITE_NORMAL_ROUTER},g6=[];function Om(t,e){var i;let r=(i=window==null?void 0:window.__CONFIG__)==null?void 0:i[`VITE_${t}`];r!==void 0&&r.length===0&&(r=void 0);const n=SMe[t]??r??void 0;return n===void 0?e||(g6.includes(t)||(window.alert(`Misconfigured instance, missing key: ${t}`),g6.push(t)),""):n}function Cr(){return{APP_VERSION:yMe,GITHUB_LINK:EMe,DISCORD_LINK:xMe,OMDB_API_KEY:Om("OMDB_API_KEY"),TMDB_API_KEY:Om("TMDB_API_KEY"),PROXY_URLS:Om("CORS_PROXY_URL").split(",").map(t=>t.trim()),NORMAL_ROUTER:Om("NORMAL_ROUTER","false")==="true"}}function TMe(t){return Y("div",{className:"w-4xl mt-12 max-w-full rounded bg-denim-300 px-6 py-4",children:[Y("p",{className:"mb-1 break-words font-bold text-white",children:[t.error.name," - ",t.error.description]}),_("p",{className:"break-words",children:t.error.path})]})}function Hk(t){const{t:e}=Ce();return Y("div",{className:`${t.localSize?"h-full":"min-h-screen"} flex w-full flex-col items-center justify-center px-4 py-12`,children:[Y("div",{className:"flex flex-col items-center justify-start text-center",children:[_(tn,{icon:ce.WARNING,className:"mb-6 text-red-400"}),_(ig,{children:e("media.errors.genericTitle")}),t.children?_("p",{className:"my-6 max-w-lg",children:t.children}):_("p",{className:"my-6 max-w-lg",children:Y(jk,{i18nKey:"media.errors.videoFailed",children:[_(d1,{url:Cr().DISCORD_LINK,newTab:!0}),_(d1,{url:Cr().GITHUB_LINK,newTab:!0})]})})]}),t.error?_(TMe,{error:t.error}):null]})}class wMe extends A.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,r){if(console.error("Render error caught",e,r),e instanceof Error){const n=e;this.setState(i=>({...i,hasError:!0,error:{name:n.name,description:n.message,path:r.componentStack.split(`
`)[1]}}))}}render(){return this.state.hasError?_(Hk,{error:this.state.error}):this.props.children}}var ve=(t=>(t.MOVIE="movie",t.SERIES="series",t.ANIME="anime",t))(ve||{}),h1=function(){return h1=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},h1.apply(this,arguments)};function RMe(){var t=A.useRef(!1),e=A.useCallback(function(){return t.current},[]);return A.useEffect(function(){return t.current=!0,function(){t.current=!1}},[]),e}function AMe(t,e,r){e===void 0&&(e=[]),r===void 0&&(r={loading:!1});var n=A.useRef(0),i=RMe(),a=A.useState(r),s=a[0],o=a[1],c=A.useCallback(function(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];var f=++n.current;return s.loading||o(function(d){return h1(h1({},d),{loading:!0})}),t.apply(void 0,l).then(function(d){return i()&&f===n.current&&o({value:d,loading:!1}),d},function(d){return i()&&f===n.current&&o({error:d,loading:!1}),d})},e);return[s,c]}function IMe(t,e){e===void 0&&(e=[]);var r=AMe(t,e,{loading:!0}),n=r[0],i=r[1];return A.useEffect(function(){i()},[i]),n}var $Me=function(){},jY=typeof window<"u",CMe=jY?A.useLayoutEffect:A.useEffect;const kMe=CMe;var HY={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function OMe(){var t=A.useState(null),e=t[0],r=t[1],n=A.useState(HY),i=n[0],a=n[1],s=A.useMemo(function(){return new window.ResizeObserver(function(o){if(o[0]){var c=o[0].contentRect,l=c.x,u=c.y,f=c.width,d=c.height,h=c.top,p=c.left,m=c.bottom,g=c.right;a({x:l,y:u,width:f,height:d,top:h,left:p,bottom:m,right:g})}})},[]);return kMe(function(){if(e)return s.observe(e),function(){s.disconnect()}},[e]),[r,i]}const LMe=jY&&typeof window.ResizeObserver<"u"?OMe:function(){return[$Me,HY]},Gk=A.createContext(null);function PMe(t){const[e,r]=A.useState([]),n=A.useMemo(()=>[e,r],[e]);return _(Gk.Provider,{value:n,children:t.children})}function NMe(t){const[e,{height:r}]=LMe(),[n,i]=A.useContext(Gk);return A.useEffect(()=>(i(a=>[...a,{id:t,height:0}]),i(a=>{const s=a.find(o=>o.id===t);return s&&(s.height=r),a}),()=>{i(a=>a.filter(s=>s.id!==t))}),[r,t,i]),[e]}function ZE(){const[t]=A.useContext(Gk);return t.reduce((e,r)=>e+r.height,0)}function DMe(t){const[e]=NMe("internet"),r={error:"bg-[#C93957] text-white"},n={error:ce.CIRCLE_EXCLAMATION};return _("div",{ref:e,children:_("div",{className:[r[t.type],"flex items-center justify-center p-1"].join(" "),children:Y("div",{className:"flex items-center space-x-3",children:[_(Ge,{icon:n[t.type]}),_("div",{children:t.children})]})})})}function MMe(){const[t,e]=A.useState(!0),r=A.useRef(!0);return A.useEffect(()=>{let n=0,i=null;const a=setInterval(()=>{if(n+=1,r.current&&n<10)return;n=0,i&&i.abort(),i=new AbortController;const s=i.signal;fetch("/ping.txt",{signal:s}).then(()=>{e(!0),r.current=!0}).catch(o=>{o.name!=="AbortError"&&(e(!1),r.current=!1)})},5e3);return()=>{clearInterval(a),i&&i.abort()}},[]),t}function FMe(t){const{t:e}=Ce(),r=MMe(),n=ZE();return Y("div",{children:[_("div",{className:"fixed inset-x-0 z-[1000]",children:r?null:_(DMe,{type:"error",children:e("errors.offline")})}),_("div",{style:{paddingTop:`${n}px`},className:"flex min-h-screen flex-col",children:t.children})]})}const Os={},GY={};async function BMe(){var t,e;for(const[r,n]of Object.values(GY)){const i=n.versions.sort((l,u)=>l.version-u.version),a=r._raw(),s=a["--version"]&&typeof a["--version"]=="number"?a["--version"]:0,o=i.filter(l=>l.version>=s);let c=a;try{for(const l of o)l.migrate&&(c=await l.migrate(c))}catch(l){console.error(`FAILED TO MIGRATE STORE ${n.key}`,l),c=((e=(t=o[o.length-1]).create)==null?void 0:e.call(t))??{}}r.save(c)}}function UMe(t){const e=t.key??"",r=t.versions.sort((o,c)=>c.version-o.version)[0];function n(o){return Os[e]||(Os[e]=[]),Os[e].push(o),{destroy(){Os[e]=Os[e].filter(c=>c===o)}}}function i(){var c;const o=((c=r.create)==null?void 0:c.call(r))??{};return o["--version"]=r.version,o}function a(){const o=localStorage.getItem(e);if(!o)return i();try{return JSON.parse(o)}catch(c){return console.error(`FAILED TO PARSE LOCALSTORAGE FOR KEY ${e}`,c),i()}}function s(o){const c={...o};c["--version"]=r.version,localStorage.setItem(e,JSON.stringify(c)),Os[e]||(Os[e]=[]),Os[e].forEach(l=>l(window.structuredClone(o)))}return{get(){const o=a();return delete o["--version"],o},_raw(){return a()},onChange:n,save:s}}function jMe(t){var n;const e=t.versions.sort((i,a)=>i.version-a.version);if(e.forEach((i,a,s)=>{if(a!==0&&i.version!==s[a-1].version+1)throw new Error("Version list of store is not incremental")}),e.forEach(i=>{if(i.version<0)throw new Error("Versions cannot be negative")}),((n=e[0])==null?void 0:n.version)!==0)throw new Error("Version 0 doesn't exist in version list of store");if(!t.versions[t.versions.length-1].create)throw new Error("Missing create function on latest version of store");if(!t.key)throw new Error("storage key not set in store");const r=[...e];r.pop(),r.forEach(i=>{if(!i.migrate)throw new Error(`Migration missing on version ${i.version}`)})}function JE(){const t={versions:[],key:null};return{setKey(e){return t.key=e,this},addVersion(e){return t.versions.push(e),this},build(){jMe(t);const e=UMe(t);return GY[t.key??""]=[e,t],e}}}function zk(t){const[e,r]=A.useState(t.get());A.useEffect(()=>{const{destroy:i}=t.onChange(a=>{r(a)});return()=>{i()}},[t]);function n(i){const a=i(e);t.save(a)}return[e,n]}const HMe=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,GMe=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,zMe=/^\s*["[{]|^\s*-?\d[\d.]{0,14}\s*$/;function VMe(t,e){if(t!=="__proto__"&&!(t==="constructor"&&e&&typeof e=="object"&&"prototype"in e))return e}function WMe(t,e={}){if(typeof t!="string")return t;const r=t.toLowerCase().trim();if(r==="true")return!0;if(r==="false")return!1;if(r==="null")return null;if(r==="nan")return Number.NaN;if(r==="infinity")return Number.POSITIVE_INFINITY;if(r!=="undefined"){if(!zMe.test(t)){if(e.strict)throw new SyntaxError("Invalid JSON");return t}try{return HMe.test(t)||GMe.test(t)?JSON.parse(t,VMe):JSON.parse(t)}catch(n){if(e.strict)throw n;return t}}}const KMe=/#/g,YMe=/&/g,qMe=/=/g,zY=/\+/g,XMe=/%5e/gi,QMe=/%60/gi,ZMe=/%7c/gi,JMe=/%20/gi;function eFe(t){return encodeURI(""+t).replace(ZMe,"|")}function cA(t){return eFe(typeof t=="string"?t:JSON.stringify(t)).replace(zY,"%2B").replace(JMe,"+").replace(KMe,"%23").replace(YMe,"%26").replace(QMe,"`").replace(XMe,"^")}function bT(t){return cA(t).replace(qMe,"%3D")}function VY(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function tFe(t){return VY(t.replace(zY," "))}function rFe(t=""){const e={};t[0]==="?"&&(t=t.slice(1));for(const r of t.split("&")){const n=r.match(/([^=]+)=?(.*)/)||[];if(n.length<2)continue;const i=VY(n[1]);if(i==="__proto__"||i==="constructor")continue;const a=tFe(n[2]||"");typeof e[i]<"u"?Array.isArray(e[i])?e[i].push(a):e[i]=[e[i],a]:e[i]=a}return e}function nFe(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(r=>`${bT(t)}=${cA(r)}`).join("&"):`${bT(t)}=${cA(e)}`:bT(t)}function iFe(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>nFe(e,t[e])).join("&")}const aFe=/^\w{2,}:([/\\]{1,2})/,sFe=/^\w{2,}:([/\\]{2})?/,oFe=/^([/\\]\s*){2,}[^/\\]/;function WY(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?aFe.test(t):sFe.test(t)||(e.acceptRelative?oFe.test(t):!1)}const lFe=/\/$|\/\?/;function uA(t="",e=!1){return e?lFe.test(t):t.endsWith("/")}function cFe(t="",e=!1){if(!e)return(uA(t)?t.slice(0,-1):t)||"/";if(!uA(t,!0))return t||"/";const[r,...n]=t.split("?");return(r.slice(0,-1)||"/")+(n.length>0?`?${n.join("?")}`:"")}function uFe(t="",e=!1){if(!e)return t.endsWith("/")?t:t+"/";if(uA(t,!0))return t||"/";const[r,...n]=t.split("?");return r+"/"+(n.length>0?`?${n.join("?")}`:"")}function fFe(t=""){return t.startsWith("/")}function dFe(t=""){return(fFe(t)?t.slice(1):t)||"/"}function hFe(t,e){if(gFe(e)||WY(t))return t;const r=cFe(e);return t.startsWith(r)?t:vFe(r,t)}function pFe(t,e){const r=KY(t),n={...rFe(r.search),...e};return r.search=iFe(n),yFe(r)}function gFe(t){return!t||t==="/"}function mFe(t){return t&&t!=="/"}function vFe(t,...e){let r=t||"";for(const n of e.filter(i=>mFe(i)))r=r?uFe(r)+dFe(n):n;return r}function KY(t="",e){if(!WY(t,{acceptRelative:!0}))return e?KY(e+t):m6(t);const[r="",n,i=""]=(t.replace(/\\/g,"/").match(/([^/:]+:)?\/\/([^/@]+@)?(.*)/)||[]).splice(1),[a="",s=""]=(i.match(/([^#/?]*)(.*)?/)||[]).splice(1),{pathname:o,search:c,hash:l}=m6(s.replace(/\/(?=[A-Za-z]:)/,""));return{protocol:r,auth:n?n.slice(0,Math.max(0,n.length-1)):"",host:a,pathname:o,search:c,hash:l}}function m6(t=""){const[e="",r="",n=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:r,hash:n}}function yFe(t){const e=t.pathname+(t.search?(t.search.startsWith("?")?"":"?")+t.search:"")+t.hash;return t.protocol?t.protocol+"//"+(t.auth?t.auth+"@":"")+t.host+e:e}let YY=class extends Error{constructor(){super(...arguments),this.name="FetchError"}};function xFe(t,e,r){let n="";e&&(n=e.message),t&&r?n=`${n} (${r.status} ${r.statusText} (${t.toString()}))`:t&&(n=`${n} (${t.toString()})`);const i=new YY(n);return Object.defineProperty(i,"request",{get(){return t}}),Object.defineProperty(i,"response",{get(){return r}}),Object.defineProperty(i,"data",{get(){return r&&r._data}}),Object.defineProperty(i,"status",{get(){return r&&r.status}}),Object.defineProperty(i,"statusText",{get(){return r&&r.statusText}}),Object.defineProperty(i,"statusCode",{get(){return r&&r.status}}),Object.defineProperty(i,"statusMessage",{get(){return r&&r.statusText}}),i}const EFe=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function v6(t="GET"){return EFe.has(t.toUpperCase())}function _Fe(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const bFe=new Set(["image/svg","application/xml","application/xhtml","application/html"]),SFe=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function TFe(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return SFe.test(e)?"json":bFe.has(e)||e.startsWith("text/")?"text":"blob"}const wFe=new Set([408,409,425,429,500,502,503,504]);function qY(t){const{fetch:e,Headers:r}=t;function n(s){const o=s.error&&s.error.name==="AbortError"||!1;if(s.options.retry!==!1&&!o){let l;typeof s.options.retry=="number"?l=s.options.retry:l=v6(s.options.method)?0:1;const u=s.response&&s.response.status||500;if(l>0&&wFe.has(u))return i(s.request,{...s.options,retry:l-1})}const c=xFe(s.request,s.error,s.response);throw Error.captureStackTrace&&Error.captureStackTrace(c,i),c}const i=async function(o,c={}){const l={request:o,options:{...t.defaults,...c},response:void 0,error:void 0};l.options.onRequest&&await l.options.onRequest(l),typeof l.request=="string"&&(l.options.baseURL&&(l.request=hFe(l.request,l.options.baseURL)),(l.options.query||l.options.params)&&(l.request=pFe(l.request,{...l.options.params,...l.options.query})),l.options.body&&v6(l.options.method)&&_Fe(l.options.body)&&(l.options.body=typeof l.options.body=="string"?l.options.body:JSON.stringify(l.options.body),l.options.headers=new r(l.options.headers),l.options.headers.has("content-type")||l.options.headers.set("content-type","application/json"),l.options.headers.has("accept")||l.options.headers.set("accept","application/json"))),l.response=await e(l.request,l.options).catch(async f=>(l.error=f,l.options.onRequestError&&await l.options.onRequestError(l),n(l)));const u=(l.options.parseResponse?"json":l.options.responseType)||TFe(l.response.headers.get("content-type")||"");if(u==="json"){const f=await l.response.text(),d=l.options.parseResponse||WMe;l.response._data=d(f)}else u==="stream"?l.response._data=l.response.body:l.response._data=await l.response[u]();return l.options.onResponse&&await l.options.onResponse(l),l.response.status>=400&&l.response.status<600?(l.options.onResponseError&&await l.options.onResponseError(l),n(l)):l.response},a=function(o,c){return i(o,c).then(l=>l._data)};return a.raw=i,a.native=e,a.create=(s={})=>qY({...t,defaults:{...t.defaults,...s}}),a}const XY=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),RFe=XY.fetch||(()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!"))),AFe=XY.Headers,IFe=qY({fetch:RFe,Headers:AFe}),fA="https://apis.justwatch.com",$Fe="https://images.justwatch.com";function Vk(t){if(t===ve.MOVIE)return"movie";if(t===ve.SERIES)return"show";throw new Error("unsupported type")}function QY(t){if(t==="movie")return ve.MOVIE;if(t==="show")return ve.SERIES;throw new Error("unsupported type")}function ZY(t,e){var i,a;const r=QY(t.object_type);let n;return r===ve.SERIES&&(n=(i=t.seasons)==null?void 0:i.sort((s,o)=>s.season_number-o.season_number).map(s=>({id:s.id.toString(),number:s.season_number,title:s.title}))),{title:t.title,id:t.id.toString(),year:(a=t.original_release_year)==null?void 0:a.toString(),poster:t.poster?`${$Fe}${t.poster.replace("{profile}","s166")}`:void 0,type:r,seasons:n,seasonData:e?{id:e.id.toString(),number:e.season_number,title:e.title,episodes:e.episodes.sort((s,o)=>s.episode_number-o.episode_number).map(s=>({id:s.id.toString(),number:s.episode_number,title:s.title}))}:void 0}}function CFe(t){return["JW",Vk(t.type),t.id].join("-")}function JY(t){const[e,r,n]=t.split("-",3);if(e!=="JW")return null;let i;try{i=QY(r)}catch{return null}return{type:i,id:n}}let ST=Math.floor(Math.random()*Cr().PROXY_URLS.length);function eq(){const t=Cr().PROXY_URLS[ST];return ST=(ST+1)%Cr().PROXY_URLS.length,t}const Wk=IFe.create({retry:0});function y6(t,e){let r=t;return Object.entries(e).forEach(([n,i])=>{r=r.replace(`{${n}}`,encodeURIComponent(i))}),r}function Wv(t,e={}){return Wk(t,e)}function et(t,e={}){let r=(e==null?void 0:e.baseURL)??"";r.length>0&&r.endsWith("/")&&t.startsWith("/")?r+=t.slice(1):r.length>0&&!r.endsWith("/")&&!t.startsWith("/")?r+=`/${t}`:r+=t;const n=new URL(r);return Object.entries((e==null?void 0:e.params)??{}).forEach(([i,a])=>{n.searchParams.set(i,a)}),Wk(eq(),{...e,baseURL:void 0,params:{destination:n.toString()}})}function kFe(t,e={}){let r=(e==null?void 0:e.baseURL)??"";r.length>0&&r.endsWith("/")&&t.startsWith("/")?r+=t.slice(1):r.length>0&&!r.endsWith("/")&&!t.startsWith("/")?r+=`/${t}`:r+=t;const n=new URL(r);return Object.entries((e==null?void 0:e.params)??{}).forEach(([i,a])=>{n.searchParams.set(i,a)}),Wk.raw(eq(),{...e,baseURL:void 0,params:{destination:n.toString()}})}async function p1(t,e,r){var c,l,u,f,d;const n=Vk(t);let i;try{const h=y6("/content/titles/{type}/{id}/locale/en_US",{type:n,id:e});i=await et(h,{baseURL:fA})}catch(h){if(h instanceof YY&&(h.statusCode===400||h.statusCode===404))return null;throw h}let a=(c=i.external_ids.find(h=>h.provider==="imdb_latest"))==null?void 0:c.external_id;a||(a=(l=i.external_ids.find(h=>h.provider==="imdb"))==null?void 0:l.external_id);let s=(u=i.external_ids.find(h=>h.provider==="tmdb_latest"))==null?void 0:u.external_id;s||(s=(f=i.external_ids.find(h=>h.provider==="tmdb"))==null?void 0:f.external_id);let o;if(i.object_type==="show"){const h=r??((d=i.seasons)==null?void 0:d[0].id.toString())??"",p=y6("/content/titles/show_season/{id}/locale/en_US",{id:h});o=await et(p,{baseURL:fA})}return{meta:ZY(i,o),imdbId:a,tmdbId:s}}class OFe{constructor(){this.INTERVAL_MS=2*60*1e3,this._interval=null,this._compare=null,this._storage=[]}initialize(){if(this._interval)throw new Error("cache is already initialized");this._interval=setInterval(()=>{const e=new Date;this._storage.filter(r=>!(r.expiry<e))},this.INTERVAL_MS)}destroy(){this._interval&&clearInterval(this._interval),this.clear()}setCompare(e){this._compare=e}has(e){return!!this.get(e)}get(e){if(!this._compare)throw new Error("Compare function not set");const r=this._storage.find(n=>this._compare&&this._compare(n.key,e));if(r)return r.value}set(e,r,n){if(!this._compare)throw new Error("Compare function not set");const i=this._storage.find(s=>this._compare&&this._compare(s.key,e)),a=new Date(new Date().getTime()+n*1e3);if(i){i.key=e,i.value=r,i.expiry=a;return}this._storage.push({key:e,value:r,expiry:a})}remove(e){if(!this._compare)throw new Error("Compare function not set");this._storage.filter(r=>!(this._compare&&this._compare(r.key,e)))}clear(){this._storage=[]}}const Xh=new OFe;Xh.setCompare((t,e)=>t.type===e.type&&t.searchQuery.trim()===e.searchQuery.trim());Xh.initialize();async function tq(t){if(Xh.has(t))return Xh.get(t);const{searchQuery:e,type:r}=t,i={content_types:[Vk(r)],page:1,query:e,page_size:40},s=(await et("/content/titles/en_US/popular",{baseURL:fA,params:{body:JSON.stringify(i)}})).items.map(o=>ZY(o));return Xh.set(t,s,3600),s}function dA(t){return t.trim().toLowerCase().replace(/['":]/g,"").replace(/[^a-zA-Z0-9]+/g,"_")}function Kk(t,e){return dA(t)===dA(e)}async function rq(t,e){const r=(a,s)=>Math.abs(a-s)<=1,n={},i=await Promise.all(Object.values(t).map(async a=>{const s=Number(a.year.toString().split("-")[0]),c=(await tq({searchQuery:`${a.title} ${s}`,type:a.mediaType})).find(l=>r(Number(l.year),s)&&Kk(l.title,a.title));if(!c){console.error(`No item found for migration: ${a.title}`);return}return{id:a.mediaId,data:c}}));for(const a of i.filter(Boolean)){if(!a)continue;let s=[["0","0"]];if(a.data.type==="series"){const o=await p1(a.data.type,a.data.id);if(!o||!(o!=null&&o.meta.seasons))return;s=[...new Set(e!=null&&e.items?e.items.filter(u=>u.mediaId===a.id).map(u=>u.seasonId):["0"])].map(u=>{var f,d;return{num:u,season:(d=(f=o.meta)==null?void 0:f.seasons)==null?void 0:d[Math.max(0,u-1)]}}).map(u=>{var f;return u?[u.num,(f=u==null?void 0:u.season)==null?void 0:f.id]:[]}).filter(u=>u.length>0)}n[a.id]||(n[a.id]={}),await Promise.all(s.map(async([o,c])=>{o&&(n[a.id][o]=await p1(a.data.type,a.data.id,c==="0"||c===null?void 0:c))}))}return n}async function LFe(t){const e=t;if(!e)return;const r={};e.bookmarks.forEach(a=>{r[a.mediaId]||(r[a.mediaId]=a)});const n=await rq(r);return n?{bookmarks:Object.keys(n).map(a=>n[a][0]).map(a=>a==null?void 0:a.meta).filter(Boolean)}:void 0}async function PFe(t){var s,o,c,l;const e=t;if(!e)return;const r={};e.items.forEach(u=>{r[u.mediaId]||(r[u.mediaId]=u)});const n=await rq(r,e);if(!n)return;const i={...e,items:[]},a=Date.now();for(const u of e.items)if(u.mediaType==="movie"){if(!((s=n[u.mediaId][0])!=null&&s.meta))continue;const f={item:{meta:(o=n[u.mediaId][0])==null?void 0:o.meta},progress:u.progress,percentage:u.percentage,watchedAt:Date.now()};e.items=e.items.filter(d=>JSON.stringify(d)!==JSON.stringify(u)),i.items.push(f)}else if(u.mediaType==="series"){if(!((c=n[u.mediaId][u.seasonId])!=null&&c.meta))continue;const f=(l=n[u.mediaId][u.seasonId])==null?void 0:l.meta;if(f.type!=="series")return;const d={item:{meta:f,series:{episode:Number(u.episodeId),season:Number(u.seasonId),seasonId:f.seasonData.id,episodeId:f.seasonData.episodes[Number(u.episodeId)-1].id}},progress:u.progress,percentage:u.percentage,watchedAt:a+Number(u.seasonId)*1e3+Number(u.episodeId)};if(i.items.find(h=>{var p,m;return h.item.meta.id===d.item.meta.id&&((p=h.item.series)==null?void 0:p.episodeId)===((m=d.item.series)==null?void 0:m.episodeId)}))continue;e.items=e.items.filter(h=>JSON.stringify(h)!==JSON.stringify(u)),i.items.push(d)}return i}const NFe=JE().setKey("mw-bookmarks").addVersion({version:0,migrate(t){return LFe(t)}}).addVersion({version:1,create(){return{bookmarks:[]}}}).build(),nq=A.createContext({setItemBookmark:()=>{},getFilteredBookmarks:()=>[],bookmarkStore:{bookmarks:[]}});function DFe(t,e){return t.findIndex(n=>n.id===e.id)}function MFe(t){const[e,r]=zk(NFe),n=A.useMemo(()=>({setItemBookmark(i,a){r(s=>{let o=[...s.bookmarks];return o=o.filter(c=>c.id!==i.id),a&&o.push({...i}),{bookmarks:o}})},getFilteredBookmarks(){return[...e.bookmarks]},bookmarkStore:e}),[e,r]);return _(nq.Provider,{value:n,children:t.children})}function Yk(){return A.useContext(nq)}function iq(t,e){return DFe(t,e)!==-1}const FFe=JE().setKey("mw-settings").addVersion({version:0,create(){return{language:"en",captionSettings:{delay:0,style:{color:"#ffffff",fontSize:25,backgroundColor:"#00000096"}}}},migrate(t){return{language:t.language,captionSettings:{language:"none",...t.captionSettings}}}}).addVersion({version:1,create(){return{language:"en",captionSettings:{delay:0,language:"none",style:{color:"#ffffff",fontSize:25,backgroundColor:"#00000096"}}}}}).build(),aq=A.createContext(null);function BFe(t){function e(a,s,o){return Math.max(a,Math.min(s,o))}const[r,n]=zk(FFe),i=A.useMemo(()=>({...r,setLanguage(s){n(o=>({...o,language:s}))},setCaptionLanguage(s){n(o=>{const c=o.captionSettings;return c.language=s,o})},setCaptionDelay(s){n(o=>{const c=o.captionSettings;return c.delay=e(-10,s,10),o})},setCaptionColor(s){n(o=>{const c=o.captionSettings.style;return c.color=s,o})},setCaptionFontSize(s){n(o=>{const c=o.captionSettings.style;return c.fontSize=e(10,s,60),o})},setCaptionBackgroundColor(s){n(o=>{const c=o.captionSettings.style;return c.backgroundColor=`${c.backgroundColor.substring(0,7)}${s.toString(16).padStart(2,"0")}`,o})}}),[r,n]);return _(aq.Provider,{value:i,children:t.children})}function td(){return A.useContext(aq)}const UFe=JE().setKey("video-progress").addVersion({version:0,migrate(){return{items:[]}}}).addVersion({version:1,async migrate(t){return PFe(t)}}).addVersion({version:2,create(){return{items:[]}}}).build(),jFe=15*60,HFe=5*60;function GFe(t,e,r){const n=Math.max(0,e-t);return e<jFe?!(t<5||n<60):!(t<30||n<HFe&&!r)}const e_=A.createContext({updateProgress:()=>{},getFilteredWatched:()=>[],removeProgress:()=>{},watched:{items:[]}});e_.displayName="WatchedContext";function g1(t,e){var r,n;return t.meta.id===e.meta.id&&(!t.series||t.series.seasonId===((r=e.series)==null?void 0:r.seasonId)&&t.series.episodeId===((n=e.series)==null?void 0:n.episodeId))}function zFe(t){const[e,r]=zk(UFe),n=A.useMemo(()=>({removeProgress(i){r(a=>{const s={...a};return s.items=s.items.filter(o=>o.item.meta.id!==i),s})},updateProgress(i,a,s){r(o=>{const c={...o};let l=c.items.find(u=>g1(i,u.item));return l||(l={item:{...i,meta:{...i.meta},series:i.series?{...i.series}:void 0},progress:0,percentage:0,watchedAt:Date.now()},c.items.push(l)),l.progress=a,l.percentage=Math.round(a/s*100),l.watchedAt=Date.now(),GFe(a,s,!!i.series)||(c.items=o.items.filter(u=>!g1(u.item,i))),c})},getFilteredWatched(){let i=e.items;const a=[];return i=i.sort((s,o)=>o.watchedAt-s.watchedAt).filter(s=>{const o=s.item.meta.id;return a.includes(o)?!1:(a.push(o),!0)}),i},watched:e}),[e,r]);return _(e_.Provider,{value:n,children:t.children})}function t_(){return A.useContext(e_)}function VFe(t,e,r){return(e==null?void 0:e.meta.type)===ve.SERIES&&r?g1(t,{meta:e.meta,series:{season:0,episode:0,episodeId:r,seasonId:e.meta.seasonData.id}}):e?g1(t,{meta:e.meta}):()=>!1}function WFe(t,e){const{watched:r,updateProgress:n}=A.useContext(e_),i=A.useMemo(()=>r.items.find(o=>VFe(o.item,t,e)),[r,t,e]),a=A.useRef([0,0]);return{updateProgress:A.useCallback((o,c)=>{var u;const l=a.current[0]!==o||a.current[1]!==c;if(t&&l){a.current=[o,c];const f={meta:t.meta,series:t.meta.type===ve.SERIES&&e?{seasonId:t.meta.seasonData.id,episodeId:e,season:t.meta.seasonData.number,episode:((u=t.meta.seasonData.episodes.find(d=>d.id===e))==null?void 0:u.number)||0}:void 0};n(f,o,c)}},[t,n,e]),watchedItem:i}}function KFe(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var sq=A,YFe=KFe(sq);function x6(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qFe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var XFe=!!(typeof window<"u"&&window.document&&window.document.createElement);function QFe(t,e,r){if(typeof t!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof e!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof r<"u"&&typeof r!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function n(i){return i.displayName||i.name||"Component"}return function(a){if(typeof a!="function")throw new Error("Expected WrappedComponent to be a React component.");var s=[],o;function c(){o=t(s.map(function(u){return u.props})),l.canUseDOM?e(o):r&&(o=r(o))}var l=function(u){qFe(f,u);function f(){return u.apply(this,arguments)||this}f.peek=function(){return o},f.rewind=function(){if(f.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var p=o;return o=void 0,s=[],p};var d=f.prototype;return d.UNSAFE_componentWillMount=function(){s.push(this),c()},d.componentDidUpdate=function(){c()},d.componentWillUnmount=function(){var p=s.indexOf(this);s.splice(p,1),c()},d.render=function(){return YFe.createElement(a,this.props)},f}(sq.PureComponent);return x6(l,"displayName","SideEffect("+n(a)+")"),x6(l,"canUseDOM",XFe),l}}var ZFe=QFe,JFe=typeof Element<"u",e6e=typeof Map=="function",t6e=typeof Set=="function",r6e=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Kv(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var r,n,i;if(Array.isArray(t)){if(r=t.length,r!=e.length)return!1;for(n=r;n--!==0;)if(!Kv(t[n],e[n]))return!1;return!0}var a;if(e6e&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(a=t.entries();!(n=a.next()).done;)if(!e.has(n.value[0]))return!1;for(a=t.entries();!(n=a.next()).done;)if(!Kv(n.value[1],e.get(n.value[0])))return!1;return!0}if(t6e&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(a=t.entries();!(n=a.next()).done;)if(!e.has(n.value[0]))return!1;return!0}if(r6e&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(r=t.length,r!=e.length)return!1;for(n=r;n--!==0;)if(t[n]!==e[n])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[n]))return!1;if(JFe&&t instanceof Element)return!1;for(n=r;n--!==0;)if(!((i[n]==="_owner"||i[n]==="__v"||i[n]==="__o")&&t.$$typeof)&&!Kv(t[i[n]],e[i[n]]))return!1;return!0}return t!==t&&e!==e}var n6e=function(e,r){try{return Kv(e,r)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}},Dl={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Se={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Se).map(function(t){return Se[t]});var ot={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},m1={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},N0={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},i6e=Object.keys(m1).reduce(function(t,e){return t[m1[e]]=e,t},{}),a6e=[Se.NOSCRIPT,Se.SCRIPT,Se.STYLE],Ri="data-react-helmet",s6e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o6e=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},l6e=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),Br=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c6e=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},E6=function(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},u6e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},hA=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return r===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},f6e=function(e){var r=ju(e,Se.TITLE),n=ju(e,N0.TITLE_TEMPLATE);if(n&&r)return n.replace(/%s/g,function(){return Array.isArray(r)?r.join(""):r});var i=ju(e,N0.DEFAULT_TITLE);return r||i||void 0},d6e=function(e){return ju(e,N0.ON_CHANGE_CLIENT_STATE)||function(){}},TT=function(e,r){return r.filter(function(n){return typeof n[e]<"u"}).map(function(n){return n[e]}).reduce(function(n,i){return Br({},n,i)},{})},h6e=function(e,r){return r.filter(function(n){return typeof n[Se.BASE]<"u"}).map(function(n){return n[Se.BASE]}).reverse().reduce(function(n,i){if(!n.length)for(var a=Object.keys(i),s=0;s<a.length;s++){var o=a[s],c=o.toLowerCase();if(e.indexOf(c)!==-1&&i[c])return n.concat(i)}return n},[])},Qd=function(e,r,n){var i={};return n.filter(function(a){return Array.isArray(a[e])?!0:(typeof a[e]<"u"&&v6e("Helmet: "+e+' should be of type "Array". Instead found type "'+s6e(a[e])+'"'),!1)}).map(function(a){return a[e]}).reverse().reduce(function(a,s){var o={};s.filter(function(d){for(var h=void 0,p=Object.keys(d),m=0;m<p.length;m++){var g=p[m],v=g.toLowerCase();r.indexOf(v)!==-1&&!(h===ot.REL&&d[h].toLowerCase()==="canonical")&&!(v===ot.REL&&d[v].toLowerCase()==="stylesheet")&&(h=v),r.indexOf(g)!==-1&&(g===ot.INNER_HTML||g===ot.CSS_TEXT||g===ot.ITEM_PROP)&&(h=g)}if(!h||!d[h])return!1;var y=d[h].toLowerCase();return i[h]||(i[h]={}),o[h]||(o[h]={}),i[h][y]?!1:(o[h][y]=!0,!0)}).reverse().forEach(function(d){return a.push(d)});for(var c=Object.keys(o),l=0;l<c.length;l++){var u=c[l],f=PI({},i[u],o[u]);i[u]=f}return a},[]).reverse()},ju=function(e,r){for(var n=e.length-1;n>=0;n--){var i=e[n];if(i.hasOwnProperty(r))return i[r]}return null},p6e=function(e){return{baseTag:h6e([ot.HREF,ot.TARGET],e),bodyAttributes:TT(Dl.BODY,e),defer:ju(e,N0.DEFER),encode:ju(e,N0.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:TT(Dl.HTML,e),linkTags:Qd(Se.LINK,[ot.REL,ot.HREF],e),metaTags:Qd(Se.META,[ot.NAME,ot.CHARSET,ot.HTTPEQUIV,ot.PROPERTY,ot.ITEM_PROP],e),noscriptTags:Qd(Se.NOSCRIPT,[ot.INNER_HTML],e),onChangeClientState:d6e(e),scriptTags:Qd(Se.SCRIPT,[ot.SRC,ot.INNER_HTML],e),styleTags:Qd(Se.STYLE,[ot.CSS_TEXT],e),title:f6e(e),titleAttributes:TT(Dl.TITLE,e)}},pA=function(){var t=Date.now();return function(e){var r=Date.now();r-t>16?(t=r,e(r)):setTimeout(function(){pA(e)},0)}}(),_6=function(e){return clearTimeout(e)},g6e=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||pA:global.requestAnimationFrame||pA,m6e=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||_6:global.cancelAnimationFrame||_6,v6e=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},Zd=null,y6e=function(e){Zd&&m6e(Zd),e.defer?Zd=g6e(function(){b6(e,function(){Zd=null})}):(b6(e),Zd=null)},b6=function(e,r){var n=e.baseTag,i=e.bodyAttributes,a=e.htmlAttributes,s=e.linkTags,o=e.metaTags,c=e.noscriptTags,l=e.onChangeClientState,u=e.scriptTags,f=e.styleTags,d=e.title,h=e.titleAttributes;gA(Se.BODY,i),gA(Se.HTML,a),x6e(d,h);var p={baseTag:Uc(Se.BASE,n),linkTags:Uc(Se.LINK,s),metaTags:Uc(Se.META,o),noscriptTags:Uc(Se.NOSCRIPT,c),scriptTags:Uc(Se.SCRIPT,u),styleTags:Uc(Se.STYLE,f)},m={},g={};Object.keys(p).forEach(function(v){var y=p[v],x=y.newTags,E=y.oldTags;x.length&&(m[v]=x),E.length&&(g[v]=p[v].oldTags)}),r&&r(),l(e,m,g)},oq=function(e){return Array.isArray(e)?e.join(""):e},x6e=function(e,r){typeof e<"u"&&document.title!==e&&(document.title=oq(e)),gA(Se.TITLE,r)},gA=function(e,r){var n=document.getElementsByTagName(e)[0];if(n){for(var i=n.getAttribute(Ri),a=i?i.split(","):[],s=[].concat(a),o=Object.keys(r),c=0;c<o.length;c++){var l=o[c],u=r[l]||"";n.getAttribute(l)!==u&&n.setAttribute(l,u),a.indexOf(l)===-1&&a.push(l);var f=s.indexOf(l);f!==-1&&s.splice(f,1)}for(var d=s.length-1;d>=0;d--)n.removeAttribute(s[d]);a.length===s.length?n.removeAttribute(Ri):n.getAttribute(Ri)!==o.join(",")&&n.setAttribute(Ri,o.join(","))}},Uc=function(e,r){var n=document.head||document.querySelector(Se.HEAD),i=n.querySelectorAll(e+"["+Ri+"]"),a=Array.prototype.slice.call(i),s=[],o=void 0;return r&&r.length&&r.forEach(function(c){var l=document.createElement(e);for(var u in c)if(c.hasOwnProperty(u))if(u===ot.INNER_HTML)l.innerHTML=c.innerHTML;else if(u===ot.CSS_TEXT)l.styleSheet?l.styleSheet.cssText=c.cssText:l.appendChild(document.createTextNode(c.cssText));else{var f=typeof c[u]>"u"?"":c[u];l.setAttribute(u,f)}l.setAttribute(Ri,"true"),a.some(function(d,h){return o=h,l.isEqualNode(d)})?a.splice(o,1):s.push(l)}),a.forEach(function(c){return c.parentNode.removeChild(c)}),s.forEach(function(c){return n.appendChild(c)}),{oldTags:a,newTags:s}},lq=function(e){return Object.keys(e).reduce(function(r,n){var i=typeof e[n]<"u"?n+'="'+e[n]+'"':""+n;return r?r+" "+i:i},"")},E6e=function(e,r,n,i){var a=lq(n),s=oq(r);return a?"<"+e+" "+Ri+'="true" '+a+">"+hA(s,i)+"</"+e+">":"<"+e+" "+Ri+'="true">'+hA(s,i)+"</"+e+">"},_6e=function(e,r,n){return r.reduce(function(i,a){var s=Object.keys(a).filter(function(l){return!(l===ot.INNER_HTML||l===ot.CSS_TEXT)}).reduce(function(l,u){var f=typeof a[u]>"u"?u:u+'="'+hA(a[u],n)+'"';return l?l+" "+f:f},""),o=a.innerHTML||a.cssText||"",c=a6e.indexOf(e)===-1;return i+"<"+e+" "+Ri+'="true" '+s+(c?"/>":">"+o+"</"+e+">")},"")},cq=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(n,i){return n[m1[i]||i]=e[i],n},r)},b6e=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(n,i){return n[i6e[i]||i]=e[i],n},r)},S6e=function(e,r,n){var i,a=(i={key:r},i[Ri]=!0,i),s=cq(n,a);return[le.createElement(Se.TITLE,s,r)]},T6e=function(e,r){return r.map(function(n,i){var a,s=(a={key:i},a[Ri]=!0,a);return Object.keys(n).forEach(function(o){var c=m1[o]||o;if(c===ot.INNER_HTML||c===ot.CSS_TEXT){var l=n.innerHTML||n.cssText;s.dangerouslySetInnerHTML={__html:l}}else s[c]=n[o]}),le.createElement(e,s)})},Ia=function(e,r,n){switch(e){case Se.TITLE:return{toComponent:function(){return S6e(e,r.title,r.titleAttributes)},toString:function(){return E6e(e,r.title,r.titleAttributes,n)}};case Dl.BODY:case Dl.HTML:return{toComponent:function(){return cq(r)},toString:function(){return lq(r)}};default:return{toComponent:function(){return T6e(e,r)},toString:function(){return _6e(e,r,n)}}}},uq=function(e){var r=e.baseTag,n=e.bodyAttributes,i=e.encode,a=e.htmlAttributes,s=e.linkTags,o=e.metaTags,c=e.noscriptTags,l=e.scriptTags,u=e.styleTags,f=e.title,d=f===void 0?"":f,h=e.titleAttributes;return{base:Ia(Se.BASE,r,i),bodyAttributes:Ia(Dl.BODY,n,i),htmlAttributes:Ia(Dl.HTML,a,i),link:Ia(Se.LINK,s,i),meta:Ia(Se.META,o,i),noscript:Ia(Se.NOSCRIPT,c,i),script:Ia(Se.SCRIPT,l,i),style:Ia(Se.STYLE,u,i),title:Ia(Se.TITLE,{title:d,titleAttributes:h},i)}},w6e=function(e){var r,n;return n=r=function(i){c6e(a,i);function a(){return o6e(this,a),u6e(this,i.apply(this,arguments))}return a.prototype.shouldComponentUpdate=function(o){return!n6e(this.props,o)},a.prototype.mapNestedChildrenToProps=function(o,c){if(!c)return null;switch(o.type){case Se.SCRIPT:case Se.NOSCRIPT:return{innerHTML:c};case Se.STYLE:return{cssText:c}}throw new Error("<"+o.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},a.prototype.flattenArrayTypeChildren=function(o){var c,l=o.child,u=o.arrayTypeChildren,f=o.newChildProps,d=o.nestedChildren;return Br({},u,(c={},c[l.type]=[].concat(u[l.type]||[],[Br({},f,this.mapNestedChildrenToProps(l,d))]),c))},a.prototype.mapObjectTypeChildren=function(o){var c,l,u=o.child,f=o.newProps,d=o.newChildProps,h=o.nestedChildren;switch(u.type){case Se.TITLE:return Br({},f,(c={},c[u.type]=h,c.titleAttributes=Br({},d),c));case Se.BODY:return Br({},f,{bodyAttributes:Br({},d)});case Se.HTML:return Br({},f,{htmlAttributes:Br({},d)})}return Br({},f,(l={},l[u.type]=Br({},d),l))},a.prototype.mapArrayTypeChildrenToProps=function(o,c){var l=Br({},c);return Object.keys(o).forEach(function(u){var f;l=Br({},l,(f={},f[u]=o[u],f))}),l},a.prototype.warnOnInvalidChildren=function(o,c){return!0},a.prototype.mapChildrenToProps=function(o,c){var l=this,u={};return le.Children.forEach(o,function(f){if(!(!f||!f.props)){var d=f.props,h=d.children,p=E6(d,["children"]),m=b6e(p);switch(l.warnOnInvalidChildren(f,h),f.type){case Se.LINK:case Se.META:case Se.NOSCRIPT:case Se.SCRIPT:case Se.STYLE:u=l.flattenArrayTypeChildren({child:f,arrayTypeChildren:u,newChildProps:m,nestedChildren:h});break;default:c=l.mapObjectTypeChildren({child:f,newProps:c,newChildProps:m,nestedChildren:h});break}}}),c=this.mapArrayTypeChildrenToProps(u,c),c},a.prototype.render=function(){var o=this.props,c=o.children,l=E6(o,["children"]),u=Br({},l);return c&&(u=this.mapChildrenToProps(c,u)),le.createElement(e,u)},l6e(a,null,[{key:"canUseDOM",set:function(o){e.canUseDOM=o}}]),a}(le.Component),r.propTypes={base:xe.object,bodyAttributes:xe.object,children:xe.oneOfType([xe.arrayOf(xe.node),xe.node]),defaultTitle:xe.string,defer:xe.bool,encodeSpecialCharacters:xe.bool,htmlAttributes:xe.object,link:xe.arrayOf(xe.object),meta:xe.arrayOf(xe.object),noscript:xe.arrayOf(xe.object),onChangeClientState:xe.func,script:xe.arrayOf(xe.object),style:xe.arrayOf(xe.object),title:xe.string,titleAttributes:xe.object,titleTemplate:xe.string},r.defaultProps={defer:!0,encodeSpecialCharacters:!0},r.peek=e.peek,r.rewind=function(){var i=e.rewind();return i||(i=uq({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},n},R6e=function(){return null},A6e=ZFe(p6e,y6e,uq)(R6e),pa=w6e(A6e);pa.renderStatic=pa.rewind;function ag(t){return _("div",{className:t.className,children:Y("div",{className:"flex flex-col items-center justify-center",children:[Y("div",{className:"flex h-12 items-center justify-center",children:[_("div",{className:"mx-1 h-2 w-2 animate-loading-pin rounded-full bg-denim-300"}),_("div",{className:"mx-1 h-2 w-2 animate-loading-pin rounded-full bg-denim-300 [animation-delay:150ms]"}),_("div",{className:"mx-1 h-2 w-2 animate-loading-pin rounded-full bg-denim-300 [animation-delay:300ms]"}),_("div",{className:"mx-1 h-2 w-2 animate-loading-pin rounded-full bg-denim-300 [animation-delay:450ms]"})]}),t.text&&t.text.length?_("p",{className:"mt-3 max-w-xs text-sm opacity-75",children:t.text}):null]})})}function r_(){const t=ed();return A.useCallback(()=>{t.action!=="POP"?t.goBack():t.push("/")},[t])}function rd(t){const[e,r]=A.useState(!1),[n,i]=A.useState(!1),[a,s]=A.useState(void 0),o=A.useRef(!0),c=A.useMemo(()=>t,[]);return le.useEffect(()=>(o.current=!0,()=>{o.current=!1}),[]),[A.useMemo(()=>async(...u)=>(r(!0),i(!1),s(void 0),new Promise(f=>{c(...u).then(d=>o.current?(i(!0),f(d),null):f(void 0)).catch(d=>{o&&(s(d),console.error("USELOADING ERROR",d),i(!1)),f(void 0)})}).finally(()=>o.current&&r(!1))),[c]),e,a,n]}let xl=[],xu=[];function nd(t){t.disabled||xl.push(t)}function fq(t){t.disabled||xu.push(t)}function I6e(){xl=xl.sort((i,a)=>a.rank-i.rank),xu=xu.sort((i,a)=>a.rank-i.rank);let t=null;xl.forEach(i=>{if(t===null){t=i.rank;return}if(t===i.rank)throw new Error(`Duplicate rank number for provider ${i.id}`);t=i.rank}),t=null,xl.forEach(i=>{if(t===null){t=i.rank;return}if(t===i.rank)throw new Error(`Duplicate rank number for embed scraper ${i.id}`);t=i.rank});const e=xl.map(i=>i.id);if(e.length>0&&new Set(e).size!==e.length)throw new Error("Duplicate IDS in providers");const r=xu.map(i=>i.id);if(r.length>0&&new Set(r).size!==r.length)throw new Error("Duplicate IDS in embed scrapers");const n=xu.map(i=>i.for);if(n.length>0&&new Set(n).size!==n.length)throw new Error("Duplicate types in embed scrapers")}function dq(){return xl}function $6e(){return xu}function n_(t){return $6e().find(e=>e.for===t)??null}function C6e(t){return t.embeds=t.embeds.map(e=>[e,e.type?n_(e.type):null]).sort(([,e],[,r])=>((r==null?void 0:r.rank)??0)-((e==null?void 0:e.rank)??0)).map(e=>e[0]),t}async function hq(t,e){try{const r=await t.scrape(e);return C6e(r)}catch(r){throw console.error("Failed to run provider",r,{id:t.id,ctx:{...e}}),r}}async function qk(t,e){try{return await t.getStream(e)}catch(r){throw console.error("Failed to run embed scraper",{id:t.id,ctx:{...e}}),r}}async function k6e(t,e,r){var i,a,s;if(t.stream)return{...t.stream,providerId:e,embedId:e};let n=0;for(const o of t.embeds){if(n+=1,!o.type)continue;const c=n_(o.type);if(!c)throw new Error(`Type for embed not found: ${o.type}`);const l=[e,c.id,n].join("|");(i=r.onNext)==null||i.call(r,{id:c.id,type:"embed",eventId:l});let u;try{u=await qk(c,{url:o.url,progress(f){var d;(d=r.onProgress)==null||d.call(r,{errored:!1,eventId:l,id:c.id,percentage:f,type:"embed"})}})}catch{(a=r.onProgress)==null||a.call(r,{errored:!0,eventId:l,id:c.id,percentage:100,type:"embed"});continue}return(s=r.onProgress)==null||s.call(r,{errored:!1,eventId:l,id:c.id,percentage:100,type:"embed"}),u.providerId=e,u}return null}async function O6e(t){var r,n,i;const e=dq();for(const a of e){const s=a.id;(r=t.onNext)==null||r.call(t,{id:a.id,type:"provider",eventId:s});let o;try{let l;t.type===ve.SERIES?l={media:t.media,type:t.type,episode:t.episode,season:t.season,progress(u){var f;(f=t.onProgress)==null||f.call(t,{percentage:u,eventId:s,errored:!1,id:a.id,type:"provider"})}}:l={media:t.media,type:t.type,progress(u){var f;(f=t.onProgress)==null||f.call(t,{percentage:u,eventId:s,errored:!1,id:a.id,type:"provider"})}},o=await hq(a,l)}catch{(n=t.onProgress)==null||n.call(t,{percentage:100,errored:!0,eventId:s,id:a.id,type:"provider"});continue}(i=t.onProgress)==null||i.call(t,{errored:!1,id:a.id,eventId:s,percentage:100,type:"provider"});const c=await k6e(o,a.id,t);if(c)return c}return null}function L6e(t,e){const[r,n]=A.useState([]),[i,a]=A.useState(null),[s,o]=A.useState(!0);return A.useEffect(()=>{o(!0),a(null),n([]),(async()=>{const c=await O6e({media:t,...e,onNext(l){n(u=>[...u,{errored:!1,id:l.id,eventId:l.eventId,type:l.type,percentage:0}])},onProgress(l){n(u=>{const f=u.reverse().find(d=>d.id===l.id);return f&&(f.errored=l.errored,f.percentage=l.percentage),[...u]})}});o(!1),a(c)})()},[t,e]),{stream:i,pending:s,eventLog:r}}let P6e=t=>crypto.getRandomValues(new Uint8Array(t)),N6e=(t,e,r)=>{let n=(2<<Math.log(t.length-1)/Math.LN2)-1,i=-~(1.6*n*e/t.length);return(a=e)=>{let s="";for(;;){let o=r(i),c=i;for(;c--;)if(s+=t[o[c]&n]||"",s.length===a)return s}}},D6e=(t,e=21)=>N6e(t,e,P6e),M6e=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,r)=>(r&=63,r<36?e+=r.toString(36):r<62?e+=(r-26).toString(36).toUpperCase():r>62?e+="-":e+="_",e),"");const D0=new Map;function xr(t){const e=D0.get(t);if(!e)throw new Error("invalid descriptor or has been unregistered");return e}function F6e(t){const e=t;e.mediaPlaying={isPlaying:!1,isPaused:!0,isLoading:!1,isSeeking:!1,isDragSeeking:!1,isFirstLoading:!0,hasPlayedOnce:!1,volume:e.mediaPlaying.volume,playbackSpeed:1},e.progress={time:0,duration:0,buffered:0,draggingTime:0},e.initalized=!1}function B6e(){return{interface:{popout:null,isFullscreen:!1,isFocused:!1,leftControlHovering:!1,popoutBounds:null,volumeChangedWithKeybind:!1,volumeChangedWithKeybindDebounce:null,timeFormat:0},mediaPlaying:{isPlaying:!1,isPaused:!0,isLoading:!1,isSeeking:!1,isDragSeeking:!1,isFirstLoading:!0,hasPlayedOnce:!1,volume:0,playbackSpeed:1},progress:{time:0,duration:0,buffered:0,draggingTime:0},casting:{isCasting:!1,controller:null,instance:null,player:null},meta:null,source:null,error:null,canAirplay:!1,initalized:!1,stateProviderId:"video",pausedWhenSeeking:!1,hlsInstance:null,stateProvider:null,wrapperElement:null}}function U6e(){const t=M6e();if(D0.has(t))throw new Error("duplicate id");return D0.set(t,B6e()),t}function j6e(t){D0.has(t)&&D0.delete(t)}const pq=A.createContext("");function H6e(t){const[e,r]=A.useState(null);return A.useEffect(()=>{const n=U6e();return r(n),()=>{j6e(n)}},[r]),e?_(pq.Provider,{value:e,children:t.children}):null}function we(){return A.useContext(pq)}function Xk(t,e){return`_vid:::${t}:::${e}`}function gc(t,e,r){const n=new CustomEvent(Xk(t,e),{detail:r});document.dispatchEvent(n)}function mc(t,e,r){document.addEventListener(Xk(t,e),r)}function vc(t,e,r){document.removeEventListener(Xk(t,e),r)}function gq(t){return{popout:t.interface.popout,leftControlHovering:t.interface.leftControlHovering,isFocused:t.interface.isFocused,isFullscreen:t.interface.isFullscreen,popoutBounds:t.interface.popoutBounds,volumeChangedWithKeybind:t.interface.volumeChangedWithKeybind,timeFormat:t.interface.timeFormat}}function gn(t,e){gc(t,"interface",gq(e))}function Di(t){const e=xr(t),[r,n]=A.useState(gq(e));return A.useEffect(()=>{function i(a){n(a.detail)}return mc(t,"interface",i),()=>{vc(t,"interface",i)}},[t]),r}function mq(t){return t.meta?{...t.meta}:null}function S6(t,e){gc(t,"meta",mq(e))}function ci(t){const e=xr(t),[r,n]=A.useState(mq(e));return A.useEffect(()=>{function i(a){n(a.detail)}return mc(t,"meta",i),()=>{vc(t,"meta",i)}},[t]),r}function vq(t){return{time:t.progress.time,duration:t.progress.duration,buffered:t.progress.buffered,draggingTime:t.progress.draggingTime}}function Ka(t,e){gc(t,"progress",vq(e))}function Wo(t){const e=xr(t),[r,n]=A.useState(vq(e));return A.useEffect(()=>{function i(a){n(a.detail)}return mc(t,"progress",i),()=>{vc(t,"progress",i)}},[t]),r}function at(t){const e=xr(t);return{getId(){var r;return((r=e.stateProvider)==null?void 0:r.getId())??""},pause(){var r;(r=e.stateProvider)==null||r.pause()},play(){var r;(r=e.stateProvider)==null||r.play()},setSource(r){var n;(n=e.stateProvider)==null||n.setSource(r)},setSeeking(r){var n;(n=e.stateProvider)==null||n.setSeeking(r)},setTime(r){var n;(n=e.stateProvider)==null||n.setTime(r)},exitFullscreen(){var r;(r=e.stateProvider)==null||r.exitFullscreen()},enterFullscreen(){var r;(r=e.stateProvider)==null||r.enterFullscreen()},setVolume(r,n=!1){var i;n&&(e.interface.volumeChangedWithKeybindDebounce&&clearTimeout(e.interface.volumeChangedWithKeybindDebounce),e.interface.volumeChangedWithKeybind=!0,gn(t,e),e.interface.volumeChangedWithKeybindDebounce=setTimeout(()=>{e.interface.volumeChangedWithKeybind=!1,gn(t,e)},3e3)),(i=e.stateProvider)==null||i.setVolume(r,n)},startAirplay(){var r;(r=e.stateProvider)==null||r.startAirplay()},setCaption(r,n){var i;(i=e.stateProvider)==null||i.setCaption(r,n)},clearCaption(){var r;(r=e.stateProvider)==null||r.clearCaption()},setLeftControlsHover(r){e.interface.leftControlHovering=r,gn(t,e)},setDraggingTime(r){e.progress.draggingTime=Math.max(0,Math.min(e.progress.duration,r)),Ka(t,e)},openPopout(r){e.interface.popout=r,gn(t,e)},closePopout(){e.interface.popout=null,gn(t,e)},setFocused(r){e.interface.isFocused=r,gn(t,e)},setMeta(r){r?e.meta=r:e.meta=null,S6(t,e)},setCurrentEpisode(r,n){e.meta&&(e.meta.episode={seasonId:r,episodeId:n},S6(t,e))},togglePictureInPicture(){var r;(r=e.stateProvider)==null||r.togglePictureInPicture(),gn(t,e)},setPlaybackSpeed(r){var n;(n=e.stateProvider)==null||n.setPlaybackSpeed(r),gn(t,e)},setTimeFormat(r){e.interface.timeFormat=r,gn(t,e)}}}function G6e(t){var r,n;const e=(n=(r=t.data)==null?void 0:r.seasons)==null?void 0:n.map(i=>{var a;return i.id===((a=t.seasonData)==null?void 0:a.id)?{...i,episodes:t.seasonData.episodes}:i});if(t.data)return{meta:t.data.meta,episode:t.data.episode,seasons:e,captions:t.linkedCaptions??[]}}function z6e(t){const e=we(),r=at(e);return A.useEffect(()=>{r.setMeta(G6e(t))},[t,r]),null}var yq="Expected a function",T6=0/0,V6e="[object Symbol]",W6e=/^\s+|\s+$/g,K6e=/^[-+]0x[0-9a-f]+$/i,Y6e=/^0b[01]+$/i,q6e=/^0o[0-7]+$/i,X6e=parseInt,Q6e=typeof ge=="object"&&ge&&ge.Object===Object&&ge,Z6e=typeof self=="object"&&self&&self.Object===Object&&self,J6e=Q6e||Z6e||Function("return this")(),e5e=Object.prototype,t5e=e5e.toString,r5e=Math.max,n5e=Math.min,wT=function(){return J6e.Date.now()};function i5e(t,e,r){var n,i,a,s,o,c,l=0,u=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(yq);e=w6(e)||0,v1(r)&&(u=!!r.leading,f="maxWait"in r,a=f?r5e(w6(r.maxWait)||0,e):a,d="trailing"in r?!!r.trailing:d);function h(b){var T=n,R=i;return n=i=void 0,l=b,s=t.apply(R,T),s}function p(b){return l=b,o=setTimeout(v,e),u?h(b):s}function m(b){var T=b-c,R=b-l,I=e-T;return f?n5e(I,a-R):I}function g(b){var T=b-c,R=b-l;return c===void 0||T>=e||T<0||f&&R>=a}function v(){var b=wT();if(g(b))return y(b);o=setTimeout(v,m(b))}function y(b){return o=void 0,d&&n?h(b):(n=i=void 0,s)}function x(){o!==void 0&&clearTimeout(o),l=0,n=c=i=o=void 0}function E(){return o===void 0?s:y(wT())}function S(){var b=wT(),T=g(b);if(n=arguments,i=this,c=b,T){if(o===void 0)return p(c);if(f)return o=setTimeout(v,e),h(c)}return o===void 0&&(o=setTimeout(v,e)),s}return S.cancel=x,S.flush=E,S}function a5e(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(yq);return v1(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),i5e(t,e,{leading:n,maxWait:e,trailing:i})}function v1(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function s5e(t){return!!t&&typeof t=="object"}function o5e(t){return typeof t=="symbol"||s5e(t)&&t5e.call(t)==V6e}function w6(t){if(typeof t=="number")return t;if(o5e(t))return T6;if(v1(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=v1(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(W6e,"");var r=Y6e.test(t);return r||q6e.test(t)?X6e(t.slice(2),r?2:8):K6e.test(t)?T6:+t}var l5e=a5e;function xq(t){return{hasPlayedOnce:t.mediaPlaying.hasPlayedOnce,isLoading:t.mediaPlaying.isLoading,isPaused:t.mediaPlaying.isPaused,isPlaying:t.mediaPlaying.isPlaying,isSeeking:t.mediaPlaying.isSeeking,isDragSeeking:t.mediaPlaying.isDragSeeking,isFirstLoading:t.mediaPlaying.isFirstLoading,volume:t.mediaPlaying.volume,playbackSpeed:t.mediaPlaying.playbackSpeed}}function Zt(t,e){gc(t,"mediaplaying",xq(e))}function $n(t){const e=xr(t),[r,n]=A.useState(xq(e));return A.useEffect(()=>{function i(a){n(a.detail)}return mc(t,"mediaplaying",i),()=>{vc(t,"mediaplaying",i)}},[t]),r}function Eq(t){return{canAirplay:t.canAirplay,wrapperInitialized:!!t.wrapperElement,initalized:t.initalized,isCasting:t.casting.isCasting,stateProviderId:t.stateProviderId}}function id(t,e){gc(t,"misc",Eq(e))}function ys(t){const e=xr(t),[r,n]=A.useState(Eq(e));return A.useEffect(()=>{function i(a){n(a.detail)}return mc(t,"misc",i),()=>{vc(t,"misc",i)}},[t]),r}function c5e(t){const e=we(),r=$n(e),n=Wo(e),i=at(e),a=ys(e),s=A.useRef(null),o=A.useRef(t.startAt??0),c=A.useMemo(()=>l5e((f,d)=>{var h;o.current=f,(h=t.onProgress)==null||h.call(t,f,d)},1e3),[t]);A.useEffect(()=>{r.isPlaying&&(n.duration===0||n.time===0||c(n.time,n.duration))},[n,r,c]),A.useEffect(()=>()=>{c.cancel()},[c]),A.useEffect(()=>{s.current||r.isFirstLoading||Number.isNaN(n.duration)||(i.setTime(o.current),s.current=!0)},[s,t,n,r,i]);const l=A.useRef(null),u=A.useMemo(()=>a.stateProviderId,[a]);return A.useEffect(()=>{l.current!==u&&(r.isFirstLoading||(l.current=u,i.setTime(o.current)))},[i,r,u]),A.useEffect(()=>{s.current&&r.isFirstLoading&&(s.current=null)},[r]),null}function u5e(t){const e=we(),r=ci(e),n=ed(),i=A.useRef(null);return A.useEffect(()=>{var s,o,c,l,u;const a={episodeId:(s=r==null?void 0:r.episode)==null?void 0:s.episodeId,seasonId:(o=r==null?void 0:r.episode)==null?void 0:o.seasonId};if(i.current===null){if(!r)return;i.current=a;return}(a.episodeId!==((c=i.current)==null?void 0:c.episodeId)||a.seasonId!==((l=i.current)==null?void 0:l.seasonId))&&(i.current=a,(u=t.onSelect)==null||u.call(t,a))},[r,t,n]),null}/*! @license DOMPurify 3.0.2 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.2/LICENSE */const{entries:_q,setPrototypeOf:R6,isFrozen:f5e,getPrototypeOf:d5e,getOwnPropertyDescriptor:h5e}=Object;let{freeze:kr,seal:ki,create:p5e}=Object,{apply:mA,construct:vA}=typeof Reflect<"u"&&Reflect;mA||(mA=function(e,r,n){return e.apply(r,n)});kr||(kr=function(e){return e});ki||(ki=function(e){return e});vA||(vA=function(e,r){return new e(...r)});const g5e=Zn(Array.prototype.forEach),A6=Zn(Array.prototype.pop),Jd=Zn(Array.prototype.push),Yv=Zn(String.prototype.toLowerCase),RT=Zn(String.prototype.toString),m5e=Zn(String.prototype.match),gi=Zn(String.prototype.replace),v5e=Zn(String.prototype.indexOf),y5e=Zn(String.prototype.trim),fn=Zn(RegExp.prototype.test),AT=x5e(TypeError);function Zn(t){return function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return mA(t,e,n)}}function x5e(t){return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return vA(t,r)}}function Re(t,e,r){r=r||Yv,R6&&R6(t,null);let n=e.length;for(;n--;){let i=e[n];if(typeof i=="string"){const a=r(i);a!==i&&(f5e(e)||(e[n]=a),i=a)}t[i]=!0}return t}function jc(t){const e=p5e(null);for(const[r,n]of _q(t))e[r]=n;return e}function Lm(t,e){for(;t!==null;){const n=h5e(t,e);if(n){if(n.get)return Zn(n.get);if(typeof n.value=="function")return Zn(n.value)}t=d5e(t)}function r(n){return console.warn("fallback value for",n),null}return r}const I6=kr(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),IT=kr(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),$T=kr(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),E5e=kr(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),CT=kr(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),_5e=kr(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),$6=kr(["#text"]),C6=kr(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),kT=kr(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),k6=kr(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Pm=kr(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),b5e=ki(/\{\{[\w\W]*|[\w\W]*\}\}/gm),S5e=ki(/<%[\w\W]*|[\w\W]*%>/gm),T5e=ki(/\${[\w\W]*}/gm),w5e=ki(/^data-[\-\w.\u00B7-\uFFFF]/),R5e=ki(/^aria-[\-\w]+$/),bq=ki(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),A5e=ki(/^(?:\w+script|data):/i),I5e=ki(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Sq=ki(/^html$/i);var O6=Object.freeze({__proto__:null,MUSTACHE_EXPR:b5e,ERB_EXPR:S5e,TMPLIT_EXPR:T5e,DATA_ATTR:w5e,ARIA_ATTR:R5e,IS_ALLOWED_URI:bq,IS_SCRIPT_OR_DATA:A5e,ATTR_WHITESPACE:I5e,DOCTYPE_NAME:Sq});const $5e=()=>typeof window>"u"?null:window,C5e=function(e,r){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const i="data-tt-policy-suffix";r.currentScript&&r.currentScript.hasAttribute(i)&&(n=r.currentScript.getAttribute(i));const a="dompurify"+(n?"#"+n:"");try{return e.createPolicy(a,{createHTML(s){return s},createScriptURL(s){return s}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}};function Tq(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$5e();const e=he=>Tq(he);if(e.version="3.0.2",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;const r=t.document;let{document:n}=t;const{DocumentFragment:i,HTMLTemplateElement:a,Node:s,Element:o,NodeFilter:c,NamedNodeMap:l=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:u,DOMParser:f,trustedTypes:d}=t,h=o.prototype,p=Lm(h,"cloneNode"),m=Lm(h,"nextSibling"),g=Lm(h,"childNodes"),v=Lm(h,"parentNode");if(typeof a=="function"){const he=n.createElement("template");he.content&&he.content.ownerDocument&&(n=he.content.ownerDocument)}const y=C5e(d,r),x=y?y.createHTML(""):"",{implementation:E,createNodeIterator:S,createDocumentFragment:b,getElementsByTagName:T}=n,{importNode:R}=r;let I={};e.isSupported=typeof _q=="function"&&typeof v=="function"&&E&&typeof E.createHTMLDocument<"u";const{MUSTACHE_EXPR:w,ERB_EXPR:C,TMPLIT_EXPR:L,DATA_ATTR:H,ARIA_ATTR:N,IS_SCRIPT_OR_DATA:P,ATTR_WHITESPACE:B}=O6;let{IS_ALLOWED_URI:V}=O6,M=null;const U=Re({},[...I6,...IT,...$T,...CT,...$6]);let W=null;const k=Re({},[...C6,...kT,...k6,...Pm]);let O=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),F=null,D=null,Q=!0,ee=!0,fe=!1,se=!0,tt=!1,Mt=!1,Nr=!1,cn=!1,Tt=!1,wt=!1,wa=!1,Ss=!0,Yo=!1;const qo="user-content-";let Xo=!0,ui=!1,Ft={},Ct=null;const fi=Re({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Qo=null;const vd=Re({},["audio","video","img","source","image","track"]);let Fi=null;const Ts=Re({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Rc="http://www.w3.org/1998/Math/MathML",Zo="http://www.w3.org/2000/svg",Cn="http://www.w3.org/1999/xhtml";let un=Cn,Ra=!1,yd=null;const Ag=Re({},[Rc,Zo,Cn],RT);let Bi;const U_=["application/xhtml+xml","text/html"],j_="text/html";let Rt,ws=null;const Ig=n.createElement("form"),$g=function(G){return G instanceof RegExp||G instanceof Function},Ac=function(G){ws&&ws===G||((!G||typeof G!="object")&&(G={}),G=jc(G),Bi=U_.indexOf(G.PARSER_MEDIA_TYPE)===-1?Bi=j_:Bi=G.PARSER_MEDIA_TYPE,Rt=Bi==="application/xhtml+xml"?RT:Yv,M="ALLOWED_TAGS"in G?Re({},G.ALLOWED_TAGS,Rt):U,W="ALLOWED_ATTR"in G?Re({},G.ALLOWED_ATTR,Rt):k,yd="ALLOWED_NAMESPACES"in G?Re({},G.ALLOWED_NAMESPACES,RT):Ag,Fi="ADD_URI_SAFE_ATTR"in G?Re(jc(Ts),G.ADD_URI_SAFE_ATTR,Rt):Ts,Qo="ADD_DATA_URI_TAGS"in G?Re(jc(vd),G.ADD_DATA_URI_TAGS,Rt):vd,Ct="FORBID_CONTENTS"in G?Re({},G.FORBID_CONTENTS,Rt):fi,F="FORBID_TAGS"in G?Re({},G.FORBID_TAGS,Rt):{},D="FORBID_ATTR"in G?Re({},G.FORBID_ATTR,Rt):{},Ft="USE_PROFILES"in G?G.USE_PROFILES:!1,Q=G.ALLOW_ARIA_ATTR!==!1,ee=G.ALLOW_DATA_ATTR!==!1,fe=G.ALLOW_UNKNOWN_PROTOCOLS||!1,se=G.ALLOW_SELF_CLOSE_IN_ATTR!==!1,tt=G.SAFE_FOR_TEMPLATES||!1,Mt=G.WHOLE_DOCUMENT||!1,Tt=G.RETURN_DOM||!1,wt=G.RETURN_DOM_FRAGMENT||!1,wa=G.RETURN_TRUSTED_TYPE||!1,cn=G.FORCE_BODY||!1,Ss=G.SANITIZE_DOM!==!1,Yo=G.SANITIZE_NAMED_PROPS||!1,Xo=G.KEEP_CONTENT!==!1,ui=G.IN_PLACE||!1,V=G.ALLOWED_URI_REGEXP||bq,un=G.NAMESPACE||Cn,O=G.CUSTOM_ELEMENT_HANDLING||{},G.CUSTOM_ELEMENT_HANDLING&&$g(G.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(O.tagNameCheck=G.CUSTOM_ELEMENT_HANDLING.tagNameCheck),G.CUSTOM_ELEMENT_HANDLING&&$g(G.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(O.attributeNameCheck=G.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),G.CUSTOM_ELEMENT_HANDLING&&typeof G.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(O.allowCustomizedBuiltInElements=G.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),tt&&(ee=!1),wt&&(Tt=!0),Ft&&(M=Re({},[...$6]),W=[],Ft.html===!0&&(Re(M,I6),Re(W,C6)),Ft.svg===!0&&(Re(M,IT),Re(W,kT),Re(W,Pm)),Ft.svgFilters===!0&&(Re(M,$T),Re(W,kT),Re(W,Pm)),Ft.mathMl===!0&&(Re(M,CT),Re(W,k6),Re(W,Pm))),G.ADD_TAGS&&(M===U&&(M=jc(M)),Re(M,G.ADD_TAGS,Rt)),G.ADD_ATTR&&(W===k&&(W=jc(W)),Re(W,G.ADD_ATTR,Rt)),G.ADD_URI_SAFE_ATTR&&Re(Fi,G.ADD_URI_SAFE_ATTR,Rt),G.FORBID_CONTENTS&&(Ct===fi&&(Ct=jc(Ct)),Re(Ct,G.FORBID_CONTENTS,Rt)),Xo&&(M["#text"]=!0),Mt&&Re(M,["html","head","body"]),M.table&&(Re(M,["tbody"]),delete F.tbody),kr&&kr(G),ws=G)},Cg=Re({},["mi","mo","mn","ms","mtext"]),kg=Re({},["foreignobject","desc","title","annotation-xml"]),H_=Re({},["title","style","font","a","script"]),Jo=Re({},IT);Re(Jo,$T),Re(Jo,E5e);const xd=Re({},CT);Re(xd,_5e);const G_=function(G){let Z=v(G);(!Z||!Z.tagName)&&(Z={namespaceURI:un,tagName:"template"});const ae=Yv(G.tagName),Ye=Yv(Z.tagName);return yd[G.namespaceURI]?G.namespaceURI===Zo?Z.namespaceURI===Cn?ae==="svg":Z.namespaceURI===Rc?ae==="svg"&&(Ye==="annotation-xml"||Cg[Ye]):!!Jo[ae]:G.namespaceURI===Rc?Z.namespaceURI===Cn?ae==="math":Z.namespaceURI===Zo?ae==="math"&&kg[Ye]:!!xd[ae]:G.namespaceURI===Cn?Z.namespaceURI===Zo&&!kg[Ye]||Z.namespaceURI===Rc&&!Cg[Ye]?!1:!xd[ae]&&(H_[ae]||!Jo[ae]):!!(Bi==="application/xhtml+xml"&&yd[G.namespaceURI]):!1},Ui=function(G){Jd(e.removed,{element:G});try{G.parentNode.removeChild(G)}catch{G.remove()}},Ed=function(G,Z){try{Jd(e.removed,{attribute:Z.getAttributeNode(G),from:Z})}catch{Jd(e.removed,{attribute:null,from:Z})}if(Z.removeAttribute(G),G==="is"&&!W[G])if(Tt||wt)try{Ui(Z)}catch{}else try{Z.setAttribute(G,"")}catch{}},_d=function(G){let Z,ae;if(cn)G="<remove></remove>"+G;else{const kn=m5e(G,/^[\r\n\t ]+/);ae=kn&&kn[0]}Bi==="application/xhtml+xml"&&un===Cn&&(G='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+G+"</body></html>");const Ye=y?y.createHTML(G):G;if(un===Cn)try{Z=new f().parseFromString(Ye,Bi)}catch{}if(!Z||!Z.documentElement){Z=E.createDocument(un,"template",null);try{Z.documentElement.innerHTML=Ra?x:Ye}catch{}}const Bt=Z.body||Z.documentElement;return G&&ae&&Bt.insertBefore(n.createTextNode(ae),Bt.childNodes[0]||null),un===Cn?T.call(Z,Mt?"html":"body")[0]:Mt?Z.documentElement:Bt},lr=function(G){return S.call(G.ownerDocument||G,G,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT,null,!1)},ji=function(G){return G instanceof u&&(typeof G.nodeName!="string"||typeof G.textContent!="string"||typeof G.removeChild!="function"||!(G.attributes instanceof l)||typeof G.removeAttribute!="function"||typeof G.setAttribute!="function"||typeof G.namespaceURI!="string"||typeof G.insertBefore!="function"||typeof G.hasChildNodes!="function")},el=function(G){return typeof s=="object"?G instanceof s:G&&typeof G=="object"&&typeof G.nodeType=="number"&&typeof G.nodeName=="string"},di=function(G,Z,ae){I[G]&&g5e(I[G],Ye=>{Ye.call(e,Z,ae,ws)})},RL=function(G){let Z;if(di("beforeSanitizeElements",G,null),ji(G))return Ui(G),!0;const ae=Rt(G.nodeName);if(di("uponSanitizeElement",G,{tagName:ae,allowedTags:M}),G.hasChildNodes()&&!el(G.firstElementChild)&&(!el(G.content)||!el(G.content.firstElementChild))&&fn(/<[/\w]/g,G.innerHTML)&&fn(/<[/\w]/g,G.textContent))return Ui(G),!0;if(!M[ae]||F[ae]){if(!F[ae]&&IL(ae)&&(O.tagNameCheck instanceof RegExp&&fn(O.tagNameCheck,ae)||O.tagNameCheck instanceof Function&&O.tagNameCheck(ae)))return!1;if(Xo&&!Ct[ae]){const Ye=v(G)||G.parentNode,Bt=g(G)||G.childNodes;if(Bt&&Ye){const kn=Bt.length;for(let pt=kn-1;pt>=0;--pt)Ye.insertBefore(p(Bt[pt],!0),m(G))}}return Ui(G),!0}return G instanceof o&&!G_(G)||(ae==="noscript"||ae==="noembed")&&fn(/<\/no(script|embed)/i,G.innerHTML)?(Ui(G),!0):(tt&&G.nodeType===3&&(Z=G.textContent,Z=gi(Z,w," "),Z=gi(Z,C," "),Z=gi(Z,L," "),G.textContent!==Z&&(Jd(e.removed,{element:G.cloneNode()}),G.textContent=Z)),di("afterSanitizeElements",G,null),!1)},AL=function(G,Z,ae){if(Ss&&(Z==="id"||Z==="name")&&(ae in n||ae in Ig))return!1;if(!(ee&&!D[Z]&&fn(H,Z))){if(!(Q&&fn(N,Z))){if(!W[Z]||D[Z]){if(!(IL(G)&&(O.tagNameCheck instanceof RegExp&&fn(O.tagNameCheck,G)||O.tagNameCheck instanceof Function&&O.tagNameCheck(G))&&(O.attributeNameCheck instanceof RegExp&&fn(O.attributeNameCheck,Z)||O.attributeNameCheck instanceof Function&&O.attributeNameCheck(Z))||Z==="is"&&O.allowCustomizedBuiltInElements&&(O.tagNameCheck instanceof RegExp&&fn(O.tagNameCheck,ae)||O.tagNameCheck instanceof Function&&O.tagNameCheck(ae))))return!1}else if(!Fi[Z]){if(!fn(V,gi(ae,B,""))){if(!((Z==="src"||Z==="xlink:href"||Z==="href")&&G!=="script"&&v5e(ae,"data:")===0&&Qo[G])){if(!(fe&&!fn(P,gi(ae,B,"")))){if(ae)return!1}}}}}}return!0},IL=function(G){return G.indexOf("-")>0},$L=function(G){let Z,ae,Ye,Bt;di("beforeSanitizeAttributes",G,null);const{attributes:kn}=G;if(!kn)return;const pt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:W};for(Bt=kn.length;Bt--;){Z=kn[Bt];const{name:Hi,namespaceURI:z_}=Z;if(ae=Hi==="value"?Z.value:y5e(Z.value),Ye=Rt(Hi),pt.attrName=Ye,pt.attrValue=ae,pt.keepAttr=!0,pt.forceKeepAttr=void 0,di("uponSanitizeAttribute",G,pt),ae=pt.attrValue,pt.forceKeepAttr||(Ed(Hi,G),!pt.keepAttr))continue;if(!se&&fn(/\/>/i,ae)){Ed(Hi,G);continue}tt&&(ae=gi(ae,w," "),ae=gi(ae,C," "),ae=gi(ae,L," "));const CL=Rt(G.nodeName);if(AL(CL,Ye,ae)){if(Yo&&(Ye==="id"||Ye==="name")&&(Ed(Hi,G),ae=qo+ae),y&&typeof d=="object"&&typeof d.getAttributeType=="function"&&!z_)switch(d.getAttributeType(CL,Ye)){case"TrustedHTML":ae=y.createHTML(ae);break;case"TrustedScriptURL":ae=y.createScriptURL(ae);break}try{z_?G.setAttributeNS(z_,Hi,ae):G.setAttribute(Hi,ae),A6(e.removed)}catch{}}}di("afterSanitizeAttributes",G,null)},Tee=function he(G){let Z;const ae=lr(G);for(di("beforeSanitizeShadowDOM",G,null);Z=ae.nextNode();)di("uponSanitizeShadowNode",Z,null),!RL(Z)&&(Z.content instanceof i&&he(Z.content),$L(Z));di("afterSanitizeShadowDOM",G,null)};return e.sanitize=function(he){let G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Z,ae,Ye,Bt;if(Ra=!he,Ra&&(he="<!-->"),typeof he!="string"&&!el(he)){if(typeof he.toString!="function")throw AT("toString is not a function");if(he=he.toString(),typeof he!="string")throw AT("dirty is not a string, aborting")}if(!e.isSupported)return he;if(Nr||Ac(G),e.removed=[],typeof he=="string"&&(ui=!1),ui){if(he.nodeName){const Hi=Rt(he.nodeName);if(!M[Hi]||F[Hi])throw AT("root node is forbidden and cannot be sanitized in-place")}}else if(he instanceof s)Z=_d("<!---->"),ae=Z.ownerDocument.importNode(he,!0),ae.nodeType===1&&ae.nodeName==="BODY"||ae.nodeName==="HTML"?Z=ae:Z.appendChild(ae);else{if(!Tt&&!tt&&!Mt&&he.indexOf("<")===-1)return y&&wa?y.createHTML(he):he;if(Z=_d(he),!Z)return Tt?null:wa?x:""}Z&&cn&&Ui(Z.firstChild);const kn=lr(ui?he:Z);for(;Ye=kn.nextNode();)RL(Ye)||(Ye.content instanceof i&&Tee(Ye.content),$L(Ye));if(ui)return he;if(Tt){if(wt)for(Bt=b.call(Z.ownerDocument);Z.firstChild;)Bt.appendChild(Z.firstChild);else Bt=Z;return(W.shadowroot||W.shadowrootmod)&&(Bt=R.call(r,Bt,!0)),Bt}let pt=Mt?Z.outerHTML:Z.innerHTML;return Mt&&M["!doctype"]&&Z.ownerDocument&&Z.ownerDocument.doctype&&Z.ownerDocument.doctype.name&&fn(Sq,Z.ownerDocument.doctype.name)&&(pt="<!DOCTYPE "+Z.ownerDocument.doctype.name+`>
`+pt),tt&&(pt=gi(pt,w," "),pt=gi(pt,C," "),pt=gi(pt,L," ")),y&&wa?y.createHTML(pt):pt},e.setConfig=function(he){Ac(he),Nr=!0},e.clearConfig=function(){ws=null,Nr=!1},e.isValidAttribute=function(he,G,Z){ws||Ac({});const ae=Rt(he),Ye=Rt(G);return AL(ae,Ye,Z)},e.addHook=function(he,G){typeof G=="function"&&(I[he]=I[he]||[],Jd(I[he],G))},e.removeHook=function(he){if(I[he])return A6(I[he])},e.removeHooks=function(he){I[he]&&(I[he]=[])},e.removeAllHooks=function(){I={}},e}var k5e=Tq();class O5e{constructor({name:e,build:r,detect:n,helper:i,parse:a}){this.name=e,this.helper=i,this.build=r,this.detect=s=>{if(typeof s!="string")throw new Error("Expected string content!");return n(s)},this.parse=(s,o)=>{if(typeof s!="string")throw new Error("Expected string content!");return a(s,o)}}}const xs=t=>new O5e(t),L5e="ssa",mf={toMilliseconds:t=>{const e=/^\s*(\d+:)?(\d{1,2}):(\d{1,2})(?:[.,](\d{1,3}))?\s*$/.exec(t);if(!e)throw new Error(`Invalid time format: ${t}`);const r=e[1]?parseInt(e[1].replace(":","")):0,n=parseInt(e[2]),i=parseInt(e[3]),a=e[4]?parseInt(e[4]):0;return r*3600*1e3+n*60*1e3+i*1e3+a*10},toTimeString:t=>{const e=Math.floor(t/1e3/3600),r=Math.floor(t/1e3/60%60),n=Math.floor(t/1e3%60),i=Math.floor(t%1e3/10);return`${e}:${r<10?"0":""}${r}:${n<10?"0":""}${n}.${i<10?"0":""}${i}`}},wq=(t,e)=>{let r,n=null;const i=[],a=e.eol||`\r
`,s=t.split(/\r?\n\s*\n/);for(let o=0;o<s.length;o++){const l=/^\s*\[([^\]]+)\]\r?\n([\s\S]*)$/.exec(s[o]);if(l){const u=l[1],f=l[2].split(/\r?\n/);for(let d=0;d<f.length;d++){const h=f[d];if(/^\s*;/.test(h))continue;const p=/^\s*([^\s:]+):\s*(.*)$/.exec(h);if(p){if(u==="Script Info")if(r||(r={},r.type="meta",r.data={},i.push(r)),typeof r.data=="object"){const m=p[1].trim(),g=p[2].trim();r.data[m]=g}else throw new Error(`Invalid meta data: ${h}`);else if(u==="V4 Styles"||u==="V4+ Styles"){const m=p[1].trim(),g=p[2].trim();if(m==="Format")n=g.split(/\s*,\s*/g);else if(m==="Style"&&n){const v=g.split(/\s*,\s*/g),y={};y.type="style",y.data={};for(let x=0;x<n.length&&x<v.length;x++)y.data[n[x]]=v[x];i.push(y)}}else if(u==="Events"){const m=p[1].trim(),g=p[2].trim();if(m==="Format")n=g.split(/\s*,\s*/g);else if(m==="Dialogue"&&n){const v=g.split(/\s*,\s*/g),y={};y.type="caption",y.data={};for(let S=0;S<n.length&&S<v.length;S++)y.data[n[S]]=v[S];y.start=mf.toMilliseconds(y.data.Start),y.end=mf.toMilliseconds(y.data.End),y.duration=y.end-y.start,y.content=y.data.Text;const E=((S,b,T)=>S.split(b,T).join(b).length)(g,",",n.length-1)+1;y.content=g.substring(E),y.data.Text=y.content,y.text=y.content.replace(/\\N/g,a).replace(/\{[^}]+\}/g,""),i.push(y)}}}}}e.verbose&&console.log("WARN: Unknown part",s[o])}return i},Rq=(t,e)=>{const r=e.eol||`\r
`,n=e.format==="ass";let i="";i+=`[Script Info]${r}`,i+=`; Script generated by subsrt ${r}`,i+=`ScriptType: v4.00${n?"+":""}${r}`,i+=`Collisions: Normal${r}`,i+=r,n?(i+=`[V4+ Styles]${r}`,i+=`Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, OutlineColour, BackColour, Bold, Italic, Underline, StrikeOut, ScaleX, ScaleY, Spacing, Angle, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, Encoding${r}`,i+=`Style: DefaultVCD, Arial,28,&H00B4FCFC,&H00B4FCFC,&H00000008,&H80000008,-1,0,0,0,100,100,0.00,0.00,1,1.00,2.00,2,30,30,30,0${r}`):(i+=`[V4 Styles]${r}`,i+=`Format: Name, Fontname, Fontsize, PrimaryColour, SecondaryColour, TertiaryColour, BackColour, Bold, Italic, BorderStyle, Outline, Shadow, Alignment, MarginL, MarginR, MarginV, AlphaLevel, Encoding${r}`,i+=`Style: DefaultVCD, Arial,28,11861244,11861244,11861244,-2147483640,-1,0,1,1,2,2,30,30,30,0,0${r}`),i+=r,i+=`[Events]${r}`,i+=`Format: ${n?"Layer":"Marked"}, Start, End, Style, Name, MarginL, MarginR, MarginV, Effect, Text${r}`;for(let a=0;a<t.length;a++){const s=t[a];if(s.type!=="meta"){if(!s.type||s.type==="caption"){i+=`Dialogue: ${n?"0":"Marked=0"},${mf.toTimeString(s.start)},${mf.toTimeString(s.end)},DefaultVCD, NTP,0000,0000,0000,,${s.text.replace(/\r?\n/g,"\\N")}${r}`;continue}e.verbose&&console.log("SKIP:",s)}}return i},Aq=t=>/^\s*\[Script Info\]\r?\n/.test(t)&&/\s*\[Events\]\r?\n/.test(t)?t.indexOf("[V4+ Styles]")>0?"ass":"ssa":!1,P5e=xs({name:L5e,build:Rq,detect:Aq,helper:mf,parse:wq}),N5e="ass",D5e=xs({name:N5e,build:Rq,detect:Aq,helper:mf,parse:wq}),M5e="json",F5e=(t,e)=>JSON.parse(t),B5e=(t,e)=>JSON.stringify(t,void 0,2),U5e=t=>{try{const e=JSON.parse(t);return Array.isArray(e)&&e.length>0&&typeof e[0]=="object"}catch{return!1}},j5e=xs({name:M5e,build:B5e,detect:U5e,parse:F5e}),H5e="lrc",Qk={toMilliseconds:t=>{const e=/^\s*(\d+):(\d{1,2})(?:[.,](\d{1,3}))?\s*$/.exec(t);if(!e)throw new Error(`Invalid time format: ${t}`);const r=parseInt(e[1]),n=parseInt(e[2]),i=e[3]?parseInt(e[3]):0;return r*60*1e3+n*1e3+i*10},toTimeString:t=>{const e=Math.floor(t/1e3/60),r=Math.floor(t/1e3%60),n=Math.floor(t%1e3);return`${(e<10?"0":"")+e}:${r<10?"0":""}${r}.${n<100?"0":""}${n<10?"0":Math.floor(n/10)}`}},G5e=(t,e)=>{let r=null;const n=[],i=t.split(/\r?\n/);for(let a=0;a<i.length;a++){if(!i[a]||i[a].trim().length===0)continue;const o=/^\[(\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\](.*)(?:\r?\n)*$/.exec(i[a]);if(o){const l={};l.type="caption",l.start=Qk.toMilliseconds(o[1]),l.end=l.start+2e3,l.duration=l.end-l.start,l.content=o[2],l.text=l.content,n.push(l),r&&(r.end=l.start,r.duration=r.end-r.start),r=l;continue}const c=/^\[(\w+):([^\]]*)\](?:\r?\n)*$/.exec(i[a]);if(c){const l={};l.type="meta",l.tag=c[1],c[2]&&(l.data=c[2]),n.push(l);continue}e.verbose&&console.log("WARN: Unknown part",i[a])}return n},z5e=(t,e)=>{let r="",n=!1;const i=e.eol||`\r
`;for(let a=0;a<t.length;a++){const s=t[a];if(s.type==="meta"){s.tag&&s.data&&typeof s.data=="string"&&(r+=`[${s.tag}:${s.data.replace(/[\r\n]+/g," ")}]${i}`);continue}if(!s.type||s.type==="caption"){n||(r+=i,n=!0),r+=`[${Qk.toTimeString(s.start)}]${s.text}${i}`;continue}e.verbose&&console.log("SKIP:",s)}return r},V5e=t=>/\r?\n\[\d+:\d{1,2}(?:[.,]\d{1,3})?\].*\r?\n/.test(t),W5e=xs({name:H5e,build:z5e,detect:V5e,helper:Qk,parse:G5e}),K5e="sbv",M0={toMilliseconds:t=>{const e=/^\s*(\d{1,2}):(\d{1,2}):(\d{1,2})(?:[.,](\d{1,3}))?\s*$/.exec(t);if(!e)throw new Error(`Invalid time format: ${t}`);const r=parseInt(e[1]),n=parseInt(e[2]),i=parseInt(e[3]),a=e[4]?parseInt(e[4]):0;return r*3600*1e3+n*60*1e3+i*1e3+a},toTimeString:t=>{const e=Math.floor(t/1e3/3600),r=Math.floor(t/1e3/60%60),n=Math.floor(t/1e3%60),i=Math.floor(t%1e3);return`${(e<10?"0":"")+e}:${r<10?"0":""}${r}:${n<10?"0":""}${n}.${i<100?"0":""}${i<10?"0":""}${i}`}},Y5e=(t,e)=>{const r=[],n=e.eol||`\r
`,i=t.split(/\r?\n\s*\n/);for(let a=0;a<i.length;a++){const o=/^(\d{1,2}:\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\s*[,;]\s*(\d{1,2}:\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\r?\n([\s\S]*)$/.exec(i[a]);if(o){const c={};c.type="caption",c.start=M0.toMilliseconds(o[1]),c.end=M0.toMilliseconds(o[2]),c.duration=c.end-c.start;const l=o[3].split(/\[br\]|\r?\n/gi);c.content=l.join(n),c.text=c.content.replace(/>>[^:]+:\s*/g,""),r.push(c);continue}e.verbose&&console.log("WARN: Unknown part",i[a])}return r},q5e=(t,e)=>{let r="";const n=e.eol||`\r
`;for(let i=0;i<t.length;i++){const a=t[i];if(!a.type||a.type==="caption"){r+=`${M0.toTimeString(a.start)},${M0.toTimeString(a.end)}${n}`,r+=a.text+n,r+=n;continue}e.verbose&&console.log("SKIP:",a)}return r},X5e=t=>/\d{1,2}:\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?\s*[,;]\s*\d{1,2}:\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?/.test(t),Q5e=xs({name:K5e,build:q5e,detect:X5e,helper:M0,parse:Y5e}),Iq="smi",Zk={htmlEncode:t=>t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n/g,"<BR>"),htmlDecode:(t,e)=>t.replace(/<BR\s*\/?>/gi,e||`\r
`).replace(/&nbsp;/g," ").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")},Z5e=(t,e)=>{if(e.format&&e.format!==Iq)throw new Error(`Invalid format: ${e.format}`);const r=[],n=e.eol||`\r
`,i=/<TITLE[^>]*>([\s\S]*)<\/TITLE>/i.exec(t);if(i){const l={};l.type="meta",l.name="title",l.data=i[1].replace(/^\s*/g,"").replace(/\s*$/g,""),r.push(l)}const a=/<STYLE[^>]*>([\s\S]*)<\/STYLE>/i.exec(t);if(a){const l={};l.type="meta",l.name="style",l.data=a[1],r.push(l)}const s=t.replace(/^[\s\S]*<BODY[^>]*>/gi,"").replace(/<\/BODY[^>]*>[\s\S]*$/gi,"");let o=null;const c=s.split(/<SYNC/gi);for(let l=0;l<c.length;l++){if(!c[l]||c[l].trim().length===0)continue;const u=`<SYNC${c[l]}`,f=/^<SYNC[^>]+Start\s*=\s*["']?(\d+)[^\d>]*>([\s\S]*)/i.exec(u);if(f){const d={};d.type="caption",d.start=parseInt(f[1]),d.end=d.start+2e3,d.duration=d.end-d.start,d.content=f[2].replace(/^<\/SYNC[^>]*>/gi,"");let h=!0;const p=/^<P.+Class\s*=\s*["']?([\w-]+)(?: .*)?>([\s\S]*)/i.exec(d.content)||/^<P([^>]*)>([\s\S]*)/i.exec(d.content);if(p){let m=p[2].replace(/<P[\s\S]+$/gi,"");m=m.replace(/<BR\s*\/?>\s+/gi,n).replace(/<BR\s*\/?>/gi,n).replace(/<[^>]+>/g,""),m=m.replace(/^\s+/g,"").replace(/\s+$/g,""),h=m.replace(/&nbsp;/gi," ").replace(/\s+/g,"").length===0,d.text=Zk.htmlDecode(m,n)}!e.preserveSpaces&&h?e.verbose&&console.log(`INFO: Skipping white space caption at ${d.start}`):r.push(d),o&&(o.end=d.start,o.duration=o.end-o.start),o=d;continue}e.verbose&&console.log("WARN: Unknown part",c[l])}return r},J5e=(t,e)=>{const r=e.eol||`\r
`;let n="";n+=`<SAMI>${r}`,n+=`<HEAD>${r}`,n+=`<TITLE>${e.title||""}</TITLE>${r}`,n+=`<STYLE TYPE="text/css">${r}`,n+=`<!--${r}`,n+=`P { font-family: Arial; font-weight: normal; color: white; background-color: black; text-align: center; }${r}`,n+=`.LANG { Name: ${e.langName||"English"}; lang: ${e.langCode||"en-US"}; SAMIType: CC; }${r}`,n+=`-->${r}`,n+=`</STYLE>${r}`,n+=`</HEAD>${r}`,n+=`<BODY>${r}`;for(let i=0;i<t.length;i++){const a=t[i];if(a.type!=="meta"){if(!a.type||a.type==="caption"){n+=`<SYNC Start=${a.start}>${r}`,n+=`  <P Class=LANG>${Zk.htmlEncode(a.text||"")}${e.closeTags?"</P>":""}${r}`,e.closeTags&&(n+=`</SYNC>${r}`),n+=`<SYNC Start=${a.end}>${r}`,n+=`  <P Class=LANG>&nbsp;${e.closeTags?"</P>":""}${r}`,e.closeTags&&(n+=`</SYNC>${r}`);continue}e.verbose&&console.log("SKIP:",a)}}return n+=`</BODY>${r}`,n+=`</SAMI>${r}`,n},eBe=t=>/<SAMI[^>]*>[\s\S]*<BODY[^>]*>/.test(t),tBe=xs({name:Iq,build:J5e,detect:eBe,helper:Zk,parse:Z5e}),rBe="srt",F0={toMilliseconds:t=>{const e=/^\s*(\d{1,2}):(\d{1,2}):(\d{1,2})(?:[.,](\d{1,3}))?\s*$/.exec(t);if(!e)throw new Error(`Invalid time format: ${t}`);const r=parseInt(e[1]),n=parseInt(e[2]),i=parseInt(e[3]),a=e[4]?parseInt(e[4]):0;return r*3600*1e3+n*60*1e3+i*1e3+a},toTimeString:t=>{const e=Math.floor(t/1e3/3600),r=Math.floor(t/1e3/60%60),n=Math.floor(t/1e3%60),i=Math.floor(t%1e3);return`${(e<10?"0":"")+e}:${r<10?"0":""}${r}:${n<10?"0":""}${n},${i<100?"0":""}${i<10?"0":""}${i}`}},nBe=(t,e)=>{const r=[],n=e.eol||`\r
`,i=t.split(/\r?\n\s*\n/g);for(let a=0;a<i.length;a++){const o=/^(\d+)\r?\n(\d{1,2}:\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\s*-->\s*(\d{1,2}:\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\r?\n([\s\S]*)$/.exec(i[a]);if(o){const c={};c.type="caption",c.index=parseInt(o[1]),c.start=F0.toMilliseconds(o[2]),c.end=F0.toMilliseconds(o[3]),c.duration=c.end-c.start;const l=o[4].split(/\r?\n/);c.content=l.join(n),c.text=c.content.replace(/<[^>]+>/g,"").replace(/\{[^}]+\}/g,"").replace(/>>[^:]*:\s*/g,""),r.push(c);continue}e.verbose&&console.log("WARN: Unknown part",i[a])}return r},iBe=(t,e)=>{let r="";const n=e.eol||`\r
`;for(let i=0;i<t.length;i++){const a=t[i];if(!a.type||a.type==="caption"){r+=(i+1).toString()+n,r+=`${F0.toTimeString(a.start)} --> ${F0.toTimeString(a.end)}${n}`,r+=a.text+n,r+=n;continue}e.verbose&&console.log("SKIP:",a)}return r},aBe=t=>/\d+\r?\n\d{1,2}:\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?\s*-->\s*\d{1,2}:\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?/.test(t),sBe=xs({name:rBe,build:iBe,detect:aBe,helper:F0,parse:nBe}),oBe="sub",yA=25,lBe=(t,e)=>{e.fps||(e.fps=yA);const r=e.fps>0?e.fps:yA,n=[],i=e.eol||`\r
`,a=t.split(/\r?\n/g);for(let s=0;s<a.length;s++){const c=/^\{(\d+)\}\{(\d+)\}(.*)$/.exec(a[s]);if(c){const l={};l.type="caption",l.index=s+1,l.frame={start:parseInt(c[1]),end:parseInt(c[2]),count:parseInt(c[2])-parseInt(c[1])},l.start=Math.round(l.frame.start/r),l.end=Math.round(l.frame.end/r),l.duration=l.end-l.start;const u=c[3].split(/\|/g);l.content=u.join(i),l.text=l.content.replace(/\{[^}]+\}/g,""),n.push(l);continue}e.verbose&&console.log("WARN: Unknown part",a[s])}return n},cBe=(t,e)=>{const r=(e.fps||0)>0?e.fps:yA;let n="";const i=e.eol||`\r
`;for(let a=0;a<t.length;a++){const s=t[a];if(!s.type||s.type==="caption"){const o=typeof s.frame=="object"&&s.frame.start>=0?s.frame.start:s.start*r,c=typeof s.frame=="object"&&s.frame.end>=0?s.frame.end:s.end*r,l=s.text.replace(/\r?\n/,"|");n+=`{${o}}{${c}}${l}${i}`;continue}e.verbose&&console.log("SKIP:",s)}return n},uBe=t=>/^\{\d+\}\{\d+\}.*/.test(t),fBe=xs({name:oBe,build:cBe,detect:uBe,parse:lBe}),dBe="vtt",B0={toMilliseconds:t=>{const e=/^\s*(\d{1,2}:)?(\d{1,2}):(\d{1,2})(?:[.,](\d{1,3}))?\s*$/.exec(t);if(!e)throw new Error(`Invalid time format: ${t}`);const r=e[1]?parseInt(e[1].replace(":","")):0,n=parseInt(e[2]),i=parseInt(e[3]),a=e[4]?parseInt(e[4]):0;return r*3600*1e3+n*60*1e3+i*1e3+a},toTimeString:t=>{const e=Math.floor(t/1e3/3600),r=Math.floor(t/1e3/60%60),n=Math.floor(t/1e3%60),i=Math.floor(t%1e3);return`${(e<10?"0":"")+e}:${r<10?"0":""}${r}:${n<10?"0":""}${n}.${i<100?"0":""}${i<10?"0":""}${i}`}},hBe=(t,e)=>{let r=1;const n=[],i=t.split(/\r?\n\s*\n/);for(const a of i){const o=/^([^\r\n]+\r?\n)?((?:\d{1,2}:)?\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\s*-->\s*((?:\d{1,2}:)?\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)[^\S\r\n]?.*\r?\n([\s\S]*)$/.exec(a);if(o){const l={};l.type="caption",l.index=r++,o[1]&&(l.cue=o[1].replace(/[\r\n]*/g,"")),l.start=B0.toMilliseconds(o[2]),l.end=B0.toMilliseconds(o[3]),l.duration=l.end-l.start,l.content=o[4],l.text=l.content.replace(/<[^>]+>/g,"").replace(/\{[^}]+\}/g,""),n.push(l);continue}const c=/^([A-Z]+)(\r?\n([\s\S]*))?$/.exec(a)||/^([A-Z]+)\s+([^\r\n]*)$/.exec(a);if(c){const l={};l.type="meta",l.name=c[1],c[3]&&(l.data=c[3]),n.push(l);continue}e.verbose&&console.log("WARN: Unknown part",a)}return n},pBe=(t,e)=>{const r=e.eol||`\r
`;let n=`WEBVTT${r}${r}`;for(let i=0;i<t.length;i++){const a=t[i];if(a.type==="meta"){if(a.name==="WEBVTT")continue;n+=a.name+r,n+=a.data?a.data+r:"",n+=r;continue}if(!a.type||a.type==="caption"){n+=(i+1).toString()+r,n+=`${B0.toTimeString(a.start)} --> ${B0.toTimeString(a.end)}${r}`,n+=a.text+r,n+=r;continue}e.verbose&&console.log("SKIP:",a)}return n},gBe=t=>/^\s*WEBVTT\r?\n/.test(t),mBe=xs({name:dBe,build:pBe,detect:gBe,helper:B0,parse:hBe}),vBe={vtt:mBe,lrc:W5e,smi:tBe,ssa:P5e,ass:D5e,sub:fBe,srt:sBe,sbv:Q5e,json:j5e},yBe=t=>JSON.parse(JSON.stringify(t));class xBe{constructor(){this.format=vBe,this.list=()=>Object.keys(this.format),this.detect=e=>{const r=this.list();for(let n=0;n<r.length;n++){const i=r[n],a=this.format[i];if(typeof a>"u"||typeof a.detect!="function")continue;const s=a.detect(e);if(s===!0||s===i)return i}return""},this.parse=(e,r={})=>{const n=r.format||this.detect(e);if(!n||n.trim().length===0)throw new Error("Cannot determine subtitle format!");const i=this.format[n];if(typeof i>"u")throw new Error(`Unsupported subtitle format: ${n}`);const a=i.parse;if(typeof a!="function")throw new Error(`Subtitle format does not support 'parse' op: ${n}`);return a(e,r)},this.build=(e,r={})=>{const n=r.format||"srt";if(!n||n.trim().length===0)throw new Error("Cannot determine subtitle format!");const i=this.format[n];if(typeof i>"u")throw new Error(`Unsupported subtitle format: ${n}`);const a=i.build;if(typeof a!="function")throw new Error(`Subtitle format does not support 'build' op: ${n}`);return a(e,r)},this.convert=(e,r={})=>{let n={};typeof r=="string"?n.to=r:n=r;const i={format:n.from||void 0,verbose:n.verbose,eol:n.eol};let a=this.parse(e,i);n.resync&&(a=this.resync(a,n.resync));const s={format:n.to||n.format,verbose:n.verbose,eol:n.eol};return this.build(a,s)},this.resync=(e,r={})=>{let n,i,a=!1,s;if(typeof r=="function")n=r;else if(typeof r=="number")s=r,n=c=>[c[0]+s,c[1]+s];else if(typeof r=="object")s=(r.offset||0)*(r.frame?r.fps||25:1),i=r.ratio||1,a=r.frame||!1,n=c=>[Math.round(c[0]*i+s),Math.round(c[1]*i+s)];else throw new Error("Argument 'options' not defined!");const o=[];for(let c=0;c<e.length;c++){const l=yBe(e[c]);if(!l.type||l.type==="caption")if(a){const u=n([l.frame.start,l.frame.end]);u&&u.length===2&&(l.frame.start=u[0],l.frame.end=u[1],l.frame.count=l.frame.end-l.frame.start)}else{const u=n([l.start,l.end]);u&&u.length===2&&(l.start=u[0],l.end=u[1],l.duration=l.end-l.start)}o.push(l)}return o}}}const EBe=new xBe,{format:Nht,list:_Be,detect:bBe,parse:SBe,build:Dht,convert:TBe,resync:Mht}=EBe;var nn=(t=>(t.MP4="mp4",t.HLS="hls",t))(nn||{}),ql=(t=>(t.VTT="vtt",t.SRT="srt",t.LRC="lrc",t.SBV="sbv",t.SUB="sub",t.SSA="ssa",t.ASS="ass",t.JSON="json",t.UNKNOWN="unknown",t))(ql||{}),yt=(t=>(t.Q360P="360p",t.Q540P="540p",t.Q480P="480p",t.Q720P="720p",t.Q1080P="1080p",t.QUNKNOWN="unknown",t))(yt||{});const eh="external-custom";function xA(t,e){return e?`linked-${t.langIso}`:`external-${t.langIso}`}const Jk=_Be().map(t=>`.${t}`);function eO(t){return Jk.some(e=>t.endsWith(e))}function $q(t){if(!eO(t))return ql.UNKNOWN;const e=Jk.find(r=>t.endsWith(r));return e?e.slice(1):ql.UNKNOWN}const wBe=k5e.sanitize;async function Cq(t){let e;t.url.startsWith("blob:")?e=await(await fetch(t.url)).blob():t.needsProxy?e=await et(t.url,{responseType:"blob"}):e=await Wv(t.url,{responseType:"blob"});const r=await e.text(),n=TBe(r,"vtt");return URL.createObjectURL(new Blob([n],{type:"text/vtt"}))}function y1(t){t&&t.startsWith("blob:")&&URL.revokeObjectURL(t)}function kq(t){const e=t.trim();if(e==="")throw new Error("Given text is empty");if(bBe(e)==="")throw new Error("Invalid subtitle format");return SBe(e).filter(r=>r.type==="caption")}const x1=[{id:"none",englishName:"None",name:"None",nativeName:"Lorem ipsum"},{id:"aa",englishName:"Afar",name:"Afar - Afaraf",nativeName:"Afaraf"},{id:"ab",englishName:"Abkhaz",name:"Abkhaz - Аҧсуа бызшәа",nativeName:"Аҧсуа бызшәа"},{id:"ae",englishName:"Avestan",name:"Avestan - Avesta",nativeName:"Avesta"},{id:"af",englishName:"Afrikaans",name:"Afrikaans - Afrikaans",nativeName:"Afrikaans"},{id:"ak",englishName:"Akan",name:"Akan - Akan",nativeName:"Akan"},{id:"am",englishName:"Amharic",name:"Amharic - አማርኛ",nativeName:"አማርኛ"},{id:"an",englishName:"Aragonese",name:"Aragonese - Aragonés",nativeName:"Aragonés"},{id:"ar",englishName:"Arabic",name:"Arabic - اللغة العربية",nativeName:"اللغة العربية"},{id:"as",englishName:"Assamese",name:"Assamese - অসমীয়া",nativeName:"অসমীয়া"},{id:"av",englishName:"Avaric",name:"Avaric - Авар мацӀ",nativeName:"Авар мацӀ"},{id:"ay",englishName:"Aymara",name:"Aymara - Aymar aru",nativeName:"Aymar aru"},{id:"az",englishName:"Azerbaijani",name:"Azerbaijani - Azərbaycan dili",nativeName:"Azərbaycan dili"},{id:"ba",englishName:"Bashkir",name:"Bashkir - Башҡорт теле",nativeName:"Башҡорт теле"},{id:"be",englishName:"Belarusian",name:"Belarusian - Беларуская мова",nativeName:"Беларуская мова"},{id:"bg",englishName:"Bulgarian",name:"Bulgarian - Български език",nativeName:"Български език"},{id:"bh",englishName:"Bihari",name:"Bihari - भोजपुरी",nativeName:"भोजपुरी"},{id:"bi",englishName:"Bislama",name:"Bislama - Bislama",nativeName:"Bislama"},{id:"bm",englishName:"Bambara",name:"Bambara - Bamanankan",nativeName:"Bamanankan"},{id:"bn",englishName:"Bengali",name:"Bengali - বাংলা",nativeName:"বাংলা"},{id:"bo",englishName:"Tibetan Standard",name:"Tibetan Standard - བོད་ཡིག",nativeName:"བོད་ཡིག"},{id:"br",englishName:"Breton",name:"Breton - Brezhoneg",nativeName:"Brezhoneg"},{id:"bs",englishName:"Bosnian",name:"Bosnian - Bosanski jezik",nativeName:"Bosanski jezik"},{id:"ca",englishName:"Catalan",name:"Catalan - Català",nativeName:"Català"},{id:"ce",englishName:"Chechen",name:"Chechen - Нохчийн мотт",nativeName:"Нохчийн мотт"},{id:"ch",englishName:"Chamorro",name:"Chamorro - Chamoru",nativeName:"Chamoru"},{id:"co",englishName:"Corsican",name:"Corsican - Corsu",nativeName:"Corsu"},{id:"cr",englishName:"Cree",name:"Cree - ᓀᐦᐃᔭᐍᐏᐣ",nativeName:"ᓀᐦᐃᔭᐍᐏᐣ"},{id:"cs",englishName:"Czech",name:"Czech - Čeština",nativeName:"Čeština"},{id:"cu",englishName:"Old Church Slavonic",name:"Old Church Slavonic - Ѩзыкъ словѣньскъ",nativeName:"Ѩзыкъ словѣньскъ"},{id:"cv",englishName:"Chuvash",name:"Chuvash - Чӑваш чӗлхи",nativeName:"Чӑваш чӗлхи"},{id:"cy",englishName:"Welsh",name:"Welsh - Cymraeg",nativeName:"Cymraeg"},{id:"da",englishName:"Danish",name:"Danish - Dansk",nativeName:"Dansk"},{id:"de",englishName:"German",name:"German - Deutsch",nativeName:"Deutsch"},{id:"dv",englishName:"Divehi",name:"Divehi - Dhivehi",nativeName:"Dhivehi"},{id:"dz",englishName:"Dzongkha",name:"Dzongkha - རྫོང་ཁ",nativeName:"རྫོང་ཁ"},{id:"ee",englishName:"Ewe",name:"Ewe - Eʋegbe",nativeName:"Eʋegbe"},{id:"el",englishName:"Greek",name:"Greek - Ελληνικά",nativeName:"Ελληνικά"},{id:"en",englishName:"English",name:"English - English",nativeName:"English"},{id:"eo",englishName:"Esperanto",name:"Esperanto - Esperanto",nativeName:"Esperanto"},{id:"es",englishName:"Spanish",name:"Spanish - Español",nativeName:"Español"},{id:"et",englishName:"Estonian",name:"Estonian - Eesti",nativeName:"Eesti"},{id:"eu",englishName:"Basque",name:"Basque - Euskara",nativeName:"Euskara"},{id:"fa",englishName:"Persian",name:"Persian - فارسی",nativeName:"فارسی"},{id:"ff",englishName:"Fula",name:"Fula - Fulfulde",nativeName:"Fulfulde"},{id:"fi",englishName:"Finnish",name:"Finnish - Suomi",nativeName:"Suomi"},{id:"fj",englishName:"Fijian",name:"Fijian - Vakaviti",nativeName:"Vakaviti"},{id:"fo",englishName:"Faroese",name:"Faroese - Føroyskt",nativeName:"Føroyskt"},{id:"fr",englishName:"French",name:"French - Français",nativeName:"Français"},{id:"fy",englishName:"Western Frisian",name:"Western Frisian - Frysk",nativeName:"Frysk"},{id:"ga",englishName:"Irish",name:"Irish - Gaeilge",nativeName:"Gaeilge"},{id:"gd",englishName:"Scottish Gaelic",name:"Scottish Gaelic - Gàidhlig",nativeName:"Gàidhlig"},{id:"gl",englishName:"Galician",name:"Galician - Galego",nativeName:"Galego"},{id:"gn",englishName:"Guaraní",name:"Guaraní - Avañeẽ",nativeName:"Avañeẽ"},{id:"gu",englishName:"Gujarati",name:"Gujarati - ગુજરાતી",nativeName:"ગુજરાતી"},{id:"gv",englishName:"Manx",name:"Manx - Gaelg",nativeName:"Gaelg"},{id:"ha",englishName:"Hausa",name:"Hausa - هَوُسَ",nativeName:"هَوُسَ"},{id:"he",englishName:"Hebrew",name:"Hebrew - עברית",nativeName:"עברית"},{id:"hi",englishName:"Hindi",name:"Hindi - हिन्दी",nativeName:"हिन्दी"},{id:"ho",englishName:"Hiri Motu",name:"Hiri Motu - Hiri Motu",nativeName:"Hiri Motu"},{id:"hr",englishName:"Croatian",name:"Croatian - Hrvatski jezik",nativeName:"Hrvatski jezik"},{id:"ht",englishName:"Haitian",name:"Haitian - Kreyòl ayisyen",nativeName:"Kreyòl ayisyen"},{id:"hu",englishName:"Hungarian",name:"Hungarian - Magyar",nativeName:"Magyar"},{id:"hy",englishName:"Armenian",name:"Armenian - Հայերեն",nativeName:"Հայերեն"},{id:"hz",englishName:"Herero",name:"Herero - Otjiherero",nativeName:"Otjiherero"},{id:"ia",englishName:"Interlingua",name:"Interlingua - Interlingua",nativeName:"Interlingua"},{id:"id",englishName:"Indonesian",name:"Indonesian - Indonesian",nativeName:"Indonesian"},{id:"ie",englishName:"Interlingue",name:"Interlingue - Interlingue",nativeName:"Interlingue"},{id:"ig",englishName:"Igbo",name:"Igbo - Asụsụ Igbo",nativeName:"Asụsụ Igbo"},{id:"ii",englishName:"Nuosu",name:"Nuosu - ꆈꌠ꒿ Nuosuhxop",nativeName:"ꆈꌠ꒿ Nuosuhxop"},{id:"ik",englishName:"Inupiaq",name:"Inupiaq - Iñupiaq",nativeName:"Iñupiaq"},{id:"io",englishName:"Ido",name:"Ido - Ido",nativeName:"Ido"},{id:"is",englishName:"Icelandic",name:"Icelandic - Íslenska",nativeName:"Íslenska"},{id:"it",englishName:"Italian",name:"Italian - Italiano",nativeName:"Italiano"},{id:"iu",englishName:"Inuktitut",name:"Inuktitut - ᐃᓄᒃᑎᑐᑦ",nativeName:"ᐃᓄᒃᑎᑐᑦ"},{id:"ja",englishName:"Japanese",name:"Japanese - 日本語",nativeName:"日本語"},{id:"jv",englishName:"Javanese",name:"Javanese - Basa Jawa",nativeName:"Basa Jawa"},{id:"ka",englishName:"Georgian",name:"Georgian - Ქართული",nativeName:"Ქართული"},{id:"kg",englishName:"Kongo",name:"Kongo - Kikongo",nativeName:"Kikongo"},{id:"ki",englishName:"Kikuyu",name:"Kikuyu - Gĩkũyũ",nativeName:"Gĩkũyũ"},{id:"kj",englishName:"Kwanyama",name:"Kwanyama - Kuanyama",nativeName:"Kuanyama"},{id:"kk",englishName:"Kazakh",name:"Kazakh - Қазақ тілі",nativeName:"Қазақ тілі"},{id:"kl",englishName:"Kalaallisut",name:"Kalaallisut - Kalaallisut",nativeName:"Kalaallisut"},{id:"km",englishName:"Khmer",name:"Khmer - ខេមរភាសា",nativeName:"ខេមរភាសា"},{id:"kn",englishName:"Kannada",name:"Kannada - ಕನ್ನಡ",nativeName:"ಕನ್ನಡ"},{id:"ko",englishName:"Korean",name:"Korean - 한국어",nativeName:"한국어"},{id:"kr",englishName:"Kanuri",name:"Kanuri - Kanuri",nativeName:"Kanuri"},{id:"ks",englishName:"Kashmiri",name:"Kashmiri - कश्मीरी",nativeName:"कश्मीरी"},{id:"ku",englishName:"Kurdish",name:"Kurdish - Kurdî",nativeName:"Kurdî"},{id:"kv",englishName:"Komi",name:"Komi - Коми кыв",nativeName:"Коми кыв"},{id:"kw",englishName:"Cornish",name:"Cornish - Kernewek",nativeName:"Kernewek"},{id:"ky",englishName:"Kyrgyz",name:"Kyrgyz - Кыргызча",nativeName:"Кыргызча"},{id:"la",englishName:"Latin",name:"Latin - Latine",nativeName:"Latine"},{id:"lb",englishName:"Luxembourgish",name:"Luxembourgish - Lëtzebuergesch",nativeName:"Lëtzebuergesch"},{id:"lg",englishName:"Ganda",name:"Ganda - Luganda",nativeName:"Luganda"},{id:"li",englishName:"Limburgish",name:"Limburgish - Limburgs",nativeName:"Limburgs"},{id:"ln",englishName:"Lingala",name:"Lingala - Lingála",nativeName:"Lingála"},{id:"lo",englishName:"Lao",name:"Lao - ພາສາ",nativeName:"ພາສາ"},{id:"lt",englishName:"Lithuanian",name:"Lithuanian - Lietuvių kalba",nativeName:"Lietuvių kalba"},{id:"lu",englishName:"Luba-Katanga",name:"Luba-Katanga - Tshiluba",nativeName:"Tshiluba"},{id:"lv",englishName:"Latvian",name:"Latvian - Latviešu valoda",nativeName:"Latviešu valoda"},{id:"mg",englishName:"Malagasy",name:"Malagasy - Fiteny malagasy",nativeName:"Fiteny malagasy"},{id:"mh",englishName:"Marshallese",name:"Marshallese - Kajin M̧ajeļ",nativeName:"Kajin M̧ajeļ"},{id:"mi",englishName:"Māori",name:"Māori - Te reo Māori",nativeName:"Te reo Māori"},{id:"mk",englishName:"Macedonian",name:"Macedonian - Македонски јазик",nativeName:"Македонски јазик"},{id:"ml",englishName:"Malayalam",name:"Malayalam - മലയാളം",nativeName:"മലയാളം"},{id:"mn",englishName:"Mongolian",name:"Mongolian - Монгол хэл",nativeName:"Монгол хэл"},{id:"mr",englishName:"Marathi",name:"Marathi - मराठी",nativeName:"मराठी"},{id:"ms",englishName:"Malay",name:"Malay - هاس ملايو‎",nativeName:"هاس ملايو‎"},{id:"mt",englishName:"Maltese",name:"Maltese - Malti",nativeName:"Malti"},{id:"my",englishName:"Burmese",name:"Burmese - ဗမာစာ",nativeName:"ဗမာစာ"},{id:"na",englishName:"Nauru",name:"Nauru - Ekakairũ Naoero",nativeName:"Ekakairũ Naoero"},{id:"nb",englishName:"Norwegian Bokmål",name:"Norwegian Bokmål - Norsk bokmål",nativeName:"Norsk bokmål"},{id:"nd",englishName:"Northern Ndebele",name:"Northern Ndebele - IsiNdebele",nativeName:"IsiNdebele"},{id:"ne",englishName:"Nepali",name:"Nepali - नेपाली",nativeName:"नेपाली"},{id:"ng",englishName:"Ndonga",name:"Ndonga - Owambo",nativeName:"Owambo"},{id:"nl",englishName:"Dutch",name:"Dutch - Nederlands",nativeName:"Nederlands"},{id:"nn",englishName:"Norwegian Nynorsk",name:"Norwegian Nynorsk - Norsk nynorsk",nativeName:"Norsk nynorsk"},{id:"no",englishName:"Norwegian",name:"Norwegian - Norsk",nativeName:"Norsk"},{id:"nr",englishName:"Southern Ndebele",name:"Southern Ndebele - IsiNdebele",nativeName:"IsiNdebele"},{id:"nv",englishName:"Navajo",name:"Navajo - Diné bizaad",nativeName:"Diné bizaad"},{id:"ny",englishName:"Chichewa",name:"Chichewa - ChiCheŵa",nativeName:"ChiCheŵa"},{id:"oc",englishName:"Occitan",name:"Occitan - Occitan",nativeName:"Occitan"},{id:"oj",englishName:"Ojibwe",name:"Ojibwe - ᐊᓂᔑᓈᐯᒧᐎᓐ",nativeName:"ᐊᓂᔑᓈᐯᒧᐎᓐ"},{id:"om",englishName:"Oromo",name:"Oromo - Afaan Oromoo",nativeName:"Afaan Oromoo"},{id:"or",englishName:"Oriya",name:"Oriya - ଓଡ଼ିଆ",nativeName:"ଓଡ଼ିଆ"},{id:"os",englishName:"Ossetian",name:"Ossetian - Ирон æвзаг",nativeName:"Ирон æвзаг"},{id:"pa",englishName:"Panjabi",name:"Panjabi - ਪੰਜਾਬੀ",nativeName:"ਪੰਜਾਬੀ"},{id:"pi",englishName:"Pāli",name:"Pāli - पाऴि",nativeName:"पाऴि"},{id:"pl",englishName:"Polish",name:"Polish - Język polski",nativeName:"Język polski"},{id:"ps",englishName:"Pashto",name:"Pashto - پښتو",nativeName:"پښتو"},{id:"pt",englishName:"Portuguese",name:"Portuguese - Português",nativeName:"Português"},{id:"qu",englishName:"Quechua",name:"Quechua - Runa Simi",nativeName:"Runa Simi"},{id:"rm",englishName:"Romansh",name:"Romansh - Rumantsch grischun",nativeName:"Rumantsch grischun"},{id:"rn",englishName:"Kirundi",name:"Kirundi - Ikirundi",nativeName:"Ikirundi"},{id:"ro",englishName:"Romanian",name:"Romanian - Română",nativeName:"Română"},{id:"ru",englishName:"Russian",name:"Russian - Русский",nativeName:"Русский"},{id:"rw",englishName:"Kinyarwanda",name:"Kinyarwanda - Ikinyarwanda",nativeName:"Ikinyarwanda"},{id:"sa",englishName:"Sanskrit",name:"Sanskrit - संस्कृतम्",nativeName:"संस्कृतम्"},{id:"sc",englishName:"Sardinian",name:"Sardinian - Sardu",nativeName:"Sardu"},{id:"sd",englishName:"Sindhi",name:"Sindhi - सिन्धी",nativeName:"सिन्धी"},{id:"se",englishName:"Northern Sami",name:"Northern Sami - Davvisámegiella",nativeName:"Davvisámegiella"},{id:"sg",englishName:"Sango",name:"Sango - Yângâ tî sängö",nativeName:"Yângâ tî sängö"},{id:"si",englishName:"Sinhala",name:"Sinhala - සිංහල",nativeName:"සිංහල"},{id:"sk",englishName:"Slovak",name:"Slovak - Slovenčina",nativeName:"Slovenčina"},{id:"sl",englishName:"Slovene",name:"Slovene - Slovenski jezik",nativeName:"Slovenski jezik"},{id:"sm",englishName:"Samoan",name:"Samoan - Gagana faa Samoa",nativeName:"Gagana faa Samoa"},{id:"sn",englishName:"Shona",name:"Shona - ChiShona",nativeName:"ChiShona"},{id:"so",englishName:"Somali",name:"Somali - Soomaaliga",nativeName:"Soomaaliga"},{id:"sq",englishName:"Albanian",name:"Albanian - Shqip",nativeName:"Shqip"},{id:"sr",englishName:"Serbian",name:"Serbian - Српски језик",nativeName:"Српски језик"},{id:"ss",englishName:"Swati",name:"Swati - SiSwati",nativeName:"SiSwati"},{id:"st",englishName:"Southern Sotho",name:"Southern Sotho - Sesotho",nativeName:"Sesotho"},{id:"su",englishName:"Sundanese",name:"Sundanese - Basa Sunda",nativeName:"Basa Sunda"},{id:"sv",englishName:"Swedish",name:"Swedish - Svenska",nativeName:"Svenska"},{id:"sw",englishName:"Swahili",name:"Swahili - Kiswahili",nativeName:"Kiswahili"},{id:"ta",englishName:"Tamil",name:"Tamil - தமிழ்",nativeName:"தமிழ்"},{id:"te",englishName:"Telugu",name:"Telugu - తెలుగు",nativeName:"తెలుగు"},{id:"tg",englishName:"Tajik",name:"Tajik - Тоҷикӣ",nativeName:"Тоҷикӣ"},{id:"th",englishName:"Thai",name:"Thai - ไทย",nativeName:"ไทย"},{id:"ti",englishName:"Tigrinya",name:"Tigrinya - ትግርኛ",nativeName:"ትግርኛ"},{id:"tk",englishName:"Turkmen",name:"Turkmen - Türkmen",nativeName:"Türkmen"},{id:"tl",englishName:"Tagalog",name:"Tagalog - Wikang Tagalog",nativeName:"Wikang Tagalog"},{id:"tn",englishName:"Tswana",name:"Tswana - Setswana",nativeName:"Setswana"},{id:"to",englishName:"Tonga",name:"Tonga - Faka Tonga",nativeName:"Faka Tonga"},{id:"tr",englishName:"Turkish",name:"Turkish - Türkçe",nativeName:"Türkçe"},{id:"ts",englishName:"Tsonga",name:"Tsonga - Xitsonga",nativeName:"Xitsonga"},{id:"tt",englishName:"Tatar",name:"Tatar - Татар теле",nativeName:"Татар теле"},{id:"tw",englishName:"Twi",name:"Twi - Twi",nativeName:"Twi"},{id:"ty",englishName:"Tahitian",name:"Tahitian - Reo Tahiti",nativeName:"Reo Tahiti"},{id:"ug",englishName:"Uyghur",name:"Uyghur - ئۇيغۇرچە‎",nativeName:"ئۇيغۇرچە‎"},{id:"uk",englishName:"Ukrainian",name:"Ukrainian - Українська",nativeName:"Українська"},{id:"ur",englishName:"Urdu",name:"Urdu - اردو",nativeName:"اردو"},{id:"uz",englishName:"Uzbek",name:"Uzbek - Ўзбек",nativeName:"Ўзбек"},{id:"ve",englishName:"Venda",name:"Venda - Tshivenḓa",nativeName:"Tshivenḓa"},{id:"vi",englishName:"Vietnamese",name:"Vietnamese - Tiếng Việt",nativeName:"Tiếng Việt"},{id:"vo",englishName:"Volapük",name:"Volapük - Volapük",nativeName:"Volapük"},{id:"wa",englishName:"Walloon",name:"Walloon - Walon",nativeName:"Walon"},{id:"wo",englishName:"Wolof",name:"Wolof - Wollof",nativeName:"Wollof"},{id:"xh",englishName:"Xhosa",name:"Xhosa - IsiXhosa",nativeName:"IsiXhosa"},{id:"yi",englishName:"Yiddish",name:"Yiddish - ייִדיש",nativeName:"ייִדיש"},{id:"yo",englishName:"Yoruba",name:"Yoruba - Yorùbá",nativeName:"Yorùbá"},{id:"za",englishName:"Zhuang",name:"Zhuang - Saɯ cueŋƅ",nativeName:"Saɯ cueŋƅ"},{id:"zh",englishName:"Chinese",name:"Chinese - 中文",nativeName:"中文"},{id:"zu",englishName:"Zulu",name:"Zulu - IsiZulu",nativeName:"IsiZulu"}];function RBe(t){const e=ys(t);return{initialized:A.useMemo(()=>!!e.initalized,[e])}}async function ABe(t){for(let e=0;e<t.length;e+=1){const r=t[e];try{const n=await Cq(r);return{caption:r,blobUrl:n}}catch{continue}}return null}function IBe(t){const e=we(),r=at(e),{initialized:n}=RBe(e),i=A.useRef(!1),{captionSettings:a}=td();return A.useEffect(()=>{if(i.current||!n)return;r.setSource(t);const s=x1.find(c=>c.id===a.language);if(!s)return;const o=t.captions.filter(c=>c.langIso.indexOf(s.englishName)!==-1||c.langIso.indexOf(s.nativeName)!==-1);o&&(ABe(o).then(c=>{if(!c)return;const l=xA(c.caption,!0);r.setCaption(l,c.blobUrl)}),i.current=!0)},[t,r,n,a.language]),null}function Oq(t){const{t:e}=Ce();return Y("div",{className:`flex items-center space-x-2 rounded-full bg-bink-300 bg-opacity-50 px-4 py-2 text-bink-600 ${t.clickable?"transition-[transform,background-color] hover:scale-105 hover:bg-bink-400 hover:text-bink-700 active:scale-95":""}`,children:[_(Ge,{className:"text-xl",icon:ce.MOVIE_WEB}),_("span",{className:["font-semibold text-white",t.hideTextOnMobile?"hidden sm:block":""].join(" "),children:e("global.name")})]})}function Ta(t){const[e,r]=A.useState(!1),n=A.useRef(!1);return A.useEffect(()=>{function i(){const a=t?window.innerHeight<600:window.innerWidth<1024;n.current!==a&&(n.current=a,r(a))}return i(),window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)}},[t]),{isMobile:e}}const Es=A.forwardRef((t,e)=>_("div",{className:t.className,ref:e,children:_("button",{type:"button",onClick:t.onClick,className:["group pointer-events-auto p-2 text-white transition-transform duration-100 active:scale-110",t.disabled?"pointer-events-none cursor-not-allowed opacity-50":""].join(" "),children:Y("div",{className:["flex items-center justify-center rounded-full bg-denim-600 bg-opacity-0 transition-colors duration-100",t.active?"!bg-denim-500 !bg-opacity-100":"",t.noPadding?"":t.wide?"p-2 sm:px-4":"p-2",t.disabled?"":"group-hover:bg-opacity-50 group-active:bg-denim-500 group-active:bg-opacity-100"].join(" "),children:[_(Ge,{icon:t.icon,className:t.iconSize??"text-2xl"}),_("p",{className:"hidden sm:block",children:t.text?_("span",{className:"ml-2",children:t.text}):null})]})})}));function Lq(t){const e=we(),r=at(e),n=ys(e),i=A.useCallback(()=>{r.startAirplay()},[r]);return n.canAirplay?_(Es,{className:t.className,onClick:i,icon:ce.AIRPLAY}):null}function Pq(t){const[e,r]=A.useState(!1),n=we(),a=ys(n).isCasting,s=A.useRef(null),o=A.useCallback(c=>{const l=(c.getAttribute("style")??"").includes("inline");r(!l)},[r]);return A.useEffect(()=>{var u;const c=(u=s.current)==null?void 0:u.querySelector("google-cast-launcher");if(!c)return;const l=new MutationObserver(()=>{o(c)});return l.observe(c,{attributes:!0,attributeFilter:["style"]}),o(c),()=>{l.disconnect()}},[o]),_(Es,{ref:s,className:[t.className??"","google-cast-button",a?"casting":"",e?"hidden":""].join(" "),icon:ce.CASTING,onClick:c=>{const l=c.currentTarget.querySelector("google-cast-launcher");l&&l.click()}})}function yc(t){const{isMobile:e}=Ta(),{bookmarkStore:r,setItemBookmark:n}=Yk(),i=t.media?iq(r.bookmarks,t.media):!1,a=t.media&&t.onClick,{t:s}=Ce(),o=ZE();return Y("div",{className:"flex items-center",style:{paddingTop:t.isFullScreen?`${o}px`:void 0},children:[Y("div",{className:"flex min-w-0 flex-1 items-center",children:[Y("p",{className:"flex items-center truncate",children:[t.onClick?Y("span",{onClick:t.onClick,className:"flex cursor-pointer items-center py-1 text-white opacity-50 transition-opacity hover:opacity-100",children:[_(Ge,{className:"mr-2",icon:ce.ARROW_LEFT}),e?_("span",{children:s("videoPlayer.backToHomeShort")}):_("span",{children:s("videoPlayer.backToHome")})]}):null,a?_("span",{className:"mx-4 h-6 w-[1.5px] rotate-[30deg] bg-white opacity-50"}):null,t.media?_("span",{className:"truncate text-white",children:t.media.title}):null]}),t.media&&_(tn,{clickable:!0,transparent:!0,icon:i?ce.BOOKMARK:ce.BOOKMARK_OUTLINE,className:"ml-2 text-white",onClick:()=>t.media&&n(t.media,!i)})]}),t.showControls?Y(vr,{children:[_(Lq,{}),_(Pq,{})]}):_(Oq,{hideTextOnMobile:!0})]})}var $Be=Object.defineProperty,CBe=(t,e,r)=>e in t?$Be(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,OT=(t,e,r)=>(CBe(t,typeof e!="symbol"?e+"":e,r),r);let kBe=class{constructor(){OT(this,"current",this.detect()),OT(this,"handoffState","pending"),OT(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Ml=new kBe,Jn=(t,e)=>{Ml.isServer?A.useEffect(t,e):A.useLayoutEffect(t,e)};function Za(t){let e=A.useRef(t);return Jn(()=>{e.current=t},[t]),e}function Nq(t,e){let[r,n]=A.useState(t),i=Za(t);return Jn(()=>n(i.current),[i,n,...e]),r}function OBe(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function Co(){let t=[],e={addEventListener(r,n,i,a){return r.addEventListener(n,i,a),e.add(()=>r.removeEventListener(n,i,a))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return e.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return e.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return OBe(()=>{n.current&&r[0]()}),e.add(()=>{n.current=!1})},style(r,n,i){let a=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:i}),this.add(()=>{Object.assign(r.style,{[n]:a})})},group(r){let n=Co();return r(n),this.add(()=>n.dispose())},add(r){return t.push(r),()=>{let n=t.indexOf(r);if(n>=0)for(let i of t.splice(n,1))i()}},dispose(){for(let r of t.splice(0))r()}};return e}function vf(){let[t]=A.useState(Co);return A.useEffect(()=>()=>t.dispose(),[t]),t}let Ve=function(t){let e=Za(t);return le.useCallback((...r)=>e.current(...r),[e])};function tO(){let[t,e]=A.useState(Ml.isHandoffComplete);return t&&Ml.isHandoffComplete===!1&&e(!1),A.useEffect(()=>{t!==!0&&e(!0)},[t]),A.useEffect(()=>Ml.handoff(),[]),t}var L6;let i_=(L6=le.useId)!=null?L6:function(){let t=tO(),[e,r]=le.useState(t?()=>Ml.nextId():null);return Jn(()=>{e===null&&r(Ml.nextId())},[e]),e!=null?""+e:void 0};function tr(t,e,...r){if(t in e){let i=e[t];return typeof i=="function"?i(...r):i}let n=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,tr),n}function Dq(t){return Ml.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}let P6=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var LBe=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(LBe||{}),PBe=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(PBe||{}),NBe=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(NBe||{}),rO=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(rO||{});function Mq(t,e=0){var r;return t===((r=Dq(t))==null?void 0:r.body)?!1:tr(e,{[0](){return t.matches(P6)},[1](){let n=t;for(;n!==null;){if(n.matches(P6))return!0;n=n.parentElement}return!1}})}var DBe=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(DBe||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function MBe(t,e=r=>r){return t.slice().sort((r,n)=>{let i=e(r),a=e(n);if(i===null||a===null)return 0;let s=i.compareDocumentPosition(a);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function LT(t,e,r){let n=Za(e);A.useEffect(()=>{function i(a){n.current(a)}return document.addEventListener(t,i,r),()=>document.removeEventListener(t,i,r)},[t,r])}function FBe(t,e,r=!0){let n=A.useRef(!1);A.useEffect(()=>{requestAnimationFrame(()=>{n.current=r})},[r]);function i(s,o){if(!n.current||s.defaultPrevented)return;let c=function u(f){return typeof f=="function"?u(f()):Array.isArray(f)||f instanceof Set?f:[f]}(t),l=o(s);if(l!==null&&l.getRootNode().contains(l)){for(let u of c){if(u===null)continue;let f=u instanceof HTMLElement?u:u.current;if(f!=null&&f.contains(l)||s.composed&&s.composedPath().includes(f))return}return!Mq(l,rO.Loose)&&l.tabIndex!==-1&&s.preventDefault(),e(s,l)}}let a=A.useRef(null);LT("mousedown",s=>{var o,c;n.current&&(a.current=((c=(o=s.composedPath)==null?void 0:o.call(s))==null?void 0:c[0])||s.target)},!0),LT("click",s=>{a.current&&(i(s,()=>a.current),a.current=null)},!0),LT("blur",s=>i(s,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function N6(t){var e;if(t.type)return t.type;let r=(e=t.as)!=null?e:"button";if(typeof r=="string"&&r.toLowerCase()==="button")return"button"}function BBe(t,e){let[r,n]=A.useState(()=>N6(t));return Jn(()=>{n(N6(t))},[t.type,t.as]),Jn(()=>{r||e.current&&e.current instanceof HTMLButtonElement&&!e.current.hasAttribute("type")&&n("button")},[r,e]),r}let UBe=Symbol();function xc(...t){let e=A.useRef(t);A.useEffect(()=>{e.current=t},[t]);let r=Ve(n=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(n):i.current=n)});return t.every(n=>n==null||(n==null?void 0:n[UBe]))?void 0:r}function jBe(t){throw new Error("Unexpected object: "+t)}var Qr=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(Qr||{});function HBe(t,e){let r=e.resolveItems();if(r.length<=0)return null;let n=e.resolveActiveIndex(),i=n??-1,a=(()=>{switch(t.focus){case 0:return r.findIndex(s=>!e.resolveDisabled(s));case 1:{let s=r.slice().reverse().findIndex((o,c,l)=>i!==-1&&l.length-c-1>=i?!1:!e.resolveDisabled(o));return s===-1?s:r.length-1-s}case 2:return r.findIndex((s,o)=>o<=i?!1:!e.resolveDisabled(s));case 3:{let s=r.slice().reverse().findIndex(o=>!e.resolveDisabled(o));return s===-1?s:r.length-1-s}case 4:return r.findIndex(s=>e.resolveId(s)===t.id);case 5:return null;default:jBe(t)}})();return a===-1?n:a}function EA(...t){return t.filter(Boolean).join(" ")}var E1=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(E1||{}),Ya=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Ya||{});function Ko({ourProps:t,theirProps:e,slot:r,defaultTag:n,features:i,visible:a=!0,name:s}){let o=Fq(e,t);if(a)return Nm(o,r,n,s);let c=i??0;if(c&2){let{static:l=!1,...u}=o;if(l)return Nm(u,r,n,s)}if(c&1){let{unmount:l=!0,...u}=o;return tr(l?0:1,{[0](){return null},[1](){return Nm({...u,hidden:!0,style:{display:"none"}},r,n,s)}})}return Nm(o,r,n,s)}function Nm(t,e={},r,n){let{as:i=r,children:a,refName:s="ref",...o}=PT(t,["unmount","static"]),c=t.ref!==void 0?{[s]:t.ref}:{},l=typeof a=="function"?a(e):a;"className"in o&&o.className&&typeof o.className=="function"&&(o.className=o.className(e));let u={};if(e){let f=!1,d=[];for(let[h,p]of Object.entries(e))typeof p=="boolean"&&(f=!0),p===!0&&d.push(h);f&&(u["data-headlessui-state"]=d.join(" "))}if(i===A.Fragment&&Object.keys(_A(o)).length>0){if(!A.isValidElement(l)||Array.isArray(l)&&l.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(o).map(p=>`  - ${p}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(p=>`  - ${p}`).join(`
`)].join(`
`));let f=l.props,d=typeof(f==null?void 0:f.className)=="function"?(...p)=>EA(f==null?void 0:f.className(...p),o.className):EA(f==null?void 0:f.className,o.className),h=d?{className:d}:{};return A.cloneElement(l,Object.assign({},Fq(l.props,_A(PT(o,["ref"]))),u,c,GBe(l.ref,c.ref),h))}return A.createElement(i,Object.assign({},PT(o,["ref"]),i!==A.Fragment&&c,i!==A.Fragment&&u),l)}function GBe(...t){return{ref:t.every(e=>e==null)?void 0:e=>{for(let r of t)r!=null&&(typeof r=="function"?r(e):r.current=e)}}}function Fq(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let n of t)for(let i in n)i.startsWith("on")&&typeof n[i]=="function"?(r[i]!=null||(r[i]=[]),r[i].push(n[i])):e[i]=n[i];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(r).map(n=>[n,void 0])));for(let n in r)Object.assign(e,{[n](i,...a){let s=r[n];for(let o of s){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;o(i,...a)}}});return e}function _s(t){var e;return Object.assign(A.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function _A(t){let e=Object.assign({},t);for(let r in e)e[r]===void 0&&delete e[r];return e}function PT(t,e=[]){let r=Object.assign({},t);for(let n of e)n in r&&delete r[n];return r}function zBe(t){let e=t.parentElement,r=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(r=e),e=e.parentElement;let n=(e==null?void 0:e.getAttribute("disabled"))==="";return n&&VBe(r)?!1:n}function VBe(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}function Bq(t={},e=null,r=[]){for(let[n,i]of Object.entries(t))jq(r,Uq(e,n),i);return r}function Uq(t,e){return t?t+"["+e+"]":e}function jq(t,e,r){if(Array.isArray(r))for(let[n,i]of r.entries())jq(t,Uq(e,n.toString()),i);else r instanceof Date?t.push([e,r.toISOString()]):typeof r=="boolean"?t.push([e,r?"1":"0"]):typeof r=="string"?t.push([e,r]):typeof r=="number"?t.push([e,`${r}`]):r==null?t.push([e,""]):Bq(r,e,t)}let WBe="div";var Hq=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(Hq||{});function KBe(t,e){let{features:r=1,...n}=t,i={ref:e,"aria-hidden":(r&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Ko({ourProps:i,theirProps:n,slot:{},defaultTag:WBe,name:"Hidden"})}let YBe=_s(KBe),nO=A.createContext(null);nO.displayName="OpenClosedContext";var vn=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(vn||{});function iO(){return A.useContext(nO)}function Gq({value:t,children:e}){return le.createElement(nO.Provider,{value:t},e)}var jt=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(jt||{});function qBe(t,e,r){let[n,i]=A.useState(r),a=t!==void 0,s=A.useRef(a),o=A.useRef(!1),c=A.useRef(!1);return a&&!s.current&&!o.current?(o.current=!0,s.current=a,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")):!a&&s.current&&!c.current&&(c.current=!0,s.current=a,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")),[a?t:n,Ve(l=>(a||i(l),e==null?void 0:e(l)))]}function D6(t){return[t.screenX,t.screenY]}function XBe(){let t=A.useRef([-1,-1]);return{wasMoved(e){let r=D6(e);return t.current[0]===r[0]&&t.current[1]===r[1]?!1:(t.current=r,!0)},update(e){t.current=D6(e)}}}function aO(){let t=A.useRef(!1);return Jn(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var QBe=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(QBe||{}),ZBe=(t=>(t[t.Single=0]="Single",t[t.Multi=1]="Multi",t))(ZBe||{}),JBe=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(JBe||{}),eUe=(t=>(t[t.OpenListbox=0]="OpenListbox",t[t.CloseListbox=1]="CloseListbox",t[t.GoToOption=2]="GoToOption",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterOption=5]="RegisterOption",t[t.UnregisterOption=6]="UnregisterOption",t[t.RegisterLabel=7]="RegisterLabel",t))(eUe||{});function NT(t,e=r=>r){let r=t.activeOptionIndex!==null?t.options[t.activeOptionIndex]:null,n=MBe(e(t.options.slice()),a=>a.dataRef.current.domRef.current),i=r?n.indexOf(r):null;return i===-1&&(i=null),{options:n,activeOptionIndex:i}}let tUe={[1](t){return t.dataRef.current.disabled||t.listboxState===1?t:{...t,activeOptionIndex:null,listboxState:1}},[0](t){if(t.dataRef.current.disabled||t.listboxState===0)return t;let e=t.activeOptionIndex,{isSelected:r}=t.dataRef.current,n=t.options.findIndex(i=>r(i.dataRef.current.value));return n!==-1&&(e=n),{...t,listboxState:0,activeOptionIndex:e}},[2](t,e){var r;if(t.dataRef.current.disabled||t.listboxState===1)return t;let n=NT(t),i=HBe(e,{resolveItems:()=>n.options,resolveActiveIndex:()=>n.activeOptionIndex,resolveId:a=>a.id,resolveDisabled:a=>a.dataRef.current.disabled});return{...t,...n,searchQuery:"",activeOptionIndex:i,activationTrigger:(r=e.trigger)!=null?r:1}},[3]:(t,e)=>{if(t.dataRef.current.disabled||t.listboxState===1)return t;let r=t.searchQuery!==""?0:1,n=t.searchQuery+e.value.toLowerCase(),i=(t.activeOptionIndex!==null?t.options.slice(t.activeOptionIndex+r).concat(t.options.slice(0,t.activeOptionIndex+r)):t.options).find(s=>{var o;return!s.dataRef.current.disabled&&((o=s.dataRef.current.textValue)==null?void 0:o.startsWith(n))}),a=i?t.options.indexOf(i):-1;return a===-1||a===t.activeOptionIndex?{...t,searchQuery:n}:{...t,searchQuery:n,activeOptionIndex:a,activationTrigger:1}},[4](t){return t.dataRef.current.disabled||t.listboxState===1||t.searchQuery===""?t:{...t,searchQuery:""}},[5]:(t,e)=>{let r={id:e.id,dataRef:e.dataRef},n=NT(t,i=>[...i,r]);return t.activeOptionIndex===null&&t.dataRef.current.isSelected(e.dataRef.current.value)&&(n.activeOptionIndex=n.options.indexOf(r)),{...t,...n}},[6]:(t,e)=>{let r=NT(t,n=>{let i=n.findIndex(a=>a.id===e.id);return i!==-1&&n.splice(i,1),n});return{...t,...r,activationTrigger:1}},[7]:(t,e)=>({...t,labelId:e.id})},sO=A.createContext(null);sO.displayName="ListboxActionsContext";function sg(t){let e=A.useContext(sO);if(e===null){let r=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,sg),r}return e}let oO=A.createContext(null);oO.displayName="ListboxDataContext";function og(t){let e=A.useContext(oO);if(e===null){let r=new Error(`<${t} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,og),r}return e}function rUe(t,e){return tr(e.type,tUe,t,e)}let nUe=A.Fragment;function iUe(t,e){let{value:r,defaultValue:n,form:i,name:a,onChange:s,by:o=(D,Q)=>D===Q,disabled:c=!1,horizontal:l=!1,multiple:u=!1,...f}=t;const d=l?"horizontal":"vertical";let h=xc(e),[p=u?[]:void 0,m]=qBe(r,s,n),[g,v]=A.useReducer(rUe,{dataRef:A.createRef(),listboxState:1,options:[],searchQuery:"",labelId:null,activeOptionIndex:null,activationTrigger:1}),y=A.useRef({static:!1,hold:!1}),x=A.useRef(null),E=A.useRef(null),S=A.useRef(null),b=Ve(typeof o=="string"?(D,Q)=>{let ee=o;return(D==null?void 0:D[ee])===(Q==null?void 0:Q[ee])}:o),T=A.useCallback(D=>tr(R.mode,{[1]:()=>p.some(Q=>b(Q,D)),[0]:()=>b(p,D)}),[p]),R=A.useMemo(()=>({...g,value:p,disabled:c,mode:u?1:0,orientation:d,compare:b,isSelected:T,optionsPropsRef:y,labelRef:x,buttonRef:E,optionsRef:S}),[p,c,u,g]);Jn(()=>{g.dataRef.current=R},[R]),FBe([R.buttonRef,R.optionsRef],(D,Q)=>{var ee;v({type:1}),Mq(Q,rO.Loose)||(D.preventDefault(),(ee=R.buttonRef.current)==null||ee.focus())},R.listboxState===0);let I=A.useMemo(()=>({open:R.listboxState===0,disabled:c,value:p}),[R,c,p]),w=Ve(D=>{let Q=R.options.find(ee=>ee.id===D);Q&&V(Q.dataRef.current.value)}),C=Ve(()=>{if(R.activeOptionIndex!==null){let{dataRef:D,id:Q}=R.options[R.activeOptionIndex];V(D.current.value),v({type:2,focus:Qr.Specific,id:Q})}}),L=Ve(()=>v({type:0})),H=Ve(()=>v({type:1})),N=Ve((D,Q,ee)=>D===Qr.Specific?v({type:2,focus:Qr.Specific,id:Q,trigger:ee}):v({type:2,focus:D,trigger:ee})),P=Ve((D,Q)=>(v({type:5,id:D,dataRef:Q}),()=>v({type:6,id:D}))),B=Ve(D=>(v({type:7,id:D}),()=>v({type:7,id:null}))),V=Ve(D=>tr(R.mode,{[0](){return m==null?void 0:m(D)},[1](){let Q=R.value.slice(),ee=Q.findIndex(fe=>b(fe,D));return ee===-1?Q.push(D):Q.splice(ee,1),m==null?void 0:m(Q)}})),M=Ve(D=>v({type:3,value:D})),U=Ve(()=>v({type:4})),W=A.useMemo(()=>({onChange:V,registerOption:P,registerLabel:B,goToOption:N,closeListbox:H,openListbox:L,selectActiveOption:C,selectOption:w,search:M,clearSearch:U}),[]),k={ref:h},O=A.useRef(null),F=vf();return A.useEffect(()=>{O.current&&n!==void 0&&F.addEventListener(O.current,"reset",()=>{V(n)})},[O,V]),le.createElement(sO.Provider,{value:W},le.createElement(oO.Provider,{value:R},le.createElement(Gq,{value:tr(R.listboxState,{[0]:vn.Open,[1]:vn.Closed})},a!=null&&p!=null&&Bq({[a]:p}).map(([D,Q],ee)=>le.createElement(YBe,{features:Hq.Hidden,ref:ee===0?fe=>{var se;O.current=(se=fe==null?void 0:fe.closest("form"))!=null?se:null}:void 0,..._A({key:D,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:i,name:D,value:Q})})),Ko({ourProps:k,theirProps:f,slot:I,defaultTag:nUe,name:"Listbox"}))))}let aUe="button";function sUe(t,e){var r;let n=i_(),{id:i=`headlessui-listbox-button-${n}`,...a}=t,s=og("Listbox.Button"),o=sg("Listbox.Button"),c=xc(s.buttonRef,e),l=vf(),u=Ve(g=>{switch(g.key){case jt.Space:case jt.Enter:case jt.ArrowDown:g.preventDefault(),o.openListbox(),l.nextFrame(()=>{s.value||o.goToOption(Qr.First)});break;case jt.ArrowUp:g.preventDefault(),o.openListbox(),l.nextFrame(()=>{s.value||o.goToOption(Qr.Last)});break}}),f=Ve(g=>{switch(g.key){case jt.Space:g.preventDefault();break}}),d=Ve(g=>{if(zBe(g.currentTarget))return g.preventDefault();s.listboxState===0?(o.closeListbox(),l.nextFrame(()=>{var v;return(v=s.buttonRef.current)==null?void 0:v.focus({preventScroll:!0})})):(g.preventDefault(),o.openListbox())}),h=Nq(()=>{if(s.labelId)return[s.labelId,i].join(" ")},[s.labelId,i]),p=A.useMemo(()=>({open:s.listboxState===0,disabled:s.disabled,value:s.value}),[s]),m={ref:c,id:i,type:BBe(t,s.buttonRef),"aria-haspopup":"listbox","aria-controls":(r=s.optionsRef.current)==null?void 0:r.id,"aria-expanded":s.disabled?void 0:s.listboxState===0,"aria-labelledby":h,disabled:s.disabled,onKeyDown:u,onKeyUp:f,onClick:d};return Ko({ourProps:m,theirProps:a,slot:p,defaultTag:aUe,name:"Listbox.Button"})}let oUe="label";function lUe(t,e){let r=i_(),{id:n=`headlessui-listbox-label-${r}`,...i}=t,a=og("Listbox.Label"),s=sg("Listbox.Label"),o=xc(a.labelRef,e);Jn(()=>s.registerLabel(n),[n]);let c=Ve(()=>{var u;return(u=a.buttonRef.current)==null?void 0:u.focus({preventScroll:!0})}),l=A.useMemo(()=>({open:a.listboxState===0,disabled:a.disabled}),[a]);return Ko({ourProps:{ref:o,id:n,onClick:c},theirProps:i,slot:l,defaultTag:oUe,name:"Listbox.Label"})}let cUe="ul",uUe=E1.RenderStrategy|E1.Static;function fUe(t,e){var r;let n=i_(),{id:i=`headlessui-listbox-options-${n}`,...a}=t,s=og("Listbox.Options"),o=sg("Listbox.Options"),c=xc(s.optionsRef,e),l=vf(),u=vf(),f=iO(),d=(()=>f!==null?(f&vn.Open)===vn.Open:s.listboxState===0)();A.useEffect(()=>{var v;let y=s.optionsRef.current;y&&s.listboxState===0&&y!==((v=Dq(y))==null?void 0:v.activeElement)&&y.focus({preventScroll:!0})},[s.listboxState,s.optionsRef]);let h=Ve(v=>{switch(u.dispose(),v.key){case jt.Space:if(s.searchQuery!=="")return v.preventDefault(),v.stopPropagation(),o.search(v.key);case jt.Enter:if(v.preventDefault(),v.stopPropagation(),s.activeOptionIndex!==null){let{dataRef:y}=s.options[s.activeOptionIndex];o.onChange(y.current.value)}s.mode===0&&(o.closeListbox(),Co().nextFrame(()=>{var y;return(y=s.buttonRef.current)==null?void 0:y.focus({preventScroll:!0})}));break;case tr(s.orientation,{vertical:jt.ArrowDown,horizontal:jt.ArrowRight}):return v.preventDefault(),v.stopPropagation(),o.goToOption(Qr.Next);case tr(s.orientation,{vertical:jt.ArrowUp,horizontal:jt.ArrowLeft}):return v.preventDefault(),v.stopPropagation(),o.goToOption(Qr.Previous);case jt.Home:case jt.PageUp:return v.preventDefault(),v.stopPropagation(),o.goToOption(Qr.First);case jt.End:case jt.PageDown:return v.preventDefault(),v.stopPropagation(),o.goToOption(Qr.Last);case jt.Escape:return v.preventDefault(),v.stopPropagation(),o.closeListbox(),l.nextFrame(()=>{var y;return(y=s.buttonRef.current)==null?void 0:y.focus({preventScroll:!0})});case jt.Tab:v.preventDefault(),v.stopPropagation();break;default:v.key.length===1&&(o.search(v.key),u.setTimeout(()=>o.clearSearch(),350));break}}),p=Nq(()=>{var v,y,x;return(x=(v=s.labelRef.current)==null?void 0:v.id)!=null?x:(y=s.buttonRef.current)==null?void 0:y.id},[s.labelRef.current,s.buttonRef.current]),m=A.useMemo(()=>({open:s.listboxState===0}),[s]),g={"aria-activedescendant":s.activeOptionIndex===null||(r=s.options[s.activeOptionIndex])==null?void 0:r.id,"aria-multiselectable":s.mode===1?!0:void 0,"aria-labelledby":p,"aria-orientation":s.orientation,id:i,onKeyDown:h,role:"listbox",tabIndex:0,ref:c};return Ko({ourProps:g,theirProps:a,slot:m,defaultTag:cUe,features:uUe,visible:d,name:"Listbox.Options"})}let dUe="li";function hUe(t,e){let r=i_(),{id:n=`headlessui-listbox-option-${r}`,disabled:i=!1,value:a,...s}=t,o=og("Listbox.Option"),c=sg("Listbox.Option"),l=o.activeOptionIndex!==null?o.options[o.activeOptionIndex].id===n:!1,u=o.isSelected(a),f=A.useRef(null),d=Za({disabled:i,value:a,domRef:f,get textValue(){var S,b;return(b=(S=f.current)==null?void 0:S.textContent)==null?void 0:b.toLowerCase()}}),h=xc(e,f);Jn(()=>{if(o.listboxState!==0||!l||o.activationTrigger===0)return;let S=Co();return S.requestAnimationFrame(()=>{var b,T;(T=(b=f.current)==null?void 0:b.scrollIntoView)==null||T.call(b,{block:"nearest"})}),S.dispose},[f,l,o.listboxState,o.activationTrigger,o.activeOptionIndex]),Jn(()=>c.registerOption(n,d),[d,n]);let p=Ve(S=>{if(i)return S.preventDefault();c.onChange(a),o.mode===0&&(c.closeListbox(),Co().nextFrame(()=>{var b;return(b=o.buttonRef.current)==null?void 0:b.focus({preventScroll:!0})}))}),m=Ve(()=>{if(i)return c.goToOption(Qr.Nothing);c.goToOption(Qr.Specific,n)}),g=XBe(),v=Ve(S=>g.update(S)),y=Ve(S=>{g.wasMoved(S)&&(i||l||c.goToOption(Qr.Specific,n,0))}),x=Ve(S=>{g.wasMoved(S)&&(i||l&&c.goToOption(Qr.Nothing))}),E=A.useMemo(()=>({active:l,selected:u,disabled:i}),[l,u,i]);return Ko({ourProps:{id:n,ref:h,role:"option",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-selected":u,disabled:void 0,onClick:p,onFocus:m,onPointerEnter:v,onMouseEnter:v,onPointerMove:y,onMouseMove:y,onPointerLeave:x,onMouseLeave:x},theirProps:s,slot:E,defaultTag:dUe,name:"Listbox.Option"})}let pUe=_s(iUe),gUe=_s(sUe),mUe=_s(lUe),vUe=_s(fUe),yUe=_s(hUe),Dm=Object.assign(pUe,{Button:gUe,Label:mUe,Options:vUe,Option:yUe});function xUe(t=0){let[e,r]=A.useState(t),n=aO(),i=A.useCallback(c=>{n.current&&r(l=>l|c)},[e,n]),a=A.useCallback(c=>!!(e&c),[e]),s=A.useCallback(c=>{n.current&&r(l=>l&~c)},[r,n]),o=A.useCallback(c=>{n.current&&r(l=>l^c)},[r]);return{flags:e,addFlag:i,hasFlag:a,removeFlag:s,toggleFlag:o}}function EUe(t){let e={called:!1};return(...r)=>{if(!e.called)return e.called=!0,t(...r)}}function DT(t,...e){t&&e.length>0&&t.classList.add(...e)}function MT(t,...e){t&&e.length>0&&t.classList.remove(...e)}function _Ue(t,e){let r=Co();if(!t)return r.dispose;let{transitionDuration:n,transitionDelay:i}=getComputedStyle(t),[a,s]=[n,i].map(c=>{let[l=0]=c.split(",").filter(Boolean).map(u=>u.includes("ms")?parseFloat(u):parseFloat(u)*1e3).sort((u,f)=>f-u);return l}),o=a+s;if(o!==0){r.group(l=>{l.setTimeout(()=>{e(),l.dispose()},o),l.addEventListener(t,"transitionrun",u=>{u.target===u.currentTarget&&l.dispose()})});let c=r.addEventListener(t,"transitionend",l=>{l.target===l.currentTarget&&(e(),c())})}else e();return r.add(()=>e()),r.dispose}function bUe(t,e,r,n){let i=r?"enter":"leave",a=Co(),s=n!==void 0?EUe(n):()=>{};i==="enter"&&(t.removeAttribute("hidden"),t.style.display="");let o=tr(i,{enter:()=>e.enter,leave:()=>e.leave}),c=tr(i,{enter:()=>e.enterTo,leave:()=>e.leaveTo}),l=tr(i,{enter:()=>e.enterFrom,leave:()=>e.leaveFrom});return MT(t,...e.enter,...e.enterTo,...e.enterFrom,...e.leave,...e.leaveFrom,...e.leaveTo,...e.entered),DT(t,...o,...l),a.nextFrame(()=>{MT(t,...l),DT(t,...c),_Ue(t,()=>(MT(t,...o),DT(t,...e.entered),s()))}),a.dispose}function SUe({container:t,direction:e,classes:r,onStart:n,onStop:i}){let a=aO(),s=vf(),o=Za(e);Jn(()=>{let c=Co();s.add(c.dispose);let l=t.current;if(l&&o.current!=="idle"&&a.current)return c.dispose(),n.current(o.current),c.add(bUe(l,r.current,o.current==="enter",()=>{c.dispose(),i.current(o.current)})),c.dispose},[e])}function cl(t=""){return t.split(" ").filter(e=>e.trim().length>1)}let a_=A.createContext(null);a_.displayName="TransitionContext";var TUe=(t=>(t.Visible="visible",t.Hidden="hidden",t))(TUe||{});function wUe(){let t=A.useContext(a_);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function RUe(){let t=A.useContext(s_);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let s_=A.createContext(null);s_.displayName="NestingContext";function o_(t){return"children"in t?o_(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function zq(t,e){let r=Za(t),n=A.useRef([]),i=aO(),a=vf(),s=Ve((h,p=Ya.Hidden)=>{let m=n.current.findIndex(({el:g})=>g===h);m!==-1&&(tr(p,{[Ya.Unmount](){n.current.splice(m,1)},[Ya.Hidden](){n.current[m].state="hidden"}}),a.microTask(()=>{var g;!o_(n)&&i.current&&((g=r.current)==null||g.call(r))}))}),o=Ve(h=>{let p=n.current.find(({el:m})=>m===h);return p?p.state!=="visible"&&(p.state="visible"):n.current.push({el:h,state:"visible"}),()=>s(h,Ya.Unmount)}),c=A.useRef([]),l=A.useRef(Promise.resolve()),u=A.useRef({enter:[],leave:[],idle:[]}),f=Ve((h,p,m)=>{c.current.splice(0),e&&(e.chains.current[p]=e.chains.current[p].filter(([g])=>g!==h)),e==null||e.chains.current[p].push([h,new Promise(g=>{c.current.push(g)})]),e==null||e.chains.current[p].push([h,new Promise(g=>{Promise.all(u.current[p].map(([v,y])=>y)).then(()=>g())})]),p==="enter"?l.current=l.current.then(()=>e==null?void 0:e.wait.current).then(()=>m(p)):m(p)}),d=Ve((h,p,m)=>{Promise.all(u.current[p].splice(0).map(([g,v])=>v)).then(()=>{var g;(g=c.current.shift())==null||g()}).then(()=>m(p))});return A.useMemo(()=>({children:n,register:o,unregister:s,onStart:f,onStop:d,wait:l,chains:u}),[o,s,n,f,d,u,l])}function AUe(){}let IUe=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function M6(t){var e;let r={};for(let n of IUe)r[n]=(e=t[n])!=null?e:AUe;return r}function $Ue(t){let e=A.useRef(M6(t));return A.useEffect(()=>{e.current=M6(t)},[t]),e}let CUe="div",Vq=E1.RenderStrategy;function kUe(t,e){let{beforeEnter:r,afterEnter:n,beforeLeave:i,afterLeave:a,enter:s,enterFrom:o,enterTo:c,entered:l,leave:u,leaveFrom:f,leaveTo:d,...h}=t,p=A.useRef(null),m=xc(p,e),g=h.unmount?Ya.Unmount:Ya.Hidden,{show:v,appear:y,initial:x}=wUe(),[E,S]=A.useState(v?"visible":"hidden"),b=RUe(),{register:T,unregister:R}=b,I=A.useRef(null);A.useEffect(()=>T(p),[T,p]),A.useEffect(()=>{if(g===Ya.Hidden&&p.current){if(v&&E!=="visible"){S("visible");return}return tr(E,{hidden:()=>R(p),visible:()=>T(p)})}},[E,p,T,R,v,g]);let w=Za({enter:cl(s),enterFrom:cl(o),enterTo:cl(c),entered:cl(l),leave:cl(u),leaveFrom:cl(f),leaveTo:cl(d)}),C=$Ue({beforeEnter:r,afterEnter:n,beforeLeave:i,afterLeave:a}),L=tO();A.useEffect(()=>{if(L&&E==="visible"&&p.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[p,E,L]);let H=x&&!y,N=(()=>!L||H||I.current===v?"idle":v?"enter":"leave")(),P=xUe(0),B=Ve(k=>tr(k,{enter:()=>{P.addFlag(vn.Opening),C.current.beforeEnter()},leave:()=>{P.addFlag(vn.Closing),C.current.beforeLeave()},idle:()=>{}})),V=Ve(k=>tr(k,{enter:()=>{P.removeFlag(vn.Opening),C.current.afterEnter()},leave:()=>{P.removeFlag(vn.Closing),C.current.afterLeave()},idle:()=>{}})),M=zq(()=>{S("hidden"),R(p)},b);SUe({container:p,classes:w,direction:N,onStart:Za(k=>{M.onStart(p,k,B)}),onStop:Za(k=>{M.onStop(p,k,V),k==="leave"&&!o_(M)&&(S("hidden"),R(p))})}),A.useEffect(()=>{H&&(g===Ya.Hidden?I.current=null:I.current=v)},[v,H,E]);let U=h,W={ref:m};return y&&v&&(U={...U,className:EA(h.className,...w.current.enter,...w.current.enterFrom)}),le.createElement(s_.Provider,{value:M},le.createElement(Gq,{value:tr(E,{visible:vn.Open,hidden:vn.Closed})|P.flags},Ko({ourProps:W,theirProps:U,defaultTag:CUe,features:Vq,visible:E==="visible",name:"Transition.Child"})))}function OUe(t,e){let{show:r,appear:n=!1,unmount:i,...a}=t,s=A.useRef(null),o=xc(s,e);tO();let c=iO();if(r===void 0&&c!==null&&(r=(c&vn.Open)===vn.Open),![!0,!1].includes(r))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[l,u]=A.useState(r?"visible":"hidden"),f=zq(()=>{u("hidden")}),[d,h]=A.useState(!0),p=A.useRef([r]);Jn(()=>{d!==!1&&p.current[p.current.length-1]!==r&&(p.current.push(r),h(!1))},[p,r]);let m=A.useMemo(()=>({show:r,appear:n,initial:d}),[r,n,d]);A.useEffect(()=>{if(r)u("visible");else if(!o_(f))u("hidden");else{let v=s.current;if(!v)return;let y=v.getBoundingClientRect();y.x===0&&y.y===0&&y.width===0&&y.height===0&&u("hidden")}},[r,f]);let g={unmount:i};return le.createElement(s_.Provider,{value:f},le.createElement(a_.Provider,{value:m},Ko({ourProps:{...g,as:A.Fragment,children:le.createElement(Wq,{ref:o,...g,...a})},theirProps:{},defaultTag:A.Fragment,features:Vq,visible:l==="visible",name:"Transition"})))}function LUe(t,e){let r=A.useContext(a_)!==null,n=iO()!==null;return le.createElement(le.Fragment,null,!r&&n?le.createElement(bA,{ref:e,...t}):le.createElement(Wq,{ref:e,...t}))}let bA=_s(OUe),Wq=_s(kUe),PUe=_s(LUe),SA=Object.assign(bA,{Child:PUe,Root:bA});function NUe(t,e){return t==="slide-down"?{leave:`transition-[transform,opacity] ${e}`,leaveFrom:"opacity-100 translate-y-0",leaveTo:"-translate-y-4 opacity-0",enter:`transition-[transform,opacity] ${e}`,enterFrom:"opacity-0 -translate-y-4",enterTo:"translate-y-0 opacity-100"}:t==="slide-up"?{leave:`transition-[transform,opacity] ${e}`,leaveFrom:"opacity-100 translate-y-0",leaveTo:"translate-y-4 opacity-0",enter:`transition-[transform,opacity] ${e}`,enterFrom:"opacity-0 translate-y-4",enterTo:"translate-y-0 opacity-100"}:t==="slide-full-left"?{leave:`transition-[transform] ${e}`,leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",enter:`transition-[transform] ${e}`,enterFrom:"-translate-x-full",enterTo:"translate-x-0"}:t==="slide-full-right"?{leave:`transition-[transform] ${e}`,leaveFrom:"translate-x-0",leaveTo:"translate-x-full",enter:`transition-[transform] ${e}`,enterFrom:"translate-x-full",enterTo:"translate-x-0"}:t==="fade"?{leave:`transition-[transform,opacity] ${e}`,leaveFrom:"opacity-100",leaveTo:"opacity-0",enter:`transition-[transform,opacity] ${e}`,enterFrom:"opacity-0",enterTo:"opacity-100"}:{}}function Ii(t){const e=t.durationClass??"duration-200",r=NUe(t.animation,e);return t.isChild?_(SA.Child,{as:A.Fragment,...r,children:_("div",{className:t.className,children:t.children})}):_(SA,{show:t.show,as:A.Fragment,...r,children:_("div",{className:t.className,children:t.children})})}function DUe(t){const e=we(),r=at(e),n=$n(e),i=Di(e),[a,s]=A.useState(!1),o=A.useRef(null),c=A.useRef(null),l=A.useRef(0),u=A.useCallback(()=>{a||setTimeout(()=>{Date.now()-l.current<200||s(!0)},20),o.current&&clearTimeout(o.current),o.current=setTimeout(()=>{s(!1),o.current=null},3e3)},[s,a]),f=A.useCallback(()=>{s(!1)},[s]),d=A.useCallback(g=>{if(!(!c.current||c.current!==g.target)&&i.popout===null){if(g.type==="touchend"){l.current=Date.now();return}g.button===0&&setTimeout(()=>{if(Date.now()-l.current<200){s(v=>!v);return}n.isPlaying?r.pause():r.play()},20)}},[r,n,i]),h=A.useCallback(g=>{!c.current||c.current!==g.target||(i.isFullscreen?r.exitFullscreen():r.enterFullscreen())},[r,i]),p=A.useRef(null);A.useEffect(()=>{var v;const g=a||n.isPaused||!!i.popout;g!==p.current&&(p.current=g,(v=t.onBackdropChange)==null||v.call(t,g))},[a,n,t,i]);const m=a||n.isPaused||!!i.popout;return Y("div",{className:`absolute inset-0 ${m?"":"cursor-none"}`,onMouseMove:u,onMouseLeave:f,ref:c,onMouseUp:d,onTouchEnd:d,onDoubleClick:h,children:[_("div",{className:`pointer-events-none absolute inset-0 bg-black bg-opacity-20 transition-opacity duration-200 ${m?"":"!opacity-0"}`}),_("div",{className:`pointer-events-none absolute inset-x-0 bottom-0 h-[20%] bg-gradient-to-t from-black to-transparent transition-opacity duration-200 ${m?"":"!opacity-0"}`}),_("div",{className:`pointer-events-none absolute inset-x-0 top-0 h-[20%] bg-gradient-to-b from-black to-transparent transition-opacity duration-200 ${m?"":"!opacity-0"}`}),_("div",{className:"pointer-events-none absolute inset-0",children:t.children})]})}function MUe(){const{t}=Ce(),e=we();return ys(e).isCasting?Y("div",{className:"flex flex-col items-center justify-center gap-4",children:[_("div",{className:"rounded-full bg-denim-200 p-3 brightness-100 grayscale",children:_(Ge,{icon:ce.CASTING})}),_("p",{className:"text-center text-gray-300",children:t("casting.casting")})]}):null}var dn={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},F6=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],B6=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],U6=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],Hr=typeof window<"u"&&typeof window.document<"u"?window.document:{},Nn="fullscreenEnabled"in Hr&&Object.keys(dn)||F6[0]in Hr&&F6||B6[0]in Hr&&B6||U6[0]in Hr&&U6||[],FUe={requestFullscreen:function(t){return t[Nn[dn.requestFullscreen]]()},requestFullscreenFunction:function(t){return t[Nn[dn.requestFullscreen]]},get exitFullscreen(){return Hr[Nn[dn.exitFullscreen]].bind(Hr)},get fullscreenPseudoClass(){return":"+Nn[dn.fullscreen]},addEventListener:function(t,e,r){return Hr.addEventListener(Nn[dn[t]],e,r)},removeEventListener:function(t,e,r){return Hr.removeEventListener(Nn[dn[t]],e,r)},get fullscreenEnabled(){return!!Hr[Nn[dn.fullscreenEnabled]]},set fullscreenEnabled(t){},get fullscreenElement(){return Hr[Nn[dn.fullscreenElement]]},set fullscreenElement(t){},get onfullscreenchange(){return Hr[("on"+Nn[dn.fullscreenchange]).toLowerCase()]},set onfullscreenchange(t){return Hr[("on"+Nn[dn.fullscreenchange]).toLowerCase()]=t},get onfullscreenerror(){return Hr[("on"+Nn[dn.fullscreenerror]).toLowerCase()]},set onfullscreenerror(t){return Hr[("on"+Nn[dn.fullscreenerror]).toLowerCase()]=t}};const yn=FUe,BUe=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);let FT=null;async function U0(){if(FT===null){const t=new Promise(r=>{setTimeout(()=>r(!1),1e3)}),e=new Promise(r=>{const n=document.createElement("video"),i=()=>{n.removeEventListener("volumechange",i),r(!0)};n.addEventListener("volumechange",i),n.volume=.5});FT=await Promise.race([e,t])}return FT}function l_(){return yn.fullscreenEnabled}function lO(){return l_()||BUe}function cO(){return l_()||lO()}function Kq(){return"pictureInPictureEnabled"in document}function Yq(){return"webkitSupportsPresentationMode"in document.createElement("video")}function j6(t){const e=we(),r=Di(e),n=at(e),i=A.useCallback(()=>{r.isFullscreen?n.exitFullscreen():n.enterFullscreen()},[n,r]);return cO()?_(Es,{className:t.className,onClick:i,icon:r.isFullscreen?ce.COMPRESS:ce.EXPAND}):null}function UUe(t){const e=we(),r=ci(e);return _(yc,{media:r==null?void 0:r.meta.meta,...t})}function qq(t){const[e,r]=A.useState(1),n=at(t),i=$n(t);return{storedVolume:e,setStoredVolume:r,toggleVolume:(s=!1)=>{i.volume>0?(r(i.volume),n.setVolume(0,s)):n.setVolume(e>0?e:1,s)}}}function jUe(){const t=we(),e=at(t),r=Di(t),n=$n(t),i=Wo(t),{toggleVolume:a}=qq(t),s=A.useRef(0);return A.useEffect(()=>{s.current=i.time},[i]),A.useEffect(()=>{const c=xr(t).wrapperElement;if(!c)return;let l=!1;const u=f=>{if(r.isFocused)switch(f.key.toLowerCase()){case"f":r.isFullscreen?e.exitFullscreen():e.enterFullscreen();break;case"arrowleft":e.setTime(s.current-5);break;case"arrowright":e.setTime(s.current+5);break;case" ":n.isPaused?e.play():e.pause();break;case"m":a(!0);break;case"arrowdown":e.setVolume(Math.max(n.volume-.1,0),!0);break;case"arrowup":e.setVolume(Math.min(n.volume+.1,1),!0);break;case"r":if(l||f.ctrlKey||f.metaKey)return;l=!0,c.classList.add("roll"),setTimeout(()=>{l=!1,c.classList.remove("roll")},1e3);break}};return window.addEventListener("keydown",u),()=>{window.removeEventListener("keydown",u)}},[e,t,n,r,a]),null}function Xq(t){return _("div",{className:["spinner",t.className??""].join(" ")})}function HUe(){const t=we(),e=$n(t),r=ys(t),n=e.isFirstLoading||e.isLoading,i=!r.isCasting;return!n||!i?null:_(Xq,{})}function GUe(){const t=we(),e=at(t),r=$n(t),n=A.useCallback(()=>{r!=null&&r.isPlaying?e.pause():e.play()},[e,r]);return r.hasPlayedOnce||r.isPlaying||r.isFirstLoading?null:_("div",{onClick:n,className:"group pointer-events-auto flex h-16 w-16 items-center justify-center rounded-full bg-denim-400 text-white transition-[background-color,transform] hover:scale-125 hover:bg-denim-500 active:scale-100",children:_(Ge,{icon:ce.PLAY,className:"text-2xl transition-transform group-hover:scale-125"})})}function Qq(t){const e=we(),r=$n(e),n=at(e),i=A.useCallback(()=>{r.isPlaying?n.pause():n.play()},[r,n]),a=r.isPlaying||r.isSeeking?ce.PAUSE:ce.PLAY;return _(Es,{iconSize:t.iconSize,className:t.className,icon:a,onClick:i})}function Zq(){const t=we(),e=at(t),r=Wo(t),n=()=>{e.setTime(r.time-10)};return _(Es,{icon:ce.SKIP_BACKWARD,onClick:n})}function Jq(){const t=we(),e=at(t),r=Wo(t),n=()=>{e.setTime(r.time+10)};return _(Es,{icon:ce.SKIP_FORWARD,onClick:n})}function zUe(t){return _("div",{className:t.className,children:Y("div",{className:"flex select-none items-center text-white",children:[_(Zq,{}),_(Jq,{})]})})}function VUe(){const t=we(),e=$n(t),r=e.isFirstLoading||e.isLoading;return Y("div",{className:"flex items-center space-x-8",children:[_(Zq,{}),_(Qq,{iconSize:"text-5xl",className:r?"pointer-events-none opacity-0":""}),_(Jq,{})]})}function eX(t){const e=ci(t),{t:r}=Ce(),n=A.useMemo(()=>{var o;return(o=e==null?void 0:e.seasons)==null?void 0:o.find(c=>{var l;return c.id===((l=e==null?void 0:e.episode)==null?void 0:l.seasonId)})},[e]),i=A.useMemo(()=>{var o;return(o=n==null?void 0:n.episodes)==null?void 0:o.find(c=>{var l;return c.id===((l=e==null?void 0:e.episode)==null?void 0:l.episodeId)})},[n,e]);return!((e==null?void 0:e.meta.meta.type)===ve.SERIES&&(e!=null&&e.episode))?{isSeries:!1}:{isSeries:!0,humanizedEpisodeId:r("videoPlayer.seasonAndEpisode",{season:n==null?void 0:n.number,episode:i==null?void 0:i.number}),currentSeasonInfo:n,currentEpisodeInfo:i,meta:e==null?void 0:e.meta}}function WUe(){const t=we(),{isSeries:e,humanizedEpisodeId:r,meta:n}=eX(t);if(!n)return null;const i=e?`${n.meta.title} - ${r}`:n.meta.title;return _(pa,{children:_("title",{children:i})})}function H6(t){const{isMobile:e}=Ta(),{t:r}=Ce(),n=we(),i=at(n),a=A.useCallback(()=>{i.togglePictureInPicture()},[i]);return!Kq()&&!Yq()?null:_(Es,{className:t.className,icon:ce.PICTURE_IN_PICTURE,onClick:a,text:e?r("videoPlayer.buttons.pictureInPicture"):""})}function qv(t){return`${t.toFixed(2)}%`}function Qh(t){return Number(Math.max(0,Math.min(t,100)).toFixed(2))}function KUe(t){return t.type==="mousedown"||t.type==="mouseup"||t.type==="mousemove"}const BT=t=>KUe(t)?t.pageX:t.changedTouches[0].pageX;function tX(t,e,r=!1){const[n,i]=A.useState(!1),[a,s]=A.useState(0);A.useEffect(()=>{function c(u){if(!n||!t.current)return;const f=t.current.getBoundingClientRect(),d=(BT(u)-f.left)/t.current.offsetWidth;s(d*100),r&&e(d)}function l(u){if(!n||(i(!1),document.body.removeAttribute("data-no-select"),!t.current))return;const f=t.current.getBoundingClientRect(),d=(BT(u)-f.left)/t.current.offsetWidth;e(d)}return document.addEventListener("mousemove",c),document.addEventListener("touchmove",c),document.addEventListener("mouseup",l),document.addEventListener("touchend",l),()=>{document.removeEventListener("mousemove",c),document.removeEventListener("touchmove",c),document.removeEventListener("mouseup",l),document.removeEventListener("touchend",l)}},[n,t,e,r]);const o=A.useCallback(c=>{if(i(!0),document.body.setAttribute("data-no-select","true"),!t.current)return;const l=t.current.getBoundingClientRect(),u=(BT(c)-l.left)/t.current.offsetWidth*100;s(u)},[s,t]);return{dragging:n,dragPercentage:a,dragMouseDown:o}}function YUe(){const t=we(),e=at(t),r=Wo(t),n=A.useRef(null),i=A.useRef(!1),a=A.useRef(e);A.useEffect(()=>{a.current=e},[e]);const s=A.useCallback(d=>{e.setTime(d*r.duration)},[e,r]),{dragging:o,dragPercentage:c,dragMouseDown:l}=tX(n,s);A.useEffect(()=>{i.current!==o&&(i.current=o,e.setSeeking(o))},[i,o,e]),A.useEffect(()=>{if(o){const d=xr(t);a.current.setDraggingTime(d.progress.duration*(c/100))}},[t,o,c]);let u=qv(Qh(r.time/r.duration*100));o&&(u=qv(Qh(c)));const f=qv(Qh(r.buffered/r.duration*100));return _("div",{className:"group pointer-events-auto w-full cursor-pointer rounded-full px-2",children:_("div",{ref:n,className:"-my-3 flex h-8 items-center",onMouseDown:l,onTouchStart:l,children:Y("div",{className:`relative h-1 flex-1 rounded-full bg-gray-500 bg-opacity-50 transition-[height] duration-100 group-hover:h-2 ${o?"!h-2":""}`,children:[_("div",{className:"absolute inset-y-0 left-0 flex items-center justify-end rounded-full bg-gray-300 bg-opacity-20",style:{width:f}}),_("div",{className:"absolute inset-y-0 left-0 flex items-center justify-end rounded-full bg-bink-600",style:{width:u},children:_("div",{className:`absolute h-1 w-1 translate-x-1/2 rounded-full bg-white opacity-0 transition-[transform,opacity] group-hover:scale-[400%] group-hover:opacity-100 ${o?"!scale-[400%] !opacity-100":""}`})})]})})})}function TA(t){return`__floating::anchor::${t}`}function rX(t){const e=A.useRef(null),r=A.useRef(null);return A.useEffect(()=>{if(!e.current)return;let n=!1;function i(){if(!n){if(e.current){const a=r.current,s=e.current.getBoundingClientRect(),o=JSON.stringify(s);if(a!==o){r.current=o;const c=TA(t.id);window[c]=s;const l=new CustomEvent(TA(t.id),{detail:s});document.dispatchEvent(l)}}window.requestAnimationFrame(i)}}return window.requestAnimationFrame(i),()=>{n=!0}},[t]),_("div",{ref:e,children:t.children})}function G6(t){const{t:e}=Ce(),r=we(),n=ci(r),i=Di(r),a=at(r);return(n==null?void 0:n.meta.meta.type)!==ve.SERIES?null:_("div",{className:t.className,children:_("div",{className:"relative",children:_(rX,{id:"episodes",children:_(Es,{active:i.popout==="episodes",icon:ce.EPISODES,text:e("videoPlayer.buttons.episodes"),wide:!0,onClick:()=>a.openPopout("episodes")})})})})}function qUe(){const t=we(),{isSeries:e,currentEpisodeInfo:r,humanizedEpisodeId:n}=eX(t);return e?Y("p",{className:"ml-8 select-none space-x-2 text-white",children:[_("span",{children:n}),_("span",{className:"opacity-50",children:r==null?void 0:r.title})]}):null}var hl=(t=>(t[t.REGULAR=0]="REGULAR",t[t.REMAINING=1]="REMAINING",t))(hl||{});function XUe(t){return t>60*60}function UT(t,e=!1){if(Number.isNaN(t))return e?"0:00:00":"0:00";let r=t;const n=Math.floor(r%60);r/=60;const i=Math.floor(r%60);r/=60;const a=Math.floor(r),s=n.toString().padStart(2,"0"),o=i.toString().padStart(2,"0");return e?[a,o,s].join(":"):[o,s].join(":")}function nX(t){const e=we(),r=Wo(e),n=$n(e),{setTimeFormat:i}=at(e),{timeFormat:a}=Di(e),{isMobile:s}=Ta(),{t:o}=Ce(),c=XUe(r.duration),l=UT(n.isDragSeeking?r.draggingTime:r.time,c),u=UT(r.duration,c),f=UT((r.duration-r.time)/n.playbackSpeed,c),d=new Date(new Date().getTime()+(r.duration-r.time)*1e3/n.playbackSpeed),h=` - ${o("videoPlayer.finishAt",{timeFinished:d,formatParams:{timeFinished:{hour:"numeric",minute:"numeric"}}})}`;let p;return a===hl.REGULAR?p=`${l} ${t.noDuration?"":`/ ${u}`}`:a===hl.REMAINING&&!s?p=`${o("videoPlayer.timeLeft",{timeLeft:f})}${r.time===r.duration?"":h} `:a===hl.REMAINING&&s?p=`-${f}`:p="",_("button",{type:"button",className:["group pointer-events-auto text-white transition-transform duration-100 active:scale-110"].join(" "),onClick:()=>{i(a===hl.REGULAR?hl.REMAINING:hl.REGULAR)},children:_("div",{className:["flex items-center justify-center rounded-full bg-denim-600 bg-opacity-0 p-2 transition-colors duration-100 group-hover:bg-opacity-50 group-active:bg-denim-500 group-active:bg-opacity-100 sm:px-4"].join(" "),children:_("div",{className:t.className,children:_("p",{className:"select-none text-white",children:p})})})})}function QUe(t){const e=we(),r=at(e),n=$n(e),i=Di(e),{setStoredVolume:a,toggleVolume:s}=qq(e),o=A.useRef(null),[c,l]=A.useState(!1),u=A.useCallback(y=>{r.setVolume(y),a(y)},[r,a]),{dragging:f,dragPercentage:d,dragMouseDown:h}=tX(o,u,!0);A.useEffect(()=>{i.leftControlHovering||l(!1)},[i]);const p=A.useCallback(()=>{s()},[s]),m=A.useCallback(async()=>{await U0()&&l(!0)},[l]);let g=Qh(n.volume*100);f&&(g=Qh(d));const v=qv(g);return _("div",{className:t.className,children:Y("div",{className:"pointer-events-auto flex cursor-pointer items-center",onMouseEnter:m,children:[_("div",{className:"px-4 text-2xl text-white",onClick:p,children:_(Ge,{icon:g>0?ce.VOLUME:ce.VOLUME_X})}),_("div",{className:`linear -ml-2 w-0 overflow-hidden transition-[width,opacity] duration-300 ${c||f?"!w-24 opacity-100":"w-4 opacity-0"}`,children:_("div",{ref:o,className:"flex h-10 w-20 items-center px-2",onMouseDown:h,onTouchStart:h,children:_("div",{className:"relative h-1 flex-1 rounded-full bg-gray-500 bg-opacity-50",children:_("div",{className:"absolute inset-y-0 left-0 flex items-center justify-end rounded-full bg-bink-500",style:{width:v},children:_("div",{className:"absolute h-3 w-3 translate-x-1/2 rounded-full bg-white"})})})})})]})})}function iX(t){return{error:t.error}}function jT(t,e){gc(t,"error",iX(e))}function ZUe(t){const e=xr(t),[r,n]=A.useState(iX(e));return A.useEffect(()=>{function i(a){n(a.detail)}return mc(t,"error",i),()=>{vc(t,"error",i)}},[t]),r}function JUe(t){const e=we(),r=ci(e),i=ZUe(e).error;return i?Y("div",{children:[Y("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-denim-100",children:[_(tn,{icon:ce.WARNING,className:"mb-6 text-red-400"}),_(ig,{children:"Failed to load media"}),Y("p",{className:"my-6 max-w-lg text-center",children:[i==null?void 0:i.name,": ",i==null?void 0:i.description]})]}),_("div",{className:"pointer-events-auto absolute inset-x-0 top-0 flex flex-col px-8 py-6 pb-2",children:_(yc,{media:r==null?void 0:r.meta.meta,onClick:t.onGoBack})})]}):t.children}var uO=cg(),Te=t=>lg(t,uO),fO=cg();Te.write=t=>lg(t,fO);var c_=cg();Te.onStart=t=>lg(t,c_);var dO=cg();Te.onFrame=t=>lg(t,dO);var hO=cg();Te.onFinish=t=>lg(t,hO);var Hu=[];Te.setTimeout=(t,e)=>{let r=Te.now()+e,n=()=>{let a=Hu.findIndex(s=>s.cancel==n);~a&&Hu.splice(a,1),Js-=~a?1:0},i={time:r,handler:t,cancel:n};return Hu.splice(aX(r),0,i),Js+=1,sX(),i};var aX=t=>~(~Hu.findIndex(e=>e.time>t)||~Hu.length);Te.cancel=t=>{c_.delete(t),dO.delete(t),hO.delete(t),uO.delete(t),fO.delete(t)};Te.sync=t=>{wA=!0,Te.batchedUpdates(t),wA=!1};Te.throttle=t=>{let e;function r(){try{t(...e)}finally{e=null}}function n(...i){e=i,Te.onStart(r)}return n.handler=t,n.cancel=()=>{c_.delete(r),e=null},n};var pO=typeof window<"u"?window.requestAnimationFrame:()=>{};Te.use=t=>pO=t;Te.now=typeof performance<"u"?()=>performance.now():Date.now;Te.batchedUpdates=t=>t();Te.catch=console.error;Te.frameLoop="always";Te.advance=()=>{Te.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):lX()};var Zs=-1,Js=0,wA=!1;function lg(t,e){wA?(e.delete(t),t(0)):(e.add(t),sX())}function sX(){Zs<0&&(Zs=0,Te.frameLoop!=="demand"&&pO(oX))}function e7e(){Zs=-1}function oX(){~Zs&&(pO(oX),Te.batchedUpdates(lX))}function lX(){let t=Zs;Zs=Te.now();let e=aX(Zs);if(e&&(cX(Hu.splice(0,e),r=>r.handler()),Js-=e),!Js){e7e();return}c_.flush(),uO.flush(t?Math.min(64,Zs-t):16.667),dO.flush(),fO.flush(),hO.flush()}function cg(){let t=new Set,e=t;return{add(r){Js+=e==t&&!t.has(r)?1:0,t.add(r)},delete(r){return Js-=e==t&&t.has(r)?1:0,t.delete(r)},flush(r){e.size&&(t=new Set,Js-=e.size,cX(e,n=>n(r)&&t.add(n)),Js+=t.size,e=t)}}}function cX(t,e){t.forEach(r=>{try{e(r)}catch(n){Te.catch(n)}})}var t7e=Object.defineProperty,r7e=(t,e)=>{for(var r in e)t7e(t,r,{get:e[r],enumerable:!0})},Oi={};r7e(Oi,{assign:()=>i7e,colors:()=>ho,createStringInterpolator:()=>mO,skipAnimation:()=>fX,to:()=>uX,willAdvance:()=>vO});function RA(){}var n7e=(t,e,r)=>Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0}),ne={arr:Array.isArray,obj:t=>!!t&&t.constructor.name==="Object",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0};function Da(t,e){if(ne.arr(t)){if(!ne.arr(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}return t===e}var Le=(t,e)=>t.forEach(e);function ga(t,e,r){if(ne.arr(t)){for(let n=0;n<t.length;n++)e.call(r,t[n],`${n}`);return}for(let n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n)}var En=t=>ne.und(t)?[]:ne.arr(t)?t:[t];function Zh(t,e){if(t.size){let r=Array.from(t);t.clear(),Le(r,e)}}var Th=(t,...e)=>Zh(t,r=>r(...e)),gO=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),mO,uX,ho=null,fX=!1,vO=RA,i7e=t=>{t.to&&(uX=t.to),t.now&&(Te.now=t.now),t.colors!==void 0&&(ho=t.colors),t.skipAnimation!=null&&(fX=t.skipAnimation),t.createStringInterpolator&&(mO=t.createStringInterpolator),t.requestAnimationFrame&&Te.use(t.requestAnimationFrame),t.batchedUpdates&&(Te.batchedUpdates=t.batchedUpdates),t.willAdvance&&(vO=t.willAdvance),t.frameLoop&&(Te.frameLoop=t.frameLoop)},Jh=new Set,Wn=[],HT=[],_1=0,u_={get idle(){return!Jh.size&&!Wn.length},start(t){_1>t.priority?(Jh.add(t),Te.onStart(a7e)):(dX(t),Te(AA))},advance:AA,sort(t){if(_1)Te.onFrame(()=>u_.sort(t));else{let e=Wn.indexOf(t);~e&&(Wn.splice(e,1),hX(t))}},clear(){Wn=[],Jh.clear()}};function a7e(){Jh.forEach(dX),Jh.clear(),Te(AA)}function dX(t){Wn.includes(t)||hX(t)}function hX(t){Wn.splice(s7e(Wn,e=>e.priority>t.priority),0,t)}function AA(t){let e=HT;for(let r=0;r<Wn.length;r++){let n=Wn[r];_1=n.priority,n.idle||(vO(n),n.advance(t),n.idle||e.push(n))}return _1=0,HT=Wn,HT.length=0,Wn=e,Wn.length>0}function s7e(t,e){let r=t.findIndex(e);return r<0?t.length:r}var o7e=(t,e,r)=>Math.min(Math.max(r,t),e),l7e={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Ai="[-+]?\\d*\\.?\\d+",b1=Ai+"%";function f_(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var c7e=new RegExp("rgb"+f_(Ai,Ai,Ai)),u7e=new RegExp("rgba"+f_(Ai,Ai,Ai,Ai)),f7e=new RegExp("hsl"+f_(Ai,b1,b1)),d7e=new RegExp("hsla"+f_(Ai,b1,b1,Ai)),h7e=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,p7e=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,g7e=/^#([0-9a-fA-F]{6})$/,m7e=/^#([0-9a-fA-F]{8})$/;function v7e(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=g7e.exec(t))?parseInt(e[1]+"ff",16)>>>0:ho&&ho[t]!==void 0?ho[t]:(e=c7e.exec(t))?(Hc(e[1])<<24|Hc(e[2])<<16|Hc(e[3])<<8|255)>>>0:(e=u7e.exec(t))?(Hc(e[1])<<24|Hc(e[2])<<16|Hc(e[3])<<8|W6(e[4]))>>>0:(e=h7e.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=m7e.exec(t))?parseInt(e[1],16)>>>0:(e=p7e.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=f7e.exec(t))?(z6(V6(e[1]),Mm(e[2]),Mm(e[3]))|255)>>>0:(e=d7e.exec(t))?(z6(V6(e[1]),Mm(e[2]),Mm(e[3]))|W6(e[4]))>>>0:null}function GT(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function z6(t,e,r){let n=r<.5?r*(1+e):r+e-r*e,i=2*r-n,a=GT(i,n,t+1/3),s=GT(i,n,t),o=GT(i,n,t-1/3);return Math.round(a*255)<<24|Math.round(s*255)<<16|Math.round(o*255)<<8}function Hc(t){let e=parseInt(t,10);return e<0?0:e>255?255:e}function V6(t){return(parseFloat(t)%360+360)%360/360}function W6(t){let e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function Mm(t){let e=parseFloat(t);return e<0?0:e>100?1:e/100}function K6(t){let e=v7e(t);if(e===null)return t;e=e||0;let r=(e&4278190080)>>>24,n=(e&16711680)>>>16,i=(e&65280)>>>8,a=(e&255)/255;return`rgba(${r}, ${n}, ${i}, ${a})`}var j0=(t,e,r)=>{if(ne.fun(t))return t;if(ne.arr(t))return j0({range:t,output:e,extrapolate:r});if(ne.str(t.output[0]))return mO(t);let n=t,i=n.output,a=n.range||[0,1],s=n.extrapolateLeft||n.extrapolate||"extend",o=n.extrapolateRight||n.extrapolate||"extend",c=n.easing||(l=>l);return l=>{let u=x7e(l,a);return y7e(l,a[u],a[u+1],i[u],i[u+1],c,s,o,n.map)}};function y7e(t,e,r,n,i,a,s,o,c){let l=c?c(t):t;if(l<e){if(s==="identity")return l;s==="clamp"&&(l=e)}if(l>r){if(o==="identity")return l;o==="clamp"&&(l=r)}return n===i?n:e===r?t<=e?n:i:(e===-1/0?l=-l:r===1/0?l=l-e:l=(l-e)/(r-e),l=a(l),n===-1/0?l=-l:i===1/0?l=l+n:l=l*(i-n)+n,l)}function x7e(t,e){for(var r=1;r<e.length-1&&!(e[r]>=t);++r);return r-1}var E7e=(t,e="end")=>r=>{r=e==="end"?Math.min(r,.999):Math.max(r,.001);let n=r*t,i=e==="end"?Math.floor(n):Math.ceil(n);return o7e(0,1,i/t)},S1=1.70158,Fm=S1*1.525,Y6=S1+1,q6=2*Math.PI/3,X6=2*Math.PI/4.5,Bm=t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,IA={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>1-(1-t)*(1-t),easeInOutQuad:t=>t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2,easeInCubic:t=>t*t*t,easeOutCubic:t=>1-Math.pow(1-t,3),easeInOutCubic:t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1-Math.pow(1-t,4),easeInOutQuart:t=>t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1-Math.pow(1-t,5),easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2,easeInSine:t=>1-Math.cos(t*Math.PI/2),easeOutSine:t=>Math.sin(t*Math.PI/2),easeInOutSine:t=>-(Math.cos(Math.PI*t)-1)/2,easeInExpo:t=>t===0?0:Math.pow(2,10*t-10),easeOutExpo:t=>t===1?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>t===0?0:t===1?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2,easeInCirc:t=>1-Math.sqrt(1-Math.pow(t,2)),easeOutCirc:t=>Math.sqrt(1-Math.pow(t-1,2)),easeInOutCirc:t=>t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2,easeInBack:t=>Y6*t*t*t-S1*t*t,easeOutBack:t=>1+Y6*Math.pow(t-1,3)+S1*Math.pow(t-1,2),easeInOutBack:t=>t<.5?Math.pow(2*t,2)*((Fm+1)*2*t-Fm)/2:(Math.pow(2*t-2,2)*((Fm+1)*(t*2-2)+Fm)+2)/2,easeInElastic:t=>t===0?0:t===1?1:-Math.pow(2,10*t-10)*Math.sin((t*10-10.75)*q6),easeOutElastic:t=>t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t*10-.75)*q6)+1,easeInOutElastic:t=>t===0?0:t===1?1:t<.5?-(Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*X6))/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*X6)/2+1,easeInBounce:t=>1-Bm(1-t),easeOutBounce:Bm,easeInOutBounce:t=>t<.5?(1-Bm(1-2*t))/2:(1+Bm(2*t-1))/2,steps:E7e},yf=Symbol.for("FluidValue.get"),Xl=Symbol.for("FluidValue.observers"),Hn=t=>!!(t&&t[yf]),Wr=t=>t&&t[yf]?t[yf]():t,Q6=t=>t[Xl]||null;function _7e(t,e){t.eventObserved?t.eventObserved(e):t(e)}function H0(t,e){let r=t[Xl];r&&r.forEach(n=>{_7e(n,e)})}var Cht,kht,D9,pX=(D9=class{constructor(t){oe(this,Cht);oe(this,kht);if(!t&&!(t=this.get))throw Error("Unknown getter");b7e(this,t)}},Cht=yf,kht=Xl,D9),b7e=(t,e)=>gX(t,yf,e);function ad(t,e){if(t[yf]){let r=t[Xl];r||gX(t,Xl,r=new Set),r.has(e)||(r.add(e),t.observerAdded&&t.observerAdded(r.size,e))}return e}function G0(t,e){let r=t[Xl];if(r&&r.has(e)){let n=r.size-1;n?r.delete(e):t[Xl]=null,t.observerRemoved&&t.observerRemoved(n,e)}}var gX=(t,e,r)=>Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0}),Xv=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,S7e=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Z6=new RegExp(`(${Xv.source})(%|[a-z]+)`,"i"),T7e=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,d_=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,mX=t=>{let[e,r]=w7e(t);if(!e||gO())return t;let n=window.getComputedStyle(document.documentElement).getPropertyValue(e);return n?n.trim():r&&r.startsWith("--")?window.getComputedStyle(document.documentElement).getPropertyValue(r)||t:r&&d_.test(r)?mX(r):r||t},w7e=t=>{let e=d_.exec(t);if(!e)return[,];let[,r,n]=e;return[r,n]},zT,R7e=(t,e,r,n,i)=>`rgba(${Math.round(e)}, ${Math.round(r)}, ${Math.round(n)}, ${i})`,vX=t=>{zT||(zT=ho?new RegExp(`(${Object.keys(ho).join("|")})(?!\\w)`,"g"):/^\b$/);let e=t.output.map(i=>Wr(i).replace(d_,mX).replace(S7e,K6).replace(zT,K6)),r=e.map(i=>i.match(Xv).map(Number)),n=r[0].map((i,a)=>r.map(s=>{if(!(a in s))throw Error('The arity of each "output" value must be equal');return s[a]})).map(i=>j0({...t,output:i}));return i=>{var o;let a=!Z6.test(e[0])&&((o=e.find(c=>Z6.test(c)))==null?void 0:o.replace(Xv,"")),s=0;return e[0].replace(Xv,()=>`${n[s++](i)}${a||""}`).replace(T7e,R7e)}},yO="react-spring: ",yX=t=>{let e=t,r=!1;if(typeof e!="function")throw new TypeError(`${yO}once requires a function parameter`);return(...n)=>{r||(e(...n),r=!0)}},A7e=yX(console.warn);function I7e(){A7e(`${yO}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var $7e=yX(console.warn);function C7e(){$7e(`${yO}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function h_(t){return ne.str(t)&&(t[0]=="#"||/\d/.test(t)||!gO()&&d_.test(t)||t in(ho||{}))}function k7e(t){let e=A.useRef(null);return e.current===null&&(e.current=t()),e.current}var xO=gO()?A.useEffect:A.useLayoutEffect,O7e=()=>{let t=A.useRef(!1);return xO(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function xX(){let t=A.useState()[1],e=O7e();return()=>{e.current&&t(Math.random())}}function L7e(t,e){let[r]=A.useState(()=>({inputs:e,result:t()})),n=A.useRef(),i=n.current,a=i;return a?e&&a.inputs&&P7e(e,a.inputs)||(a={inputs:e,result:t()}):a=r,A.useEffect(()=>{n.current=a,i==r&&(r.inputs=r.result=void 0)},[a]),a.result}function P7e(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}var EO=t=>A.useEffect(t,N7e),N7e=[];function J6(t){let e=A.useRef();return A.useEffect(()=>{e.current=t}),e.current}var z0=Symbol.for("Animated:node"),D7e=t=>!!t&&t[z0]===t,qi=t=>t&&t[z0],_O=(t,e)=>n7e(t,z0,e),p_=t=>t&&t[z0]&&t[z0].getPayload(),EX=class{constructor(){oe(this,"payload");_O(this,this)}getPayload(){return this.payload||[]}},ug=class extends EX{constructor(e){super();oe(this,"done",!0);oe(this,"elapsedTime");oe(this,"lastPosition");oe(this,"lastVelocity");oe(this,"v0");oe(this,"durationProgress",0);this._value=e,ne.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new ug(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,r){return ne.num(e)&&(this.lastPosition=e,r&&(e=Math.round(e/r)*r,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){let{done:e}=this;this.done=!1,ne.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}},V0=class extends ug{constructor(e){super(0);oe(this,"_string",null);oe(this,"_toString");this._toString=j0({output:[e,e]})}static create(e){return new V0(e)}getValue(){return this._string??(this._string=this._toString(this._value))}setValue(e){if(ne.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=j0({output:[this.getValue(),e]})),this._value=0,super.reset()}},T1={dependencies:null},g_=class extends EX{constructor(t){super(),this.source=t,this.setValue(t)}getValue(t){let e={};return ga(this.source,(r,n)=>{D7e(r)?e[n]=r.getValue(t):Hn(r)?e[n]=Wr(r):t||(e[n]=r)}),e}setValue(t){this.source=t,this.payload=this._makePayload(t)}reset(){this.payload&&Le(this.payload,t=>t.reset())}_makePayload(t){if(t){let e=new Set;return ga(t,this._addToPayload,e),Array.from(e)}}_addToPayload(t){T1.dependencies&&Hn(t)&&T1.dependencies.add(t);let e=p_(t);e&&Le(e,r=>this.add(r))}},_X=class extends g_{constructor(e){super(e)}static create(e){return new _X(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){let r=this.getPayload();return e.length==r.length?r.map((n,i)=>n.setValue(e[i])).some(Boolean):(super.setValue(e.map(M7e)),!0)}};function M7e(t){return(h_(t)?V0:ug).create(t)}function $A(t){let e=qi(t);return e?e.constructor:ne.arr(t)?_X:h_(t)?V0:ug}var e5=(t,e)=>{let r=!ne.fun(t)||t.prototype&&t.prototype.isReactComponent;return A.forwardRef((n,i)=>{let a=A.useRef(null),s=r&&A.useCallback(p=>{a.current=U7e(i,p)},[i]),[o,c]=B7e(n,e),l=xX(),u=()=>{let p=a.current;r&&!p||(p?e.applyAnimatedValues(p,o.getValue(!0)):!1)===!1&&l()},f=new F7e(u,c),d=A.useRef();xO(()=>(d.current=f,Le(c,p=>ad(p,f)),()=>{d.current&&(Le(d.current.deps,p=>G0(p,d.current)),Te.cancel(d.current.update))})),A.useEffect(u,[]),EO(()=>()=>{let p=d.current;Le(p.deps,m=>G0(m,p))});let h=e.getComponentProps(o.getValue());return A.createElement(t,{...h,ref:s})})},F7e=class{constructor(t,e){this.update=t,this.deps=e}eventObserved(t){t.type=="change"&&Te.write(this.update)}};function B7e(t,e){let r=new Set;return T1.dependencies=r,t.style&&(t={...t,style:e.createAnimatedStyle(t.style)}),t=new g_(t),T1.dependencies=null,[t,r]}function U7e(t,e){return t&&(ne.fun(t)?t(e):t.current=e),e}var t5=Symbol.for("AnimatedComponent"),j7e=(t,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:r=i=>new g_(i),getComponentProps:n=i=>i}={})=>{let i={applyAnimatedValues:e,createAnimatedStyle:r,getComponentProps:n},a=s=>{let o=r5(s)||"Anonymous";return ne.str(s)?s=a[s]||(a[s]=e5(s,i)):s=s[t5]||(s[t5]=e5(s,i)),s.displayName=`Animated(${o})`,s};return ga(t,(s,o)=>{ne.arr(t)&&(o=r5(s)),a[o]=a(s)}),{animated:a}},r5=t=>ne.str(t)?t:t&&ne.str(t.displayName)?t.displayName:ne.fun(t)&&t.name||null;function El(t,...e){return ne.fun(t)?t(...e):t}var e0=(t,e)=>t===!0||!!(e&&t&&(ne.fun(t)?t(e):En(t).includes(e))),bX=(t,e)=>ne.obj(t)?e&&t[e]:t,SX=(t,e)=>t.default===!0?t[e]:t.default?t.default[e]:void 0,H7e=t=>t,bO=(t,e=H7e)=>{let r=G7e;t.default&&t.default!==!0&&(t=t.default,r=Object.keys(t));let n={};for(let i of r){let a=e(t[i],i);ne.und(a)||(n[i]=a)}return n},G7e=["config","onProps","onStart","onChange","onPause","onResume","onRest"],z7e={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function V7e(t){let e={},r=0;if(ga(t,(n,i)=>{z7e[i]||(e[i]=n,r++)}),r)return e}function TX(t){let e=V7e(t);if(e){let r={to:e};return ga(t,(n,i)=>i in e||(r[i]=n)),r}return{...t}}function W0(t){return t=Wr(t),ne.arr(t)?t.map(W0):h_(t)?Oi.createStringInterpolator({range:[0,1],output:[t,t]})(1):t}function W7e(t){for(let e in t)return!0;return!1}function CA(t){return ne.fun(t)||ne.arr(t)&&ne.obj(t[0])}function K7e(t,e){var r;(r=t.ref)==null||r.delete(t),e==null||e.delete(t)}function Y7e(t,e){var r;e&&t.ref!==e&&((r=t.ref)==null||r.delete(t),e.add(t),t.ref=e)}var kA={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},OA={...kA.default,mass:1,damping:1,easing:IA.linear,clamp:!1},q7e=class{constructor(){oe(this,"tension");oe(this,"friction");oe(this,"frequency");oe(this,"damping");oe(this,"mass");oe(this,"velocity",0);oe(this,"restVelocity");oe(this,"precision");oe(this,"progress");oe(this,"duration");oe(this,"easing");oe(this,"clamp");oe(this,"bounce");oe(this,"decay");oe(this,"round");Object.assign(this,OA)}};function X7e(t,e,r){r&&(r={...r},n5(r,e),e={...r,...e}),n5(t,e),Object.assign(t,e);for(let s in OA)t[s]==null&&(t[s]=OA[s]);let{frequency:n,damping:i}=t,{mass:a}=t;return ne.und(n)||(n<.01&&(n=.01),i<0&&(i=0),t.tension=Math.pow(2*Math.PI/n,2)*a,t.friction=4*Math.PI*i*a/n),t}function n5(t,e){if(!ne.und(e.decay))t.duration=void 0;else{let r=!ne.und(e.tension)||!ne.und(e.friction);(r||!ne.und(e.frequency)||!ne.und(e.damping)||!ne.und(e.mass))&&(t.duration=void 0,t.decay=void 0),r&&(t.frequency=void 0)}}var i5=[],Q7e=class{constructor(){oe(this,"changed",!1);oe(this,"values",i5);oe(this,"toValues",null);oe(this,"fromValues",i5);oe(this,"to");oe(this,"from");oe(this,"config",new q7e);oe(this,"immediate",!1)}};function wX(t,{key:e,props:r,defaultProps:n,state:i,actions:a}){return new Promise((s,o)=>{let c,l,u=e0(r.cancel??(n==null?void 0:n.cancel),e);if(u)h();else{ne.und(r.pause)||(i.paused=e0(r.pause,e));let p=n==null?void 0:n.pause;p!==!0&&(p=i.paused||e0(p,e)),c=El(r.delay||0,e),p?(i.resumeQueue.add(d),a.pause()):(a.resume(),d())}function f(){i.resumeQueue.add(d),i.timeouts.delete(l),l.cancel(),c=l.time-Te.now()}function d(){c>0&&!Oi.skipAnimation?(i.delayed=!0,l=Te.setTimeout(h,c),i.pauseQueue.add(f),i.timeouts.add(l)):h()}function h(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(f),i.timeouts.delete(l),t<=(i.cancelId||0)&&(u=!0);try{a.start({...r,callId:t,cancel:u},s)}catch(p){o(p)}}})}var SO=(t,e)=>e.length==1?e[0]:e.some(r=>r.cancelled)?Gu(t.get()):e.every(r=>r.noop)?RX(t.get()):Ei(t.get(),e.every(r=>r.finished)),RX=t=>({value:t,noop:!0,finished:!0,cancelled:!1}),Ei=(t,e,r=!1)=>({value:t,finished:e,cancelled:r}),Gu=t=>({value:t,cancelled:!0,finished:!1});function AX(t,e,r,n){let{callId:i,parentId:a,onRest:s}=e,{asyncTo:o,promise:c}=r;return!a&&t===o&&!e.reset?c:r.promise=(async()=>{r.asyncId=i,r.asyncTo=t;let l=bO(e,(g,v)=>v==="onRest"?void 0:g),u,f,d=new Promise((g,v)=>(u=g,f=v)),h=g=>{let v=i<=(r.cancelId||0)&&Gu(n)||i!==r.asyncId&&Ei(n,!1);if(v)throw g.result=v,f(g),g},p=(g,v)=>{let y=new a5,x=new s5;return(async()=>{if(Oi.skipAnimation)throw K0(r),x.result=Ei(n,!1),f(x),x;h(y);let E=ne.obj(g)?{...g}:{...v,to:g};E.parentId=i,ga(l,(b,T)=>{ne.und(E[T])&&(E[T]=b)});let S=await n.start(E);return h(y),r.paused&&await new Promise(b=>{r.resumeQueue.add(b)}),S})()},m;if(Oi.skipAnimation)return K0(r),Ei(n,!1);try{let g;ne.arr(t)?g=(async v=>{for(let y of v)await p(y)})(t):g=Promise.resolve(t(p,n.stop.bind(n))),await Promise.all([g.then(u),d]),m=Ei(n.get(),!0,!1)}catch(g){if(g instanceof a5)m=g.result;else if(g instanceof s5)m=g.result;else throw g}finally{i==r.asyncId&&(r.asyncId=a,r.asyncTo=a?o:void 0,r.promise=a?c:void 0)}return ne.fun(s)&&Te.batchedUpdates(()=>{s(m,n,n.item)}),m})()}function K0(t,e){Zh(t.timeouts,r=>r.cancel()),t.pauseQueue.clear(),t.resumeQueue.clear(),t.asyncId=t.asyncTo=t.promise=void 0,e&&(t.cancelId=e)}var a5=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.");oe(this,"result")}},s5=class extends Error{constructor(){super("SkipAnimationSignal");oe(this,"result")}},LA=t=>t instanceof TO,Z7e=1,TO=class extends pX{constructor(){super(...arguments);oe(this,"id",Z7e++);oe(this,"_priority",0)}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){let e=qi(this);return e&&e.getValue()}to(...e){return Oi.to(this,e)}interpolate(...e){return I7e(),Oi.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,r=!1){H0(this,{type:"change",parent:this,value:e,idle:r})}_onPriorityChange(e){this.idle||u_.sort(this),H0(this,{type:"priority",parent:this,priority:e})}},Ql=Symbol.for("SpringPhase"),IX=1,PA=2,NA=4,VT=t=>(t[Ql]&IX)>0,Ls=t=>(t[Ql]&PA)>0,th=t=>(t[Ql]&NA)>0,o5=(t,e)=>e?t[Ql]|=PA|IX:t[Ql]&=~PA,l5=(t,e)=>e?t[Ql]|=NA:t[Ql]&=~NA,$X=class extends TO{constructor(e,r){super();oe(this,"key");oe(this,"animation",new Q7e);oe(this,"queue");oe(this,"defaultProps",{});oe(this,"_state",{paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set});oe(this,"_pendingCalls",new Set);oe(this,"_lastCallId",0);oe(this,"_lastToId",0);oe(this,"_memoizedDuration",0);if(!ne.und(e)||!ne.und(r)){let n=ne.obj(e)?{...e}:{...r,from:e};ne.und(n.default)&&(n.default=!0),this.start(n)}}get idle(){return!(Ls(this)||this._state.asyncTo)||th(this)}get goal(){return Wr(this.animation.to)}get velocity(){let e=qi(this);return e instanceof ug?e.lastVelocity||0:e.getPayload().map(r=>r.lastVelocity||0)}get hasAnimated(){return VT(this)}get isAnimating(){return Ls(this)}get isPaused(){return th(this)}get isDelayed(){return this._state.delayed}advance(e){let r=!0,n=!1,i=this.animation,{toValues:a}=i,{config:s}=i,o=p_(i.to);!o&&Hn(i.to)&&(a=En(Wr(i.to))),i.values.forEach((u,f)=>{if(u.done)return;let d=u.constructor==V0?1:o?o[f].lastPosition:a[f],h=i.immediate,p=d;if(!h){if(p=u.lastPosition,s.tension<=0){u.done=!0;return}let m=u.elapsedTime+=e,g=i.fromValues[f],v=u.v0!=null?u.v0:u.v0=ne.arr(s.velocity)?s.velocity[f]:s.velocity,y,x=s.precision||(g==d?.005:Math.min(1,Math.abs(d-g)*.001));if(ne.und(s.duration))if(s.decay){let E=s.decay===!0?.998:s.decay,S=Math.exp(-(1-E)*m);p=g+v/(1-E)*(1-S),h=Math.abs(u.lastPosition-p)<=x,y=v*S}else{y=u.lastVelocity==null?v:u.lastVelocity;let E=s.restVelocity||x/10,S=s.clamp?0:s.bounce,b=!ne.und(S),T=g==d?u.v0>0:g<d,R,I=!1,w=1,C=Math.ceil(e/w);for(let L=0;L<C&&(R=Math.abs(y)>E,!(!R&&(h=Math.abs(d-p)<=x,h)));++L){b&&(I=p==d||p>d==T,I&&(y=-y*S,p=d));let H=-s.tension*1e-6*(p-d),N=-s.friction*.001*y,P=(H+N)/s.mass;y=y+P*w,p=p+y*w}}else{let E=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,u.durationProgress>0&&(u.elapsedTime=s.duration*u.durationProgress,m=u.elapsedTime+=e)),E=(s.progress||0)+m/this._memoizedDuration,E=E>1?1:E<0?0:E,u.durationProgress=E),p=g+s.easing(E)*(d-g),y=(p-u.lastPosition)/e,h=E==1}u.lastVelocity=y,Number.isNaN(p)&&(console.warn("Got NaN while animating:",this),h=!0)}o&&!o[f].done&&(h=!1),h?u.done=!0:r=!1,u.setValue(p,s.round)&&(n=!0)});let c=qi(this),l=c.getValue();if(r){let u=Wr(i.to);(l!==u||n)&&!s.decay?(c.setValue(u),this._onChange(u)):n&&s.decay&&this._onChange(l),this._stop()}else n&&this._onChange(l)}set(e){return Te.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Ls(this)){let{to:e,config:r}=this.animation;Te.batchedUpdates(()=>{this._onStart(),r.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,r){let n;return ne.und(e)?(n=this.queue||[],this.queue=[]):n=[ne.obj(e)?e:{...r,to:e}],Promise.all(n.map(i=>this._update(i))).then(i=>SO(this,i))}stop(e){let{to:r}=this.animation;return this._focus(this.get()),K0(this._state,e&&this._lastCallId),Te.batchedUpdates(()=>this._stop(r,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){let r=this.key||"",{to:n,from:i}=e;n=ne.obj(n)?n[r]:n,(n==null||CA(n))&&(n=void 0),i=ne.obj(i)?i[r]:i,i==null&&(i=void 0);let a={to:n,from:i};return VT(this)||(e.reverse&&([n,i]=[i,n]),i=Wr(i),ne.und(i)?qi(this)||this._set(n):this._set(i)),a}_update({...e},r){let{key:n,defaultProps:i}=this;e.default&&Object.assign(i,bO(e,(o,c)=>/^on/.test(c)?bX(o,n):o)),u5(this,e,"onProps"),nh(this,"onProps",e,this);let a=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");let s=this._state;return wX(++this._lastCallId,{key:n,props:e,defaultProps:i,state:s,actions:{pause:()=>{th(this)||(l5(this,!0),Th(s.pauseQueue),nh(this,"onPause",Ei(this,rh(this,this.animation.to)),this))},resume:()=>{th(this)&&(l5(this,!1),Ls(this)&&this._resume(),Th(s.resumeQueue),nh(this,"onResume",Ei(this,rh(this,this.animation.to)),this))},start:this._merge.bind(this,a)}}).then(o=>{if(e.loop&&o.finished&&!(r&&o.noop)){let c=CX(e);if(c)return this._update(c,!0)}return o})}_merge(e,r,n){if(r.cancel)return this.stop(!0),n(Gu(this));let i=!ne.und(e.to),a=!ne.und(e.from);if(i||a)if(r.callId>this._lastToId)this._lastToId=r.callId;else return n(Gu(this));let{key:s,defaultProps:o,animation:c}=this,{to:l,from:u}=c,{to:f=l,from:d=u}=e;a&&!i&&(!r.default||ne.und(f))&&(f=d),r.reverse&&([f,d]=[d,f]);let h=!Da(d,u);h&&(c.from=d),d=Wr(d);let p=!Da(f,l);p&&this._focus(f);let m=CA(r.to),{config:g}=c,{decay:v,velocity:y}=g;(i||a)&&(g.velocity=0),r.config&&!m&&X7e(g,El(r.config,s),r.config!==o.config?El(o.config,s):void 0);let x=qi(this);if(!x||ne.und(f))return n(Ei(this,!0));let E=ne.und(r.reset)?a&&!r.default:!ne.und(d)&&e0(r.reset,s),S=E?d:this.get(),b=W0(f),T=ne.num(b)||ne.arr(b)||h_(b),R=!m&&(!T||e0(o.immediate||r.immediate,s));if(p){let L=$A(f);if(L!==x.constructor)if(R)x=this._set(b);else throw Error(`Cannot animate between ${x.constructor.name} and ${L.name}, as the "to" prop suggests`)}let I=x.constructor,w=Hn(f),C=!1;if(!w){let L=E||!VT(this)&&h;(p||L)&&(C=Da(W0(S),b),w=!C),(!Da(c.immediate,R)&&!R||!Da(g.decay,v)||!Da(g.velocity,y))&&(w=!0)}if(C&&Ls(this)&&(c.changed&&!E?w=!0:w||this._stop(l)),!m&&((w||Hn(l))&&(c.values=x.getPayload(),c.toValues=Hn(f)?null:I==V0?[1]:En(b)),c.immediate!=R&&(c.immediate=R,!R&&!E&&this._set(l)),w)){let{onRest:L}=c;Le(e9e,N=>u5(this,r,N));let H=Ei(this,rh(this,l));Th(this._pendingCalls,H),this._pendingCalls.add(n),c.changed&&Te.batchedUpdates(()=>{var N;c.changed=!E,L==null||L(H,this),E?El(o.onRest,H):(N=c.onStart)==null||N.call(c,H,this)})}E&&this._set(S),m?n(AX(r.to,r,this._state,this)):w?this._start():Ls(this)&&!p?this._pendingCalls.add(n):n(RX(S))}_focus(e){let r=this.animation;e!==r.to&&(Q6(this)&&this._detach(),r.to=e,Q6(this)&&this._attach())}_attach(){let e=0,{to:r}=this.animation;Hn(r)&&(ad(r,this),LA(r)&&(e=r.priority+1)),this.priority=e}_detach(){let{to:e}=this.animation;Hn(e)&&G0(e,this)}_set(e,r=!0){let n=Wr(e);if(!ne.und(n)){let i=qi(this);if(!i||!Da(n,i.getValue())){let a=$A(n);!i||i.constructor!=a?_O(this,a.create(n)):i.setValue(n),i&&Te.batchedUpdates(()=>{this._onChange(n,r)})}}return qi(this)}_onStart(){let e=this.animation;e.changed||(e.changed=!0,nh(this,"onStart",Ei(this,rh(this,e.to)),this))}_onChange(e,r){r||(this._onStart(),El(this.animation.onChange,e,this)),El(this.defaultProps.onChange,e,this),super._onChange(e,r)}_start(){let e=this.animation;qi(this).reset(Wr(e.to)),e.immediate||(e.fromValues=e.values.map(r=>r.lastPosition)),Ls(this)||(o5(this,!0),th(this)||this._resume())}_resume(){Oi.skipAnimation?this.finish():u_.start(this)}_stop(e,r){if(Ls(this)){o5(this,!1);let n=this.animation;Le(n.values,a=>{a.done=!0}),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),H0(this,{type:"idle",parent:this});let i=r?Gu(this.get()):Ei(this.get(),rh(this,e??n.to));Th(this._pendingCalls,i),n.changed&&(n.changed=!1,nh(this,"onRest",i,this))}}};function rh(t,e){let r=W0(e),n=W0(t.get());return Da(n,r)}function CX(t,e=t.loop,r=t.to){let n=El(e);if(n){let i=n!==!0&&TX(n),a=(i||t).reverse,s=!i||i.reset;return Y0({...t,loop:e,default:!1,pause:void 0,to:!a||CA(r)?r:void 0,from:s?t.from:void 0,reset:s,...i})}}function Y0(t){let{to:e,from:r}=t=TX(t),n=new Set;return ne.obj(e)&&c5(e,n),ne.obj(r)&&c5(r,n),t.keys=n.size?Array.from(n):null,t}function J7e(t){let e=Y0(t);return ne.und(e.default)&&(e.default=bO(e)),e}function c5(t,e){ga(t,(r,n)=>r!=null&&e.add(n))}var e9e=["onStart","onRest","onChange","onPause","onResume"];function u5(t,e,r){t.animation[r]=e[r]!==SX(e,r)?bX(e[r],t.key):void 0}function nh(t,e,...r){var n,i,a,s;(i=(n=t.animation)[e])==null||i.call(n,...r),(s=(a=t.defaultProps)[e])==null||s.call(a,...r)}var t9e=["onStart","onChange","onRest"],r9e=1,n9e=class{constructor(t,e){oe(this,"id",r9e++);oe(this,"springs",{});oe(this,"queue",[]);oe(this,"ref");oe(this,"_flush");oe(this,"_initialProps");oe(this,"_lastAsyncId",0);oe(this,"_active",new Set);oe(this,"_changed",new Set);oe(this,"_started",!1);oe(this,"_item");oe(this,"_state",{paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set});oe(this,"_events",{onStart:new Map,onChange:new Map,onRest:new Map});this._onFrame=this._onFrame.bind(this),e&&(this._flush=e),t&&this.start({default:!0,...t})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(t=>t.idle&&!t.isDelayed&&!t.isPaused)}get item(){return this._item}set item(t){this._item=t}get(){let t={};return this.each((e,r)=>t[r]=e.get()),t}set(t){for(let e in t){let r=t[e];ne.und(r)||this.springs[e].set(r)}}update(t){return t&&this.queue.push(Y0(t)),this}start(t){let{queue:e}=this;return t?e=En(t).map(Y0):this.queue=[],this._flush?this._flush(this,e):(NX(this,e),DA(this,e))}stop(t,e){if(t!==!!t&&(e=t),e){let r=this.springs;Le(En(e),n=>r[n].stop(!!t))}else K0(this._state,this._lastAsyncId),this.each(r=>r.stop(!!t));return this}pause(t){if(ne.und(t))this.start({pause:!0});else{let e=this.springs;Le(En(t),r=>e[r].pause())}return this}resume(t){if(ne.und(t))this.start({pause:!1});else{let e=this.springs;Le(En(t),r=>e[r].resume())}return this}each(t){ga(this.springs,t)}_onFrame(){let{onStart:t,onChange:e,onRest:r}=this._events,n=this._active.size>0,i=this._changed.size>0;(n&&!this._started||i&&!this._started)&&(this._started=!0,Zh(t,([o,c])=>{c.value=this.get(),o(c,this,this._item)}));let a=!n&&this._started,s=i||a&&r.size?this.get():null;i&&e.size&&Zh(e,([o,c])=>{c.value=s,o(c,this,this._item)}),a&&(this._started=!1,Zh(r,([o,c])=>{c.value=s,o(c,this,this._item)}))}eventObserved(t){if(t.type=="change")this._changed.add(t.parent),t.idle||this._active.add(t.parent);else if(t.type=="idle")this._active.delete(t.parent);else return;Te.onFrame(this._onFrame)}};function DA(t,e){return Promise.all(e.map(r=>kX(t,r))).then(r=>SO(t,r))}async function kX(t,e,r){let{keys:n,to:i,from:a,loop:s,onRest:o,onResolve:c}=e,l=ne.obj(e.default)&&e.default;s&&(e.loop=!1),i===!1&&(e.to=null),a===!1&&(e.from=null);let u=ne.arr(i)||ne.fun(i)?i:void 0;u?(e.to=void 0,e.onRest=void 0,l&&(l.onRest=void 0)):Le(t9e,m=>{let g=e[m];if(ne.fun(g)){let v=t._events[m];e[m]=({finished:y,cancelled:x})=>{let E=v.get(g);E?(y||(E.finished=!1),x&&(E.cancelled=!0)):v.set(g,{value:null,finished:y||!1,cancelled:x||!1})},l&&(l[m]=e[m])}});let f=t._state;e.pause===!f.paused?(f.paused=e.pause,Th(e.pause?f.pauseQueue:f.resumeQueue)):f.paused&&(e.pause=!0);let d=(n||Object.keys(t.springs)).map(m=>t.springs[m].start(e)),h=e.cancel===!0||SX(e,"cancel")===!0;(u||h&&f.asyncId)&&d.push(wX(++t._lastAsyncId,{props:e,state:f,actions:{pause:RA,resume:RA,start(m,g){h?(K0(f,t._lastAsyncId),g(Gu(t))):(m.onRest=o,g(AX(u,m,f,t)))}}})),f.paused&&await new Promise(m=>{f.resumeQueue.add(m)});let p=SO(t,await Promise.all(d));if(s&&p.finished&&!(r&&p.noop)){let m=CX(e,s,i);if(m)return NX(t,[m]),kX(t,m,!0)}return c&&Te.batchedUpdates(()=>c(p,t,t.item)),p}function f5(t,e){let r={...t.springs};return e&&Le(En(e),n=>{ne.und(n.keys)&&(n=Y0(n)),ne.obj(n.to)||(n={...n,to:void 0}),PX(r,n,i=>LX(i))}),OX(t,r),r}function OX(t,e){ga(e,(r,n)=>{t.springs[n]||(t.springs[n]=r,ad(r,t))})}function LX(t,e){let r=new $X;return r.key=t,e&&ad(r,e),r}function PX(t,e,r){e.keys&&Le(e.keys,n=>{(t[n]||(t[n]=r(n)))._prepareNode(e)})}function NX(t,e){Le(e,r=>{PX(t.springs,r,n=>LX(n,t))})}var m_=({children:t,...e})=>{let r=A.useContext(w1),n=e.pause||!!r.pause,i=e.immediate||!!r.immediate;e=L7e(()=>({pause:n,immediate:i}),[n,i]);let{Provider:a}=w1;return A.createElement(a,{value:e},t)},w1=i9e(m_,{});m_.Provider=w1.Provider;m_.Consumer=w1.Consumer;function i9e(t,e){return Object.assign(t,A.createContext(e)),t.Provider._context=t,t.Consumer._context=t,t}var a9e=()=>{let t=[],e=function(n){C7e();let i=[];return Le(t,(a,s)=>{if(ne.und(n))i.push(a.start());else{let o=r(n,a,s);o&&i.push(a.start(o))}}),i};e.current=t,e.add=function(n){t.includes(n)||t.push(n)},e.delete=function(n){let i=t.indexOf(n);~i&&t.splice(i,1)},e.pause=function(){return Le(t,n=>n.pause(...arguments)),this},e.resume=function(){return Le(t,n=>n.resume(...arguments)),this},e.set=function(n){Le(t,(i,a)=>{let s=ne.fun(n)?n(a,i):n;s&&i.set(s)})},e.start=function(n){let i=[];return Le(t,(a,s)=>{if(ne.und(n))i.push(a.start());else{let o=this._getProps(n,a,s);o&&i.push(a.start(o))}}),i},e.stop=function(){return Le(t,n=>n.stop(...arguments)),this},e.update=function(n){return Le(t,(i,a)=>i.update(this._getProps(n,i,a))),this};let r=function(n,i,a){return ne.fun(n)?n(a,i):n};return e._getProps=r,e};function s9e(t,e,r){let n=ne.fun(e)&&e;n&&!r&&(r=[]);let i=A.useMemo(()=>n||arguments.length==3?a9e():void 0,[]),a=A.useRef(0),s=xX(),o=A.useMemo(()=>({ctrls:[],queue:[],flush(v,y){let x=f5(v,y);return a.current>0&&!o.queue.length&&!Object.keys(x).some(E=>!v.springs[E])?DA(v,y):new Promise(E=>{OX(v,x),o.queue.push(()=>{E(DA(v,y))}),s()})}}),[]),c=A.useRef([...o.ctrls]),l=[],u=J6(t)||0;A.useMemo(()=>{Le(c.current.slice(t,u),v=>{K7e(v,i),v.stop(!0)}),c.current.length=t,f(u,t)},[t]),A.useMemo(()=>{f(0,Math.min(u,t))},r);function f(v,y){for(let x=v;x<y;x++){let E=c.current[x]||(c.current[x]=new n9e(null,o.flush)),S=n?n(x,E):e[x];S&&(l[x]=J7e(S))}}let d=c.current.map((v,y)=>f5(v,l[y])),h=A.useContext(m_),p=J6(h),m=h!==p&&W7e(h);xO(()=>{a.current++,o.ctrls=c.current;let{queue:v}=o;v.length&&(o.queue=[],Le(v,y=>y())),Le(c.current,(y,x)=>{i==null||i.add(y),m&&y.start({default:h});let E=l[x];E&&(Y7e(y,E.ref),y.ref?y.queue.push(E):y.start(E))})}),EO(()=>()=>{Le(o.ctrls,v=>v.stop(!0))});let g=d.map(v=>({...v}));return i?[g,i]:g}function o9e(t,e){let r=ne.fun(t),[[n],i]=s9e(1,r?t:[t],r?e||[]:e);return r||arguments.length==2?[n,i]:n}var d5=(t,e)=>{let r=k7e(()=>new $X(t,e));return EO(()=>()=>{r.stop()}),r},l9e=class extends TO{constructor(e,r){super();oe(this,"key");oe(this,"idle",!0);oe(this,"calc");oe(this,"_active",new Set);this.source=e,this.calc=j0(...r);let n=this._get(),i=$A(n);_O(this,i.create(n))}advance(e){let r=this._get(),n=this.get();Da(r,n)||(qi(this).setValue(r),this._onChange(r,this.idle)),!this.idle&&h5(this._active)&&WT(this)}_get(){let e=ne.arr(this.source)?this.source.map(Wr):En(Wr(this.source));return this.calc(...e)}_start(){this.idle&&!h5(this._active)&&(this.idle=!1,Le(p_(this),e=>{e.done=!1}),Oi.skipAnimation?(Te.batchedUpdates(()=>this.advance()),WT(this)):u_.start(this))}_attach(){let e=1;Le(En(this.source),r=>{Hn(r)&&ad(r,this),LA(r)&&(r.idle||this._active.add(r),e=Math.max(e,r.priority+1))}),this.priority=e,this._start()}_detach(){Le(En(this.source),e=>{Hn(e)&&G0(e,this)}),this._active.clear(),WT(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=En(this.source).reduce((r,n)=>Math.max(r,(LA(n)?n.priority:0)+1),0))}};function c9e(t){return t.idle!==!1}function h5(t){return!t.size||Array.from(t).every(c9e)}function WT(t){t.idle||(t.idle=!0,Le(p_(t),e=>{e.done=!0}),H0(t,{type:"idle",parent:t}))}Oi.assign({createStringInterpolator:vX,to:(t,e)=>new l9e(t,e)});var DX=/^--/;function u9e(t,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!DX.test(t)&&!(t0.hasOwnProperty(t)&&t0[t])?e+"px":(""+e).trim()}var p5={};function f9e(t,e){if(!t.nodeType||!t.setAttribute)return!1;let r=t.nodeName==="filter"||t.parentNode&&t.parentNode.nodeName==="filter",{style:n,children:i,scrollTop:a,scrollLeft:s,viewBox:o,...c}=e,l=Object.values(c),u=Object.keys(c).map(f=>r||t.hasAttribute(f)?f:p5[f]||(p5[f]=f.replace(/([A-Z])/g,d=>"-"+d.toLowerCase())));i!==void 0&&(t.textContent=i);for(let f in n)if(n.hasOwnProperty(f)){let d=u9e(f,n[f]);DX.test(f)?t.style.setProperty(f,d):t.style[f]=d}u.forEach((f,d)=>{t.setAttribute(f,l[d])}),a!==void 0&&(t.scrollTop=a),s!==void 0&&(t.scrollLeft=s),o!==void 0&&t.setAttribute("viewBox",o)}var t0={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},d9e=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1),h9e=["Webkit","Ms","Moz","O"];t0=Object.keys(t0).reduce((t,e)=>(h9e.forEach(r=>t[d9e(r,e)]=t[e]),t),t0);var p9e=/^(matrix|translate|scale|rotate|skew)/,g9e=/^(translate)/,m9e=/^(rotate|skew)/,KT=(t,e)=>ne.num(t)&&t!==0?t+e:t,Qv=(t,e)=>ne.arr(t)?t.every(r=>Qv(r,e)):ne.num(t)?t===e:parseFloat(t)===e,v9e=class extends g_{constructor({x:t,y:e,z:r,...n}){let i=[],a=[];(t||e||r)&&(i.push([t||0,e||0,r||0]),a.push(s=>[`translate3d(${s.map(o=>KT(o,"px")).join(",")})`,Qv(s,0)])),ga(n,(s,o)=>{if(o==="transform")i.push([s||""]),a.push(c=>[c,c===""]);else if(p9e.test(o)){if(delete n[o],ne.und(s))return;let c=g9e.test(o)?"px":m9e.test(o)?"deg":"";i.push(En(s)),a.push(o==="rotate3d"?([l,u,f,d])=>[`rotate3d(${l},${u},${f},${KT(d,c)})`,Qv(d,0)]:l=>[`${o}(${l.map(u=>KT(u,c)).join(",")})`,Qv(l,o.startsWith("scale")?1:0)])}}),i.length&&(n.transform=new y9e(i,a)),super(n)}},y9e=class extends pX{constructor(e,r){super();oe(this,"_value",null);this.inputs=e,this.transforms=r}get(){return this._value||(this._value=this._get())}_get(){let e="",r=!0;return Le(this.inputs,(n,i)=>{let a=Wr(n[0]),[s,o]=this.transforms[i](ne.arr(a)?a:n.map(Wr));e+=" "+s,r=r&&o}),r?"none":e}observerAdded(e){e==1&&Le(this.inputs,r=>Le(r,n=>Hn(n)&&ad(n,this)))}observerRemoved(e){e==0&&Le(this.inputs,r=>Le(r,n=>Hn(n)&&G0(n,this)))}eventObserved(e){e.type=="change"&&(this._value=null),H0(this,e)}},x9e=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];Oi.assign({batchedUpdates:Vl.unstable_batchedUpdates,createStringInterpolator:vX,colors:l7e});var E9e=j7e(x9e,{applyAnimatedValues:f9e,createAnimatedStyle:t=>new v9e(t),getComponentProps:({scrollTop:t,scrollLeft:e,...r})=>r}),MX=E9e.animated;function _9e(t){const e=A.useRef(null),[r,n]=A.useState(0),[i,a]=A.useState(0),[s,o]=A.useState(null),[c,l]=A.useState(null),u=A.useCallback((f,d)=>{const h=f.left+f.width/2,p=window.innerHeight-f.bottom;a(window.innerHeight-p-f.height-d.height-30),n(Math.min(h-d.width/2,window.innerWidth-d.width-30))},[]);return A.useEffect(()=>{!c||!s||u(c,s)},[c,u,s]),A.useEffect(()=>{if(!e.current)return;function f(){var p;const h=(p=e.current)==null?void 0:p.getBoundingClientRect();o(h??null)}f();const d=new ResizeObserver(f);return d.observe(e.current),()=>{d.disconnect()}},[]),A.useEffect(()=>{const f=TA(t.id);window[f]&&l(window[f]);function d(h){l(h.detail)}return document.addEventListener(f,d),()=>{document.removeEventListener(f,d)}},[t.id]),_("div",{ref:e,style:{transform:`translateX(${r}px) translateY(${i}px)`},className:["pointer-events-auto z-10 inline-block origin-top-left touch-none overflow-hidden",t.className??""].join(" "),children:t.children})}function b9e(t,e,r){return Math.max(e,Math.min(t,r))}const gr={toVector(t,e){return t===void 0&&(t=e),Array.isArray(t)?t:[t,t]},add(t,e){return[t[0]+e[0],t[1]+e[1]]},sub(t,e){return[t[0]-e[0],t[1]-e[1]]},addTo(t,e){t[0]+=e[0],t[1]+=e[1]},subTo(t,e){t[0]-=e[0],t[1]-=e[1]}};function g5(t,e,r){return e===0||Math.abs(e)===1/0?Math.pow(t,r*5):t*e*r/(e+r*t)}function m5(t,e,r,n=.15){return n===0?b9e(t,e,r):t<e?-g5(e-t,r-e,n)+e:t>r?+g5(t-r,r-e,n)+r:t}function S9e(t,[e,r],[n,i]){const[[a,s],[o,c]]=t;return[m5(e,a,s,n),m5(r,o,c,i)]}function T9e(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function w9e(t){var e=T9e(t,"string");return typeof e=="symbol"?e:String(e)}function Vr(t,e,r){return e=w9e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v5(Object(r),!0).forEach(function(n){Vr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const FX={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function y5(t){return t?t[0].toUpperCase()+t.slice(1):""}const R9e=["enter","leave"];function A9e(t=!1,e){return t&&!R9e.includes(e)}function I9e(t,e="",r=!1){const n=FX[t],i=n&&n[e]||e;return"on"+y5(t)+y5(i)+(A9e(r,i)?"Capture":"")}const $9e=["gotpointercapture","lostpointercapture"];function C9e(t){let e=t.substring(2).toLowerCase();const r=!!~e.indexOf("passive");r&&(e=e.replace("passive",""));const n=$9e.includes(e)?"capturecapture":"capture",i=!!~e.indexOf(n);return i&&(e=e.replace("capture","")),{device:e,capture:i,passive:r}}function k9e(t,e=""){const r=FX[t],n=r&&r[e]||e;return t+n}function v_(t){return"touches"in t}function BX(t){return v_(t)?"touch":"pointerType"in t?t.pointerType:"mouse"}function O9e(t){return Array.from(t.touches).filter(e=>{var r,n;return e.target===t.currentTarget||((r=t.currentTarget)===null||r===void 0||(n=r.contains)===null||n===void 0?void 0:n.call(r,e.target))})}function L9e(t){return t.type==="touchend"||t.type==="touchcancel"?t.changedTouches:t.targetTouches}function UX(t){return v_(t)?L9e(t)[0]:t}function P9e(t){return O9e(t).map(e=>e.identifier)}function YT(t){const e=UX(t);return v_(t)?e.identifier:e.pointerId}function x5(t){const e=UX(t);return[e.clientX,e.clientY]}function N9e(t){const e={};if("buttons"in t&&(e.buttons=t.buttons),"shiftKey"in t){const{shiftKey:r,altKey:n,metaKey:i,ctrlKey:a}=t;Object.assign(e,{shiftKey:r,altKey:n,metaKey:i,ctrlKey:a})}return e}function R1(t,...e){return typeof t=="function"?t(...e):t}function D9e(){}function M9e(...t){return t.length===0?D9e:t.length===1?t[0]:function(){let e;for(const r of t)e=r.apply(this,arguments)||e;return e}}function E5(t,e){return Object.assign({},e,t||{})}const F9e=32;class B9e{constructor(e,r,n){this.ctrl=e,this.args=r,this.key=n,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:r,ingKey:n,args:i}=this;r[n]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const r=this.state,n=this.config;r._active||(this.reset(),this.computeInitial(),r._active=!0,r.target=e.target,r.currentTarget=e.currentTarget,r.lastOffset=n.from?R1(n.from,r):r.offset,r.offset=r.lastOffset,r.startTime=r.timeStamp=e.timeStamp)}computeValues(e){const r=this.state;r._values=e,r.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:r,config:n,shared:i}=this;r.args=this.args;let a=0;if(e&&(r.event=e,n.preventDefault&&e.cancelable&&r.event.preventDefault(),r.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,N9e(e)),i.down=i.pressed=i.buttons%2===1||i.touches>0,a=e.timeStamp-r.timeStamp,r.timeStamp=e.timeStamp,r.elapsedTime=r.timeStamp-r.startTime),r._active){const b=r._delta.map(Math.abs);gr.addTo(r._distance,b)}this.axisIntent&&this.axisIntent(e);const[s,o]=r._movement,[c,l]=n.threshold,{_step:u,values:f}=r;if(n.hasCustomTransform?(u[0]===!1&&(u[0]=Math.abs(s)>=c&&f[0]),u[1]===!1&&(u[1]=Math.abs(o)>=l&&f[1])):(u[0]===!1&&(u[0]=Math.abs(s)>=c&&Math.sign(s)*c),u[1]===!1&&(u[1]=Math.abs(o)>=l&&Math.sign(o)*l)),r.intentional=u[0]!==!1||u[1]!==!1,!r.intentional)return;const d=[0,0];if(n.hasCustomTransform){const[b,T]=f;d[0]=u[0]!==!1?b-u[0]:0,d[1]=u[1]!==!1?T-u[1]:0}else d[0]=u[0]!==!1?s-u[0]:0,d[1]=u[1]!==!1?o-u[1]:0;this.restrictToAxis&&!r._blocked&&this.restrictToAxis(d);const h=r.offset,p=r._active&&!r._blocked||r.active;p&&(r.first=r._active&&!r.active,r.last=!r._active&&r.active,r.active=i[this.ingKey]=r._active,e&&(r.first&&("bounds"in n&&(r._bounds=R1(n.bounds,r)),this.setup&&this.setup()),r.movement=d,this.computeOffset()));const[m,g]=r.offset,[[v,y],[x,E]]=r._bounds;r.overflow=[m<v?-1:m>y?1:0,g<x?-1:g>E?1:0],r._movementBound[0]=r.overflow[0]?r._movementBound[0]===!1?r._movement[0]:r._movementBound[0]:!1,r._movementBound[1]=r.overflow[1]?r._movementBound[1]===!1?r._movement[1]:r._movementBound[1]:!1;const S=r._active?n.rubberband||[0,0]:[0,0];if(r.offset=S9e(r._bounds,r.offset,S),r.delta=gr.sub(r.offset,h),this.computeMovement(),p&&(!r.last||a>F9e)){r.delta=gr.sub(r.offset,h);const b=r.delta.map(Math.abs);gr.addTo(r.distance,b),r.direction=r.delta.map(Math.sign),r._direction=r._delta.map(Math.sign),!r.first&&a>0&&(r.velocity=[b[0]/a,b[1]/a],r.timeDelta=a)}}emit(){const e=this.state,r=this.shared,n=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!n.triggerAllEvents)return;const i=this.handler(xt(xt(xt({},r),e),{},{[this.aliasKey]:e.values}));i!==void 0&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function U9e([t,e],r){const n=Math.abs(t),i=Math.abs(e);if(n>i&&n>r)return"x";if(i>n&&i>r)return"y"}class j9e extends B9e{constructor(...e){super(...e),Vr(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=gr.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=gr.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const r=this.state,n=this.config;if(!r.axis&&e){const i=typeof n.axisThreshold=="object"?n.axisThreshold[BX(e)]:n.axisThreshold;r.axis=U9e(r._movement,i)}r._blocked=(n.lockDirection||!!n.axis)&&!r.axis||!!n.axis&&n.axis!==r.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const H9e=t=>t,_5=.15,jX={enabled(t=!0){return t},eventOptions(t,e,r){return xt(xt({},r.shared.eventOptions),t)},preventDefault(t=!1){return t},triggerAllEvents(t=!1){return t},rubberband(t=0){switch(t){case!0:return[_5,_5];case!1:return[0,0];default:return gr.toVector(t)}},from(t){if(typeof t=="function")return t;if(t!=null)return gr.toVector(t)},transform(t,e,r){const n=t||r.shared.transform;return this.hasCustomTransform=!!n,n||H9e},threshold(t){return gr.toVector(t,0)}},G9e=0,fg=xt(xt({},jX),{},{axis(t,e,{axis:r}){if(this.lockDirection=r==="lock",!this.lockDirection)return r},axisThreshold(t=G9e){return t},bounds(t={}){if(typeof t=="function")return a=>fg.bounds(t(a));if("current"in t)return()=>t.current;if(typeof HTMLElement=="function"&&t instanceof HTMLElement)return t;const{left:e=-1/0,right:r=1/0,top:n=-1/0,bottom:i=1/0}=t;return[[e,r],[n,i]]}}),b5={ArrowRight:(t,e=1)=>[t*e,0],ArrowLeft:(t,e=1)=>[-1*t*e,0],ArrowUp:(t,e=1)=>[0,-1*t*e],ArrowDown:(t,e=1)=>[0,t*e]};class z9e extends j9e{constructor(...e){super(...e),Vr(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const r=e._bounds.getBoundingClientRect(),n=e.currentTarget.getBoundingClientRect(),i={left:r.left-n.left+e.offset[0],right:r.right-n.right+e.offset[0],top:r.top-n.top+e.offset[1],bottom:r.bottom-n.bottom+e.offset[1]};e._bounds=fg.bounds(i)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const r=this.config,n=this.state;if(e.buttons!=null&&(Array.isArray(r.pointerButtons)?!r.pointerButtons.includes(e.buttons):r.pointerButtons!==-1&&r.pointerButtons!==e.buttons))return;const i=this.ctrl.setEventIds(e);r.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(i&&i.size>1&&n._pointerActive)&&(this.start(e),this.setupPointer(e),n._pointerId=YT(e),n._pointerActive=!0,this.computeValues(x5(e)),this.computeInitial(),r.preventScrollAxis&&BX(e)!=="mouse"?(n._active=!1,this.setupScrollPrevention(e)):r.delay>0?(this.setupDelayTrigger(e),r.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const r=this.state;r._active=!0,r._preventScroll=!0,r._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const r=this.state,n=this.config;if(!r._pointerActive||r.type===e.type&&e.timeStamp===r.timeStamp)return;const i=YT(e);if(r._pointerId!==void 0&&i!==r._pointerId)return;const a=x5(e);if(document.pointerLockElement===e.target?r._delta=[e.movementX,e.movementY]:(r._delta=gr.sub(a,r._values),this.computeValues(a)),gr.addTo(r._movement,r._delta),this.compute(e),r._delayed&&r.intentional){this.timeoutStore.remove("dragDelay"),r.active=!1,this.startPointerDrag(e);return}if(n.preventScrollAxis&&!r._preventScroll)if(r.axis)if(r.axis===n.preventScrollAxis||n.preventScrollAxis==="xy"){r._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const r=this.state,n=this.config;if(!r._active||!r._pointerActive)return;const i=YT(e);if(r._pointerId!==void 0&&i!==r._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[a,s]=r._distance;if(r.tap=a<=n.tapsThreshold&&s<=n.tapsThreshold,r.tap&&n.filterTaps)r._force=!0;else{const[o,c]=r._delta,[l,u]=r._movement,[f,d]=n.swipe.velocity,[h,p]=n.swipe.distance,m=n.swipe.duration;if(r.elapsedTime<m){const g=Math.abs(o/r.timeDelta),v=Math.abs(c/r.timeDelta);g>f&&Math.abs(l)>h&&(r.swipe[0]=Math.sign(o)),v>d&&Math.abs(u)>p&&(r.swipe[1]=Math.sign(c))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const r=this.config,n=r.device;r.pointerLock&&e.currentTarget.requestPointerLock(),r.pointerCapture||(this.eventStore.add(this.sharedConfig.window,n,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,V9e(e);const r=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",r),this.eventStore.add(this.sharedConfig.window,"touch","cancel",r),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const r=b5[e.key];if(r){const n=this.state,i=e.shiftKey?10:e.altKey?.1:1;this.start(e),n._delta=r(this.config.keyboardDisplacement,i),n._keyboardActive=!0,gr.addTo(n._movement,n._delta),this.compute(e),this.emit()}}keyUp(e){e.key in b5&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const r=this.config.device;e(r,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(r,"change",this.pointerMove.bind(this)),e(r,"end",this.pointerUp.bind(this)),e(r,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function V9e(t){"persist"in t&&typeof t.persist=="function"&&t.persist()}const dg=typeof window<"u"&&window.document&&window.document.createElement;function W9e(){return dg&&"ontouchstart"in window}function S5(){return W9e()||dg&&window.navigator.maxTouchPoints>1}function K9e(){return dg&&"onpointerdown"in window}function Y9e(){return dg&&"exitPointerLock"in window.document}function q9e(){try{return"constructor"in GestureEvent}catch{return!1}}const Gn={isBrowser:dg,gesture:q9e(),touch:S5(),touchscreen:S5(),pointer:K9e(),pointerLock:Y9e()},X9e=250,Q9e=180,Z9e=.5,J9e=50,eje=250,tje=10,T5={mouse:0,touch:0,pen:8},rje=xt(xt({},fg),{},{device(t,e,{pointer:{touch:r=!1,lock:n=!1,mouse:i=!1}={}}){return this.pointerLock=n&&Gn.pointerLock,Gn.touch&&r?"touch":this.pointerLock?"mouse":Gn.pointer&&!i?"pointer":Gn.touch?"touch":"mouse"},preventScrollAxis(t,e,{preventScroll:r}){if(this.preventScrollDelay=typeof r=="number"?r:r||r===void 0&&t?X9e:void 0,!(!Gn.touchscreen||r===!1))return t||(r!==void 0?"y":void 0)},pointerCapture(t,e,{pointer:{capture:r=!0,buttons:n=1,keys:i=!0}={}}){return this.pointerButtons=n,this.keys=i,!this.pointerLock&&this.device==="pointer"&&r},threshold(t,e,{filterTaps:r=!1,tapsThreshold:n=3,axis:i=void 0}){const a=gr.toVector(t,r?n:i?1:0);return this.filterTaps=r,this.tapsThreshold=n,a},swipe({velocity:t=Z9e,distance:e=J9e,duration:r=eje}={}){return{velocity:this.transform(gr.toVector(t)),distance:this.transform(gr.toVector(e)),duration:r}},delay(t=0){switch(t){case!0:return Q9e;case!1:return 0;default:return t}},axisThreshold(t){return t?xt(xt({},T5),t):T5},keyboardDisplacement(t=tje){return t}});xt(xt({},jX),{},{device(t,e,{shared:r,pointer:{touch:n=!1}={}}){if(r.target&&!Gn.touch&&Gn.gesture)return"gesture";if(Gn.touch&&n)return"touch";if(Gn.touchscreen){if(Gn.pointer)return"pointer";if(Gn.touch)return"touch"}},bounds(t,e,{scaleBounds:r={},angleBounds:n={}}){const i=s=>{const o=E5(R1(r,s),{min:-1/0,max:1/0});return[o.min,o.max]},a=s=>{const o=E5(R1(n,s),{min:-1/0,max:1/0});return[o.min,o.max]};return typeof r!="function"&&typeof n!="function"?[i(),a()]:s=>[i(s),a(s)]},threshold(t,e,r){return this.lockDirection=r.axis==="lock",gr.toVector(t,this.lockDirection?[.1,3]:0)},modifierKey(t){return t===void 0?"ctrlKey":t},pinchOnWheel(t=!0){return t}});xt(xt({},fg),{},{mouseOnly:(t=!0)=>t});xt(xt({},fg),{},{mouseOnly:(t=!0)=>t});const HX=new Map,MA=new Map;function nje(t){HX.set(t.key,t.engine),MA.set(t.key,t.resolver)}const ije={key:"drag",engine:z9e,resolver:rje};function aje(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function sje(t,e){if(t==null)return{};var r=aje(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}const oje={target(t){if(t)return()=>"current"in t?t.current:t},enabled(t=!0){return t},window(t=Gn.isBrowser?window:void 0){return t},eventOptions({passive:t=!0,capture:e=!1}={}){return{passive:t,capture:e}},transform(t){return t}},lje=["target","eventOptions","window","enabled","transform"];function Zv(t={},e){const r={};for(const[n,i]of Object.entries(e))switch(typeof i){case"function":r[n]=i.call(r,t[n],n,t);break;case"object":r[n]=Zv(t[n],i);break;case"boolean":i&&(r[n]=t[n]);break}return r}function cje(t,e,r={}){const n=t,{target:i,eventOptions:a,window:s,enabled:o,transform:c}=n,l=sje(n,lje);if(r.shared=Zv({target:i,eventOptions:a,window:s,enabled:o,transform:c},oje),e){const u=MA.get(e);r[e]=Zv(xt({shared:r.shared},l),u)}else for(const u in l){const f=MA.get(u);f&&(r[u]=Zv(xt({shared:r.shared},l[u]),f))}return r}class GX{constructor(e,r){Vr(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=r}add(e,r,n,i,a){const s=this._listeners,o=k9e(r,n),c=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},l=xt(xt({},c),a);e.addEventListener(o,i,l);const u=()=>{e.removeEventListener(o,i,l),s.delete(u)};return s.add(u),u}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class uje{constructor(){Vr(this,"_timeouts",new Map)}add(e,r,n=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(r,n,...i))}remove(e){const r=this._timeouts.get(e);r&&window.clearTimeout(r)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class fje{constructor(e){Vr(this,"gestures",new Set),Vr(this,"_targetEventStore",new GX(this)),Vr(this,"gestureEventStores",{}),Vr(this,"gestureTimeoutStores",{}),Vr(this,"handlers",{}),Vr(this,"config",{}),Vr(this,"pointerIds",new Set),Vr(this,"touchIds",new Set),Vr(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),dje(this,e)}setEventIds(e){if(v_(e))return this.touchIds=new Set(P9e(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,r){this.handlers=e,this.nativeHandlers=r}applyConfig(e,r){this.config=cje(e,r,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const r=this.config.shared,n={};let i;if(!(r.target&&(i=r.target(),!i))){if(r.enabled){for(const s of this.gestures){const o=this.config[s],c=w5(n,o.eventOptions,!!i);if(o.enabled){const l=HX.get(s);new l(this,e,s).bind(c)}}const a=w5(n,r.eventOptions,!!i);for(const s in this.nativeHandlers)a(s,"",o=>this.nativeHandlers[s](xt(xt({},this.state.shared),{},{event:o,args:e})),void 0,!0)}for(const a in n)n[a]=M9e(...n[a]);if(!i)return n;for(const a in n){const{device:s,capture:o,passive:c}=C9e(a);this._targetEventStore.add(i,s,"",n[a],{capture:o,passive:c})}}}}function Gc(t,e){t.gestures.add(e),t.gestureEventStores[e]=new GX(t,e),t.gestureTimeoutStores[e]=new uje}function dje(t,e){e.drag&&Gc(t,"drag"),e.wheel&&Gc(t,"wheel"),e.scroll&&Gc(t,"scroll"),e.move&&Gc(t,"move"),e.pinch&&Gc(t,"pinch"),e.hover&&Gc(t,"hover")}const w5=(t,e,r)=>(n,i,a,s={},o=!1)=>{var c,l;const u=(c=s.capture)!==null&&c!==void 0?c:e.capture,f=(l=s.passive)!==null&&l!==void 0?l:e.passive;let d=o?n:I9e(n,i,u);r&&f&&(d+="Passive"),t[d]=t[d]||[],t[d].push(a)};function hje(t,e={},r,n){const i=le.useMemo(()=>new fje(t),[]);if(i.applyHandlers(t,n),i.applyConfig(e,r),le.useEffect(i.effect.bind(i)),le.useEffect(()=>i.clean.bind(i),[]),e.target===void 0)return i.bind.bind(i)}function pje(t,e){return nje(ije),hje({drag:t},e||{},"drag")}function gje(t){const e=A.useRef(null),r=A.useRef(!1),[n,i]=A.useState(null),[{y:a},s]=o9e(()=>({y:0,onRest(){r.current&&t.onClose&&t.onClose()}})),o=pje(({last:c,velocity:[,l],direction:[,u],movement:[,f],...d})=>{if(r.current||d.target.closest(".overflow-y-auto"))return;const p=(n==null?void 0:n.height)??0;c?f>p*.5||l>.5&&u>0&&f>20?(s.start({y:p*1.2,immediate:!1,config:{...kA.wobbly,velocity:l,clamp:!0}}),r.current=!0):s.start({y:0,immediate:!1,config:kA.wobbly}):s.start({y:f,immediate:!0})},{from:()=>[0,a.get()],filterTaps:!0,bounds:{top:0},rubberband:!0});return A.useEffect(()=>{if(!e.current)return;function c(){var f;const u=(f=e.current)==null?void 0:f.getBoundingClientRect();i(u??null)}c();const l=new ResizeObserver(c);return l.observe(e.current),()=>{l.disconnect()}},[]),_("div",{className:"is-mobile-view absolute inset-x-0 mx-auto max-w-[400px] origin-bottom-left touch-none",style:{transform:`translateY(${window.innerHeight-((n==null?void 0:n.height)??0)+200}px)`},children:_(MX.div,{ref:e,className:[t.className??"","touch-none"].join(" "),style:{y:a},...o(),children:t.children})})}function zX(t){const e=t.radius??40;return Y("svg",{className:`${t.className??""} -rotate-90`,viewBox:"0 0 100 100",children:[_("circle",{className:`fill-transparent stroke-denim-700 stroke-[15] opacity-25 ${t.backingRingClassname??""}`,r:e,cx:"50",cy:"50"}),_("circle",{className:"fill-transparent stroke-current stroke-[15] transition-[stroke-dashoffset] duration-150",r:e,cx:"50",cy:"50",style:{strokeDasharray:`${2*Math.PI*e} ${2*Math.PI*e}`,strokeDashoffset:`${2*Math.PI*e-t.percentage/100*(2*Math.PI*e)}`}})]})}function mje(t){const e=A.createRef(),r=A.useRef(!1),n=30;return A.useEffect(()=>{if(r.current||!e.current)return;const i=e.current,a=i.classList.contains("overflow-y-auto")?i:i.closest(".overflow-y-auto"),s=a==null?void 0:a.querySelector(".active");if(a&&s){let o=0,c=0,l=0,u=0;if((()=>{const h=s.getBoundingClientRect(),p=a.getBoundingClientRect();o=p.height,l=h.height,c=h.top-p.top+a.scrollTop,u=a.scrollTop})(),c+l<u+o-n||c>u+n){const h=c+l/2,p=o/2,m=h-p;a.scrollTo({top:m})}}r.current=!0},[e]),_("div",{className:t.className,ref:e,children:t.children})}function xf(t){return _(mje,{className:["p-5",t.className||""].join(" "),children:t.children})}function VX(t){const e=t.isOnDarkBackground?"bg-ash-200":"bg-ash-400",r=t.isOnDarkBackground?"hover:bg-ash-200":"hover:bg-ash-400";return Y("div",{className:["group -mx-2 flex cursor-pointer items-center justify-between space-x-1 rounded p-2 font-semibold transition-[background-color,color] duration-150",r,t.active?`${e} active text-white outline-denim-700`:"text-denim-700 hover:text-white"].join(" "),onClick:t.onClick,children:[t.active&&_("div",{className:"absolute left-0 h-8 w-0.5 bg-bink-500"}),_("span",{className:"truncate",children:t.children}),Y("div",{className:"relative min-h-[1rem] min-w-[1rem]",children:[!t.noChevron&&_(Ge,{className:"absolute inset-0 translate-x-2 text-white opacity-0 transition-[opacity,transform] duration-100 group-hover:translate-x-0 group-hover:opacity-100",icon:ce.CHEVRON_RIGHT}),t.right]})]})}function Ja(t){return _(VX,{isOnDarkBackground:t.isOnDarkBackground,active:t.active,onClick:t.onClick,noChevron:t.loading||t.errored,right:Y(vr,{children:[t.errored&&_(Ge,{icon:ce.WARNING,className:"absolute inset-0 text-rose-400"}),t.loading&&!t.errored&&_(Xq,{className:"absolute inset-0 text-base [--color:#9C93B5]"}),t.percentageCompleted&&!t.loading&&!t.errored?_(zX,{className:"absolute inset-0 text-bink-600 opacity-100 transition-[opacity] group-hover:opacity-0",backingRingClassname:"stroke-ash-500",percentage:t.percentageCompleted>90?100:t.percentageCompleted}):""]}),children:t.children})}function y_(t){const e=_(VX,{active:t.active,isOnDarkBackground:t.isOnDarkBackground,right:t.right,onClick:t.href?void 0:t.onClick,noChevron:t.noChevron,children:Y("div",{className:"flex items-center space-x-3",children:[t.icon?_(Ge,{className:"text-xl",icon:t.icon}):null,_("div",{children:t.children})]})});return t.href?_("a",{href:t.href?t.href:void 0,rel:"noreferrer",target:"_blank",download:t.download?t.download:void 0,onClick:t.onClick,children:e}):e}function WX(){const{isMobile:t}=Ta();return t?_("div",{className:"relative z-50 mx-auto my-3 -mb-3 h-1 w-12 rounded-full bg-ash-500 bg-opacity-30"}):null}function vje(){const{isMobile:t}=Ta();return t?_("div",{className:"h-[200px]"}):null}function yje(t){const e=A.useRef(null),{isMobile:r}=Ta(),n=d5(0,{config:{easing:IA.easeInOutSine,duration:300}}),i=d5(0,{config:{easing:IA.easeInOutSine,duration:300}}),[a,s]=A.useState(null),o=A.useCallback((c=!0)=>{if(!e.current)return;const l=e.current.querySelectorAll(":scope *[data-floating-page='true']");if(c&&s(l),l.length===0){n.start(0),i.start(0);return}const u=l[l.length-1],f=u.getBoundingClientRect(),d=u.scrollHeight;n.get()===0?(n.set(d),i.set(f.width)):(n.start(d),i.start(f.width))},[n,i]);return A.useEffect(()=>{if(!e.current)return;o();const c=new MutationObserver(()=>{o()});return c.observe(e.current,{attributes:!1,childList:!0,subtree:!1}),()=>{c.disconnect()}},[o]),A.useEffect(()=>{const c=new ResizeObserver(()=>{o(!1)});return a==null||a.forEach(l=>c.observe(l)),()=>{c.disconnect()}},[a,o]),_(MX.div,{ref:e,style:{height:n,width:r?"100%":i},className:"relative flex items-center justify-center overflow-hidden",children:t.children})}function xje(t){const{isMobile:e}=Ta(),r=_(yje,{children:t.children});return e?_(gje,{className:t.className,onClose:t.onClose,children:r}):_(_9e,{id:t.for,className:t.className,children:r})}function Eje(t){return _(xje,{className:"overflow-hidden rounded-md bg-ash-300",...t})}const Rr={Header(t){const{t:e}=Ce();let r=Y("div",{onClick:t.goBack,className:"flex cursor-pointer items-center space-x-2 transition-colors duration-200 hover:text-white",children:[_(Ge,{icon:ce.ARROW_LEFT}),_("span",{children:t.backText||e("videoPlayer.popouts.back")})]});return t.close&&(r=Y("div",{onClick:t.goBack,className:"flex cursor-pointer items-center space-x-2 transition-colors duration-200 hover:text-white",children:[_(Ge,{icon:ce.X}),_("span",{children:"Close"})]})),Y("div",{className:"flex flex-col bg-[#1C161B]",children:[_(WX,{}),Y(xf,{children:[Y("div",{className:"flex justify-between",children:[_("div",{children:r}),_("div",{children:t.action??null})]}),_("h2",{className:"mb-2 mt-8 text-3xl font-bold text-white",children:t.title}),_("p",{children:t.description})]})]})},Content(t){return Y("div",{className:"grid h-full grid-rows-[1fr]",children:[t.noSection?_("div",{className:"relative h-full overflow-y-auto bg-ash-300",children:t.children}):_(xf,{className:"relative h-full overflow-y-auto bg-ash-300",children:t.children}),_(vje,{})]})}};function _je(t){const[e,r]=A.useState(null),n=A.useRef(null),i=A.useRef(null);A.useEffect(()=>{function s(o){i.current=o.target}return document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}});const a=A.useCallback(s=>{const o=i.current;i.current=null,s.currentTarget===s.target&&o&&o.isEqualNode(s.currentTarget)&&t.onClose&&t.onClose()},[t]);return A.useEffect(()=>{var o;const s=(o=n.current)==null?void 0:o.closest(".popout-location");r(s??document.body)},[]),_("div",{ref:n,children:e?Vl.createPortal(_(Ii,{show:t.show,animation:"none",children:Y("div",{className:"popout-wrapper pointer-events-auto fixed inset-0 z-[999] select-none",children:[_(Ii,{animation:"fade",isChild:!0,children:_("div",{onClick:a,className:["absolute inset-0",t.darken?"bg-black opacity-90":""].join(" ")})}),_(Ii,{animation:"slide-up",className:"h-0",isChild:!0,children:t.children})]})}),e):null})}function R5(t,e){const n=new URLSearchParams(t.search).get("modal");n?e.openPopout(n):e.closePopout()}function bje(t){const e=ed(),r=Di(t),n=at(t),i=$Y(),a=A.useRef(null),s=A.useRef(n);A.useEffect(()=>{s.current=n},[n]),A.useEffect(()=>{const c=r.popout;if(a.current!==c)if(a.current=c,c){const l=new URLSearchParams([["modal",c]]).toString();e.push({search:l,state:"popout"})}else{if(!new URLSearchParams(e.location.search).has("modal"))return;e.length>0?e.goBack():e.replace({search:"",state:"popout"})}},[r,e]),A.useEffect(()=>{i.state!=="popout"&&R5(i,s.current)},[i]);const o=A.useRef(!1);A.useEffect(()=>{o.current||(R5(i,s.current),o.current=!0)},[i])}function ko(t){const{isMobile:e}=Ta(),r=e?"100%":`${t.width}px`;return _(Ii,{animation:t.active?"slide-full-left":"slide-full-right",className:"absolute inset-0",durationClass:"duration-[400ms]",show:t.show,children:_("div",{className:[t.className??"","grid grid-rows-[auto,minmax(0,1fr)]"].join(" "),"data-floating-page":t.show?"true":void 0,style:{height:t.height?`${t.height}px`:void 0,maxHeight:"70vh",width:t.width?r:void 0},children:t.children})})}function KX(t="/"){const[e,r]=A.useState(t.split("/").filter(d=>d.length>0)),[n,i]=A.useState(e),a=e[e.length-1]??"/";A.useLayoutEffect(()=>{n.length!==e.length&&setTimeout(()=>{i(e)},20)},[e,n]);function s(d){const h=d.split("/").filter(p=>p.length>0);h.length>n.length&&i(h),r(h)}function o(d){if(d==="/")return!0;const h=n.indexOf(d);return!(h===-1||h===n.length-1)}function c(d){return d===a}function l(d){return d==="/"?!0:e.includes(d)}function u(d){return{show:c(d),active:o(d)}}function f(){s("/")}return{navigate:s,reset:f,isLoaded:l,isCurrentPage:c,pageProps:u,isActive:o}}function Sje(){var E,S,b,T;const t=CY(),{t:e}=Ce(),{pageProps:r,navigate:n}=KX("/episodes"),i=we(),a=ci(i),s=at(i),[o,c]=A.useState(null),[l,u,f]=rd((R,I)=>p1(ve.SERIES,R,I)),d=A.useCallback(R=>{var I;c({seasonId:R,season:void 0}),l((I=JY(t.media))==null?void 0:I.id,R).then(w=>{(w==null?void 0:w.meta.type)===ve.SERIES&&c({seasonId:R,season:w==null?void 0:w.meta.seasonData})})},[l,t.media]),h=(o==null?void 0:o.seasonId)??((E=a==null?void 0:a.episode)==null?void 0:E.seasonId),p=A.useCallback((R,I)=>{s.closePopout(),setTimeout(()=>{s.setCurrentEpisode(R,I)},100)},[s]),m=A.useMemo(()=>{var R;return(R=a==null?void 0:a.seasons)==null?void 0:R.find(I=>I.id===h)},[a,h]),g=A.useMemo(()=>{var R,I,w,C;return o!=null&&o.season?(R=o==null?void 0:o.season)==null?void 0:R.episodes:(C=(w=(I=a==null?void 0:a.seasons)==null?void 0:I.find)==null?void 0:w.call(I,L=>L&&L.id===h))==null?void 0:C.episodes},[a,h,o]),v=R=>{d(R),c({seasonId:R}),n("/episodes")},{watched:y}=t_(),x=()=>{s.closePopout()};return Y(vr,{children:[Y(ko,{...r("seasons"),height:600,width:375,children:[_(Rr.Header,{title:e("videoPlayer.popouts.seasons"),description:e("videoPlayer.popouts.descriptions.seasons"),goBack:()=>n("/episodes"),backText:`To ${m==null?void 0:m.title.toLowerCase()}`}),_(Rr.Content,{children:m?(b=(S=a==null?void 0:a.seasons)==null?void 0:S.map)==null?void 0:b.call(S,R=>{var I;return _(Ja,{active:((I=a==null?void 0:a.episode)==null?void 0:I.seasonId)===R.id,onClick:()=>v(R.id),children:R.title},R.id)}):"No season"})]}),Y(ko,{...r("episodes"),height:600,width:375,children:[_(Rr.Header,{title:(m==null?void 0:m.title)??"Unknown season",description:e("videoPlayer.popouts.descriptions.episode"),goBack:x,close:!0,action:Y("button",{type:"button",onClick:()=>n("/episodes/seasons"),className:"flex cursor-pointer items-center space-x-2 transition-colors duration-200 hover:text-white",children:[_("span",{children:"Other seasons"}),_(Ge,{icon:ce.CHEVRON_RIGHT})]})}),_(Rr.Content,{children:u?_("div",{className:"flex h-full w-full items-center justify-center",children:_(ag,{})}):f?_("div",{className:"flex h-full w-full items-center justify-center",children:Y("div",{className:"flex flex-col flex-wrap items-center text-slate-400",children:[_(tn,{icon:ce.EYE_SLASH,className:"text-xl text-bink-600"}),_("p",{className:"mt-6 w-full text-center",children:e("videoPlayer.popouts.errors.loadingWentWrong",{seasonTitle:(T=m==null?void 0:m.title)==null?void 0:T.toLowerCase()})})]})}):_("div",{children:g&&m?g.map(R=>{var I,w;return _(Ja,{active:R.id===((I=a==null?void 0:a.episode)==null?void 0:I.episodeId),onClick:()=>{var C;R.id===((C=a==null?void 0:a.episode)==null?void 0:C.episodeId)?s.closePopout():p(m.id,R.id)},percentageCompleted:(w=y.items.find(C=>{var L,H,N,P;return((H=(L=C.item)==null?void 0:L.series)==null?void 0:H.seasonId)===m.id&&((P=(N=C.item)==null?void 0:N.series)==null?void 0:P.episodeId)===R.id}))==null?void 0:w.percentage,children:e("videoPlayer.popouts.episode",{index:R.number,title:R.title})},R.id)}):"No episodes"})})]})]})}function Tje(t){const{t:e}=Ce();return _(y_,{icon:ce.CAPTIONS,onClick:t.onClick,children:e("videoPlayer.buttons.captions")})}function YX(t){return{source:t.source?{...t.source}:null}}function eo(t,e){gc(t,"source",YX(e))}function hg(t){const e=xr(t),[r,n]=A.useState(YX(e));return A.useEffect(()=>{function i(a){n(a.detail)}return mc(t,"source",i),()=>{vc(t,"source",i)}},[t]),r}function wje(){var s,o;const t=we(),e=hg(t),{t:r}=Ce(),n=ci(t),i=((s=e.source)==null?void 0:s.type)===nn.HLS;if(i)return null;const a=n==null?void 0:n.meta.meta.title;return _(y_,{href:i||(o=e.source)==null?void 0:o.url,download:a?`${dA(a)}.mp4`:void 0,icon:ce.DOWNLOAD,children:r("videoPlayer.buttons.download")})}function Rje(t){const{t:e}=Ce();return _(y_,{icon:ce.TACHOMETER,onClick:t.onClick,children:e("videoPlayer.buttons.playbackSpeed")})}function Aje(){const t=we(),e=hg(t);return e.source?_("div",{className:"rounded-md bg-denim-300 px-2 py-1 transition-colors",children:_("p",{className:"text-center text-xs font-bold text-slate-300 transition-colors",children:e.source.quality})}):null}function Ije(t){const{t:e}=Ce();return _(y_,{icon:ce.CLAPPER_BOARD,onClick:t.onClick,right:_(Aje,{}),noChevron:!0,children:e("videoPlayer.buttons.source")})}function $je(t){var h,p;const{t:e}=Ce(),r=we(),n=ci(r),i=hg(r),a=at(r),s=A.useMemo(()=>(n==null?void 0:n.captions.map(m=>({...m,id:xA(m,!0)})))??[],[n]),o=A.useRef(""),[c,l,u]=rd(async(m,g)=>{const v=xA(m,g);o.current=v;const y=await Cq(m),E=await(await fetch(y)).text();kq(E),a.setCaption(v,y),setTimeout(()=>{a.closePopout()},100)}),f=(p=(h=i.source)==null?void 0:h.caption)==null?void 0:p.id,d=A.useRef(null);return Y(ko,{...t.router.pageProps(t.prefix),width:320,height:500,children:[_(Rr.Header,{title:e("videoPlayer.popouts.captions"),description:e("videoPlayer.popouts.descriptions.captions"),goBack:()=>t.router.navigate("/"),action:Y("button",{type:"button",onClick:()=>t.router.navigate(`${t.prefix}/caption-settings`),className:"flex cursor-pointer items-center space-x-2 transition-colors duration-200 hover:text-white",children:[_("span",{children:e("videoPlayer.popouts.captionPreferences.title")}),_(Ge,{icon:ce.GEAR})]})}),Y(Rr.Content,{noSection:!0,children:[Y(xf,{children:[_(Ja,{active:!f,onClick:()=>{a.clearCaption(),a.closePopout()},children:e("videoPlayer.popouts.noCaptions")}),Y(Ja,{active:f===eh,loading:l&&o.current===eh,errored:u&&o.current===eh,onClick:()=>{var m;return(m=d.current)==null?void 0:m.click()},children:[e(f===eh?"videoPlayer.popouts.customCaption":"videoPlayer.popouts.uploadCustomCaption"),_("input",{className:"hidden",ref:d,accept:Jk.join(","),type:"file",onChange:m=>{if(!m.target.files)return;const g={langIso:"custom",url:URL.createObjectURL(m.target.files[0]),type:ql.UNKNOWN};c(g,!1)}})]},eh)]}),Y("p",{className:"sticky top-0 z-10 flex items-center space-x-1 bg-ash-300 px-5 py-3 text-xs font-bold uppercase",children:[_(Ge,{className:"text-base",icon:ce.LINK}),_("span",{children:e("videoPlayer.popouts.linkedCaptions")})]}),_(xf,{className:"pt-0",children:_("div",{children:s.map(m=>_(Ja,{active:m.id===f,loading:l&&m.id===o.current,errored:u&&m.id===o.current,onClick:()=>{o.current=m.id,c(m,!0)},children:m.langIso},m.langIso))})})]})]})}const qX=["#ffffff","#00ffff","#ffff00"];function XX({color:t}){const{captionSettings:e,setCaptionColor:r}=td();return Y("div",{className:`flex h-8 w-8 items-center justify-center rounded transition-[background-color,transform] duration-100 hover:bg-[#1c161b79] active:scale-110 ${t===e.style.color?"bg-[#1C161B]":""}`,onClick:()=>r(t),children:[_("div",{className:"h-4 w-4 cursor-pointer appearance-none rounded-full",style:{backgroundColor:t}}),_(Ge,{className:["absolute text-xs text-[#1C161B]",t===e.style.color?"":"hidden"].join(" "),icon:ce.CHECKMARK})]})}function zu(t){const e=A.useRef(null);return A.useEffect(()=>{const r=e.current;r.style.setProperty("--value",r.value),r.style.setProperty("--min",r.min===""?"0":r.min),r.style.setProperty("--max",r.max===""?"100":r.max),r.addEventListener("input",()=>r.style.setProperty("--value",r.value))},[e]),Y("div",{className:"mb-6 flex flex-row gap-4",children:[Y("div",{className:"flex w-full flex-col gap-2",children:[t.label?_("label",{className:"font-bold",children:t.label}):null,_("input",{type:"range",ref:e,className:"styled-slider slider-progress mt-[20px]",onChange:t.onChange,value:t.value,max:t.max,min:t.min,step:t.step})]}),_("div",{className:"mt-1 aspect-[2/1] h-8 rounded-sm bg-[#1C161B] pt-1",children:_("div",{className:"text-center font-bold text-white",children:t.valueDisplay??t.value})})]})}function Cje(t){const{t:e}=Ce(),{captionSettings:r,setCaptionBackgroundColor:n,setCaptionDelay:i,setCaptionFontSize:a}=td();return Y(ko,{...t.router.pageProps(t.prefix),width:375,children:[_(Rr.Header,{title:e("videoPlayer.popouts.captionPreferences.title"),description:e("videoPlayer.popouts.descriptions.captionPreferences"),goBack:()=>t.router.navigate("/captions")}),Y(Rr.Content,{children:[_(zu,{label:e("videoPlayer.popouts.captionPreferences.delay"),max:10,min:-10,step:.1,valueDisplay:`${r.delay.toFixed(1)}s`,value:r.delay,onChange:s=>i(s.target.valueAsNumber)}),_(zu,{label:e("videoPlayer.popouts.captionPreferences.fontSize"),min:14,step:1,max:60,value:r.style.fontSize,onChange:s=>a(s.target.valueAsNumber)}),_(zu,{label:e("videoPlayer.popouts.captionPreferences.opacity"),step:1,min:0,max:255,valueDisplay:`${(parseInt(r.style.backgroundColor.substring(7,9),16)/255*100).toFixed(0)}%`,value:parseInt(r.style.backgroundColor.substring(7,9),16),onChange:s=>n(s.target.valueAsNumber)}),Y("div",{className:"flex flex-row justify-between",children:[_("label",{className:"font-bold",htmlFor:"color",children:e("videoPlayer.popouts.captionPreferences.color")}),_("div",{className:"flex flex-row gap-2",children:qX.map(s=>_(XX,{color:s}))})]})]})]})}const kje=[.25,.5,.75,1,1.25,1.5,2];function Oje(t){const{t:e}=Ce(),r=we(),n=at(r),i=$n(r);return Y(ko,{...t.router.pageProps(t.prefix),width:320,height:500,children:[_(Rr.Header,{title:e("videoPlayer.popouts.playbackSpeed"),description:e("videoPlayer.popouts.descriptions.playbackSpeed"),goBack:()=>t.router.navigate("/")}),Y(Rr.Content,{noSection:!0,children:[_(xf,{children:kje.map(a=>Y(Ja,{active:i.playbackSpeed===a,onClick:()=>{n.setPlaybackSpeed(a),n.closePopout()},children:[a,"x"]},a))}),Y("p",{className:"sticky top-0 z-10 flex items-center space-x-1 bg-ash-300 px-5 py-3 text-xs font-bold uppercase",children:[_(Ge,{className:"text-base",icon:ce.TACHOMETER}),_("span",{children:e("videoPlayer.popouts.customPlaybackSpeed")})]}),_(xf,{className:"pt-0",children:_("div",{children:_(zu,{min:.1,max:10,step:.1,value:i.playbackSpeed,valueDisplay:`${i.playbackSpeed}x`,onChange:a=>n.setPlaybackSpeed(a.target.valueAsNumber)})})})]})]})}function Lje(t){const[e,r,n]=rd(async()=>{const i=n_(t.type);if(!i)throw new Error("Embed scraper not found");const a=await qk(i,{progress:()=>{},url:t.url});t.onSelect(a)});return _(Ja,{isOnDarkBackground:!0,loading:r,errored:!!n,active:t.active,onClick:()=>{e()},children:t.name})}function Pje(t){const{t:e}=Ce(),r=we(),n=at(r),i=ci(r),{source:a}=hg(r),s=A.useRef(null),o=A.useMemo(()=>i?dq().filter(x=>x.type.includes(i.meta.meta.type)):[],[i]),[c,l]=A.useState(null),[u,f]=A.useState(null),d=A.useMemo(()=>o.find(x=>x.id===c)??null,[o,c]),[h,p,m]=rd(async x=>{var S,b;const E=o.find(T=>T.id===x);if(!E)throw new Error("Invalid provider");if(!i)throw new Error("need meta");return hq(E,{media:i.meta,progress:()=>{},type:i.meta.meta.type,episode:(S=i.episode)==null?void 0:S.episodeId,season:(b=i.episode)==null?void 0:b.seasonId})});function g(x){n.setSource({quality:x.quality,source:x.streamUrl,type:x.type,embedId:x.embedId,providerId:s.current??void 0}),i&&n.setMeta({...i,captions:x.captions}),n.closePopout()}const v=x=>{if(!x){s.current=null,l(null),t.router.navigate(`/${t.prefix}/source`);return}h(x).then(async E=>{if(s.current){if(E&&E.embeds.length+(E.stream?1:0)===1){const b=E.stream;if(!b){const T=E==null?void 0:E.embeds[0];if(!T)throw new Error("Embed scraper not found");const R=n_(T.type);if(!R)throw new Error("Embed scraper not found");const I=await qk(R,{progress:()=>{},url:T.url});g(I);return}g(b);return}f(E??null)}}),s.current=x,l(x),t.router.navigate(`/${t.prefix}/source/embeds`)},y=A.useMemo(()=>{const x=(u==null?void 0:u.embeds)||[],E={};for(const b of x)b.type&&(E[b.type]||(E[b.type]=[]),E[b.type].push({...b,displayName:b.type}));return Object.entries(E).flatMap(([b,T])=>T.length>1?T.map((R,I)=>({...R,displayName:`${R.type} ${I+1}`})):T)},[u==null?void 0:u.embeds]);return Y(vr,{children:[Y(ko,{...t.router.pageProps(t.prefix),width:320,height:500,children:[_(Rr.Header,{title:e("videoPlayer.popouts.sources"),description:e("videoPlayer.popouts.descriptions.sources"),goBack:()=>t.router.navigate("/")}),_(Rr.Content,{children:o.map(x=>_(Ja,{active:x.id===(a==null?void 0:a.providerId),onClick:()=>{v(x.id)},children:x.displayName},x.id))})]}),Y(ko,{...t.router.pageProps("embeds"),width:320,height:500,children:[_(Rr.Header,{title:(d==null?void 0:d.displayName)??"",description:e("videoPlayer.popouts.descriptions.embeds"),goBack:()=>t.router.navigate(`/${t.prefix}`)}),_(Rr.Content,{children:p?_("div",{className:"flex h-full w-full items-center justify-center",children:_(ag,{})}):m?_("div",{className:"flex h-full w-full items-center justify-center",children:Y("div",{className:"flex flex-col flex-wrap items-center text-slate-400",children:[_(tn,{icon:ce.EYE_SLASH,className:"text-xl text-bink-600"}),_("p",{className:"mt-6 w-full text-center",children:e("videoPlayer.popouts.errors.embedsError")})]})}):Y(vr,{children:[u!=null&&u.stream?_(Ja,{isOnDarkBackground:!0,onClick:()=>{u.stream&&g(u.stream)},active:(d==null?void 0:d.id)===(a==null?void 0:a.providerId)&&(d==null?void 0:d.id)===(a==null?void 0:a.embedId),children:"Native source"}):null,((y==null?void 0:y.length)||0)>0?y==null?void 0:y.map(x=>_(Lje,{type:x.type,name:x.displayName??"",url:x.url,active:!1,onSelect:E=>{g(E)}},x.url)):_("div",{className:"flex h-full w-full items-center justify-center",children:Y("div",{className:"flex flex-col flex-wrap items-center text-slate-400",children:[_(tn,{icon:ce.EYE_SLASH,className:"text-xl text-bink-600"}),_("p",{className:"mt-6 w-full text-center",children:e("videoPlayer.popouts.noEmbeds")})]})})]})})]})]})}function Nje(){const t=KX(),{pageProps:e,navigate:r}=t;return Y(vr,{children:[Y(ko,{...e("/"),width:320,children:[_(WX,{}),Y(Rr.Content,{children:[_(wje,{}),_(Ije,{onClick:()=>r("/source")}),_(Tje,{onClick:()=>r("/captions")}),_(Rje,{onClick:()=>r("/playback-speed")})]})]}),_(Pje,{router:t,prefix:"source"}),_($je,{router:t,prefix:"captions"}),_(Cje,{router:t,prefix:"caption-settings"}),_(Oje,{router:t,prefix:"playback-speed"})]})}function Dje(t){return _(vr,{children:Object.entries({settings:_(Nje,{}),episodes:_(Sje,{})}).map(([r,n])=>_(_je,{show:t.popoutId===r,onClose:t.onClose,children:_(Eje,{for:r,onClose:t.onClose,children:n})},r))})}function Mje(){const t=we(),e=Di(t),r=at(t);bje(t);const n=A.useCallback(()=>{r.closePopout()},[r]);return _(Dje,{popoutId:e.popout,onClose:n})}const Fje="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1",QX=[];let FA=null;function Bje(t){FA=t,QX.forEach(e=>e(t))}function Uje(t){if(FA!==null)return t(FA);QX.push(t)}function jje(){if(window.__onGCastApiAvailable=e=>{Bje(e)},!!!document.getElementById("chromecast-script")){const e=document.createElement("script");e.setAttribute("src",Fje),e.setAttribute("id","chromecast-script"),document.body.appendChild(e)}}function Hje(){const[t,e]=A.useState(null);return A.useEffect(()=>{Uje(r=>e(r))},[]),t}const ZX=JE().setKey("mw-volume").addVersion({version:0,create(){return{volume:1}}}).build();function JX(){return ZX.get().volume}function eQ(t){ZX.save({volume:t})}function A1(t,e){const r=e;r.hlsInstance&&(r.hlsInstance.destroy(),r.hlsInstance=null),F6e(r),Zt(t,r),Ka(t,r),id(t,r)}function Gje(t){const e=xr(t),r=e.casting.instance,n=e.casting.player,i=e.casting.controller;return{getId(){return"casting"},play(){e.mediaPlaying.isPaused&&(i==null||i.playOrPause())},pause(){e.mediaPlaying.isPlaying&&(i==null||i.playOrPause())},exitFullscreen(){yn.fullscreenElement&&yn.exitFullscreen()},enterFullscreen(){if(!(!cO()||yn.fullscreenElement)){if(l_()){e.wrapperElement&&yn.requestFullscreen(e.wrapperElement);return}lO()&&n.webkitEnterFullscreen()}},startAirplay(){},setTime(a){let s=Math.min(a,(n==null?void 0:n.duration)??0);s=Math.max(0,s),!Number.isNaN(s)&&(n&&(n.currentTime=s),e.progress.time=s,i==null||i.seek(),Ka(t,e))},setSeeking(a){if(e.mediaPlaying.isSeeking=a,e.mediaPlaying.isDragSeeking=a,Zt(t,e),!a){e.pausedWhenSeeking||this.play();return}e.pausedWhenSeeking=e.mediaPlaying.isPaused,this.pause()},togglePictureInPicture(){},setPlaybackSpeed(a){var l,u,f;const s=new chrome.cast.media.MediaInfo(((l=e.meta)==null?void 0:l.meta.meta.id)??"video","video/mp4");s.contentUrl=(u=e.source)==null?void 0:u.url,s.streamType=chrome.cast.media.StreamType.BUFFERED,s.metadata=new chrome.cast.media.MovieMediaMetadata,s.metadata.title=((f=e.meta)==null?void 0:f.meta.meta.title)??"",s.customData={playbackRate:a};const o=new chrome.cast.media.LoadRequest(s);o.autoplay=!0;const c=r==null?void 0:r.getCurrentSession();c==null||c.loadMedia(o)},async setVolume(a){let s=Math.min(a,1);s=Math.max(0,s),await U0()&&n&&(n.volumeLevel=s),e.mediaPlaying.volume=s,i==null||i.setVolumeLevel(),Zt(t,e),eQ(s)},setSource(a){var u,f;if(!a){A1(t,e),i==null||i.stop(),e.source=null,eo(t,e);return}const s=new chrome.cast.media.MovieMediaMetadata;s.title=((u=e.meta)==null?void 0:u.meta.meta.title)??"";const o=new chrome.cast.media.MediaInfo(((f=e.meta)==null?void 0:f.meta.meta.id)??"video","video/mp4");o.contentUrl=a==null?void 0:a.source,o.streamType=chrome.cast.media.StreamType.BUFFERED,o.metadata=s;const c=new chrome.cast.media.LoadRequest(o);c.autoplay=!0;const l=r==null?void 0:r.getCurrentSession();l==null||l.loadMedia(c),e.source={quality:a.quality,type:a.type,url:a.source,caption:null,embedId:a.embedId,providerId:a.providerId},A1(t,e),eo(t,e)},setCaption(a,s){var o;e.source&&(y1((o=e.source.caption)==null?void 0:o.url),e.source.caption={id:a,url:s},eo(t,e))},clearCaption(){var a;e.source&&(y1((a=e.source.caption)==null?void 0:a.url),e.source.caption=null,eo(t,e))},providerStart(){var c,l,u;this.setVolume(JX());const a=async f=>{switch(f.field){case"volumeLevel":await U0()&&(e.mediaPlaying.volume=f.value,Zt(t,e));break;case"currentTime":e.progress.time=f.value,Ka(t,e);break;case"mediaInfo":f.value&&(e.progress.duration=f.value.duration,Ka(t,e));break;case"playerState":e.mediaPlaying.isLoading=f.value==="BUFFERING",e.mediaPlaying.isPaused=f.value!=="PLAYING",e.mediaPlaying.isPlaying=f.value==="PLAYING",f.value==="PLAYING"&&(e.mediaPlaying.hasPlayedOnce=!0,e.mediaPlaying.isFirstLoading=!1),Zt(t,e);break;case"isMuted":e.mediaPlaying.volume=f.value?1:0,Zt(t,e);break;case"displayStatus":case"canSeek":case"title":case"isPaused":break;default:console.log(f.type,f.field,f.value);break}},s=()=>{e.interface.isFullscreen=!!document.fullscreenElement,gn(t,e)},o=f=>{e.interface.isFocused=f.type!=="mouseleave",gn(t,e)};return i==null||i.addEventListener(cast.framework.RemotePlayerEventType.ANY_CHANGE,a),(c=e.wrapperElement)==null||c.addEventListener("click",o),(l=e.wrapperElement)==null||l.addEventListener("mouseenter",o),(u=e.wrapperElement)==null||u.addEventListener("mouseleave",o),yn.addEventListener("fullscreenchange",s),e.source&&this.setSource({quality:e.source.quality,source:e.source.url,type:e.source.type,embedId:e.source.embedId,providerId:e.source.providerId}),{destroy:()=>{var f,d,h;i==null||i.removeEventListener(cast.framework.RemotePlayerEventType.ANY_CHANGE,a),(f=e.wrapperElement)==null||f.removeEventListener("click",o),(d=e.wrapperElement)==null||d.removeEventListener("mouseenter",o),(h=e.wrapperElement)==null||h.removeEventListener("mouseleave",o),yn.removeEventListener("fullscreenchange",s),r==null||r.endCurrentSession(!0)}}}}}function tQ(t,e){const r=xr(t);r.stateProvider=e,r.initalized=!0,r.stateProviderId=e.getId(),id(t,r)}function rQ(t,e){var n;const r=xr(t);!r.stateProvider||((n=r.stateProvider)==null?void 0:n.getId())!==e||(r.stateProvider=null,r.stateProviderId="video",id(t,r))}function zje(t,e){for(let r=0;r<e.length;r+=1)if(e.start(e.length-1-r)<t)return e.end(e.length-1-r);return 0}function Vje(){const t=we(),e=ys(t),r=A.useRef(!1),n=Hje(),i=A.useMemo(()=>e.isCasting,[e]);return A.useEffect(()=>{if(r.current===i||(r.current=i,!i))return;const a=Gje(t);tQ(t,a);const{destroy:s}=a.providerStart();return()=>{try{rQ(t,a.getId())}catch{}s()}},[t,i]),A.useEffect(()=>{const a=xr(t);if(!n)return;a.casting.instance=cast.framework.CastContext.getInstance(),a.casting.instance.setOptions({receiverApplicationId:chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID,autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED}),a.casting.player=new cast.framework.RemotePlayer,a.casting.controller=new cast.framework.RemotePlayerController(a.casting.player);function s(o){o.field==="isConnected"&&(a.casting.isCasting=o.value,id(t,a))}return a.casting.controller.addEventListener(cast.framework.RemotePlayerEventType.IS_CONNECTED_CHANGED,s),()=>{var o;(o=a.casting.controller)==null||o.removeEventListener(cast.framework.RemotePlayerEventType.IS_CONNECTED_CHANGED,s)}},[n,t]),null}function Wje(t){const e=we();return A.useEffect(()=>{const r=xr(e);r.wrapperElement=t.wrapper,id(e,r)},[t.wrapper,e]),null}class Kje extends A.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,r){if(console.error("Render error caught",e,r),e instanceof Error){const n=e;this.setState(i=>({...i,hasError:!0,error:{name:n.name,description:n.message,path:r.componentStack.split(`
`)[1]}}))}}render(){return this.state.hasError?Y("div",{className:"absolute inset-0 bg-denim-100",children:[_("div",{className:"pointer-events-auto absolute inset-x-0 top-0 flex flex-col px-8 py-6 pb-2",children:_(yc,{media:this.props.media,onClick:this.props.onGoBack})}),_(Hk,{error:this.state.error,localSize:!0,children:Y(jk,{i18nKey:"videoPlayer.errors.fatalError",children:[_(d1,{url:Cr().DISCORD_LINK,newTab:!0}),_(d1,{url:Cr().GITHUB_LINK,newTab:!0})]})})]}):this.props.children}}function Yje(){const t=we(),e=ci(t),r=Wo(t);return A.useEffect(()=>(window.meta||(window.meta={}),e&&(window.meta[t]={meta:e.meta,captions:e.captions,seasons:e.seasons,episode:e.episode,progress:{time:r.time,duration:r.duration}}),()=>{window.meta&&delete window.meta[t]}),[e,t,r]),null}var q0={},qje={get exports(){return q0},set exports(t){q0=t}};(function(t,e){(function(r){var n=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,i=/^(?=([^\/?#]*))\1([^]*)$/,a=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(c,l,u){if(u=u||{},c=c.trim(),l=l.trim(),!l){if(!u.alwaysNormalize)return c;var f=o.parseURL(c);if(!f)throw new Error("Error trying to parse base URL.");return f.path=o.normalizePath(f.path),o.buildURLFromParts(f)}var d=o.parseURL(l);if(!d)throw new Error("Error trying to parse relative URL.");if(d.scheme)return u.alwaysNormalize?(d.path=o.normalizePath(d.path),o.buildURLFromParts(d)):l;var h=o.parseURL(c);if(!h)throw new Error("Error trying to parse base URL.");if(!h.netLoc&&h.path&&h.path[0]!=="/"){var p=i.exec(h.path);h.netLoc=p[1],h.path=p[2]}h.netLoc&&!h.path&&(h.path="/");var m={scheme:h.scheme,netLoc:d.netLoc,path:null,params:d.params,query:d.query,fragment:d.fragment};if(!d.netLoc&&(m.netLoc=h.netLoc,d.path[0]!=="/"))if(!d.path)m.path=h.path,d.params||(m.params=h.params,d.query||(m.query=h.query));else{var g=h.path,v=g.substring(0,g.lastIndexOf("/")+1)+d.path;m.path=o.normalizePath(v)}return m.path===null&&(m.path=u.alwaysNormalize?o.normalizePath(d.path):d.path),o.buildURLFromParts(m)},parseURL:function(c){var l=n.exec(c);return l?{scheme:l[1]||"",netLoc:l[2]||"",path:l[3]||"",params:l[4]||"",query:l[5]||"",fragment:l[6]||""}:null},normalizePath:function(c){for(c=c.split("").reverse().join("").replace(a,"");c.length!==(c=c.replace(s,"")).length;);return c.split("").reverse().join("")},buildURLFromParts:function(c){return c.scheme+c.netLoc+c.path+c.params+c.query+c.fragment}};t.exports=o})()})(qje);function A5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function an(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A5(Object(r),!0).forEach(function(n){Xje(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Xje(t,e,r){return e=Zje(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pt(){return Pt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pt.apply(this,arguments)}function Qje(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zje(t){var e=Qje(t,"string");return typeof e=="symbol"?e:String(e)}const pe=Number.isFinite||function(t){return typeof t=="number"&&isFinite(t)};let $=function(t){return t.MEDIA_ATTACHING="hlsMediaAttaching",t.MEDIA_ATTACHED="hlsMediaAttached",t.MEDIA_DETACHING="hlsMediaDetaching",t.MEDIA_DETACHED="hlsMediaDetached",t.BUFFER_RESET="hlsBufferReset",t.BUFFER_CODECS="hlsBufferCodecs",t.BUFFER_CREATED="hlsBufferCreated",t.BUFFER_APPENDING="hlsBufferAppending",t.BUFFER_APPENDED="hlsBufferAppended",t.BUFFER_EOS="hlsBufferEos",t.BUFFER_FLUSHING="hlsBufferFlushing",t.BUFFER_FLUSHED="hlsBufferFlushed",t.MANIFEST_LOADING="hlsManifestLoading",t.MANIFEST_LOADED="hlsManifestLoaded",t.MANIFEST_PARSED="hlsManifestParsed",t.LEVEL_SWITCHING="hlsLevelSwitching",t.LEVEL_SWITCHED="hlsLevelSwitched",t.LEVEL_LOADING="hlsLevelLoading",t.LEVEL_LOADED="hlsLevelLoaded",t.LEVEL_UPDATED="hlsLevelUpdated",t.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",t.LEVELS_UPDATED="hlsLevelsUpdated",t.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",t.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",t.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",t.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",t.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",t.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",t.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",t.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",t.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",t.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",t.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",t.CUES_PARSED="hlsCuesParsed",t.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",t.INIT_PTS_FOUND="hlsInitPtsFound",t.FRAG_LOADING="hlsFragLoading",t.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",t.FRAG_LOADED="hlsFragLoaded",t.FRAG_DECRYPTED="hlsFragDecrypted",t.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",t.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",t.FRAG_PARSING_METADATA="hlsFragParsingMetadata",t.FRAG_PARSED="hlsFragParsed",t.FRAG_BUFFERED="hlsFragBuffered",t.FRAG_CHANGED="hlsFragChanged",t.FPS_DROP="hlsFpsDrop",t.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",t.ERROR="hlsError",t.DESTROYING="hlsDestroying",t.KEY_LOADING="hlsKeyLoading",t.KEY_LOADED="hlsKeyLoaded",t.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",t.BACK_BUFFER_REACHED="hlsBackBufferReached",t}({}),me=function(t){return t.NETWORK_ERROR="networkError",t.MEDIA_ERROR="mediaError",t.KEY_SYSTEM_ERROR="keySystemError",t.MUX_ERROR="muxError",t.OTHER_ERROR="otherError",t}({}),q=function(t){return t.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",t.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",t.KEY_SYSTEM_NO_SESSION="keySystemNoSession",t.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",t.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",t.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",t.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",t.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",t.MANIFEST_LOAD_ERROR="manifestLoadError",t.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",t.MANIFEST_PARSING_ERROR="manifestParsingError",t.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",t.LEVEL_EMPTY_ERROR="levelEmptyError",t.LEVEL_LOAD_ERROR="levelLoadError",t.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",t.LEVEL_PARSING_ERROR="levelParsingError",t.LEVEL_SWITCH_ERROR="levelSwitchError",t.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",t.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",t.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",t.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",t.FRAG_LOAD_ERROR="fragLoadError",t.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",t.FRAG_DECRYPT_ERROR="fragDecryptError",t.FRAG_PARSING_ERROR="fragParsingError",t.FRAG_GAP="fragGap",t.REMUX_ALLOC_ERROR="remuxAllocError",t.KEY_LOAD_ERROR="keyLoadError",t.KEY_LOAD_TIMEOUT="keyLoadTimeOut",t.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",t.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",t.BUFFER_APPEND_ERROR="bufferAppendError",t.BUFFER_APPENDING_ERROR="bufferAppendingError",t.BUFFER_STALLED_ERROR="bufferStalledError",t.BUFFER_FULL_ERROR="bufferFullError",t.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",t.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",t.INTERNAL_EXCEPTION="internalException",t.INTERNAL_ABORTED="aborted",t.UNKNOWN="unknown",t}({});const pl=function(){},BA={trace:pl,debug:pl,log:pl,warn:pl,info:pl,error:pl};let r0=BA;function Jje(t){const e=self.console[t];return e?e.bind(self.console,`[${t}] >`):pl}function eHe(t,...e){e.forEach(function(r){r0[r]=t[r]?t[r].bind(t):Jje(r)})}function tHe(t,e){if(self.console&&t===!0||typeof t=="object"){eHe(t,"debug","log","info","warn","error");try{r0.log(`Debug logs enabled for "${e}" in hls.js version 1.4.0`)}catch{r0=BA}}else r0=BA}const z=r0,rHe=/^(\d+)x(\d+)$/,I5=/(.+?)=(".*?"|.*?)(?:,|$)/g;class gt{constructor(e){typeof e=="string"&&(e=gt.parseAttrList(e));for(const r in e)e.hasOwnProperty(r)&&(r.substring(0,2)==="X-"&&(this.clientAttrs=this.clientAttrs||[],this.clientAttrs.push(r)),this[r]=e[r])}decimalInteger(e){const r=parseInt(this[e],10);return r>Number.MAX_SAFE_INTEGER?1/0:r}hexadecimalInteger(e){if(this[e]){let r=(this[e]||"0x").slice(2);r=(r.length&1?"0":"")+r;const n=new Uint8Array(r.length/2);for(let i=0;i<r.length/2;i++)n[i]=parseInt(r.slice(i*2,i*2+2),16);return n}else return null}hexadecimalIntegerAsNumber(e){const r=parseInt(this[e],16);return r>Number.MAX_SAFE_INTEGER?1/0:r}decimalFloatingPoint(e){return parseFloat(this[e])}optionalFloat(e,r){const n=this[e];return n?parseFloat(n):r}enumeratedString(e){return this[e]}bool(e){return this[e]==="YES"}decimalResolution(e){const r=rHe.exec(this[e]);if(r!==null)return{width:parseInt(r[1],10),height:parseInt(r[2],10)}}static parseAttrList(e){let r;const n={},i='"';for(I5.lastIndex=0;(r=I5.exec(e))!==null;){let a=r[2];a.indexOf(i)===0&&a.lastIndexOf(i)===a.length-1&&(a=a.slice(1,-1));const s=r[1].trim();n[s]=a}return n}}function nHe(t){return t!=="ID"&&t!=="CLASS"&&t!=="START-DATE"&&t!=="DURATION"&&t!=="END-DATE"&&t!=="END-ON-NEXT"}function iHe(t){return t==="SCTE35-OUT"||t==="SCTE35-IN"}class nQ{constructor(e,r){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,r){const n=r.attr;for(const i in n)if(Object.prototype.hasOwnProperty.call(e,i)&&e[i]!==n[i]){z.warn(`DATERANGE tag attribute: "${i}" does not match for tags with ID: "${e.ID}"`),this._badValueForSameId=i;break}e=Pt(new gt({}),n,e)}if(this.attr=e,this._startDate=new Date(e["START-DATE"]),"END-DATE"in this.attr){const n=new Date(this.attr["END-DATE"]);pe(n.getTime())&&(this._endDate=n)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get startDate(){return this._startDate}get endDate(){if(this._endDate)return this._endDate;const e=this.duration;return e!==null?new Date(this._startDate.getTime()+e*1e3):null}get duration(){if("DURATION"in this.attr){const e=this.attr.decimalFloatingPoint("DURATION");if(pe(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isValid(){return!!this.id&&!this._badValueForSameId&&pe(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)}}class x_{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var qe={AUDIO:"audio",VIDEO:"video",AUDIOVIDEO:"audiovideo"};class iQ{constructor(e){this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams={[qe.AUDIO]:null,[qe.VIDEO]:null,[qe.AUDIOVIDEO]:null},this.baseurl=e}setByteRange(e,r){const n=e.split("@",2),i=[];n.length===1?i[0]=r?r.byteRangeEndOffset:0:i[0]=parseInt(n[1]),i[1]=parseInt(n[0])+i[0],this._byteRange=i}get byteRange(){return this._byteRange?this._byteRange:[]}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=q0.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(e){this._url=e}}class qT extends iQ{constructor(e,r){super(r),this._decryptdata=null,this.rawProgramDateTime=null,this.programDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.stats=new x_,this.urlId=0,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.type=e}get decryptdata(){const{levelkeys:e}=this;if(!e&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const r=this.levelkeys.identity;if(r)this._decryptdata=r.getDecryptData(this.sn);else{const n=Object.keys(this.levelkeys);if(n.length===1)return this._decryptdata=this.levelkeys[n[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(this.programDateTime===null||!pe(this.programDateTime))return null;const e=pe(this.duration)?this.duration:0;return this.programDateTime+e*1e3}get encrypted(){var e;if((e=this._decryptdata)!=null&&e.encrypted)return!0;if(this.levelkeys){const r=Object.keys(this.levelkeys),n=r.length;if(n>1||n===1&&this.levelkeys[r[0]].encrypted)return!0}return!1}setKeyFormat(e){if(this.levelkeys){const r=this.levelkeys[e];r&&!this._decryptdata&&(this._decryptdata=r.getDecryptData(this.sn))}}abortRequests(){var e,r;(e=this.loader)==null||e.abort(),(r=this.keyLoader)==null||r.abort()}setElementaryStreamInfo(e,r,n,i,a,s=!1){const{elementaryStreams:o}=this,c=o[e];if(!c){o[e]={startPTS:r,endPTS:n,startDTS:i,endDTS:a,partial:s};return}c.startPTS=Math.min(c.startPTS,r),c.endPTS=Math.max(c.endPTS,n),c.startDTS=Math.min(c.startDTS,i),c.endDTS=Math.max(c.endDTS,a)}clearElementaryStreamInfo(){const{elementaryStreams:e}=this;e[qe.AUDIO]=null,e[qe.VIDEO]=null,e[qe.AUDIOVIDEO]=null}}class aHe extends iQ{constructor(e,r,n,i,a){super(n),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.stats=new x_,this.duration=e.decimalFloatingPoint("DURATION"),this.gap=e.bool("GAP"),this.independent=e.bool("INDEPENDENT"),this.relurl=e.enumeratedString("URI"),this.fragment=r,this.index=i;const s=e.enumeratedString("BYTERANGE");s&&this.setByteRange(s,a),a&&(this.fragOffset=a.fragOffset+a.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:e}=this;return!!(e.audio||e.video||e.audiovideo)}}const sHe=10;class oHe{constructor(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=e}reloaded(e){if(!e){this.advanced=!0,this.updated=!0;return}const r=this.lastPartSn-e.lastPartSn,n=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!n||!!r,this.advanced=this.endSN>e.endSN||r>0||r===0&&n>0,this.updated||this.advanced?this.misses=Math.floor(e.misses*.6):this.misses=e.misses+1,this.availabilityDelay=e.availabilityDelay}get hasProgramDateTime(){return this.fragments.length?pe(this.fragments[this.fragments.length-1].programDateTime):!1}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||sHe}get drift(){const e=this.driftEndTime-this.driftStartTime;return e>0?(this.driftEnd-this.driftStart)*1e3/e:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var e;return(e=this.fragments)!=null&&e.length?this.fragments[this.fragments.length-1].end:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].index:-1}get lastPartSn(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}function wO(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0))}function lHe(t){const e=aQ(t).subarray(0,16),r=new Uint8Array(16);return r.set(e,16-e.length),r}function cHe(t){const e=function(n,i,a){const s=n[i];n[i]=n[a],n[a]=s};e(t,0,3),e(t,1,2),e(t,4,5),e(t,6,7)}function uHe(t){const e=t.split(":");let r=null;if(e[0]==="data"&&e.length===2){const n=e[1].split(";"),i=n[n.length-1].split(",");if(i.length===2){const a=i[0]==="base64",s=i[1];a?(n.splice(-1,1),r=wO(s)):r=lHe(s)}}return r}function aQ(t){return Uint8Array.from(unescape(encodeURIComponent(t)),e=>e.charCodeAt(0))}var mt={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},Yr={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.streamingkeydelivery",PLAYREADY:"com.microsoft.playready",WIDEVINE:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};function $5(t){switch(t){case Yr.FAIRPLAY:return mt.FAIRPLAY;case Yr.PLAYREADY:return mt.PLAYREADY;case Yr.WIDEVINE:return mt.WIDEVINE;case Yr.CLEARKEY:return mt.CLEARKEY}}var sQ={WIDEVINE:"edef8ba979d64acea3c827dcd51d21ed"};function fHe(t){if(t===sQ.WIDEVINE)return mt.WIDEVINE}function C5(t){switch(t){case mt.FAIRPLAY:return Yr.FAIRPLAY;case mt.PLAYREADY:return Yr.PLAYREADY;case mt.WIDEVINE:return Yr.WIDEVINE;case mt.CLEARKEY:return Yr.CLEARKEY}}function XT(t){const{drmSystems:e,widevineLicenseUrl:r}=t,n=e?[mt.FAIRPLAY,mt.WIDEVINE,mt.PLAYREADY,mt.CLEARKEY].filter(i=>!!e[i]):[];return!n[mt.WIDEVINE]&&r&&n.push(mt.WIDEVINE),n}const oQ=function(){return typeof self<"u"&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null}();function dHe(t,e,r,n){let i;switch(t){case mt.FAIRPLAY:i=["cenc","sinf"];break;case mt.WIDEVINE:case mt.PLAYREADY:i=["cenc"];break;case mt.CLEARKEY:i=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${t}`)}return hHe(i,e,r,n)}function hHe(t,e,r,n){return[{initDataTypes:t,persistentState:n.persistentState||"not-allowed",distinctiveIdentifier:n.distinctiveIdentifier||"not-allowed",sessionTypes:n.sessionTypes||[n.sessionType||"temporary"],audioCapabilities:e.map(a=>({contentType:`audio/mp4; codecs="${a}"`,robustness:n.audioRobustness||"",encryptionScheme:n.audioEncryptionScheme||null})),videoCapabilities:r.map(a=>({contentType:`video/mp4; codecs="${a}"`,robustness:n.videoRobustness||"",encryptionScheme:n.videoEncryptionScheme||null}))}]}function Fl(t,e,r){return Uint8Array.prototype.slice?t.slice(e,r):new Uint8Array(Array.prototype.slice.call(t,e,r))}const RO=(t,e)=>e+10<=t.length&&t[e]===73&&t[e+1]===68&&t[e+2]===51&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128,lQ=(t,e)=>e+10<=t.length&&t[e]===51&&t[e+1]===68&&t[e+2]===73&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128,I1=(t,e)=>{const r=e;let n=0;for(;RO(t,e);){n+=10;const i=E_(t,e+6);n+=i,lQ(t,e+10)&&(n+=10),e+=n}if(n>0)return t.subarray(r,r+n)},E_=(t,e)=>{let r=0;return r=(t[e]&127)<<21,r|=(t[e+1]&127)<<14,r|=(t[e+2]&127)<<7,r|=t[e+3]&127,r},pHe=(t,e)=>RO(t,e)&&E_(t,e+6)+10<=t.length-e,gHe=t=>{const e=uQ(t);for(let r=0;r<e.length;r++){const n=e[r];if(cQ(n))return _He(n)}},cQ=t=>t&&t.key==="PRIV"&&t.info==="com.apple.streaming.transportStreamTimestamp",mHe=t=>{const e=String.fromCharCode(t[0],t[1],t[2],t[3]),r=E_(t,4),n=10;return{type:e,size:r,data:t.subarray(n,n+r)}},uQ=t=>{let e=0;const r=[];for(;RO(t,e);){const n=E_(t,e+6);e+=10;const i=e+n;for(;e+8<i;){const a=mHe(t.subarray(e)),s=vHe(a);s&&r.push(s),e+=a.size+10}lQ(t,e)&&(e+=10)}return r},vHe=t=>t.type==="PRIV"?yHe(t):t.type[0]==="W"?EHe(t):xHe(t),yHe=t=>{if(t.size<2)return;const e=la(t.data,!0),r=new Uint8Array(t.data.subarray(e.length+1));return{key:t.type,info:e,data:r.buffer}},xHe=t=>{if(t.size<2)return;if(t.type==="TXXX"){let r=1;const n=la(t.data.subarray(r),!0);r+=n.length+1;const i=la(t.data.subarray(r));return{key:t.type,info:n,data:i}}const e=la(t.data.subarray(1));return{key:t.type,data:e}},EHe=t=>{if(t.type==="WXXX"){if(t.size<2)return;let r=1;const n=la(t.data.subarray(r),!0);r+=n.length+1;const i=la(t.data.subarray(r));return{key:t.type,info:n,data:i}}const e=la(t.data);return{key:t.type,data:e}},_He=t=>{if(t.data.byteLength===8){const e=new Uint8Array(t.data),r=e[3]&1;let n=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return n/=45,r&&(n+=4772185884e-2),Math.round(n)}},la=(t,e=!1)=>{const r=bHe();if(r){const l=r.decode(t);if(e){const u=l.indexOf("\0");return u!==-1?l.substring(0,u):l}return l.replace(/\0/g,"")}const n=t.length;let i,a,s,o="",c=0;for(;c<n;){if(i=t[c++],i===0&&e)return o;if(i===0||i===3)continue;switch(i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o+=String.fromCharCode(i);break;case 12:case 13:a=t[c++],o+=String.fromCharCode((i&31)<<6|a&63);break;case 14:a=t[c++],s=t[c++],o+=String.fromCharCode((i&15)<<12|(a&63)<<6|(s&63)<<0);break}}return o};let QT;function bHe(){return!QT&&typeof self.TextDecoder<"u"&&(QT=new self.TextDecoder("utf-8")),QT}const Xi={hexDump:function(t){let e="";for(let r=0;r<t.length;r++){let n=t[r].toString(16);n.length<2&&(n="0"+n),e+=n}return e}},$1=Math.pow(2,32)-1,SHe=[].push,fQ={video:1,audio:2,id3:3,text:4};function Xt(t){return String.fromCharCode.apply(null,t)}function dQ(t,e){const r=t[e]<<8|t[e+1];return r<0?65536+r:r}function Ee(t,e){const r=hQ(t,e);return r<0?4294967296+r:r}function hQ(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function ZT(t,e,r){t[e]=r>>24,t[e+1]=r>>16&255,t[e+2]=r>>8&255,t[e+3]=r&255}function Fe(t,e){const r=[];if(!e.length)return r;const n=t.byteLength;for(let i=0;i<n;){const a=Ee(t,i),s=Xt(t.subarray(i+4,i+8)),o=a>1?i+a:n;if(s===e[0])if(e.length===1)r.push(t.subarray(i+8,o));else{const c=Fe(t.subarray(i+8,o),e.slice(1));c.length&&SHe.apply(r,c)}i=o}return r}function THe(t){const e=[],r=t[0];let n=8;const i=Ee(t,n);n+=4;const a=0,s=0;r===0?n+=8:n+=16,n+=2;let o=t.length+s;const c=dQ(t,n);n+=2;for(let l=0;l<c;l++){let u=n;const f=Ee(t,u);u+=4;const d=f&2147483647;if((f&2147483648)>>>31===1)return z.warn("SIDX has hierarchical references (not supported)"),null;const p=Ee(t,u);u+=4,e.push({referenceSize:d,subsegmentDuration:p,info:{duration:p/i,start:o,end:o+d-1}}),o+=d,u+=4,n=u}return{earliestPresentationTime:a,timescale:i,version:r,referencesCount:c,references:e}}function pQ(t){const e=[],r=Fe(t,["moov","trak"]);for(let i=0;i<r.length;i++){const a=r[i],s=Fe(a,["tkhd"])[0];if(s){let o=s[0],c=o===0?12:20;const l=Ee(s,c),u=Fe(a,["mdia","mdhd"])[0];if(u){o=u[0],c=o===0?12:20;const f=Ee(u,c),d=Fe(a,["mdia","hdlr"])[0];if(d){const h=Xt(d.subarray(8,12)),p={soun:qe.AUDIO,vide:qe.VIDEO}[h];if(p){const m=Fe(a,["mdia","minf","stbl","stsd"])[0];let g;m&&(g=Xt(m.subarray(12,16))),e[l]={timescale:f,type:p},e[p]={timescale:f,id:l,codec:g}}}}}}return Fe(t,["moov","mvex","trex"]).forEach(i=>{const a=Ee(i,4),s=e[a];s&&(s.default={duration:Ee(i,12),flags:Ee(i,20)})}),e}function wHe(t,e){if(!t||!e)return t;const r=e.keyId;return r&&e.isCommonEncryption&&Fe(t,["moov","trak"]).forEach(i=>{const s=Fe(i,["mdia","minf","stbl","stsd"])[0].subarray(8);let o=Fe(s,["enca"]);const c=o.length>0;c||(o=Fe(s,["encv"])),o.forEach(l=>{const u=c?l.subarray(28):l.subarray(78);Fe(u,["sinf"]).forEach(d=>{const h=gQ(d);if(h){const p=h.subarray(8,24);p.some(m=>m!==0)||(z.log(`[eme] Patching keyId in 'enc${c?"a":"v"}>sinf>>tenc' box: ${Xi.hexDump(p)} -> ${Xi.hexDump(r)}`),h.set(r,8))}})})}),t}function gQ(t){const e=Fe(t,["schm"])[0];if(e){const r=Xt(e.subarray(4,8));if(r==="cbcs"||r==="cenc")return Fe(t,["schi","tenc"])[0]}return z.error("[eme] missing 'schm' box"),null}function RHe(t,e){return Fe(e,["moof","traf"]).reduce((r,n)=>{const i=Fe(n,["tfdt"])[0],a=i[0],s=Fe(n,["tfhd"]).reduce((o,c)=>{const l=Ee(c,4),u=t[l];if(u){let f=Ee(i,4);if(a===1){if(f===$1)return z.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),o;f*=$1+1,f+=Ee(i,8)}const d=u.timescale||9e4,h=f/d;if(isFinite(h)&&(o===null||h<o))return h}return o},null);return s!==null&&isFinite(s)&&(r===null||s<r)?s:r},null)}function AHe(t,e){let r=0,n=0,i=0;const a=Fe(t,["moof","traf"]);for(let s=0;s<a.length;s++){const o=a[s],c=Fe(o,["tfhd"])[0],l=Ee(c,4),u=e[l];if(!u)continue;const f=u.default,d=Ee(c,0)|(f==null?void 0:f.flags);let h=f==null?void 0:f.duration;d&8&&(d&2?h=Ee(c,12):h=Ee(c,8));const p=u.timescale||9e4,m=Fe(o,["trun"]);for(let g=0;g<m.length;g++){if(r=IHe(m[g]),!r&&h){const v=Ee(m[g],4);r=h*v}u.type===qe.VIDEO?n+=r/p:u.type===qe.AUDIO&&(i+=r/p)}}if(n===0&&i===0){let s=0;const o=Fe(t,["sidx"]);for(let c=0;c<o.length;c++){const l=THe(o[c]);l!=null&&l.references&&(s+=l.references.reduce((u,f)=>u+f.info.duration||0,0))}return s}return n||i}function IHe(t){const e=Ee(t,0);let r=8;e&1&&(r+=4),e&4&&(r+=4);let n=0;const i=Ee(t,4);for(let a=0;a<i;a++){if(e&256){const s=Ee(t,r);n+=s,r+=4}e&512&&(r+=4),e&1024&&(r+=4),e&2048&&(r+=4)}return n}function $He(t,e,r){Fe(e,["moof","traf"]).forEach(n=>{Fe(n,["tfhd"]).forEach(i=>{const a=Ee(i,4),s=t[a];if(!s)return;const o=s.timescale||9e4;Fe(n,["tfdt"]).forEach(c=>{const l=c[0];let u=Ee(c,4);if(l===0)u-=r*o,u=Math.max(u,0),ZT(c,4,u);else{u*=Math.pow(2,32),u+=Ee(c,8),u-=r*o,u=Math.max(u,0);const f=Math.floor(u/($1+1)),d=Math.floor(u%($1+1));ZT(c,4,f),ZT(c,8,d)}})})})}function CHe(t){const e={valid:null,remainder:null},r=Fe(t,["moof"]);if(r){if(r.length<2)return e.remainder=t,e}else return e;const n=r[r.length-1];return e.valid=Fl(t,0,n.byteOffset-8),e.remainder=Fl(t,n.byteOffset-8),e}function Zl(t,e){const r=new Uint8Array(t.length+e.length);return r.set(t),r.set(e,t.length),r}function k5(t,e){const r=[],n=e.samples,i=e.timescale,a=e.id;let s=!1;return Fe(n,["moof"]).map(c=>{const l=c.byteOffset-8;Fe(c,["traf"]).map(f=>{const d=Fe(f,["tfdt"]).map(h=>{const p=h[0];let m=Ee(h,4);return p===1&&(m*=Math.pow(2,32),m+=Ee(h,8)),m/i})[0];return d!==void 0&&(t=d),Fe(f,["tfhd"]).map(h=>{const p=Ee(h,4),m=Ee(h,0)&16777215,g=(m&1)!==0,v=(m&2)!==0,y=(m&8)!==0;let x=0;const E=(m&16)!==0;let S=0;const b=(m&32)!==0;let T=8;p===a&&(g&&(T+=8),v&&(T+=4),y&&(x=Ee(h,T),T+=4),E&&(S=Ee(h,T),T+=4),b&&(T+=4),e.type==="video"&&(s=kHe(e.codec)),Fe(f,["trun"]).map(R=>{const I=R[0],w=Ee(R,0)&16777215,C=(w&1)!==0;let L=0;const H=(w&4)!==0,N=(w&256)!==0;let P=0;const B=(w&512)!==0;let V=0;const M=(w&1024)!==0,U=(w&2048)!==0;let W=0;const k=Ee(R,4);let O=8;C&&(L=Ee(R,O),O+=4),H&&(O+=4);let F=L+l;for(let D=0;D<k;D++){if(N?(P=Ee(R,O),O+=4):P=x,B?(V=Ee(R,O),O+=4):V=S,M&&(O+=4),U&&(I===0?W=Ee(R,O):W=hQ(R,O),O+=4),e.type===qe.VIDEO){let Q=0;for(;Q<V;){const ee=Ee(n,F);if(F+=4,OHe(s,n[F])){const fe=n.subarray(F,F+ee);mQ(fe,s?2:1,t+W/i,r)}F+=ee,Q+=ee+4}}t+=P/i}}))})})}),r}function kHe(t){if(!t)return!1;const e=t.indexOf("."),r=e<0?t:t.substring(0,e);return r==="hvc1"||r==="hev1"||r==="dvh1"||r==="dvhe"}function OHe(t,e){if(t){const r=e>>1&63;return r===39||r===40}else return(e&31)===6}function mQ(t,e,r,n){const i=vQ(t);let a=0;a+=e;let s=0,o=0,c=!1,l=0;for(;a<i.length;){s=0;do{if(a>=i.length)break;l=i[a++],s+=l}while(l===255);o=0;do{if(a>=i.length)break;l=i[a++],o+=l}while(l===255);const u=i.length-a;if(!c&&s===4&&a<i.length){if(c=!0,i[a++]===181){const d=dQ(i,a);if(a+=2,d===49){const h=Ee(i,a);if(a+=4,h===1195456820){const p=i[a++];if(p===3){const m=i[a++],g=31&m,v=64&m,y=v?2+g*3:0,x=new Uint8Array(y);if(v){x[0]=m;for(let E=1;E<y;E++)x[E]=i[a++]}n.push({type:p,payloadType:s,pts:r,bytes:x})}}}}}else if(s===5&&o<u){if(c=!0,o>16){const f=[];for(let p=0;p<16;p++){const m=i[a++].toString(16);f.push(m.length==1?"0"+m:m),(p===3||p===5||p===7||p===9)&&f.push("-")}const d=o-16,h=new Uint8Array(d);for(let p=0;p<d;p++)h[p]=i[a++];n.push({payloadType:s,pts:r,uuid:f.join(""),userData:la(h),userDataBytes:h})}}else if(o<u)a+=o;else if(o>u)break}}function vQ(t){const e=t.byteLength,r=[];let n=1;for(;n<e-2;)t[n]===0&&t[n+1]===0&&t[n+2]===3?(r.push(n+2),n+=2):n++;if(r.length===0)return t;const i=e-r.length,a=new Uint8Array(i);let s=0;for(n=0;n<i;s++,n++)s===r[0]&&(s++,r.shift()),a[n]=t[s];return a}function LHe(t){const e=t[0];let r="",n="",i=0,a=0,s=0,o=0,c=0,l=0;if(e===0){for(;Xt(t.subarray(l,l+1))!=="\0";)r+=Xt(t.subarray(l,l+1)),l+=1;for(r+=Xt(t.subarray(l,l+1)),l+=1;Xt(t.subarray(l,l+1))!=="\0";)n+=Xt(t.subarray(l,l+1)),l+=1;n+=Xt(t.subarray(l,l+1)),l+=1,i=Ee(t,12),a=Ee(t,16),o=Ee(t,20),c=Ee(t,24),l=28}else if(e===1){l+=4,i=Ee(t,l),l+=4;const f=Ee(t,l);l+=4;const d=Ee(t,l);for(l+=4,s=2**32*f+d,Number.isSafeInteger(s)||(s=Number.MAX_SAFE_INTEGER,z.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),o=Ee(t,l),l+=4,c=Ee(t,l),l+=4;Xt(t.subarray(l,l+1))!=="\0";)r+=Xt(t.subarray(l,l+1)),l+=1;for(r+=Xt(t.subarray(l,l+1)),l+=1;Xt(t.subarray(l,l+1))!=="\0";)n+=Xt(t.subarray(l,l+1)),l+=1;n+=Xt(t.subarray(l,l+1)),l+=1}const u=t.subarray(l,t.byteLength);return{schemeIdUri:r,value:n,timeScale:i,presentationTime:s,presentationTimeDelta:a,eventDuration:o,id:c,payload:u}}function PHe(t,...e){const r=e.length;let n=8,i=r;for(;i--;)n+=e[i].byteLength;const a=new Uint8Array(n);for(a[0]=n>>24&255,a[1]=n>>16&255,a[2]=n>>8&255,a[3]=n&255,a.set(t,4),i=0,n=8;i<r;i++)a.set(e[i],n),n+=e[i].byteLength;return a}function NHe(t,e,r){if(t.byteLength!==16)throw new RangeError("Invalid system id");let n,i;if(e){n=1,i=new Uint8Array(e.length*16);for(let o=0;o<e.length;o++){const c=e[o];if(c.byteLength!==16)throw new RangeError("Invalid key");i.set(c,o*16)}}else n=0,i=new Uint8Array;let a;n>0?(a=new Uint8Array(4),e.length>0&&new DataView(a.buffer).setUint32(0,e.length,!1)):a=new Uint8Array;const s=new Uint8Array(4);return r&&r.byteLength>0&&new DataView(s.buffer).setUint32(0,r.byteLength,!1),PHe([112,115,115,104],new Uint8Array([n,0,0,0]),t,a,i,s,r||new Uint8Array)}function DHe(t){if(!(t instanceof ArrayBuffer)||t.byteLength<32)return null;const e={version:0,systemId:"",kids:null,data:null},r=new DataView(t),n=r.getUint32(0);if(t.byteLength!==n&&n>44||r.getUint32(4)!==1886614376||(e.version=r.getUint32(8)>>>24,e.version>1))return null;e.systemId=Xi.hexDump(new Uint8Array(t,12,16));const a=r.getUint32(28);if(e.version===0){if(n-32<a)return null;e.data=new Uint8Array(t,32,a)}else if(e.version===1){e.kids=[];for(let s=0;s<a;s++)e.kids.push(new Uint8Array(t,32+s*16,16))}return e}let Um={};class X0{static clearKeyUriToKeyIdMap(){Um={}}constructor(e,r,n,i=[1],a=null){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=e,this.uri=r,this.keyFormat=n,this.keyFormatVersions=i,this.iv=a,this.encrypted=e?e!=="NONE":!1,this.isCommonEncryption=this.encrypted&&e!=="AES-128"}isSupported(){if(this.method){if(this.method==="AES-128"||this.method==="NONE")return!0;if(this.keyFormat==="identity")return this.method==="SAMPLE-AES";switch(this.keyFormat){case Yr.FAIRPLAY:case Yr.WIDEVINE:case Yr.PLAYREADY:case Yr.CLEARKEY:return["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1}getDecryptData(e){if(!this.encrypted||!this.uri)return null;if(this.method==="AES-128"&&this.uri&&!this.iv){typeof e!="number"&&(this.method==="AES-128"&&!this.iv&&z.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),e=0);const n=MHe(e);return new X0(this.method,this.uri,"identity",this.keyFormatVersions,n)}const r=uHe(this.uri);if(r)switch(this.keyFormat){case Yr.WIDEVINE:this.pssh=r,r.length>=22&&(this.keyId=r.subarray(r.length-22,r.length-6));break;case Yr.PLAYREADY:{const n=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=NHe(n,null,r);const i=new Uint16Array(r.buffer,r.byteOffset,r.byteLength/2),a=String.fromCharCode.apply(null,Array.from(i)),s=a.substring(a.indexOf("<"),a.length),l=new DOMParser().parseFromString(s,"text/xml").getElementsByTagName("KID")[0];if(l){const u=l.childNodes[0]?l.childNodes[0].nodeValue:l.getAttribute("VALUE");if(u){const f=wO(u).subarray(0,16);cHe(f),this.keyId=f}}break}default:{let n=r.subarray(0,16);if(n.length!==16){const i=new Uint8Array(16);i.set(n,16-n.length),n=i}this.keyId=n;break}}if(!this.keyId||this.keyId.byteLength!==16){let n=Um[this.uri];if(!n){const i=Object.keys(Um).length%Number.MAX_SAFE_INTEGER;n=new Uint8Array(16),new DataView(n.buffer,12,4).setUint32(0,i),Um[this.uri]=n}this.keyId=n}return this}}function MHe(t){const e=new Uint8Array(16);for(let r=12;r<16;r++)e[r]=t>>8*(15-r)&255;return e}const yQ=/\{\$([a-zA-Z0-9-_]+)\}/g;function O5(t){return yQ.test(t)}function Ur(t,e,r){if(t.variableList!==null||t.hasVariableRefs)for(let n=r.length;n--;){const i=r[n],a=e[i];a&&(e[i]=UA(t,a))}}function UA(t,e){if(t.variableList!==null||t.hasVariableRefs){const r=t.variableList;return e.replace(yQ,n=>{const i=n.substring(2,n.length-1),a=r==null?void 0:r[i];return a===void 0?(t.playlistParsingError||(t.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${i}"`)),n):a})}return e}function L5(t,e,r){let n=t.variableList;n||(t.variableList=n={});let i,a;if("QUERYPARAM"in e){i=e.QUERYPARAM;try{const s=new self.URL(r).searchParams;if(s.has(i))a=s.get(i);else throw new Error(`"${i}" does not match any query parameter in URI: "${r}"`)}catch(s){t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${s.message}`))}}else i=e.NAME,a=e.VALUE;i in n?t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${i}"`)):n[i]=a||""}function FHe(t,e,r){const n=e.IMPORT;if(r&&n in r){let i=t.variableList;i||(t.variableList=i={}),i[n]=r[n]}else t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${n}"`))}const BHe={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dva1:!0,dvav:!0,dvh1:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}};function UHe(t,e){const r=BHe[e];return!!r&&r[t.slice(0,4)]===!0}function JT(t,e){return MediaSource.isTypeSupported(`${e||"video"}/mp4;codecs="${t}"`)}const P5=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,N5=/#EXT-X-MEDIA:(.*)/g,jHe=/^#EXT(?:INF|-X-TARGETDURATION):/m,D5=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),HHe=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class Si{static findGroup(e,r){for(let n=0;n<e.length;n++){const i=e[n];if(i.id===r)return i}}static convertAVC1ToAVCOTI(e){const r=e.split(".");if(r.length>2){let n=r.shift()+".";return n+=parseInt(r.shift()).toString(16),n+=("000"+parseInt(r.shift()).toString(16)).slice(-4),n}return e}static resolve(e,r){return q0.buildAbsoluteURL(r,e,{alwaysNormalize:!0})}static isMediaPlaylist(e){return jHe.test(e)}static parseMasterPlaylist(e,r){const n=O5(e),i={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:n},a=[];P5.lastIndex=0;let s;for(;(s=P5.exec(e))!=null;)if(s[1]){var o;const l=new gt(s[1]);Ur(i,l,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);const u=UA(i,s[2]),f={attrs:l,bitrate:l.decimalInteger("AVERAGE-BANDWIDTH")||l.decimalInteger("BANDWIDTH"),name:l.NAME,url:Si.resolve(u,r)},d=l.decimalResolution("RESOLUTION");d&&(f.width=d.width,f.height=d.height),GHe((l.CODECS||"").split(/[ ,]+/).filter(h=>h),f),f.videoCodec&&f.videoCodec.indexOf("avc1")!==-1&&(f.videoCodec=Si.convertAVC1ToAVCOTI(f.videoCodec)),(o=f.unknownCodecs)!=null&&o.length||a.push(f),i.levels.push(f)}else if(s[3]){const l=s[3],u=s[4];switch(l){case"SESSION-DATA":{const f=new gt(u);Ur(i,f,["DATA-ID","LANGUAGE","VALUE","URI"]);const d=f["DATA-ID"];d&&(i.sessionData===null&&(i.sessionData={}),i.sessionData[d]=f);break}case"SESSION-KEY":{const f=M5(u,r,i);f.encrypted&&f.isSupported()?(i.sessionKeys===null&&(i.sessionKeys=[]),i.sessionKeys.push(f)):z.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${u}"`);break}case"DEFINE":{{const f=new gt(u);Ur(i,f,["NAME","VALUE","QUERYPARAM"]),L5(i,f,r)}break}case"CONTENT-STEERING":{const f=new gt(u);Ur(i,f,["SERVER-URI","PATHWAY-ID"]),i.contentSteering={uri:Si.resolve(f["SERVER-URI"],r),pathwayId:f["PATHWAY-ID"]||"."};break}case"START":{i.startTimeOffset=F5(u);break}}}const c=a.length>0&&a.length<i.levels.length;return i.levels=c?a:i.levels,i.levels.length===0&&(i.playlistParsingError=new Error("no levels found in manifest")),i}static parseMasterPlaylistMedia(e,r,n){let i;const a={},s=n.levels,o={AUDIO:s.map(l=>({id:l.attrs.AUDIO,audioCodec:l.audioCodec})),SUBTITLES:s.map(l=>({id:l.attrs.SUBTITLES,textCodec:l.textCodec})),"CLOSED-CAPTIONS":[]};let c=0;for(N5.lastIndex=0;(i=N5.exec(e))!==null;){const l=new gt(i[1]),u=l.TYPE;if(u){const f=o[u],d=a[u]||[];a[u]=d,Ur(n,l,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);const h={attrs:l,bitrate:0,id:c++,groupId:l["GROUP-ID"]||"",instreamId:l["INSTREAM-ID"],name:l.NAME||l.LANGUAGE||"",type:u,default:l.bool("DEFAULT"),autoselect:l.bool("AUTOSELECT"),forced:l.bool("FORCED"),lang:l.LANGUAGE,url:l.URI?Si.resolve(l.URI,r):""};if(f!=null&&f.length){const p=Si.findGroup(f,h.groupId)||f[0];B5(h,p,"audioCodec"),B5(h,p,"textCodec")}d.push(h)}}return a}static parseLevelPlaylist(e,r,n,i,a,s){const o=new oHe(r),c=o.fragments;let l=null,u=0,f=0,d=0,h=0,p=null,m=new qT(i,r),g,v,y,x=-1,E=!1;for(D5.lastIndex=0,o.m3u8=e,o.hasVariableRefs=O5(e);(g=D5.exec(e))!==null;){E&&(E=!1,m=new qT(i,r),m.start=d,m.sn=u,m.cc=h,m.level=n,l&&(m.initSegment=l,m.rawProgramDateTime=l.rawProgramDateTime,l.rawProgramDateTime=null));const R=g[1];if(R){m.duration=parseFloat(R);const I=(" "+g[2]).slice(1);m.title=I||null,m.tagList.push(I?["INF",R,I]:["INF",R])}else if(g[3]){if(pe(m.duration)){m.start=d,y&&H5(m,y,o),m.sn=u,m.level=n,m.cc=h,m.urlId=a,c.push(m);const I=(" "+g[3]).slice(1);m.relurl=UA(o,I),U5(m,p),p=m,d+=m.duration,u++,f=0,E=!0}}else if(g[4]){const I=(" "+g[4]).slice(1);p?m.setByteRange(I,p):m.setByteRange(I)}else if(g[5])m.rawProgramDateTime=(" "+g[5]).slice(1),m.tagList.push(["PROGRAM-DATE-TIME",m.rawProgramDateTime]),x===-1&&(x=c.length);else{if(g=g[0].match(HHe),!g){z.warn("No matches on slow regex match for level playlist!");continue}for(v=1;v<g.length&&!(typeof g[v]<"u");v++);const I=(" "+g[v]).slice(1),w=(" "+g[v+1]).slice(1),C=g[v+2]?(" "+g[v+2]).slice(1):"";switch(I){case"PLAYLIST-TYPE":o.type=w.toUpperCase();break;case"MEDIA-SEQUENCE":u=o.startSN=parseInt(w);break;case"SKIP":{const L=new gt(w);Ur(o,L,["RECENTLY-REMOVED-DATERANGES"]);const H=L.decimalInteger("SKIPPED-SEGMENTS");if(pe(H)){o.skippedSegments=H;for(let P=H;P--;)c.unshift(null);u+=H}const N=L.enumeratedString("RECENTLY-REMOVED-DATERANGES");N&&(o.recentlyRemovedDateranges=N.split("	"));break}case"TARGETDURATION":o.targetduration=Math.max(parseInt(w),1);break;case"VERSION":o.version=parseInt(w);break;case"EXTM3U":break;case"ENDLIST":o.live=!1;break;case"#":(w||C)&&m.tagList.push(C?[w,C]:[w]);break;case"DISCONTINUITY":h++,m.tagList.push(["DIS"]);break;case"GAP":m.gap=!0,m.tagList.push([I]);break;case"BITRATE":m.tagList.push([I,w]);break;case"DATERANGE":{const L=new gt(w);Ur(o,L,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),Ur(o,L,L.clientAttrs);const H=new nQ(L,o.dateRanges[L.ID]);H.isValid||o.skippedSegments?o.dateRanges[H.id]=H:z.warn(`Ignoring invalid DATERANGE tag: "${w}"`),m.tagList.push(["EXT-X-DATERANGE",w]);break}case"DEFINE":{{const L=new gt(w);Ur(o,L,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in L?FHe(o,L,s):L5(o,L,r)}break}case"DISCONTINUITY-SEQUENCE":h=parseInt(w);break;case"KEY":{const L=M5(w,r,o);if(L.isSupported()){if(L.method==="NONE"){y=void 0;break}y||(y={}),y[L.keyFormat]&&(y=Pt({},y)),y[L.keyFormat]=L}else z.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${w}"`);break}case"START":o.startTimeOffset=F5(w);break;case"MAP":{const L=new gt(w);if(Ur(o,L,["BYTERANGE","URI"]),m.duration){const H=new qT(i,r);j5(H,L,n,y),l=H,m.initSegment=l,l.rawProgramDateTime&&!m.rawProgramDateTime&&(m.rawProgramDateTime=l.rawProgramDateTime)}else j5(m,L,n,y),l=m,E=!0;break}case"SERVER-CONTROL":{const L=new gt(w);o.canBlockReload=L.bool("CAN-BLOCK-RELOAD"),o.canSkipUntil=L.optionalFloat("CAN-SKIP-UNTIL",0),o.canSkipDateRanges=o.canSkipUntil>0&&L.bool("CAN-SKIP-DATERANGES"),o.partHoldBack=L.optionalFloat("PART-HOLD-BACK",0),o.holdBack=L.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{const L=new gt(w);o.partTarget=L.decimalFloatingPoint("PART-TARGET");break}case"PART":{let L=o.partList;L||(L=o.partList=[]);const H=f>0?L[L.length-1]:void 0,N=f++,P=new gt(w);Ur(o,P,["BYTERANGE","URI"]);const B=new aHe(P,m,r,N,H);L.push(B),m.duration+=B.duration;break}case"PRELOAD-HINT":{const L=new gt(w);Ur(o,L,["URI"]),o.preloadHint=L;break}case"RENDITION-REPORT":{const L=new gt(w);Ur(o,L,["URI"]),o.renditionReports=o.renditionReports||[],o.renditionReports.push(L);break}default:z.warn(`line parsed but not handled: ${g}`);break}}}p&&!p.relurl?(c.pop(),d-=p.duration,o.partList&&(o.fragmentHint=p)):o.partList&&(U5(m,p),m.cc=h,o.fragmentHint=m,y&&H5(m,y,o));const S=c.length,b=c[0],T=c[S-1];if(d+=o.skippedSegments*o.targetduration,d>0&&S&&T){o.averagetargetduration=d/S;const R=T.sn;o.endSN=R!=="initSegment"?R:0,o.live||(T.endList=!0),b&&(o.startCC=b.cc)}else o.endSN=0,o.startCC=0;return o.fragmentHint&&(d+=o.fragmentHint.duration),o.totalduration=d,o.endCC=h,x>0&&zHe(c,x),o}}function M5(t,e,r){var n,i;const a=new gt(t);Ur(r,a,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);const s=(n=a.METHOD)!=null?n:"",o=a.URI,c=a.hexadecimalInteger("IV"),l=a.KEYFORMATVERSIONS,u=(i=a.KEYFORMAT)!=null?i:"identity";o&&a.IV&&!c&&z.error(`Invalid IV: ${a.IV}`);const f=o?Si.resolve(o,e):"",d=(l||"1").split("/").map(Number).filter(Number.isFinite);return new X0(s,f,u,d,c)}function F5(t){const r=new gt(t).decimalFloatingPoint("TIME-OFFSET");return pe(r)?r:null}function GHe(t,e){["video","audio","text"].forEach(r=>{const n=t.filter(i=>UHe(i,r));if(n.length){const i=n.filter(a=>a.lastIndexOf("avc1",0)===0||a.lastIndexOf("mp4a",0)===0);e[`${r}Codec`]=i.length>0?i[0]:n[0],t=t.filter(a=>n.indexOf(a)===-1)}}),e.unknownCodecs=t}function B5(t,e,r){const n=e[r];n&&(t[r]=n)}function zHe(t,e){let r=t[e];for(let n=e;n--;){const i=t[n];if(!i)return;i.programDateTime=r.programDateTime-i.duration*1e3,r=i}}function U5(t,e){t.rawProgramDateTime?t.programDateTime=Date.parse(t.rawProgramDateTime):e!=null&&e.programDateTime&&(t.programDateTime=e.endProgramDateTime),pe(t.programDateTime)||(t.programDateTime=null,t.rawProgramDateTime=null)}function j5(t,e,r,n){t.relurl=e.URI,e.BYTERANGE&&t.setByteRange(e.BYTERANGE),t.level=r,t.sn="initSegment",n&&(t.levelkeys=n),t.initSegment=null}function H5(t,e,r){t.levelkeys=e;const{encryptedFragments:n}=r;(!n.length||n[n.length-1].levelkeys!==e)&&Object.keys(e).some(i=>e[i].isCommonEncryption)&&n.push(t)}var je={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},ye={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"};function G5(t){const{type:e}=t;switch(e){case je.AUDIO_TRACK:return ye.AUDIO;case je.SUBTITLE_TRACK:return ye.SUBTITLE;default:return ye.MAIN}}function ew(t,e){let r=t.url;return(r===void 0||r.indexOf("data:")===0)&&(r=e.url),r}class VHe{constructor(e){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=e,this.registerListeners()}startLoad(e){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:e}=this;e.on($.MANIFEST_LOADING,this.onManifestLoading,this),e.on($.LEVEL_LOADING,this.onLevelLoading,this),e.on($.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on($.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}unregisterListeners(){const{hls:e}=this;e.off($.MANIFEST_LOADING,this.onManifestLoading,this),e.off($.LEVEL_LOADING,this.onLevelLoading,this),e.off($.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off($.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}createInternalLoader(e){const r=this.hls.config,n=r.pLoader,i=r.loader,a=n||i,s=new a(r);return this.loaders[e.type]=s,s}getInternalLoader(e){return this.loaders[e.type]}resetInternalLoader(e){this.loaders[e]&&delete this.loaders[e]}destroyInternalLoaders(){for(const e in this.loaders){const r=this.loaders[e];r&&r.destroy(),this.resetInternalLoader(e)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(e,r){const{url:n}=r;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:je.MANIFEST,url:n,deliveryDirectives:null})}onLevelLoading(e,r){const{id:n,level:i,url:a,deliveryDirectives:s}=r;this.load({id:n,level:i,responseType:"text",type:je.LEVEL,url:a,deliveryDirectives:s})}onAudioTrackLoading(e,r){const{id:n,groupId:i,url:a,deliveryDirectives:s}=r;this.load({id:n,groupId:i,level:null,responseType:"text",type:je.AUDIO_TRACK,url:a,deliveryDirectives:s})}onSubtitleTrackLoading(e,r){const{id:n,groupId:i,url:a,deliveryDirectives:s}=r;this.load({id:n,groupId:i,level:null,responseType:"text",type:je.SUBTITLE_TRACK,url:a,deliveryDirectives:s})}load(e){var r;const n=this.hls.config;let i=this.getInternalLoader(e);if(i){const l=i.context;if(l&&l.url===e.url){z.trace("[playlist-loader]: playlist request ongoing");return}z.log(`[playlist-loader]: aborting previous loader for type: ${e.type}`),i.abort()}let a;if(e.type===je.MANIFEST?a=n.manifestLoadPolicy.default:a=Pt({},n.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),i=this.createInternalLoader(e),(r=e.deliveryDirectives)!=null&&r.part){let l;if(e.type===je.LEVEL&&e.level!==null?l=this.hls.levels[e.level].details:e.type===je.AUDIO_TRACK&&e.id!==null?l=this.hls.audioTracks[e.id].details:e.type===je.SUBTITLE_TRACK&&e.id!==null&&(l=this.hls.subtitleTracks[e.id].details),l){const u=l.partTarget,f=l.targetduration;if(u&&f){const d=Math.max(u*3,f*.8)*1e3;a=Pt({},a,{maxTimeToFirstByteMs:Math.min(d,a.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(d,a.maxTimeToFirstByteMs)})}}}const s=a.errorRetry||a.timeoutRetry||{},o={loadPolicy:a,timeout:a.maxLoadTimeMs,maxRetry:s.maxNumRetry||0,retryDelay:s.retryDelayMs||0,maxRetryDelay:s.maxRetryDelayMs||0},c={onSuccess:(l,u,f,d)=>{const h=this.getInternalLoader(f);this.resetInternalLoader(f.type);const p=l.data;if(p.indexOf("#EXTM3U")!==0){this.handleManifestParsingError(l,f,new Error("no EXTM3U delimiter"),d||null,u);return}u.parsing.start=performance.now(),Si.isMediaPlaylist(p)?this.handleTrackOrLevelPlaylist(l,u,f,d||null,h):this.handleMasterPlaylist(l,u,f,d)},onError:(l,u,f,d)=>{this.handleNetworkError(u,f,!1,l,d)},onTimeout:(l,u,f)=>{this.handleNetworkError(u,f,!0,void 0,l)}};i.load(e,o,c)}handleMasterPlaylist(e,r,n,i){const a=this.hls,s=e.data,o=ew(e,n),c=Si.parseMasterPlaylist(s,o);if(c.playlistParsingError){this.handleManifestParsingError(e,n,c.playlistParsingError,i,r);return}const{contentSteering:l,levels:u,sessionData:f,sessionKeys:d,startTimeOffset:h,variableList:p}=c;this.variableList=p;const{AUDIO:m=[],SUBTITLES:g,"CLOSED-CAPTIONS":v}=Si.parseMasterPlaylistMedia(s,o,c);m.length&&!m.some(x=>!x.url)&&u[0].audioCodec&&!u[0].attrs.AUDIO&&(z.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),m.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new gt({}),bitrate:0,url:""})),a.trigger($.MANIFEST_LOADED,{levels:u,audioTracks:m,subtitles:g,captions:v,contentSteering:l,url:o,stats:r,networkDetails:i,sessionData:f,sessionKeys:d,startTimeOffset:h,variableList:p})}handleTrackOrLevelPlaylist(e,r,n,i,a){const s=this.hls,{id:o,level:c,type:l}=n,u=ew(e,n),f=pe(o)?o:0,d=pe(c)?c:f,h=G5(n),p=Si.parseLevelPlaylist(e.data,u,d,h,f,this.variableList);if(l===je.MANIFEST){const m={attrs:new gt({}),bitrate:0,details:p,name:"",url:u};s.trigger($.MANIFEST_LOADED,{levels:[m],audioTracks:[],url:u,stats:r,networkDetails:i,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}r.parsing.end=performance.now(),n.levelDetails=p,this.handlePlaylistLoaded(p,e,r,n,i,a)}handleManifestParsingError(e,r,n,i,a){this.hls.trigger($.ERROR,{type:me.NETWORK_ERROR,details:q.MANIFEST_PARSING_ERROR,fatal:r.type===je.MANIFEST,url:e.url,err:n,error:n,reason:n.message,response:e,context:r,networkDetails:i,stats:a})}handleNetworkError(e,r,n=!1,i,a){let s=`A network ${n?"timeout":"error"+(i?" (status "+i.code+")":"")} occurred while loading ${e.type}`;e.type===je.LEVEL?s+=`: ${e.level} id: ${e.id}`:(e.type===je.AUDIO_TRACK||e.type===je.SUBTITLE_TRACK)&&(s+=` id: ${e.id} group-id: "${e.groupId}"`);const o=new Error(s);z.warn(`[playlist-loader]: ${s}`);let c=q.UNKNOWN,l=!1;const u=this.getInternalLoader(e);switch(e.type){case je.MANIFEST:c=n?q.MANIFEST_LOAD_TIMEOUT:q.MANIFEST_LOAD_ERROR,l=!0;break;case je.LEVEL:c=n?q.LEVEL_LOAD_TIMEOUT:q.LEVEL_LOAD_ERROR,l=!1;break;case je.AUDIO_TRACK:c=n?q.AUDIO_TRACK_LOAD_TIMEOUT:q.AUDIO_TRACK_LOAD_ERROR,l=!1;break;case je.SUBTITLE_TRACK:c=n?q.SUBTITLE_TRACK_LOAD_TIMEOUT:q.SUBTITLE_LOAD_ERROR,l=!1;break}u&&this.resetInternalLoader(e.type);const f={type:me.NETWORK_ERROR,details:c,fatal:l,url:e.url,loader:u,context:e,error:o,networkDetails:r,stats:a};if(i){const d=(r==null?void 0:r.url)||e.url;f.response=an({url:d,data:void 0},i)}this.hls.trigger($.ERROR,f)}handlePlaylistLoaded(e,r,n,i,a,s){const o=this.hls,{type:c,level:l,id:u,groupId:f,deliveryDirectives:d}=i,h=ew(r,i),p=G5(i),m=typeof i.level=="number"&&p===ye.MAIN?l:void 0;if(!e.fragments.length){const v=new Error("No Segments found in Playlist");o.trigger($.ERROR,{type:me.NETWORK_ERROR,details:q.LEVEL_EMPTY_ERROR,fatal:!1,url:h,error:v,reason:v.message,response:r,context:i,level:m,parent:p,networkDetails:a,stats:n});return}e.targetduration||(e.playlistParsingError=new Error("Missing Target Duration"));const g=e.playlistParsingError;if(g){o.trigger($.ERROR,{type:me.NETWORK_ERROR,details:q.LEVEL_PARSING_ERROR,fatal:!1,url:h,error:g,reason:g.message,response:r,context:i,level:m,parent:p,networkDetails:a,stats:n});return}switch(e.live&&s&&(s.getCacheAge&&(e.ageHeader=s.getCacheAge()||0),(!s.getCacheAge||isNaN(e.ageHeader))&&(e.ageHeader=0)),c){case je.MANIFEST:case je.LEVEL:o.trigger($.LEVEL_LOADED,{details:e,level:m||0,id:u||0,stats:n,networkDetails:a,deliveryDirectives:d});break;case je.AUDIO_TRACK:o.trigger($.AUDIO_TRACK_LOADED,{details:e,id:u||0,groupId:f||"",stats:n,networkDetails:a,deliveryDirectives:d});break;case je.SUBTITLE_TRACK:o.trigger($.SUBTITLE_TRACK_LOADED,{details:e,id:u||0,groupId:f||"",stats:n,networkDetails:a,deliveryDirectives:d});break}}}function xQ(t,e){let r;try{r=new Event("addtrack")}catch{r=document.createEvent("Event"),r.initEvent("addtrack",!1,!1)}r.track=t,e.dispatchEvent(r)}function EQ(t,e){const r=t.mode;if(r==="disabled"&&(t.mode="hidden"),t.cues&&!t.cues.getCueById(e.id))try{if(t.addCue(e),!t.cues.getCueById(e.id))throw new Error(`addCue is failed for: ${e}`)}catch(n){z.debug(`[texttrack-utils]: ${n}`);const i=new self.TextTrackCue(e.startTime,e.endTime,e.text);i.id=e.id,t.addCue(i)}r==="disabled"&&(t.mode=r)}function Eu(t){const e=t.mode;if(e==="disabled"&&(t.mode="hidden"),t.cues)for(let r=t.cues.length;r--;)t.removeCue(t.cues[r]);e==="disabled"&&(t.mode=e)}function jA(t,e,r,n){const i=t.mode;if(i==="disabled"&&(t.mode="hidden"),t.cues&&t.cues.length>0){const a=KHe(t.cues,e,r);for(let s=0;s<a.length;s++)(!n||n(a[s]))&&t.removeCue(a[s])}i==="disabled"&&(t.mode=i)}function WHe(t,e){if(e<t[0].startTime)return 0;const r=t.length-1;if(e>t[r].endTime)return-1;let n=0,i=r;for(;n<=i;){const a=Math.floor((i+n)/2);if(e<t[a].startTime)i=a-1;else if(e>t[a].startTime&&n<r)n=a+1;else return a}return t[n].startTime-e<e-t[i].startTime?n:i}function KHe(t,e,r){const n=[],i=WHe(t,e);if(i>-1)for(let a=i,s=t.length;a<s;a++){const o=t[a];if(o.startTime>=e&&o.endTime<=r)n.push(o);else if(o.startTime>r)return n}return n}var _i={audioId3:"org.id3",dateRange:"com.apple.quicktime.HLS",emsg:"https://aomedia.org/emsg/ID3"};const YHe=.25;function HA(){if(!(typeof self>"u"))return self.WebKitDataCue||self.VTTCue||self.TextTrackCue}const jm=(()=>{const t=HA();try{new t(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function tw(t,e){return t.getTime()/1e3-e}function qHe(t){return Uint8Array.from(t.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}class XHe{constructor(e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=e,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null}_registerListeners(){const{hls:e}=this;e.on($.MEDIA_ATTACHED,this.onMediaAttached,this),e.on($.MEDIA_DETACHING,this.onMediaDetaching,this),e.on($.MANIFEST_LOADING,this.onManifestLoading,this),e.on($.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on($.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on($.LEVEL_UPDATED,this.onLevelUpdated,this)}_unregisterListeners(){const{hls:e}=this;e.off($.MEDIA_ATTACHED,this.onMediaAttached,this),e.off($.MEDIA_DETACHING,this.onMediaDetaching,this),e.off($.MANIFEST_LOADING,this.onManifestLoading,this),e.off($.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off($.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off($.LEVEL_UPDATED,this.onLevelUpdated,this)}onMediaAttached(e,r){this.media=r.media}onMediaDetaching(){this.id3Track&&(Eu(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(e){const r=this.getID3Track(e.textTracks);return r.mode="hidden",r}getID3Track(e){if(this.media){for(let r=0;r<e.length;r++){const n=e[r];if(n.kind==="metadata"&&n.label==="id3")return xQ(n,this.media),n}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(e,r){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:n,enableID3MetadataCues:i}}}=this;if(!n&&!i)return;const{samples:a}=r;this.id3Track||(this.id3Track=this.createTrack(this.media));const s=HA();for(let o=0;o<a.length;o++){const c=a[o].type;if(c===_i.emsg&&!n||!i)continue;const l=uQ(a[o].data);if(l){const u=a[o].pts;let f=u+a[o].duration;f>jm&&(f=jm),f-u<=0&&(f=u+YHe);for(let h=0;h<l.length;h++){const p=l[h];if(!cQ(p)){this.updateId3CueEnds(u);const m=new s(u,f,"");m.value=p,c&&(m.type=c),this.id3Track.addCue(m)}}}}}updateId3CueEnds(e){var r;const n=(r=this.id3Track)==null?void 0:r.cues;if(n)for(let i=n.length;i--;){const a=n[i];a.startTime<e&&a.endTime===jm&&(a.endTime=e)}}onBufferFlushing(e,{startOffset:r,endOffset:n,type:i}){const{id3Track:a,hls:s}=this;if(!s)return;const{config:{enableEmsgMetadataCues:o,enableID3MetadataCues:c}}=s;if(a&&(o||c)){let l;i==="audio"?l=u=>u.type===_i.audioId3&&c:i==="video"?l=u=>u.type===_i.emsg&&o:l=u=>u.type===_i.audioId3&&c||u.type===_i.emsg&&o,jA(a,r,n,l)}}onLevelUpdated(e,{details:r}){if(!this.media||!r.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{dateRangeCuesAppended:n,id3Track:i}=this,{dateRanges:a}=r,s=Object.keys(a);if(i){const u=Object.keys(n).filter(f=>!s.includes(f));for(let f=u.length;f--;){const d=u[f];Object.keys(n[d].cues).forEach(h=>{i.removeCue(n[d].cues[h])}),delete n[d]}}const o=r.fragments[r.fragments.length-1];if(s.length===0||!pe(o==null?void 0:o.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const c=o.programDateTime/1e3-o.start,l=HA();for(let u=0;u<s.length;u++){const f=s[u],d=a[f],h=n[f],p=(h==null?void 0:h.cues)||{};let m=(h==null?void 0:h.durationKnown)||!1;const g=tw(d.startDate,c);let v=jm;const y=d.endDate;if(y)v=tw(y,c),m=!0;else if(d.endOnNext&&!m){const E=s.reduce((S,b)=>{const T=a[b];return T.class===d.class&&T.id!==b&&T.startDate>d.startDate&&S.push(T),S},[]).sort((S,b)=>S.startDate.getTime()-b.startDate.getTime())[0];E&&(v=tw(E.startDate,c),m=!0)}const x=Object.keys(d.attr);for(let E=0;E<x.length;E++){const S=x[E];if(!nHe(S))continue;let b=p[S];if(b)m&&!h.durationKnown&&(b.endTime=v);else{let T=d.attr[S];b=new l(g,v,""),iHe(S)&&(T=qHe(T)),b.value={key:S,data:T},b.type=_i.dateRange,b.id=f,this.id3Track.addCue(b),p[S]=b}}n[f]={cues:p,dateRange:d,durationKnown:m}}}}class QHe{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=()=>this.timeupdate(),this.hls=e,this.config=e.config,this.registerListeners()}get latency(){return this._latency||0}get maxLatency(){const{config:e,levelDetails:r}=this;return e.liveMaxLatencyDuration!==void 0?e.liveMaxLatencyDuration:r?e.liveMaxLatencyDurationCount*r.targetduration:0}get targetLatency(){const{levelDetails:e}=this;if(e===null)return null;const{holdBack:r,partHoldBack:n,targetduration:i}=e,{liveSyncDuration:a,liveSyncDurationCount:s,lowLatencyMode:o}=this.config,c=this.hls.userConfig;let l=o&&n||r;(c.liveSyncDuration||c.liveSyncDurationCount||l===0)&&(l=a!==void 0?a:s*i);const u=i,f=1;return l+Math.min(this.stallCount*f,u)}get liveSyncPosition(){const e=this.estimateLiveEdge(),r=this.targetLatency,n=this.levelDetails;if(e===null||r===null||n===null)return null;const i=n.edge,a=e-r-this.edgeStalled,s=i-n.totalduration,o=i-(this.config.lowLatencyMode&&n.partTarget||n.targetduration);return Math.min(Math.max(s,a),o)}get drift(){const{levelDetails:e}=this;return e===null?1:e.drift}get edgeStalled(){const{levelDetails:e}=this;if(e===null)return 0;const r=(this.config.lowLatencyMode&&e.partTarget||e.targetduration)*3;return Math.max(e.age-r,0)}get forwardBufferLength(){const{media:e,levelDetails:r}=this;if(!e||!r)return 0;const n=e.buffered.length;return(n?e.buffered.end(n-1):r.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null}registerListeners(){this.hls.on($.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on($.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on($.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on($.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on($.ERROR,this.onError,this)}unregisterListeners(){this.hls.off($.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off($.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off($.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off($.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off($.ERROR,this.onError,this)}onMediaAttached(e,r){this.media=r.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)}onManifestLoading(){this.levelDetails=null,this._latency=null,this.stallCount=0}onLevelUpdated(e,{details:r}){this.levelDetails=r,r.advanced&&this.timeupdate(),!r.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)}onError(e,r){var n;r.details===q.BUFFER_STALLED_ERROR&&(this.stallCount++,(n=this.levelDetails)!=null&&n.live&&z.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))}timeupdate(){const{media:e,levelDetails:r}=this;if(!e||!r)return;this.currentTime=e.currentTime;const n=this.computeLatency();if(n===null)return;this._latency=n;const{lowLatencyMode:i,maxLiveSyncPlaybackRate:a}=this.config;if(!i||a===1)return;const s=this.targetLatency;if(s===null)return;const o=n-s,c=Math.min(this.maxLatency,s+r.targetduration),l=o<c;if(r.live&&l&&o>.05&&this.forwardBufferLength>1){const u=Math.min(2,Math.max(1,a)),f=Math.round(2/(1+Math.exp(-.75*o-this.edgeStalled))*20)/20;e.playbackRate=Math.min(u,Math.max(1,f))}else e.playbackRate!==1&&e.playbackRate!==0&&(e.playbackRate=1)}estimateLiveEdge(){const{levelDetails:e}=this;return e===null?null:e.edge+e.age}computeLatency(){const e=this.estimateLiveEdge();return e===null?null:e-this.currentTime}}const GA=["NONE","TYPE-0","TYPE-1",null];var n0={No:"",Yes:"YES",v2:"v2"};function ZHe(t,e){const{canSkipUntil:r,canSkipDateRanges:n,endSN:i}=t,a=e!==void 0?e-i:0;return r&&a<r?n?n0.v2:n0.Yes:n0.No}class z5{constructor(e,r,n){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=r,this.skip=n}addDirectives(e){const r=new self.URL(e);return this.msn!==void 0&&r.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&r.searchParams.set("_HLS_part",this.part.toString()),this.skip&&r.searchParams.set("_HLS_skip",this.skip),r.href}}class Q0{constructor(e){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[e.url],this._attrs=[e.attrs],this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.unknownCodecs=e.unknownCodecs,this.codecSet=[e.videoCodec,e.audioCodec].filter(r=>r).join(",").replace(/\.[^.,]+/g,"")}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get attrs(){return this._attrs[this._urlId]}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get uri(){return this.url[this._urlId]||""}get urlId(){return this._urlId}set urlId(e){const r=e%this.url.length;this._urlId!==r&&(this.fragmentError=0,this.loadError=0,this.details=void 0,this._urlId=r)}get audioGroupId(){var e;return(e=this.audioGroupIds)==null?void 0:e[this.urlId]}get textGroupId(){var e;return(e=this.textGroupIds)==null?void 0:e[this.urlId]}addFallback(e){this.url.push(e.url),this._attrs.push(e.attrs)}}function rw(t,e){const r=e.startPTS;if(pe(r)){let n=0,i;e.sn>t.sn?(n=r-t.start,i=t):(n=t.start-r,i=e),i.duration!==n&&(i.duration=n)}else e.sn>t.sn?t.cc===e.cc&&t.minEndPTS?e.start=t.start+(t.minEndPTS-t.start):e.start=t.start+t.duration:e.start=Math.max(t.start-e.duration,0)}function _Q(t,e,r,n,i,a){n-r<=0&&(z.warn("Fragment should have a positive duration",e),n=r+e.duration,a=i+e.duration);let o=r,c=n;const l=e.startPTS,u=e.endPTS;if(pe(l)){const g=Math.abs(l-r);pe(e.deltaPTS)?e.deltaPTS=Math.max(g,e.deltaPTS):e.deltaPTS=g,o=Math.max(r,l),r=Math.min(r,l),i=Math.min(i,e.startDTS),c=Math.min(n,u),n=Math.max(n,u),a=Math.max(a,e.endDTS)}const f=r-e.start;e.start!==0&&(e.start=r),e.duration=n-e.start,e.startPTS=r,e.maxStartPTS=o,e.startDTS=i,e.endPTS=n,e.minEndPTS=c,e.endDTS=a;const d=e.sn;if(!t||d<t.startSN||d>t.endSN)return 0;let h;const p=d-t.startSN,m=t.fragments;for(m[p]=e,h=p;h>0;h--)rw(m[h],m[h-1]);for(h=p;h<m.length-1;h++)rw(m[h],m[h+1]);return t.fragmentHint&&rw(m[m.length-1],t.fragmentHint),t.PTSKnown=t.alignedSliding=!0,f}function JHe(t,e){let r=null;const n=t.fragments;for(let c=n.length-1;c>=0;c--){const l=n[c].initSegment;if(l){r=l;break}}t.fragmentHint&&delete t.fragmentHint.endPTS;let i=0,a;if(rGe(t,e,(c,l)=>{c.relurl&&(i=c.cc-l.cc),pe(c.startPTS)&&pe(c.endPTS)&&(l.start=l.startPTS=c.startPTS,l.startDTS=c.startDTS,l.maxStartPTS=c.maxStartPTS,l.endPTS=c.endPTS,l.endDTS=c.endDTS,l.minEndPTS=c.minEndPTS,l.duration=c.endPTS-c.startPTS,l.duration&&(a=l),e.PTSKnown=e.alignedSliding=!0),l.elementaryStreams=c.elementaryStreams,l.loader=c.loader,l.stats=c.stats,l.urlId=c.urlId,c.initSegment&&(l.initSegment=c.initSegment,r=c.initSegment)}),r&&(e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments).forEach(l=>{var u;(!l.initSegment||l.initSegment.relurl===((u=r)==null?void 0:u.relurl))&&(l.initSegment=r)}),e.skippedSegments)if(e.deltaUpdateFailed=e.fragments.some(c=>!c),e.deltaUpdateFailed){z.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let c=e.skippedSegments;c--;)e.fragments.shift();e.startSN=e.fragments[0].sn,e.startCC=e.fragments[0].cc}else e.canSkipDateRanges&&(e.dateRanges=eGe(t.dateRanges,e.dateRanges,e.recentlyRemovedDateranges));const s=e.fragments;if(i){z.warn("discontinuity sliding from playlist, take drift into account");for(let c=0;c<s.length;c++)s[c].cc+=i}e.skippedSegments&&(e.startCC=e.fragments[0].cc),tGe(t.partList,e.partList,(c,l)=>{l.elementaryStreams=c.elementaryStreams,l.stats=c.stats}),a?_Q(e,a,a.startPTS,a.endPTS,a.startDTS,a.endDTS):bQ(t,e),s.length&&(e.totalduration=e.edge-s[0].start),e.driftStartTime=t.driftStartTime,e.driftStart=t.driftStart;const o=e.advancedDateTime;if(e.advanced&&o){const c=e.edge;e.driftStart||(e.driftStartTime=o,e.driftStart=c),e.driftEndTime=o,e.driftEnd=c}else e.driftEndTime=t.driftEndTime,e.driftEnd=t.driftEnd,e.advancedDateTime=t.advancedDateTime}function eGe(t,e,r){const n=Pt({},t);return r&&r.forEach(i=>{delete n[i]}),Object.keys(e).forEach(i=>{const a=new nQ(e[i].attr,n[i]);a.isValid?n[i]=a:z.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${JSON.stringify(e[i].attr)}"`)}),n}function tGe(t,e,r){if(t&&e){let n=0;for(let i=0,a=t.length;i<=a;i++){const s=t[i],o=e[i+n];s&&o&&s.index===o.index&&s.fragment.sn===o.fragment.sn?r(s,o):n--}}}function rGe(t,e,r){const n=e.skippedSegments,i=Math.max(t.startSN,e.startSN)-e.startSN,a=(t.fragmentHint?1:0)+(n?e.endSN:Math.min(t.endSN,e.endSN))-e.startSN,s=e.startSN-t.startSN,o=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,c=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments;for(let l=i;l<=a;l++){const u=c[s+l];let f=o[l];n&&!f&&l<n&&(f=e.fragments[l]=u),u&&f&&r(u,f)}}function bQ(t,e){const r=e.startSN+e.skippedSegments-t.startSN,n=t.fragments;r<0||r>=n.length||zA(e,n[r].start)}function zA(t,e){if(e){const r=t.fragments;for(let n=t.skippedSegments;n<r.length;n++)r[n].start+=e;t.fragmentHint&&(t.fragmentHint.start+=e)}}function nGe(t,e=1/0){let r=1e3*t.targetduration;if(t.updated){const n=t.fragments,i=4;if(n.length&&r*i>e){const a=n[n.length-1].duration*1e3;a<r&&(r=a)}}else r/=2;return Math.round(r)}function iGe(t,e,r){if(!(t!=null&&t.details))return null;const n=t.details;let i=n.fragments[e-n.startSN];return i||(i=n.fragmentHint,i&&i.sn===e)?i:e<n.startSN&&r&&r.sn===e?r:null}function V5(t,e,r){var n;return t!=null&&t.details?SQ((n=t.details)==null?void 0:n.partList,e,r):null}function SQ(t,e,r){if(t)for(let n=t.length;n--;){const i=t[n];if(i.index===r&&i.fragment.sn===e)return i}return null}function C1(t){switch(t.details){case q.FRAG_LOAD_TIMEOUT:case q.KEY_LOAD_TIMEOUT:case q.LEVEL_LOAD_TIMEOUT:case q.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function W5(t,e){const r=C1(e);return t.default[`${r?"timeout":"error"}Retry`]}function AO(t,e){const r=t.backoff==="linear"?1:Math.pow(2,e);return Math.min(r*t.retryDelayMs,t.maxRetryDelayMs)}function K5(t){return an(an({},t),{errorRetry:null,timeoutRetry:null})}function k1(t,e,r,n){return!!t&&e<t.maxNumRetry&&(aGe(n)||!!r)}function aGe(t){return t===0&&navigator.onLine===!1||!!t&&(t<400||t>499)}const TQ={search:function(t,e){let r=0,n=t.length-1,i=null,a=null;for(;r<=n;){i=(r+n)/2|0,a=t[i];const s=e(a);if(s>0)r=i+1;else if(s<0)n=i-1;else return a}return null}};function sGe(t,e,r){if(e===null||!Array.isArray(t)||!t.length||!pe(e))return null;const n=t[0].programDateTime;if(e<(n||0))return null;const i=t[t.length-1].endProgramDateTime;if(e>=(i||0))return null;r=r||0;for(let a=0;a<t.length;++a){const s=t[a];if(oGe(e,r,s))return s}return null}function Z0(t,e,r=0,n=0){let i=null;if(t?i=e[t.sn-e[0].sn+1]||null:r===0&&e[0].start===0&&(i=e[0]),i&&VA(r,n,i)===0)return i;const a=TQ.search(e,VA.bind(null,r,n));return a&&(a!==t||!i)?a:i}function VA(t=0,e=0,r){if(r.start<=t&&r.start+r.duration>t)return 0;const n=Math.min(e,r.duration+(r.deltaPTS?r.deltaPTS:0));return r.start+r.duration-n<=t?1:r.start-n>t&&r.start?-1:0}function oGe(t,e,r){const n=Math.min(e,r.duration+(r.deltaPTS?r.deltaPTS:0))*1e3;return(r.endProgramDateTime||0)-n>t}function lGe(t,e){return TQ.search(t,r=>r.cc<e?1:r.cc>e?-1:0)}const cGe=3e5;var jr={DoNothing:0,SendEndCallback:1,SendAlternateToPenaltyBox:2,RemoveAlternatePermanently:3,InsertDiscontinuity:4,RetryRequest:5},Fn={None:0,MoveAllAlternatesMatchingHost:1,MoveAllAlternatesMatchingHDCP:2,SwitchToSDR:4};class uGe{constructor(e){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=e,this.log=z.log.bind(z,"[info]:"),this.warn=z.warn.bind(z,"[warning]:"),this.error=z.error.bind(z,"[error]:"),this.registerListeners()}registerListeners(){const e=this.hls;e.on($.ERROR,this.onError,this),e.on($.MANIFEST_LOADING,this.onManifestLoading,this)}unregisterListeners(){const e=this.hls;e&&(e.off($.ERROR,this.onError,this),e.off($.ERROR,this.onErrorOut,this),e.off($.MANIFEST_LOADING,this.onManifestLoading,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(e){this.playlistError=0}stopLoad(){}getVariantLevelIndex(e){return(e==null?void 0:e.type)===ye.MAIN?e.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onError(e,r){var n;if(r.fatal)return;const i=this.hls,a=r.context;switch(r.details){case q.FRAG_LOAD_ERROR:case q.FRAG_LOAD_TIMEOUT:case q.KEY_LOAD_ERROR:case q.KEY_LOAD_TIMEOUT:r.errorAction=this.getFragRetryOrSwitchAction(r);return;case q.FRAG_GAP:case q.FRAG_PARSING_ERROR:case q.FRAG_DECRYPT_ERROR:{r.errorAction=this.getFragRetryOrSwitchAction(r),r.errorAction.action=jr.SendAlternateToPenaltyBox;return}case q.LEVEL_EMPTY_ERROR:case q.LEVEL_PARSING_ERROR:{var s,o;const c=r.parent===ye.MAIN?r.level:i.loadLevel;r.details===q.LEVEL_EMPTY_ERROR&&((s=r.context)!=null&&(o=s.levelDetails)!=null&&o.live)?r.errorAction=this.getPlaylistRetryOrSwitchAction(r,c):(r.levelRetry=!1,r.errorAction=this.getLevelSwitchAction(r,c))}return;case q.LEVEL_LOAD_ERROR:case q.LEVEL_LOAD_TIMEOUT:typeof(a==null?void 0:a.level)=="number"&&(r.errorAction=this.getPlaylistRetryOrSwitchAction(r,a.level));return;case q.AUDIO_TRACK_LOAD_ERROR:case q.AUDIO_TRACK_LOAD_TIMEOUT:case q.SUBTITLE_LOAD_ERROR:case q.SUBTITLE_TRACK_LOAD_TIMEOUT:if(a){const c=i.levels[i.loadLevel];if(c&&(a.type===je.AUDIO_TRACK&&a.groupId===c.audioGroupId||a.type===je.SUBTITLE_TRACK&&a.groupId===c.textGroupId)){r.errorAction=this.getPlaylistRetryOrSwitchAction(r,i.loadLevel),r.errorAction.action=jr.SendAlternateToPenaltyBox,r.errorAction.flags=Fn.MoveAllAlternatesMatchingHost;return}}return;case q.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const c=i.levels[i.loadLevel],l=c==null?void 0:c.attrs["HDCP-LEVEL"];l&&(r.errorAction={action:jr.SendAlternateToPenaltyBox,flags:Fn.MoveAllAlternatesMatchingHDCP,hdcpLevel:l})}return;case q.BUFFER_ADD_CODEC_ERROR:case q.REMUX_ALLOC_ERROR:r.errorAction=this.getLevelSwitchAction(r,(n=r.level)!=null?n:i.loadLevel);return;case q.INTERNAL_EXCEPTION:case q.BUFFER_APPENDING_ERROR:case q.BUFFER_APPEND_ERROR:case q.BUFFER_FULL_ERROR:case q.LEVEL_SWITCH_ERROR:case q.BUFFER_STALLED_ERROR:case q.BUFFER_SEEK_OVER_HOLE:case q.BUFFER_NUDGE_ON_STALL:r.errorAction={action:jr.DoNothing,flags:Fn.None};return}if(r.type===me.KEY_SYSTEM_ERROR){const c=this.getVariantLevelIndex(r.frag);r.levelRetry=!1,r.errorAction=this.getLevelSwitchAction(r,c);return}}getPlaylistRetryOrSwitchAction(e,r){var n,i;const a=this.hls,s=W5(a.config.playlistLoadPolicy,e),o=this.playlistError++,c=(n=e.response)==null?void 0:n.code;return k1(s,o,C1(e),c)?{action:jr.RetryRequest,flags:Fn.None,retryConfig:s,retryCount:o}:(i=e.context)!=null&&i.deliveryDirectives?{action:jr.DoNothing,flags:Fn.None,retryConfig:s||{maxNumRetry:0,retryDelayMs:0,maxRetryDelayMs:0},retryCount:o}:this.getLevelSwitchAction(e,r)}getFragRetryOrSwitchAction(e){const r=this.hls,n=this.getVariantLevelIndex(e.frag),i=r.levels[n],{fragLoadPolicy:a,keyLoadPolicy:s}=r.config,o=W5(e.details.startsWith("key")?s:a,e),c=r.levels.reduce((f,d)=>f+d.fragmentError,0);if(i){var l;e.details!==q.FRAG_GAP&&i.fragmentError++;const f=(l=e.response)==null?void 0:l.code;if(k1(o,c,C1(e),f))return{action:jr.RetryRequest,flags:Fn.None,retryConfig:o,retryCount:c}}const u=this.getLevelSwitchAction(e,n);return o&&(u.retryConfig=o,u.retryCount=c),u}getLevelSwitchAction(e,r){const n=this.hls;r==null&&(r=n.loadLevel);const i=this.hls.levels[r];if(i&&(i.loadError++,n.autoLevelEnabled)){var a,s;let o=-1;const c=n.levels,l=(a=e.frag)==null?void 0:a.type,{type:u,groupId:f}=(s=e.context)!=null?s:{};for(let d=c.length;d--;){const h=(d+n.loadLevel)%c.length;if(h!==n.loadLevel&&c[h].loadError===0){const p=c[h];if(e.details===q.FRAG_GAP&&e.frag){const m=c[h].details;if(m){const g=Z0(e.frag,m.fragments,e.frag.start);if(g!=null&&g.gap)continue}}else{if(u===je.AUDIO_TRACK&&f===p.audioGroupId||u===je.SUBTITLE_TRACK&&f===p.textGroupId)continue;if(l===ye.AUDIO&&i.audioGroupId===p.audioGroupId||l===ye.SUBTITLE&&i.textGroupId===p.textGroupId)continue}o=h;break}}if(o>-1&&n.loadLevel!==o)return e.levelRetry=!0,{action:jr.SendAlternateToPenaltyBox,flags:Fn.None,nextAutoLevel:o}}return{action:jr.SendAlternateToPenaltyBox,flags:Fn.MoveAllAlternatesMatchingHost}}onErrorOut(e,r){var n;switch((n=r.errorAction)==null?void 0:n.action){case jr.DoNothing:break;case jr.SendAlternateToPenaltyBox:this.sendAlternateToPenaltyBox(r),!r.errorAction.resolved&&r.details!==q.FRAG_GAP&&(r.fatal=!0);break}if(r.fatal){this.hls.stopLoad();return}}sendAlternateToPenaltyBox(e){const r=this.hls,n=e.errorAction;if(!n)return;const{flags:i,hdcpLevel:a,nextAutoLevel:s}=n;switch(i){case Fn.None:this.switchLevel(e,s);break;case Fn.MoveAllAlternatesMatchingHost:n.resolved||(n.resolved=this.redundantFailover(e));break;case Fn.MoveAllAlternatesMatchingHDCP:a&&(r.maxHdcpLevel=GA[GA.indexOf(a)-1],n.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${r.maxHdcpLevel}" or lower`);break}n.resolved||this.switchLevel(e,s)}switchLevel(e,r){r!==void 0&&e.errorAction&&(this.warn(`switching to level ${r} after ${e.details}`),this.hls.nextAutoLevel=r,e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)}redundantFailover(e){const{hls:r,penalizedRenditions:n}=this,i=e.parent===ye.MAIN?e.level:r.loadLevel,a=r.levels[i],s=a.url.length,o=e.frag?e.frag.urlId:a.urlId;a.urlId===o&&(!e.frag||a.details)&&this.penalizeRendition(a,e);for(let c=1;c<s;c++){const l=(o+c)%s,u=n[l];if(!u||fGe(u,e,n[o]))return this.warn(`Switching to Redundant Stream ${l+1}/${s}: "${a.url[l]}" after ${e.details}`),this.playlistError=0,r.levels.forEach(f=>{f.urlId=l}),r.nextLoadLevel=i,!0}return!1}penalizeRendition(e,r){const{penalizedRenditions:n}=this,i=n[e.urlId]||{lastErrorPerfMs:0,errors:[],details:void 0};i.lastErrorPerfMs=performance.now(),i.errors.push(r),i.details=e.details,n[e.urlId]=i}}function fGe(t,e,r){if(performance.now()-t.lastErrorPerfMs>cGe)return!0;const n=t.details;if(e.details===q.FRAG_GAP&&n&&e.frag){const i=e.frag.start,a=Z0(null,n.fragments,i);if(a&&!a.gap)return!0}if(r&&t.errors.length<r.errors.length){const i=t.errors[t.errors.length-1];if(n&&i.frag&&e.frag&&Math.abs(i.frag.start-e.frag.start)>n.targetduration*3)return!0}return!1}class IO{constructor(e,r){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=z.log.bind(z,`${r}:`),this.warn=z.warn.bind(z,`${r}:`),this.hls=e}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){clearTimeout(this.timer),this.timer=-1}startLoad(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(e,r){const n=r==null?void 0:r.renditionReports;if(n){let i=-1;for(let a=0;a<n.length;a++){const s=n[a];let o;try{o=new self.URL(s.URI,r.url).href}catch(c){z.warn(`Could not construct new URL for Rendition Report: ${c}`),o=s.URI||""}if(o===e){i=a;break}else o===e.substring(0,o.length)&&(i=a)}if(i!==-1){const a=n[i],s=parseInt(a["LAST-MSN"])||(r==null?void 0:r.lastPartSn);let o=parseInt(a["LAST-PART"])||(r==null?void 0:r.lastPartIndex);if(this.hls.config.lowLatencyMode){const c=Math.min(r.age-r.partTarget,r.targetduration);o>=0&&c>r.partTarget&&(o+=1)}return new z5(s,o>=0?o:void 0,n0.No)}}}loadPlaylist(e){this.requestScheduled===-1&&(this.requestScheduled=self.performance.now())}shouldLoadPlaylist(e){return this.canLoad&&!!e&&!!e.url&&(!e.details||e.details.live)}shouldReloadPlaylist(e){return this.timer===-1&&this.requestScheduled===-1&&this.shouldLoadPlaylist(e)}playlistLoaded(e,r,n){const{details:i,stats:a}=r,s=self.performance.now(),o=a.loading.first?Math.max(0,s-a.loading.first):0;if(i.advancedDateTime=Date.now()-o,i.live||n!=null&&n.live){if(i.reloaded(n),n&&this.log(`live playlist ${e} ${i.advanced?"REFRESHED "+i.lastPartSn+"-"+i.lastPartIndex:"MISSED"}`),n&&i.fragments.length>0&&JHe(n,i),!this.canLoad||!i.live)return;let c,l,u;if(i.canBlockReload&&i.endSN&&i.advanced){const g=this.hls.config.lowLatencyMode,v=i.lastPartSn,y=i.endSN,x=i.lastPartIndex,E=x!==-1,S=v===y,b=g?0:x;E?(l=S?y+1:v,u=S?b:x+1):l=y+1;const T=i.age,R=T+i.ageHeader;let I=Math.min(R-i.partTarget,i.targetduration*1.5);if(I>0){if(n&&I>n.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${n.tuneInGoal} to: ${I} with playlist age: ${i.age}`),I=0;else{const w=Math.floor(I/i.targetduration);if(l+=w,u!==void 0){const C=Math.round(I%i.targetduration/i.partTarget);u+=C}this.log(`CDN Tune-in age: ${i.ageHeader}s last advanced ${T.toFixed(2)}s goal: ${I} skip sn ${w} to part ${u}`)}i.tuneInGoal=I}if(c=this.getDeliveryDirectives(i,r.deliveryDirectives,l,u),g||!S){this.loadPlaylist(c);return}}else i.canBlockReload&&(c=this.getDeliveryDirectives(i,r.deliveryDirectives,l,u));const f=this.hls.mainForwardBufferInfo,d=f?f.end-f.len:0,h=(i.edge-d)*1e3,p=nGe(i,h);i.updated&&s>this.requestScheduled+p&&(this.requestScheduled=a.loading.start),l!==void 0&&i.canBlockReload?this.requestScheduled=a.loading.first+p-(i.partTarget*1e3||1e3):this.requestScheduled===-1||this.requestScheduled+p<s?this.requestScheduled=s:this.requestScheduled-s<=0&&(this.requestScheduled+=p);let m=this.requestScheduled-s;m=Math.max(0,m),this.log(`reload live playlist ${e} in ${Math.round(m)} ms`),this.timer=self.setTimeout(()=>this.loadPlaylist(c),m)}else this.clearTimer()}getDeliveryDirectives(e,r,n,i){let a=ZHe(e,n);return r!=null&&r.skip&&e.deltaUpdateFailed&&(n=r.msn,i=r.part,a=n0.No),new z5(n,i,a)}checkRetry(e){const r=e.details,n=C1(e),i=e.errorAction,{action:a,retryCount:s=0,retryConfig:o}=i||{},c=a===jr.RetryRequest&&!!i&&!!o;if(c){var l;if(this.requestScheduled=-1,n&&(l=e.context)!=null&&l.deliveryDirectives)this.warn(`Retrying playlist loading ${s+1}/${o.maxNumRetry} after "${r}" without delivery-directives`),this.loadPlaylist();else{const u=AO(o,s);this.timer=self.setTimeout(()=>this.loadPlaylist(),u),this.warn(`Retrying playlist loading ${s+1}/${o.maxNumRetry} after "${r}" in ${u}ms`)}e.levelRetry=!0,i.resolved=!0}return c}}let nw;class dGe extends IO{constructor(e,r){super(e,"[level-controller]"),this._levels=[],this._firstLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=r,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on($.MANIFEST_LOADING,this.onManifestLoading,this),e.on($.MANIFEST_LOADED,this.onManifestLoaded,this),e.on($.LEVEL_LOADED,this.onLevelLoaded,this),e.on($.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on($.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on($.FRAG_LOADED,this.onFragLoaded,this),e.on($.ERROR,this.onError,this)}_unregisterListeners(){const{hls:e}=this;e.off($.MANIFEST_LOADING,this.onManifestLoading,this),e.off($.MANIFEST_LOADED,this.onManifestLoaded,this),e.off($.LEVEL_LOADED,this.onLevelLoaded,this),e.off($.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off($.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off($.FRAG_LOADED,this.onFragLoaded,this),e.off($.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}startLoad(){this._levels.forEach(r=>{r.loadError=0,r.fragmentError=0}),super.startLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[]}onManifestLoading(e,r){this.resetLevels()}onManifestLoaded(e,r){const n=[],i={};let a;r.levels.forEach(s=>{var o;const c=s.attrs;((o=s.audioCodec)==null?void 0:o.indexOf("mp4a.40.34"))!==-1&&(nw||(nw=/chrome|firefox/i.test(navigator.userAgent)),nw&&(s.audioCodec=void 0));const{AUDIO:l,CODECS:u,"FRAME-RATE":f,"PATHWAY-ID":d,RESOLUTION:h,SUBTITLES:p}=c,g=`${`${d||"."}-`}${s.bitrate}-${h}-${f}-${u}`;a=i[g],a?a.addFallback(s):(a=new Q0(s),i[g]=a,n.push(a)),O1(a,"audio",l),O1(a,"text",p)}),this.filterAndSortMediaOptions(n,r)}filterAndSortMediaOptions(e,r){let n=[],i=[],a=!1,s=!1,o=!1,c=e.filter(({audioCodec:h,videoCodec:p,width:m,height:g,unknownCodecs:v})=>(a||(a=!!(m&&g)),s||(s=!!p),o||(o=!!h),!(v!=null&&v.length)&&(!h||JT(h,"audio"))&&(!p||JT(p,"video"))));if((a||s)&&o&&(c=c.filter(({videoCodec:h,width:p,height:m})=>!!h||!!(p&&m))),c.length===0){Promise.resolve().then(()=>{if(this.hls){const h=new Error("no level with compatible codecs found in manifest");this.hls.trigger($.ERROR,{type:me.MEDIA_ERROR,details:q.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:r.url,error:h,reason:h.message})}});return}r.audioTracks&&(n=r.audioTracks.filter(h=>!h.audioCodec||JT(h.audioCodec,"audio")),Y5(n)),r.subtitles&&(i=r.subtitles,Y5(i));const l=c.slice(0);c.sort((h,p)=>h.attrs["HDCP-LEVEL"]!==p.attrs["HDCP-LEVEL"]?(h.attrs["HDCP-LEVEL"]||"")>(p.attrs["HDCP-LEVEL"]||"")?1:-1:h.bitrate!==p.bitrate?h.bitrate-p.bitrate:h.attrs["FRAME-RATE"]!==p.attrs["FRAME-RATE"]?h.attrs.decimalFloatingPoint("FRAME-RATE")-p.attrs.decimalFloatingPoint("FRAME-RATE"):h.attrs.SCORE!==p.attrs.SCORE?h.attrs.decimalFloatingPoint("SCORE")-p.attrs.decimalFloatingPoint("SCORE"):a&&h.height!==p.height?h.height-p.height:0);let u=l[0];if(this.steering&&(c=this.steering.filterParsedLevels(c),c.length!==l.length)){for(let h=0;h<l.length;h++)if(l[h].pathwayId===c[0].pathwayId){u=l[h];break}}this._levels=c;for(let h=0;h<c.length;h++)if(c[h]===u){this._firstLevel=h,this.log(`manifest loaded, ${c.length} level(s) found, first bitrate: ${u.bitrate}`);break}const f=o&&!s,d={levels:c,audioTracks:n,subtitleTracks:i,sessionData:r.sessionData,sessionKeys:r.sessionKeys,firstLevel:this._firstLevel,stats:r.stats,audio:o,video:s,altAudio:!f&&n.some(h=>!!h.url)};this.hls.trigger($.MANIFEST_PARSED,d),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}get levels(){return this._levels.length===0?null:this._levels}get level(){return this.currentLevelIndex}set level(e){const r=this._levels;if(r.length===0)return;if(e<0||e>=r.length){const u=new Error("invalid level idx"),f=e<0;if(this.hls.trigger($.ERROR,{type:me.OTHER_ERROR,details:q.LEVEL_SWITCH_ERROR,level:e,fatal:f,error:u,reason:u.message}),f)return;e=Math.min(e,r.length-1)}const n=this.currentLevelIndex,i=this.currentLevel,a=i?i.attrs["PATHWAY-ID"]:void 0,s=r[e],o=s.attrs["PATHWAY-ID"];if(this.currentLevelIndex=e,this.currentLevel=s,n===e&&s.details&&i&&a===o)return;this.log(`Switching to level ${e}${o?" with Pathway "+o:""} from level ${n}${a?" with Pathway "+a:""}`);const c=Pt({},s,{level:e,maxBitrate:s.maxBitrate,attrs:s.attrs,uri:s.uri,urlId:s.urlId});delete c._attrs,delete c._urlId,this.hls.trigger($.LEVEL_SWITCHING,c);const l=s.details;if(!l||l.live){const u=this.switchParams(s.uri,i==null?void 0:i.details);this.loadPlaylist(u)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(e){this.manualLevelIndex=e,this._startLevel===void 0&&(this._startLevel=e),e!==-1&&(this.level=e)}get firstLevel(){return this._firstLevel}set firstLevel(e){this._firstLevel=e}get startLevel(){if(this._startLevel===void 0){const e=this.hls.config.startLevel;return e!==void 0?e:this._firstLevel}else return this._startLevel}set startLevel(e){this._startLevel=e}onError(e,r){r.fatal||!r.context||r.context.type===je.LEVEL&&r.context.level===this.level&&this.checkRetry(r)}onFragLoaded(e,{frag:r}){if(r!==void 0&&r.type===ye.MAIN){const n=this._levels[r.level];n!==void 0&&(n.loadError=0)}}onLevelLoaded(e,r){var n;const{level:i,details:a}=r,s=this._levels[i];if(!s){var o;this.warn(`Invalid level index ${i}`),(o=r.deliveryDirectives)!=null&&o.skip&&(a.deltaUpdateFailed=!0);return}i===this.currentLevelIndex?(s.fragmentError===0&&(s.loadError=0),this.playlistLoaded(i,r,s.details)):(n=r.deliveryDirectives)!=null&&n.skip&&(a.deltaUpdateFailed=!0)}onAudioTrackSwitched(e,r){const n=this.currentLevel;if(!n)return;const i=this.hls.audioTracks[r.id].groupId;if(n.audioGroupIds&&n.audioGroupId!==i){let a=-1;for(let s=0;s<n.audioGroupIds.length;s++)if(n.audioGroupIds[s]===i){a=s;break}a!==-1&&a!==n.urlId&&(n.urlId=a,this.canLoad&&this.startLoad())}}loadPlaylist(e){super.loadPlaylist();const r=this.currentLevelIndex,n=this.currentLevel;if(n&&this.shouldLoadPlaylist(n)){const i=n.urlId;let a=n.uri;if(e)try{a=e.addDirectives(a)}catch(o){this.warn(`Could not construct new URL with HLS Delivery Directives: ${o}`)}const s=n.attrs["PATHWAY-ID"];this.log(`Loading level index ${r}${(e==null?void 0:e.msn)!==void 0?" at sn "+e.msn+" part "+e.part:""} with${s?" Pathway "+s:""} URI ${i+1}/${n.url.length} ${a}`),this.clearTimer(),this.hls.trigger($.LEVEL_LOADING,{url:a,level:r,id:i,deliveryDirectives:e||null})}}get nextLoadLevel(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(e){this.level=e,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=e)}removeLevel(e,r){const n=(a,s)=>s!==r,i=this._levels.filter((a,s)=>s!==e?!0:a.url.length>1&&r!==void 0?(a.url=a.url.filter(n),a.audioGroupIds&&(a.audioGroupIds=a.audioGroupIds.filter(n)),a.textGroupIds&&(a.textGroupIds=a.textGroupIds.filter(n)),a.urlId=0,!0):(this.steering&&this.steering.removeLevel(a),!1));this.hls.trigger($.LEVELS_UPDATED,{levels:i})}onLevelsUpdated(e,{levels:r}){r.forEach((n,i)=>{const{details:a}=n;a!=null&&a.fragments&&a.fragments.forEach(s=>{s.level=i})}),this._levels=r}}function O1(t,e,r){r&&(e==="audio"?(t.audioGroupIds||(t.audioGroupIds=[]),t.audioGroupIds[t.url.length-1]=r):e==="text"&&(t.textGroupIds||(t.textGroupIds=[]),t.textGroupIds[t.url.length-1]=r))}function Y5(t){const e={};t.forEach(r=>{const n=r.groupId||"";r.id=e[n]=e[n]||0,e[n]++})}var Sr={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};class hGe{constructor(e){this.mainFragEntity=null,this.activeParts=null,this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=e,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on($.BUFFER_APPENDED,this.onBufferAppended,this),e.on($.FRAG_BUFFERED,this.onFragBuffered,this),e.on($.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:e}=this;e.off($.BUFFER_APPENDED,this.onBufferAppended,this),e.off($.FRAG_BUFFERED,this.onFragBuffered,this),e.off($.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.endListFragments=this.timeRanges=this.mainFragEntity=this.activeParts=null}getAppendedFrag(e,r){if(r===ye.MAIN){const{mainFragEntity:n,activeParts:i}=this;if(n){if(n&&i)for(let a=i.length;a--;){const s=i[a],o=s?s.end:n.appendedPTS;if(s.start<=e&&o!==null&&e<=o)return a>9&&(this.activeParts=i.slice(a-9)),s}else if(n.body.start<=e&&n.appendedPTS!==null&&e<=n.appendedPTS)return n.body}}return this.getBufferedFrag(e,r)}getBufferedFrag(e,r){const{fragments:n}=this,i=Object.keys(n);for(let a=i.length;a--;){const s=n[i[a]];if((s==null?void 0:s.body.type)===r&&s.buffered){const o=s.body;if(o.start<=e&&e<=o.end)return o}}return null}detectEvictedFragments(e,r,n){this.timeRanges&&(this.timeRanges[e]=r),Object.keys(this.fragments).forEach(i=>{const a=this.fragments[i];if(!a)return;if(!a.buffered&&!a.loaded){a.body.type===n&&this.removeFragment(a.body);return}const s=a.range[e];s&&s.time.some(o=>{const c=!this.isTimeBuffered(o.startPTS,o.endPTS,r);return c&&this.removeFragment(a.body),c})})}detectPartialFragments(e){const r=this.timeRanges,{frag:n,part:i}=e;if(!r||n.sn==="initSegment")return;const a=Ps(n),s=this.fragments[a];s&&(Object.keys(r).forEach(o=>{const c=n.elementaryStreams[o];if(!c)return;const l=r[o],u=i!==null||c.partial===!0;s.range[o]=this.getBufferedTimes(n,i,u,l)}),s.loaded=null,Object.keys(s.range).length?(s.buffered=!0,s.body.endList&&(this.endListFragments[s.body.type]=s)):this.removeFragment(s.body))}fragBuffered(e,r){const n=Ps(e);let i=this.fragments[n];!i&&r&&(i=this.fragments[n]={body:e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},e.gap&&(this.hasGaps=!0)),i&&(i.loaded=null,i.buffered=!0)}getBufferedTimes(e,r,n,i){const a={time:[],partial:n},s=r?r.start:e.start,o=r?r.end:e.end,c=e.minEndPTS||o,l=e.maxStartPTS||s;for(let u=0;u<i.length;u++){const f=i.start(u)-this.bufferPadding,d=i.end(u)+this.bufferPadding;if(l>=f&&c<=d){a.time.push({startPTS:Math.max(s,i.start(u)),endPTS:Math.min(o,i.end(u))});break}else if(s<d&&o>f)a.partial=!0,a.time.push({startPTS:Math.max(s,i.start(u)),endPTS:Math.min(o,i.end(u))});else if(o<=f)break}return a}getPartialFragment(e){let r=null,n,i,a,s=0;const{bufferPadding:o,fragments:c}=this;return Object.keys(c).forEach(l=>{const u=c[l];u&&iw(u)&&(i=u.body.start-o,a=u.body.end+o,e>=i&&e<=a&&(n=Math.min(e-i,a-e),s<=n&&(r=u.body,s=n)))}),r}isEndListAppended(e){const r=this.endListFragments[e];return r!==void 0&&(r.buffered||iw(r))}getState(e){const r=Ps(e),n=this.fragments[r];return n?n.buffered?iw(n)?Sr.PARTIAL:Sr.OK:Sr.APPENDING:Sr.NOT_LOADED}isTimeBuffered(e,r,n){let i,a;for(let s=0;s<n.length;s++){if(i=n.start(s)-this.bufferPadding,a=n.end(s)+this.bufferPadding,e>=i&&r<=a)return!0;if(r<=i)return!1}return!1}onFragLoaded(e,r){const{frag:n,part:i}=r;if(n.sn==="initSegment"||n.bitrateTest||i)return;const a=Ps(n);this.fragments[a]={body:n,appendedPTS:null,loaded:r,buffered:!1,range:Object.create(null)}}onBufferAppended(e,r){const{frag:n,part:i,timeRanges:a}=r;let s=this.mainFragEntity;if(n.type===ye.MAIN){const o=s?s.body:null;if(o!==n){s&&o&&o.sn!==n.sn&&(s.buffered=!0,this.fragments[Ps(o)]=s);const c=Ps(n);s=this.mainFragEntity=this.fragments[c]||{body:n,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)}}if(i){let c=this.activeParts;c||(this.activeParts=c=[]),c.push(i)}else this.activeParts=null}this.timeRanges=a,Object.keys(a).forEach(o=>{const c=a[o];if(this.detectEvictedFragments(o,c),!i&&s){const l=n.elementaryStreams[o];if(!l)return;for(let u=0;u<c.length;u++){const f=c.end(u);f<=l.endPTS&&f>l.startPTS?s.appendedPTS=Math.max(f,s.appendedPTS||0):s.appendedPTS=l.endPTS}}})}onFragBuffered(e,r){this.detectPartialFragments(r)}hasFragment(e){const r=Ps(e);return!!this.fragments[r]}removeFragmentsInRange(e,r,n,i,a){i&&!this.hasGaps||Object.keys(this.fragments).forEach(s=>{const o=this.fragments[s];if(!o)return;const c=o.body;c.type!==n||i&&!c.gap||c.start<r&&c.end>e&&(o.buffered||a)&&this.removeFragment(c)})}removeFragment(e){const r=Ps(e);e.stats.loaded=0,e.clearElementaryStreamInfo(),this.mainFragEntity===this.fragments[r]&&(this.mainFragEntity=null),delete this.fragments[r],e.endList&&delete this.endListFragments[e.type]}removeAllFragments(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.mainFragEntity=null,this.activeParts=null,this.hasGaps=!1}}function iw(t){var e,r;return t.buffered&&(t.body.gap||((e=t.range.video)==null?void 0:e.partial)||((r=t.range.audio)==null?void 0:r.partial))}function Ps(t){return`${t.type}_${t.level}_${t.urlId}_${t.sn}`}const q5=Math.pow(2,17);class pGe{constructor(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(e,r){const n=e.url;if(!n)return Promise.reject(new Ma({type:me.NETWORK_ERROR,details:q.FRAG_LOAD_ERROR,fatal:!1,frag:e,error:new Error(`Fragment does not have a ${n?"part list":"url"}`),networkDetails:null}));this.abort();const i=this.config,a=i.fLoader,s=i.loader;return new Promise((o,c)=>{if(this.loader&&this.loader.destroy(),e.gap){c(Q5(e));return}const l=this.loader=e.loader=a?new a(i):new s(i),u=X5(e),f=K5(i.fragLoadPolicy.default),d={loadPolicy:f,timeout:f.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:e.sn==="initSegment"?1/0:q5};e.stats=l.stats,l.load(u,d,{onSuccess:(h,p,m,g)=>{this.resetLoader(e,l);let v=h.data;m.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array(v.slice(0,16)),v=v.slice(16)),o({frag:e,part:null,payload:v,networkDetails:g})},onError:(h,p,m,g)=>{this.resetLoader(e,l),c(new Ma({type:me.NETWORK_ERROR,details:q.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:an({url:n,data:void 0},h),error:new Error(`HTTP Error ${h.code} ${h.text}`),networkDetails:m,stats:g}))},onAbort:(h,p,m)=>{this.resetLoader(e,l),c(new Ma({type:me.NETWORK_ERROR,details:q.INTERNAL_ABORTED,fatal:!1,frag:e,error:new Error("Aborted"),networkDetails:m,stats:h}))},onTimeout:(h,p,m)=>{this.resetLoader(e,l),c(new Ma({type:me.NETWORK_ERROR,details:q.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,error:new Error(`Timeout after ${d.timeout}ms`),networkDetails:m,stats:h}))},onProgress:(h,p,m,g)=>{r&&r({frag:e,part:null,payload:m,networkDetails:g})}})})}loadPart(e,r,n){this.abort();const i=this.config,a=i.fLoader,s=i.loader;return new Promise((o,c)=>{if(this.loader&&this.loader.destroy(),e.gap||r.gap){c(Q5(e,r));return}const l=this.loader=e.loader=a?new a(i):new s(i),u=X5(e,r),f=K5(i.fragLoadPolicy.default),d={loadPolicy:f,timeout:f.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:q5};r.stats=l.stats,l.load(u,d,{onSuccess:(h,p,m,g)=>{this.resetLoader(e,l),this.updateStatsFromPart(e,r);const v={frag:e,part:r,payload:h.data,networkDetails:g};n(v),o(v)},onError:(h,p,m,g)=>{this.resetLoader(e,l),c(new Ma({type:me.NETWORK_ERROR,details:q.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:r,response:an({url:u.url,data:void 0},h),error:new Error(`HTTP Error ${h.code} ${h.text}`),networkDetails:m,stats:g}))},onAbort:(h,p,m)=>{e.stats.aborted=r.stats.aborted,this.resetLoader(e,l),c(new Ma({type:me.NETWORK_ERROR,details:q.INTERNAL_ABORTED,fatal:!1,frag:e,part:r,error:new Error("Aborted"),networkDetails:m,stats:h}))},onTimeout:(h,p,m)=>{this.resetLoader(e,l),c(new Ma({type:me.NETWORK_ERROR,details:q.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:r,error:new Error(`Timeout after ${d.timeout}ms`),networkDetails:m,stats:h}))}})})}updateStatsFromPart(e,r){const n=e.stats,i=r.stats,a=i.total;if(n.loaded+=i.loaded,a){const c=Math.round(e.duration/r.duration),l=Math.min(Math.round(n.loaded/a),c),f=(c-l)*Math.round(n.loaded/l);n.total=n.loaded+f}else n.total=Math.max(n.loaded,n.total);const s=n.loading,o=i.loading;s.start?s.first+=o.first-o.start:(s.start=o.start,s.first=o.first),s.end=o.end}resetLoader(e,r){e.loader=null,this.loader===r&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),r.destroy()}}function X5(t,e=null){const r=e||t,n={frag:t,part:e,responseType:"arraybuffer",url:r.url,headers:{},rangeStart:0,rangeEnd:0},i=r.byteRangeStartOffset,a=r.byteRangeEndOffset;if(pe(i)&&pe(a)){var s;let o=i,c=a;if(t.sn==="initSegment"&&((s=t.decryptdata)==null?void 0:s.method)==="AES-128"){const l=a-i;l%16&&(c=a+(16-l%16)),i!==0&&(n.resetIV=!0,o=i-16)}n.rangeStart=o,n.rangeEnd=c}return n}function Q5(t,e){const r=new Error(`GAP ${t.gap?"tag":"attribute"} found`),n={type:me.MEDIA_ERROR,details:q.FRAG_GAP,fatal:!1,frag:t,error:r,networkDetails:null};return e&&(n.part=e),(e||t).stats.aborted=!0,new Ma(n)}class Ma extends Error{constructor(e){super(e.error.message),this.data=void 0,this.data=e}}class gGe{constructor(e){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=e}abort(){for(const e in this.keyUriToKeyInfo){const r=this.keyUriToKeyInfo[e].loader;r&&r.abort()}}detach(){for(const e in this.keyUriToKeyInfo){const r=this.keyUriToKeyInfo[e];(r.mediaKeySessionContext||r.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[e]}}destroy(){this.detach();for(const e in this.keyUriToKeyInfo){const r=this.keyUriToKeyInfo[e].loader;r&&r.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(e,r=q.KEY_LOAD_ERROR,n,i,a){return new Ma({type:me.NETWORK_ERROR,details:r,fatal:!1,frag:e,response:a,error:n,networkDetails:i})}loadClear(e,r){if(this.emeController&&this.config.emeEnabled){const{sn:n,cc:i}=e;for(let a=0;a<r.length;a++){const s=r[a];if(i<=s.cc&&(n==="initSegment"||s.sn==="initSegment"||n<s.sn)){this.emeController.selectKeySystemFormat(s).then(o=>{s.setKeyFormat(o)});break}}}}load(e){return!e.decryptdata&&e.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(e).then(r=>this.loadInternal(e,r)):this.loadInternal(e)}loadInternal(e,r){var n,i;r&&e.setKeyFormat(r);const a=e.decryptdata;if(!a){const l=new Error(r?`Expected frag.decryptdata to be defined after setting format ${r}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(e,q.KEY_LOAD_ERROR,l))}const s=a.uri;if(!s)return Promise.reject(this.createKeyLoadError(e,q.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${s}"`)));let o=this.keyUriToKeyInfo[s];if((n=o)!=null&&n.decryptdata.key)return a.key=o.decryptdata.key,Promise.resolve({frag:e,keyInfo:o});if((i=o)!=null&&i.keyLoadPromise){var c;switch((c=o.mediaKeySessionContext)==null?void 0:c.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return o.keyLoadPromise.then(l=>(a.key=l.keyInfo.decryptdata.key,{frag:e,keyInfo:o}))}}switch(o=this.keyUriToKeyInfo[s]={decryptdata:a,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},a.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return a.keyFormat==="identity"?this.loadKeyHTTP(o,e):this.loadKeyEME(o,e);case"AES-128":return this.loadKeyHTTP(o,e);default:return Promise.reject(this.createKeyLoadError(e,q.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${a.method}"`)))}}loadKeyEME(e,r){const n={frag:r,keyInfo:e};if(this.emeController&&this.config.emeEnabled){const i=this.emeController.loadKey(n);if(i)return(e.keyLoadPromise=i.then(a=>(e.mediaKeySessionContext=a,n))).catch(a=>{throw e.keyLoadPromise=null,a})}return Promise.resolve(n)}loadKeyHTTP(e,r){const n=this.config,i=n.loader,a=new i(n);return r.keyLoader=e.loader=a,e.keyLoadPromise=new Promise((s,o)=>{const c={keyInfo:e,frag:r,responseType:"arraybuffer",url:e.decryptdata.uri},l=n.keyLoadPolicy.default,u={loadPolicy:l,timeout:l.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},f={onSuccess:(d,h,p,m)=>{const{frag:g,keyInfo:v,url:y}=p;if(!g.decryptdata||v!==this.keyUriToKeyInfo[y])return o(this.createKeyLoadError(g,q.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),m));v.decryptdata.key=g.decryptdata.key=new Uint8Array(d.data),g.keyLoader=null,v.loader=null,s({frag:g,keyInfo:v})},onError:(d,h,p,m)=>{this.resetLoader(h),o(this.createKeyLoadError(r,q.KEY_LOAD_ERROR,new Error(`HTTP Error ${d.code} loading key ${d.text}`),p,an({url:c.url,data:void 0},d)))},onTimeout:(d,h,p)=>{this.resetLoader(h),o(this.createKeyLoadError(r,q.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),p))},onAbort:(d,h,p)=>{this.resetLoader(h),o(this.createKeyLoadError(r,q.INTERNAL_ABORTED,new Error("key loading aborted"),p))}};a.load(c,u,f)})}resetLoader(e){const{frag:r,keyInfo:n,url:i}=e,a=n.loader;r.keyLoader===a&&(r.keyLoader=null,n.loader=null),delete this.keyUriToKeyInfo[i],a&&a.destroy()}}class mGe{constructor(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(e){return this._tickInterval?!1:(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,e),!0)}clearInterval(){return this._tickInterval?(self.clearInterval(this._tickInterval),this._tickInterval=null,!0):!1}clearNextTick(){return this._tickTimer?(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0):!1}tick(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}const vGe={length:0,start:()=>0,end:()=>0};class lt{static isBuffered(e,r){try{if(e){const n=lt.getBuffered(e);for(let i=0;i<n.length;i++)if(r>=n.start(i)&&r<=n.end(i))return!0}}catch{}return!1}static bufferInfo(e,r,n){try{if(e){const i=lt.getBuffered(e),a=[];let s;for(s=0;s<i.length;s++)a.push({start:i.start(s),end:i.end(s)});return this.bufferedInfo(a,r,n)}}catch{}return{len:0,start:r,end:r,nextStart:void 0}}static bufferedInfo(e,r,n){r=Math.max(0,r),e.sort(function(l,u){const f=l.start-u.start;return f||u.end-l.end});let i=[];if(n)for(let l=0;l<e.length;l++){const u=i.length;if(u){const f=i[u-1].end;e[l].start-f<n?e[l].end>f&&(i[u-1].end=e[l].end):i.push(e[l])}else i.push(e[l])}else i=e;let a=0,s,o=r,c=r;for(let l=0;l<i.length;l++){const u=i[l].start,f=i[l].end;if(r+n>=u&&r<f)o=u,c=f,a=c-r;else if(r+n<u){s=u;break}}return{len:a,start:o||0,end:c||0,nextStart:s}}static getBuffered(e){try{return e.buffered}catch(r){return z.log("failed to get media.buffered",r),vGe}}}class $O{constructor(e,r,n,i=0,a=-1,s=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=Hm(),this.buffering={audio:Hm(),video:Hm(),audiovideo:Hm()},this.level=e,this.sn=r,this.id=n,this.size=i,this.part=a,this.partial=s}}function Hm(){return{start:0,executeStart:0,executeEnd:0,end:0}}function wQ(t,e){let r=null;for(let n=0,i=t.length;n<i;n++){const a=t[n];if(a&&a.cc===e){r=a;break}}return r}function yGe(t,e,r){return!!(e.details&&(r.endCC>r.startCC||t&&t.cc<r.startCC))}function xGe(t,e,r=0){const n=t.fragments,i=e.fragments;if(!i.length||!n.length){z.log("No fragments to align");return}const a=wQ(n,i[0].cc);if(!a||a&&!a.startPTS){z.log("No frag in previous level to align on");return}return a}function Z5(t,e){if(t){const r=t.start+e;t.start=t.startPTS=r,t.endPTS=r+t.duration}}function CO(t,e){const r=e.fragments;for(let n=0,i=r.length;n<i;n++)Z5(r[n],t);e.fragmentHint&&Z5(e.fragmentHint,t),e.alignedSliding=!0}function EGe(t,e,r){e&&(_Ge(t,r,e),!r.alignedSliding&&e.details&&bGe(r,e.details),!r.alignedSliding&&e.details&&!r.skippedSegments&&bQ(e.details,r))}function _Ge(t,e,r){if(yGe(t,r,e)){const n=xGe(r.details,e);n&&pe(n.start)&&(z.log(`Adjusting PTS using last level due to CC increase within current level ${e.url}`),CO(n.start,e))}}function bGe(t,e){if(!e.fragments.length||!t.hasProgramDateTime||!e.hasProgramDateTime)return;const r=e.fragments[0].programDateTime,n=t.fragments[0].programDateTime,i=(n-r)/1e3+e.fragments[0].start;i&&pe(i)&&(z.log(`Adjusting PTS using programDateTime delta ${n-r}ms, sliding:${i.toFixed(3)} ${t.url} `),CO(i,t))}function RQ(t,e){if(!t.hasProgramDateTime||!e.hasProgramDateTime)return;const r=t.fragments,n=e.fragments;if(!r.length||!n.length)return;const i=Math.round(n.length/2)-1,a=n[i],s=wQ(r,a.cc)||r[Math.round(r.length/2)-1],o=a.programDateTime,c=s.programDateTime;if(o===null||c===null)return;const l=(c-o)/1e3-(s.start-a.start);CO(l,t)}class SGe{constructor(e,r){this.subtle=void 0,this.aesIV=void 0,this.subtle=e,this.aesIV=r}decrypt(e,r){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},r,e)}}class TGe{constructor(e,r){this.subtle=void 0,this.key=void 0,this.subtle=e,this.key=r}expandKey(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}function wGe(t){const e=t.byteLength,r=e&&new DataView(t.buffer).getUint8(e-1);return r?Fl(t,0,e-r):t}class RGe{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(e){const r=new DataView(e),n=new Uint32Array(4);for(let i=0;i<4;i++)n[i]=r.getUint32(i*4);return n}initTable(){const e=this.sBox,r=this.invSBox,n=this.subMix,i=n[0],a=n[1],s=n[2],o=n[3],c=this.invSubMix,l=c[0],u=c[1],f=c[2],d=c[3],h=new Uint32Array(256);let p=0,m=0,g=0;for(g=0;g<256;g++)g<128?h[g]=g<<1:h[g]=g<<1^283;for(g=0;g<256;g++){let v=m^m<<1^m<<2^m<<3^m<<4;v=v>>>8^v&255^99,e[p]=v,r[v]=p;const y=h[p],x=h[y],E=h[x];let S=h[v]*257^v*16843008;i[p]=S<<24|S>>>8,a[p]=S<<16|S>>>16,s[p]=S<<8|S>>>24,o[p]=S,S=E*16843009^x*65537^y*257^p*16843008,l[v]=S<<24|S>>>8,u[v]=S<<16|S>>>16,f[v]=S<<8|S>>>24,d[v]=S,p?(p=y^h[h[h[E^y]]],m^=h[h[m]]):p=m=1}}expandKey(e){const r=this.uint8ArrayToUint32Array_(e);let n=!0,i=0;for(;i<r.length&&n;)n=r[i]===this.key[i],i++;if(n)return;this.key=r;const a=this.keySize=r.length;if(a!==4&&a!==6&&a!==8)throw new Error("Invalid aes key size="+a);const s=this.ksRows=(a+6+1)*4;let o,c;const l=this.keySchedule=new Uint32Array(s),u=this.invKeySchedule=new Uint32Array(s),f=this.sBox,d=this.rcon,h=this.invSubMix,p=h[0],m=h[1],g=h[2],v=h[3];let y,x;for(o=0;o<s;o++){if(o<a){y=l[o]=r[o];continue}x=y,o%a===0?(x=x<<8|x>>>24,x=f[x>>>24]<<24|f[x>>>16&255]<<16|f[x>>>8&255]<<8|f[x&255],x^=d[o/a|0]<<24):a>6&&o%a===4&&(x=f[x>>>24]<<24|f[x>>>16&255]<<16|f[x>>>8&255]<<8|f[x&255]),l[o]=y=(l[o-a]^x)>>>0}for(c=0;c<s;c++)o=s-c,c&3?x=l[o]:x=l[o-4],c<4||o<=4?u[c]=x:u[c]=p[f[x>>>24]]^m[f[x>>>16&255]]^g[f[x>>>8&255]]^v[f[x&255]],u[c]=u[c]>>>0}networkToHostOrderSwap(e){return e<<24|(e&65280)<<8|(e&16711680)>>8|e>>>24}decrypt(e,r,n){const i=this.keySize+6,a=this.invKeySchedule,s=this.invSBox,o=this.invSubMix,c=o[0],l=o[1],u=o[2],f=o[3],d=this.uint8ArrayToUint32Array_(n);let h=d[0],p=d[1],m=d[2],g=d[3];const v=new Int32Array(e),y=new Int32Array(v.length);let x,E,S,b,T,R,I,w,C,L,H,N,P,B;const V=this.networkToHostOrderSwap;for(;r<v.length;){for(C=V(v[r]),L=V(v[r+1]),H=V(v[r+2]),N=V(v[r+3]),T=C^a[0],R=N^a[1],I=H^a[2],w=L^a[3],P=4,B=1;B<i;B++)x=c[T>>>24]^l[R>>16&255]^u[I>>8&255]^f[w&255]^a[P],E=c[R>>>24]^l[I>>16&255]^u[w>>8&255]^f[T&255]^a[P+1],S=c[I>>>24]^l[w>>16&255]^u[T>>8&255]^f[R&255]^a[P+2],b=c[w>>>24]^l[T>>16&255]^u[R>>8&255]^f[I&255]^a[P+3],T=x,R=E,I=S,w=b,P=P+4;x=s[T>>>24]<<24^s[R>>16&255]<<16^s[I>>8&255]<<8^s[w&255]^a[P],E=s[R>>>24]<<24^s[I>>16&255]<<16^s[w>>8&255]<<8^s[T&255]^a[P+1],S=s[I>>>24]<<24^s[w>>16&255]<<16^s[T>>8&255]<<8^s[R&255]^a[P+2],b=s[w>>>24]<<24^s[T>>16&255]<<16^s[R>>8&255]<<8^s[I&255]^a[P+3],y[r]=V(x^h),y[r+1]=V(b^p),y[r+2]=V(S^m),y[r+3]=V(E^g),h=C,p=L,m=H,g=N,r=r+4}return y.buffer}}const AGe=16;class kO{constructor(e,{removePKCS7Padding:r=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=e.enableSoftwareAES,this.removePKCS7Padding=r,r)try{const n=self.crypto;n&&(this.subtle=n.subtle||n.webkitSubtle)}catch{}this.subtle===null&&(this.useSoftware=!0)}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:e,remainderData:r}=this;if(!e||r)return this.reset(),null;const n=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?wGe(n):n}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(e,r,n){return this.useSoftware?new Promise((i,a)=>{this.softwareDecrypt(new Uint8Array(e),r,n);const s=this.flush();s?i(s.buffer):a(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(e),r,n)}softwareDecrypt(e,r,n){const{currentIV:i,currentResult:a,remainderData:s}=this;this.logOnce("JS AES decrypt"),s&&(e=Zl(s,e),this.remainderData=null);const o=this.getValidChunk(e);if(!o.length)return null;i&&(n=i);let c=this.softwareDecrypter;c||(c=this.softwareDecrypter=new RGe),c.expandKey(r);const l=a;return this.currentResult=c.decrypt(o.buffer,0,n),this.currentIV=Fl(o,-16).buffer,l||null}webCryptoDecrypt(e,r,n){const i=this.subtle;return(this.key!==r||!this.fastAesKey)&&(this.key=r,this.fastAesKey=new TGe(i,r)),this.fastAesKey.expandKey().then(a=>i?(this.logOnce("WebCrypto AES decrypt"),new SGe(i,new Uint8Array(n)).decrypt(e.buffer,a)):Promise.reject(new Error("web crypto not initialized"))).catch(a=>(z.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${a.name}: ${a.message}`),this.onWebCryptoError(e,r,n)))}onWebCryptoError(e,r,n){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,r,n);const i=this.flush();if(i)return i.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}getValidChunk(e){let r=e;const n=e.length-e.length%AGe;return n!==e.length&&(r=Fl(e,0,n),this.remainderData=Fl(e,n)),r}logOnce(e){this.logEnabled&&(z.log(`[decrypter]: ${e}`),this.logEnabled=!1)}}const IGe={toString:function(t){let e="";const r=t.length;for(let n=0;n<r;n++)e+=`[${t.start(n).toFixed(3)}-${t.end(n).toFixed(3)}]`;return e}},X={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};class OO extends mGe{constructor(e,r,n,i,a){super(),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=X.STOPPED,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.loadedmetadata=!1,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.onvseeking=null,this.onvended=null,this.logPrefix="",this.log=void 0,this.warn=void 0,this.playlistType=a,this.logPrefix=i,this.log=z.log.bind(z,`${i}:`),this.warn=z.warn.bind(z,`${i}:`),this.hls=e,this.fragmentLoader=new pGe(e.config),this.keyLoader=n,this.fragmentTracker=r,this.config=e.config,this.decrypter=new kO(e.config),e.on($.MANIFEST_LOADED,this.onManifestLoaded,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(e){}stopLoad(){this.fragmentLoader.abort(),this.keyLoader.abort();const e=this.fragCurrent;e!=null&&e.loader&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=X.STOPPED}_streamEnded(e,r){if(r.live||e.nextStart||!e.end||!this.media)return!1;const n=r.partList;if(n!=null&&n.length){const a=n[n.length-1];return lt.isBuffered(this.media,a.start+a.duration/2)}const i=r.fragments[r.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(i)}getLevelDetails(){if(this.levels&&this.levelLastLoaded!==null){var e;return(e=this.levels[this.levelLastLoaded])==null?void 0:e.details}}onMediaAttached(e,r){const n=this.media=this.mediaBuffer=r.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),n.addEventListener("seeking",this.onvseeking),n.addEventListener("ended",this.onvended);const i=this.config;this.levels&&i.autoStartLoad&&this.state===X.STOPPED&&this.startLoad(i.startPosition)}onMediaDetaching(){const e=this.media;e!=null&&e.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&this.onvseeking&&this.onvended&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}onMediaSeeking(){const{config:e,fragCurrent:r,media:n,mediaBuffer:i,state:a}=this,s=n?n.currentTime:0,o=lt.bufferInfo(i||n,s,e.maxBufferHole);if(this.log(`media seeking to ${pe(s)?s.toFixed(3):s}, state: ${a}`),this.state===X.ENDED)this.resetLoadingState();else if(r){const c=e.maxFragLookUpTolerance,l=r.start-c,u=r.start+r.duration+c;if(!o.len||u<o.start||l>o.end){const f=s>u;(s<l||f)&&(f&&r.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),r.abortRequests()),this.resetLoadingState())}}n&&(this.fragmentTracker.removeFragmentsInRange(s,1/0,this.playlistType,!0),this.lastCurrentTime=s),!this.loadedmetadata&&!o.len&&(this.nextLoadPosition=this.startPosition=s),this.tickImmediate()}onMediaEnded(){this.startPosition=this.lastCurrentTime=0}onManifestLoaded(e,r){this.startTimeOffset=r.startTimeOffset,this.initPTS=[]}onHandlerDestroying(){this.stopLoad(),super.onHandlerDestroying()}onHandlerDestroyed(){this.state=X.STOPPED,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(e,r,n){this._loadFragForPlayback(e,r,n)}_loadFragForPlayback(e,r,n){const i=a=>{if(this.fragContextChanged(e)){this.warn(`Fragment ${e.sn}${a.part?" p: "+a.part.index:""} of level ${e.level} was dropped during download.`),this.fragmentTracker.removeFragment(e);return}e.stats.chunkCount++,this._handleFragmentLoadProgress(a)};this._doFragLoad(e,r,n,i).then(a=>{if(!a)return;const s=this.state;if(this.fragContextChanged(e)){(s===X.FRAG_LOADING||!this.fragCurrent&&s===X.PARSING)&&(this.fragmentTracker.removeFragment(e),this.state=X.IDLE);return}"payload"in a&&(this.log(`Loaded fragment ${e.sn} of level ${e.level}`),this.hls.trigger($.FRAG_LOADED,a)),this._handleFragmentLoadComplete(a)}).catch(a=>{this.state===X.STOPPED||this.state===X.ERROR||(this.warn(a),this.resetFragmentLoading(e))})}clearTrackerIfNeeded(e){var r;if(this.fragmentTracker.getState(e)===Sr.APPENDING){const i=e.type,a=this.getFwdBufferInfo(this.mediaBuffer,i),s=Math.max(e.duration,a?a.len:this.config.maxBufferLength);this.reduceMaxBufferLength(s)&&this.fragmentTracker.removeFragment(e)}else((r=this.mediaBuffer)==null?void 0:r.buffered.length)===0&&this.fragmentTracker.removeAllFragments()}flushMainBuffer(e,r,n=null){if(!(e-r))return;const i={startOffset:e,endOffset:r,type:n};this.hls.trigger($.BUFFER_FLUSHING,i)}_loadInitSegment(e,r){this._doFragLoad(e,r).then(n=>{if(!n||this.fragContextChanged(e)||!this.levels)throw new Error("init load aborted");return n}).then(n=>{const{hls:i}=this,{payload:a}=n,s=e.decryptdata;if(a&&a.byteLength>0&&s&&s.key&&s.iv&&s.method==="AES-128"){const o=self.performance.now();return this.decrypter.decrypt(new Uint8Array(a),s.key.buffer,s.iv.buffer).catch(c=>{throw i.trigger($.ERROR,{type:me.MEDIA_ERROR,details:q.FRAG_DECRYPT_ERROR,fatal:!1,error:c,reason:c.message,frag:e}),c}).then(c=>{const l=self.performance.now();return i.trigger($.FRAG_DECRYPTED,{frag:e,payload:c,stats:{tstart:o,tdecrypt:l}}),n.payload=c,n})}return n}).then(n=>{const{fragCurrent:i,hls:a,levels:s}=this;if(!s)throw new Error("init load aborted, missing levels");const o=e.stats;this.state=X.IDLE,r.fragmentError=0,e.data=new Uint8Array(n.payload),o.parsing.start=o.buffering.start=self.performance.now(),o.parsing.end=o.buffering.end=self.performance.now(),n.frag===i&&a.trigger($.FRAG_BUFFERED,{stats:o,frag:i,part:null,id:e.type}),this.tick()}).catch(n=>{this.state===X.STOPPED||this.state===X.ERROR||(this.warn(n),this.resetFragmentLoading(e))})}fragContextChanged(e){const{fragCurrent:r}=this;return!e||!r||e.level!==r.level||e.sn!==r.sn||e.urlId!==r.urlId}fragBufferedComplete(e,r){var n,i,a,s;const o=this.mediaBuffer?this.mediaBuffer:this.media;this.log(`Buffered ${e.type} sn: ${e.sn}${r?" part: "+r.index:""} of ${this.logPrefix==="[stream-controller]"?"level":"track"} ${e.level} (frag:[${((n=e.startPTS)!=null?n:NaN).toFixed(3)}-${((i=e.endPTS)!=null?i:NaN).toFixed(3)}] > buffer:${o?IGe.toString(lt.getBuffered(o)):"(detached)"})`),this.state=X.IDLE,o&&(!this.loadedmetadata&&e.type==ye.MAIN&&o.buffered.length&&((a=this.fragCurrent)==null?void 0:a.sn)===((s=this.fragPrevious)==null?void 0:s.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())}seekToStartPos(){}_handleFragmentLoadComplete(e){const{transmuxer:r}=this;if(!r)return;const{frag:n,part:i,partsLoaded:a}=e,s=!a||a.length===0||a.some(c=>!c),o=new $O(n.level,n.sn,n.stats.chunkCount+1,0,i?i.index:-1,!s);r.flush(o)}_handleFragmentLoadProgress(e){}_doFragLoad(e,r,n=null,i){var a;const s=r==null?void 0:r.details;if(!this.levels||!s)throw new Error(`frag load aborted, missing level${s?"":" detail"}s`);let o=null;if(e.encrypted&&!((a=e.decryptdata)!=null&&a.key)?(this.log(`Loading key for ${e.sn} of [${s.startSN}-${s.endSN}], ${this.logPrefix==="[stream-controller]"?"level":"track"} ${e.level}`),this.state=X.KEY_LOADING,this.fragCurrent=e,o=this.keyLoader.load(e).then(u=>{if(!this.fragContextChanged(u.frag))return this.hls.trigger($.KEY_LOADED,u),this.state===X.KEY_LOADING&&(this.state=X.IDLE),u}),this.hls.trigger($.KEY_LOADING,{frag:e}),this.fragCurrent===null&&(o=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))):!e.encrypted&&s.encryptedFragments.length&&this.keyLoader.loadClear(e,s.encryptedFragments),n=Math.max(e.start,n||0),this.config.lowLatencyMode){const u=s.partList;if(u&&i){n>e.end&&s.fragmentHint&&(e=s.fragmentHint);const f=this.getNextPart(u,e,n);if(f>-1){const d=u[f];this.log(`Loading part sn: ${e.sn} p: ${d.index} cc: ${e.cc} of playlist [${s.startSN}-${s.endSN}] parts [0-${f}-${u.length-1}] ${this.logPrefix==="[stream-controller]"?"level":"track"}: ${e.level}, target: ${parseFloat(n.toFixed(3))}`),this.nextLoadPosition=d.start+d.duration,this.state=X.FRAG_LOADING;let h;return o?h=o.then(p=>!p||this.fragContextChanged(p.frag)?null:this.doFragPartsLoad(e,d,r,i)).catch(p=>this.handleFragLoadError(p)):h=this.doFragPartsLoad(e,d,r,i).catch(p=>this.handleFragLoadError(p)),this.hls.trigger($.FRAG_LOADING,{frag:e,part:d,targetBufferTime:n}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):h}else if(!e.url||this.loadedEndOfParts(u,n))return Promise.resolve(null)}}this.log(`Loading fragment ${e.sn} cc: ${e.cc} ${s?"of ["+s.startSN+"-"+s.endSN+"] ":""}${this.logPrefix==="[stream-controller]"?"level":"track"}: ${e.level}, target: ${parseFloat(n.toFixed(3))}`),pe(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=X.FRAG_LOADING;const c=this.config.progressive;let l;return c&&o?l=o.then(u=>!u||this.fragContextChanged(u==null?void 0:u.frag)?null:this.fragmentLoader.load(e,i)).catch(u=>this.handleFragLoadError(u)):l=Promise.all([this.fragmentLoader.load(e,c?i:void 0),o]).then(([u])=>(!c&&u&&i&&i(u),u)).catch(u=>this.handleFragLoadError(u)),this.hls.trigger($.FRAG_LOADING,{frag:e,targetBufferTime:n}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):l}doFragPartsLoad(e,r,n,i){return new Promise((a,s)=>{var o;const c=[],l=(o=n.details)==null?void 0:o.partList,u=f=>{this.fragmentLoader.loadPart(e,f,i).then(d=>{c[f.index]=d;const h=d.part;this.hls.trigger($.FRAG_LOADED,d);const p=V5(n,e.sn,f.index+1)||SQ(l,e.sn,f.index+1);if(p)u(p);else return a({frag:e,part:h,partsLoaded:c})}).catch(s)};u(r)})}handleFragLoadError(e){if("data"in e){const r=e.data;e.data&&r.details===q.INTERNAL_ABORTED?this.handleFragLoadAborted(r.frag,r.part):this.hls.trigger($.ERROR,r)}else this.hls.trigger($.ERROR,{type:me.OTHER_ERROR,details:q.INTERNAL_EXCEPTION,err:e,error:e,fatal:!0});return null}_handleTransmuxerFlush(e){const r=this.getCurrentContext(e);if(!r||this.state!==X.PARSING){!this.fragCurrent&&this.state!==X.STOPPED&&this.state!==X.ERROR&&(this.state=X.IDLE);return}const{frag:n,part:i,level:a}=r,s=self.performance.now();n.stats.parsing.end=s,i&&(i.stats.parsing.end=s),this.updateLevelTiming(n,i,a,e.partial)}getCurrentContext(e){const{levels:r,fragCurrent:n}=this,{level:i,sn:a,part:s}=e;if(!(r!=null&&r[i]))return this.warn(`Levels object was unset while buffering fragment ${a} of level ${i}. The current chunk will not be buffered.`),null;const o=r[i],c=s>-1?V5(o,a,s):null,l=c?c.fragment:iGe(o,a,n);return l?(n&&n!==l&&(l.stats=n.stats),{frag:l,part:c,level:o}):null}bufferFragmentData(e,r,n,i){var a;if(!e||this.state!==X.PARSING)return;const{data1:s,data2:o}=e;let c=s;if(s&&o&&(c=Zl(s,o)),!((a=c)!=null&&a.length))return;const l={type:e.type,frag:r,part:n,chunkMeta:i,parent:r.type,data:c};this.hls.trigger($.BUFFER_APPENDING,l),e.dropped&&e.independent&&!n&&this.flushBufferGap(r)}flushBufferGap(e){const r=this.media;if(!r)return;if(!lt.isBuffered(r,r.currentTime)){this.flushMainBuffer(0,e.start);return}const n=r.currentTime,i=lt.bufferInfo(r,n,0),a=e.duration,s=Math.min(this.config.maxFragLookUpTolerance*2,a*.25),o=Math.max(Math.min(e.start-s,i.end-s),n+s);e.start-o>s&&this.flushMainBuffer(o,e.start)}getFwdBufferInfo(e,r){const n=this.getLoadPosition();return pe(n)?this.getFwdBufferInfoAtPos(e,n,r):null}getFwdBufferInfoAtPos(e,r,n){const{config:{maxBufferHole:i}}=this,a=lt.bufferInfo(e,r,i);if(a.len===0&&a.nextStart!==void 0){const s=this.fragmentTracker.getBufferedFrag(r,n);if(s&&a.nextStart<s.end)return lt.bufferInfo(e,r,Math.max(a.nextStart,i))}return a}getMaxBufferLength(e){const{config:r}=this;let n;return e?n=Math.max(8*r.maxBufferSize/e,r.maxBufferLength):n=r.maxBufferLength,Math.min(n,r.maxMaxBufferLength)}reduceMaxBufferLength(e){const r=this.config,n=e||r.maxBufferLength;return r.maxMaxBufferLength>=n?(r.maxMaxBufferLength/=2,this.warn(`Reduce max buffer length to ${r.maxMaxBufferLength}s`),!0):!1}getNextFragment(e,r){const n=r.fragments,i=n.length;if(!i)return null;const{config:a}=this,s=n[0].start;let o;if(r.live){const c=a.initialLiveManifestSize;if(i<c)return this.warn(`Not enough fragments to start playback (have: ${i}, need: ${c})`),null;!r.PTSKnown&&!this.startFragRequested&&this.startPosition===-1&&(o=this.getInitialLiveFragment(r,n),this.startPosition=o?this.hls.liveSyncPosition||o.start:e)}else e<=s&&(o=n[0]);if(!o){const c=a.lowLatencyMode?r.partEnd:r.fragmentEnd;o=this.getFragmentAtPosition(e,c,r)}return this.mapToInitFragWhenRequired(o)}isLoopLoading(e,r){const n=this.fragmentTracker.getState(e);return(n===Sr.OK||n===Sr.PARTIAL&&!!e.gap)&&this.nextLoadPosition>r}getNextFragmentLoopLoading(e,r,n,i,a){const s=e.gap,o=this.getNextFragment(this.nextLoadPosition,r);if(o===null)return o;if(e=o,s&&e&&!e.gap&&n.nextStart){const c=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,n.nextStart,i);if(c!==null&&n.len+c.len>=a)return this.log(`buffer full after gaps in "${i}" playlist starting at sn: ${e.sn}`),null}return e}mapToInitFragWhenRequired(e){return e!=null&&e.initSegment&&!(e!=null&&e.initSegment.data)&&!this.bitrateTest?e.initSegment:e}getNextPart(e,r,n){let i=-1,a=!1,s=!0;for(let o=0,c=e.length;o<c;o++){const l=e[o];if(s=s&&!l.independent,i>-1&&n<l.start)break;const u=l.loaded;u?i=-1:(a||l.independent||s)&&l.fragment===r&&(i=o),a=u}return i}loadedEndOfParts(e,r){const n=e[e.length-1];return n&&r>n.start&&n.loaded}getInitialLiveFragment(e,r){const n=this.fragPrevious;let i=null;if(n){if(e.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${n.programDateTime}`),i=sGe(r,n.endProgramDateTime,this.config.maxFragLookUpTolerance)),!i){const a=n.sn+1;if(a>=e.startSN&&a<=e.endSN){const s=r[a-e.startSN];n.cc===s.cc&&(i=s,this.log(`Live playlist, switching playlist, load frag with next SN: ${i.sn}`))}i||(i=lGe(r,n.cc),i&&this.log(`Live playlist, switching playlist, load frag with same CC: ${i.sn}`))}}else{const a=this.hls.liveSyncPosition;a!==null&&(i=this.getFragmentAtPosition(a,this.bitrateTest?e.fragmentEnd:e.edge,e))}return i}getFragmentAtPosition(e,r,n){const{config:i}=this;let{fragPrevious:a}=this,{fragments:s,endSN:o}=n;const{fragmentHint:c}=n,l=i.maxFragLookUpTolerance,u=!!(i.lowLatencyMode&&n.partList&&c);u&&c&&!this.bitrateTest&&(s=s.concat(c),o=c.sn);let f;if(e<r){const d=e>r-l?0:l;f=Z0(a,s,e,d)}else f=s[s.length-1];if(f){const d=f.sn-n.startSN,h=this.fragmentTracker.getState(f);if((h===Sr.OK||h===Sr.PARTIAL&&f.gap)&&(a=f),a&&f.sn===a.sn&&!u&&a&&f.level===a.level){const m=s[d+1];f.sn<o&&this.fragmentTracker.getState(m)!==Sr.OK?f=m:f=null}}return f}synchronizeToLiveEdge(e){const{config:r,media:n}=this;if(!n)return;const i=this.hls.liveSyncPosition,a=n.currentTime,s=e.fragments[0].start,o=e.edge,c=a>=s-r.maxFragLookUpTolerance&&a<=o;if(i!==null&&n.duration>i&&(a<i||!c)){const l=r.liveMaxLatencyDuration!==void 0?r.liveMaxLatencyDuration:r.liveMaxLatencyDurationCount*e.targetduration;(!c&&n.readyState<4||a<o-l)&&(this.loadedmetadata||(this.nextLoadPosition=i),n.readyState&&(this.warn(`Playback: ${a.toFixed(3)} is located too far from the end of live sliding playlist: ${o}, reset currentTime to : ${i.toFixed(3)}`),n.currentTime=i))}}alignPlaylists(e,r){const{levels:n,levelLastLoaded:i,fragPrevious:a}=this,s=i!==null?n[i]:null,o=e.fragments.length;if(!o)return this.warn("No fragments in live playlist"),0;const c=e.fragments[0].start,l=!r,u=e.alignedSliding&&pe(c);if(l||!u&&!c){EGe(a,s,e);const f=e.fragments[0].start;return this.log(`Live playlist sliding: ${f.toFixed(2)} start-sn: ${r?r.startSN:"na"}->${e.startSN} prev-sn: ${a?a.sn:"na"} fragments: ${o}`),f}return c}waitForCdnTuneIn(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,e.partTarget*3)}setStartPosition(e,r){let n=this.startPosition;if(n<r&&(n=-1),n===-1||this.lastCurrentTime===-1){const i=this.startTimeOffset!==null,a=i?this.startTimeOffset:e.startTimeOffset;a!==null&&pe(a)?(n=r+a,a<0&&(n+=e.totalduration),n=Math.min(Math.max(r,n),r+e.totalduration),this.log(`Start time offset ${a} found in ${i?"multivariant":"media"} playlist, adjust startPosition to ${n}`),this.startPosition=n):e.live?n=this.hls.liveSyncPosition||r:this.startPosition=n=0,this.lastCurrentTime=n}this.nextLoadPosition=n}getLoadPosition(){const{media:e}=this;let r=0;return this.loadedmetadata&&e?r=e.currentTime:this.nextLoadPosition&&(r=this.nextLoadPosition),r}handleFragLoadAborted(e,r){this.transmuxer&&e.sn!=="initSegment"&&e.stats.aborted&&(this.warn(`Fragment ${e.sn}${r?" part"+r.index:""} of level ${e.level} was aborted`),this.resetFragmentLoading(e))}resetFragmentLoading(e){(!this.fragCurrent||!this.fragContextChanged(e)&&this.state!==X.FRAG_LOADING_WAITING_RETRY)&&(this.state=X.IDLE)}onFragmentOrKeyLoadError(e,r){if(r.chunkMeta&&!r.frag){const u=this.getCurrentContext(r.chunkMeta);u&&(r.frag=u.frag)}const n=r.frag;if(!n||n.type!==e||!this.levels)return;if(this.fragContextChanged(n)){var i;this.warn(`Frag load error must match current frag to retry ${n.url} > ${(i=this.fragCurrent)==null?void 0:i.url}`);return}const a=r.details===q.FRAG_GAP;a&&this.fragmentTracker.fragBuffered(n,!0);const s=r.errorAction,{action:o,retryCount:c=0,retryConfig:l}=s||{};if(s&&o===jr.RetryRequest&&l){this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition);const u=AO(l,c);this.warn(`Fragment ${n.sn} of ${e} ${n.level} errored with ${r.details}, retrying loading ${c+1}/${l.maxNumRetry} in ${u}ms`),s.resolved=!0,this.retryDate=self.performance.now()+u,this.state=X.FRAG_LOADING_WAITING_RETRY}else l&&s?(this.resetFragmentErrors(e),c<l.maxNumRetry?a||(s.resolved=!0):z.warn(`${r.details} reached or exceeded max retry (${c})`)):this.state=X.ERROR;this.tickImmediate()}reduceLengthAndFlushBuffer(e){if(this.state===X.PARSING||this.state===X.PARSED){const r=e.parent,n=this.getFwdBufferInfo(this.mediaBuffer,r),i=n&&n.len>.5;i&&this.reduceMaxBufferLength(n.len);const a=!i;return a&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${r} buffer`),e.frag&&(this.fragmentTracker.removeFragment(e.frag),this.nextLoadPosition=e.frag.start),this.resetLoadingState(),a}return!1}resetFragmentErrors(e){e===ye.AUDIO&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),this.state!==X.STOPPED&&(this.state=X.IDLE)}afterBufferFlushed(e,r,n){if(!e)return;const i=lt.getBuffered(e);this.fragmentTracker.detectEvictedFragments(r,i,n),this.state===X.ENDED&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=X.IDLE}resetStartWhenNotLoaded(e){if(!this.loadedmetadata){this.startFragRequested=!1;const r=this.levels?this.levels[e].details:null;r!=null&&r.live?(this.startPosition=-1,this.setStartPosition(r,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(e){this.warn(`The loading context changed while buffering fragment ${e.sn} of level ${e.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(e.level),this.resetLoadingState()}removeUnbufferedFrags(e=0){this.fragmentTracker.removeFragmentsInRange(e,1/0,this.playlistType,!1,!0)}updateLevelTiming(e,r,n,i){var a;const s=n.details;if(!s){this.warn("level.details undefined");return}if(Object.keys(e.elementaryStreams).reduce((c,l)=>{const u=e.elementaryStreams[l];if(u){const f=u.endPTS-u.startPTS;if(f<=0)return this.warn(`Could not parse fragment ${e.sn} ${l} duration reliably (${f})`),c||!1;const d=i?0:_Q(s,e,u.startPTS,u.endPTS,u.startDTS,u.endDTS);return this.hls.trigger($.LEVEL_PTS_UPDATED,{details:s,level:n,drift:d,type:l,frag:e,start:u.startPTS,end:u.endPTS}),!0}return c},!1))n.fragmentError=0;else if(((a=this.transmuxer)==null?void 0:a.error)===null){const c=new Error(`Found no media in fragment ${e.sn} of level ${n.id} resetting transmuxer to fallback to playlist timing`);if(this.warn(c.message),this.hls.trigger($.ERROR,{type:me.MEDIA_ERROR,details:q.FRAG_PARSING_ERROR,fatal:!1,error:c,frag:e,reason:`Found no media in msn ${e.sn} of level "${n.url}"`}),!this.hls)return;this.resetTransmuxer()}this.state=X.PARSED,this.hls.trigger($.FRAG_PARSED,{frag:e,part:r})}resetTransmuxer(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)}recoverWorkerError(e){e.event==="demuxerWorker"&&(this.resetTransmuxer(),this.resetLoadingState())}set state(e){const r=this._state;r!==e&&(this._state=e,this.log(`${r}->${e}`))}get state(){return this._state}}function LO(){if(!(typeof self>"u"))return self.MediaSource||self.WebKitMediaSource}function AQ(){return self.SourceBuffer||self.WebKitSourceBuffer}function $Ge(){const t=LO();if(!t)return!1;const e=AQ(),r=t&&typeof t.isTypeSupported=="function"&&t.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),n=!e||e.prototype&&typeof e.prototype.appendBuffer=="function"&&typeof e.prototype.remove=="function";return!!r&&!!n}function CGe(){var t;const e=AQ();return typeof(e==null||(t=e.prototype)==null?void 0:t.changeType)=="function"}function kGe(){return typeof __HLS_WORKER_BUNDLE__=="function"}function OGe(){const t=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),e=self.URL.createObjectURL(t);return{worker:new self.Worker(e),objectURL:e}}function LGe(t){const e=new self.URL(t,self.location.href).href;return{worker:new self.Worker(e),scriptURL:e}}function Zi(t="",e=9e4){return{type:t,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}class IQ{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(e,r,n,i){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(e){this.initPTS=e,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(e,r){return!1}appendFrame(e,r,n){}demux(e,r){this.cachedData&&(e=Zl(this.cachedData,e),this.cachedData=null);let n=I1(e,0),i=n?n.length:0,a;const s=this._audioTrack,o=this._id3Track,c=n?gHe(n):void 0,l=e.length;for((this.basePTS===null||this.frameIndex===0&&pe(c))&&(this.basePTS=PGe(c,r,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),n&&n.length>0&&o.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:n,type:_i.audioId3,duration:Number.POSITIVE_INFINITY});i<l;){if(this.canParse(e,i)){const u=this.appendFrame(s,e,i);u?(this.frameIndex++,this.lastPTS=u.sample.pts,i+=u.length,a=i):i=l}else pHe(e,i)?(n=I1(e,i),o.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:n,type:_i.audioId3,duration:Number.POSITIVE_INFINITY}),i+=n.length,a=i):i++;if(i===l&&a!==l){const u=Fl(e,a);this.cachedData?this.cachedData=Zl(this.cachedData,u):this.cachedData=u}}return{audioTrack:s,videoTrack:Zi(),id3Track:o,textTrack:Zi()}}demuxSampleAes(e,r,n){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(e){const r=this.cachedData;return r&&(this.cachedData=null,this.demux(r,0)),{audioTrack:this._audioTrack,videoTrack:Zi(),id3Track:this._id3Track,textTrack:Zi()}}destroy(){}}const PGe=(t,e,r)=>{if(pe(t))return t*90;const n=r?r.baseTime*9e4/r.timescale:0;return e*9e4+n};function NGe(t,e,r,n){let i,a,s,o;const c=navigator.userAgent.toLowerCase(),l=n,u=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];i=((e[r+2]&192)>>>6)+1;const f=(e[r+2]&60)>>>2;if(f>u.length-1){t.trigger($.ERROR,{type:me.MEDIA_ERROR,details:q.FRAG_PARSING_ERROR,fatal:!0,reason:`invalid ADTS sampling index:${f}`});return}return s=(e[r+2]&1)<<2,s|=(e[r+3]&192)>>>6,z.log(`manifest codec:${n}, ADTS type:${i}, samplingIndex:${f}`),/firefox/i.test(c)?f>=6?(i=5,o=new Array(4),a=f-3):(i=2,o=new Array(2),a=f):c.indexOf("android")!==-1?(i=2,o=new Array(2),a=f):(i=5,o=new Array(4),n&&(n.indexOf("mp4a.40.29")!==-1||n.indexOf("mp4a.40.5")!==-1)||!n&&f>=6?a=f-3:((n&&n.indexOf("mp4a.40.2")!==-1&&(f>=6&&s===1||/vivaldi/i.test(c))||!n&&s===1)&&(i=2,o=new Array(2)),a=f)),o[0]=i<<3,o[0]|=(f&14)>>1,o[1]|=(f&1)<<7,o[1]|=s<<3,i===5&&(o[1]|=(a&14)>>1,o[2]=(a&1)<<7,o[2]|=2<<2,o[3]=0),{config:o,samplerate:u[f],channelCount:s,codec:"mp4a.40."+i,manifestCodec:l}}function $Q(t,e){return t[e]===255&&(t[e+1]&246)===240}function CQ(t,e){return t[e+1]&1?7:9}function PO(t,e){return(t[e+3]&3)<<11|t[e+4]<<3|(t[e+5]&224)>>>5}function DGe(t,e){return e+5<t.length}function L1(t,e){return e+1<t.length&&$Q(t,e)}function MGe(t,e){return DGe(t,e)&&$Q(t,e)&&PO(t,e)<=t.length-e}function FGe(t,e){if(L1(t,e)){const r=CQ(t,e);if(e+r>=t.length)return!1;const n=PO(t,e);if(n<=r)return!1;const i=e+n;return i===t.length||L1(t,i)}return!1}function kQ(t,e,r,n,i){if(!t.samplerate){const a=NGe(e,r,n,i);if(!a)return;t.config=a.config,t.samplerate=a.samplerate,t.channelCount=a.channelCount,t.codec=a.codec,t.manifestCodec=a.manifestCodec,z.log(`parsed codec:${t.codec}, rate:${a.samplerate}, channels:${a.channelCount}`)}}function OQ(t){return 1024*9e4/t}function BGe(t,e){const r=CQ(t,e);if(e+r<=t.length){const n=PO(t,e)-r;if(n>0)return{headerLength:r,frameLength:n}}}function LQ(t,e,r,n,i){const a=OQ(t.samplerate),s=n+i*a,o=BGe(e,r);let c;if(o){const{frameLength:f,headerLength:d}=o,h=d+f,p=Math.max(0,r+h-e.length);p?(c=new Uint8Array(h-d),c.set(e.subarray(r+d,e.length),0)):c=e.subarray(r+d,r+h);const m={unit:c,pts:s};return p||t.samples.push(m),{sample:m,length:h,missing:p}}const l=e.length-r;return c=new Uint8Array(l),c.set(e.subarray(r,e.length),0),{sample:{unit:c,pts:s},length:l,missing:-1}}class UGe extends IQ{constructor(e,r){super(),this.observer=void 0,this.config=void 0,this.observer=e,this.config=r}resetInitSegment(e,r,n,i){super.resetInitSegment(e,r,n,i),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:r,duration:i,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;let n=(I1(e,0)||[]).length;for(let i=e.length;n<i;n++)if(FGe(e,n))return z.log("ADTS sync word found !"),!0;return!1}canParse(e,r){return MGe(e,r)}appendFrame(e,r,n){kQ(e,this.observer,r,n,e.manifestCodec);const i=LQ(e,r,n,this.basePTS,this.frameIndex);if(i&&i.missing===0)return i}}const jGe=/\/emsg[-/]ID3/i;class HGe{constructor(e,r){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=r}resetTimeStamp(){}resetInitSegment(e,r,n,i){const a=this.videoTrack=Zi("video",1),s=this.audioTrack=Zi("audio",1),o=this.txtTrack=Zi("text",1);if(this.id3Track=Zi("id3",1),this.timeOffset=0,!(e!=null&&e.byteLength))return;const c=pQ(e);if(c.video){const{id:l,timescale:u,codec:f}=c.video;a.id=l,a.timescale=o.timescale=u,a.codec=f}if(c.audio){const{id:l,timescale:u,codec:f}=c.audio;s.id=l,s.timescale=u,s.codec=f}o.id=fQ.text,a.sampleDuration=0,a.duration=s.duration=i}resetContiguity(){}static probe(e){return e=e.length>16384?e.subarray(0,16384):e,Fe(e,["moof"]).length>0}demux(e,r){this.timeOffset=r;let n=e;const i=this.videoTrack,a=this.txtTrack;if(this.config.progressive){this.remainderData&&(n=Zl(this.remainderData,e));const o=CHe(n);this.remainderData=o.remainder,i.samples=o.valid||new Uint8Array}else i.samples=n;const s=this.extractID3Track(i,r);return a.samples=k5(r,i),{videoTrack:i,audioTrack:this.audioTrack,id3Track:s,textTrack:this.txtTrack}}flush(){const e=this.timeOffset,r=this.videoTrack,n=this.txtTrack;r.samples=this.remainderData||new Uint8Array,this.remainderData=null;const i=this.extractID3Track(r,this.timeOffset);return n.samples=k5(e,r),{videoTrack:r,audioTrack:Zi(),id3Track:i,textTrack:Zi()}}extractID3Track(e,r){const n=this.id3Track;if(e.samples.length){const i=Fe(e.samples,["emsg"]);i&&i.forEach(a=>{const s=LHe(a);if(jGe.test(s.schemeIdUri)){const o=pe(s.presentationTime)?s.presentationTime/s.timeScale:r+s.presentationTimeDelta/s.timeScale;let c=s.eventDuration===4294967295?Number.POSITIVE_INFINITY:s.eventDuration/s.timeScale;c<=.001&&(c=Number.POSITIVE_INFINITY);const l=s.payload;n.samples.push({data:l,len:l.byteLength,dts:o,pts:o,type:_i.emsg,duration:c})}})}return n}demuxSampleAes(e,r,n){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){}}let Gm=null;const GGe=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],zGe=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],VGe=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],WGe=[0,1,1,4];function PQ(t,e,r,n,i){if(r+24>e.length)return;const a=NQ(e,r);if(a&&r+a.frameLength<=e.length){const s=a.samplesPerFrame*9e4/a.sampleRate,o=n+i*s,c={unit:e.subarray(r,r+a.frameLength),pts:o,dts:o};return t.config=[],t.channelCount=a.channelCount,t.samplerate=a.sampleRate,t.samples.push(c),{sample:c,length:a.frameLength,missing:0}}}function NQ(t,e){const r=t[e+1]>>3&3,n=t[e+1]>>1&3,i=t[e+2]>>4&15,a=t[e+2]>>2&3;if(r!==1&&i!==0&&i!==15&&a!==3){const s=t[e+2]>>1&1,o=t[e+3]>>6,c=r===3?3-n:n===3?3:4,l=GGe[c*14+i-1]*1e3,f=zGe[(r===3?0:r===2?1:2)*3+a],d=o===3?1:2,h=VGe[r][n],p=WGe[n],m=h*8*p,g=Math.floor(h*l/f+s)*p;if(Gm===null){const x=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Gm=x?parseInt(x[1]):0}return!!Gm&&Gm<=87&&n===2&&l>=224e3&&o===0&&(t[e+3]=t[e+3]|128),{sampleRate:f,channelCount:d,frameLength:g,samplesPerFrame:m}}}function NO(t,e){return t[e]===255&&(t[e+1]&224)===224&&(t[e+1]&6)!==0}function DQ(t,e){return e+1<t.length&&NO(t,e)}function KGe(t,e){return NO(t,e)&&4<=t.length-e}function YGe(t,e){if(e+1<t.length&&NO(t,e)){const n=NQ(t,e);let i=4;n!=null&&n.frameLength&&(i=n.frameLength);const a=e+i;return a===t.length||DQ(t,a)}return!1}class J5{constructor(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const e=this.data,r=this.bytesAvailable,n=e.byteLength-r,i=new Uint8Array(4),a=Math.min(4,r);if(a===0)throw new Error("no bytes available");i.set(e.subarray(n,n+a)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=a*8,this.bytesAvailable-=a}skipBits(e){let r;e=Math.min(e,this.bytesAvailable*8+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,r=e>>3,e-=r<<3,this.bytesAvailable-=r,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}readBits(e){let r=Math.min(this.bitsAvailable,e);const n=this.word>>>32-r;if(e>32&&z.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=r,this.bitsAvailable>0)this.word<<=r;else if(this.bytesAvailable>0)this.loadWord();else throw new Error("no bits available");return r=e-r,r>0&&this.bitsAvailable?n<<r|this.readBits(r):n}skipLZ(){let e;for(e=0;e<this.bitsAvailable;++e)if(this.word&2147483648>>>e)return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const e=this.skipLZ();return this.readBits(e+1)-1}readEG(){const e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}readBoolean(){return this.readBits(1)===1}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}skipScalingList(e){let r=8,n=8,i;for(let a=0;a<e;a++)n!==0&&(i=this.readEG(),n=(r+i+256)%256),r=n===0?r:n}readSPS(){let e=0,r=0,n=0,i=0,a,s,o;const c=this.readUByte.bind(this),l=this.readBits.bind(this),u=this.readUEG.bind(this),f=this.readBoolean.bind(this),d=this.skipBits.bind(this),h=this.skipEG.bind(this),p=this.skipUEG.bind(this),m=this.skipScalingList.bind(this);c();const g=c();if(l(5),d(3),c(),p(),g===100||g===110||g===122||g===244||g===44||g===83||g===86||g===118||g===128){const b=u();if(b===3&&d(1),p(),p(),d(1),f())for(s=b!==3?8:12,o=0;o<s;o++)f()&&(o<6?m(16):m(64))}p();const v=u();if(v===0)u();else if(v===1)for(d(1),h(),h(),a=u(),o=0;o<a;o++)h();p(),d(1);const y=u(),x=u(),E=l(1);E===0&&d(1),d(1),f()&&(e=u(),r=u(),n=u(),i=u());let S=[1,1];if(f()&&f())switch(c()){case 1:S=[1,1];break;case 2:S=[12,11];break;case 3:S=[10,11];break;case 4:S=[16,11];break;case 5:S=[40,33];break;case 6:S=[24,11];break;case 7:S=[20,11];break;case 8:S=[32,11];break;case 9:S=[80,33];break;case 10:S=[18,11];break;case 11:S=[15,11];break;case 12:S=[64,33];break;case 13:S=[160,99];break;case 14:S=[4,3];break;case 15:S=[3,2];break;case 16:S=[2,1];break;case 255:{S=[c()<<8|c(),c()<<8|c()];break}}return{width:Math.ceil((y+1)*16-e*2-r*2),height:(2-E)*(x+1)*16-(E?2:4)*(n+i),pixelRatio:S}}readSliceType(){return this.readUByte(),this.readUEG(),this.readUEG()}}class qGe{constructor(e,r,n){this.keyData=void 0,this.decrypter=void 0,this.keyData=n,this.decrypter=new kO(r,{removePKCS7Padding:!1})}decryptBuffer(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer)}decryptAacSample(e,r,n){const i=e[r].unit;if(i.length<=16)return;const a=i.subarray(16,i.length-i.length%16),s=a.buffer.slice(a.byteOffset,a.byteOffset+a.length);this.decryptBuffer(s).then(o=>{const c=new Uint8Array(o);i.set(c,16),this.decrypter.isSync()||this.decryptAacSamples(e,r+1,n)})}decryptAacSamples(e,r,n){for(;;r++){if(r>=e.length){n();return}if(!(e[r].unit.length<32)&&(this.decryptAacSample(e,r,n),!this.decrypter.isSync()))return}}getAvcEncryptedData(e){const r=Math.floor((e.length-48)/160)*16+16,n=new Int8Array(r);let i=0;for(let a=32;a<e.length-16;a+=160,i+=16)n.set(e.subarray(a,a+16),i);return n}getAvcDecryptedUnit(e,r){const n=new Uint8Array(r);let i=0;for(let a=32;a<e.length-16;a+=160,i+=16)e.set(n.subarray(i,i+16),a);return e}decryptAvcSample(e,r,n,i,a){const s=vQ(a.data),o=this.getAvcEncryptedData(s);this.decryptBuffer(o.buffer).then(c=>{a.data=this.getAvcDecryptedUnit(s,c),this.decrypter.isSync()||this.decryptAvcSamples(e,r,n+1,i)})}decryptAvcSamples(e,r,n,i){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;r++,n=0){if(r>=e.length){i();return}const a=e[r].units;for(;!(n>=a.length);n++){const s=a[n];if(!(s.data.length<=48||s.type!==1&&s.type!==5)&&(this.decryptAvcSample(e,r,n,i,s),!this.decrypter.isSync()))return}}}}const Mr=188;class Fs{constructor(e,r,n){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=e,this.config=r,this.typeSupported=n}static probe(e){const r=Fs.syncOffset(e);return r>0&&z.warn(`MPEG2-TS detected but first sync word found @ offset ${r}`),r!==-1}static syncOffset(e){const r=e.length,n=Math.min(Mr*5,e.length-Mr)+1;let i=0;for(;i<n;){let a=!1;for(let s=i;s<r&&e[s]===71;s+=Mr)if(!a&&WA(e,s)===0&&(a=!0),a&&s+Mr>n)return i;i++}return-1}static createTrack(e,r){return{container:e==="video"||e==="audio"?"video/mp2t":void 0,type:e,id:fQ[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:e==="audio"?r:void 0}}resetInitSegment(e,r,n,i){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=Fs.createTrack("video"),this._audioTrack=Fs.createTrack("audio",i),this._id3Track=Fs.createTrack("id3"),this._txtTrack=Fs.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.audioCodec=r,this.videoCodec=n,this._duration=i}resetTimeStamp(){}resetContiguity(){const{_audioTrack:e,_avcTrack:r,_id3Track:n}=this;e&&(e.pesData=null),r&&(r.pesData=null),n&&(n.pesData=null),this.aacOverFlow=null,this.avcSample=null,this.remainderData=null}demux(e,r,n=!1,i=!1){n||(this.sampleAes=null);let a;const s=this._avcTrack,o=this._audioTrack,c=this._id3Track,l=this._txtTrack;let u=s.pid,f=s.pesData,d=o.pid,h=c.pid,p=o.pesData,m=c.pesData,g=null,v=this.pmtParsed,y=this._pmtId,x=e.length;if(this.remainderData&&(e=Zl(this.remainderData,e),x=e.length,this.remainderData=null),x<Mr&&!i)return this.remainderData=e,{audioTrack:o,videoTrack:s,id3Track:c,textTrack:l};const E=Math.max(0,Fs.syncOffset(e));x-=(x-E)%Mr,x<e.byteLength&&!i&&(this.remainderData=new Uint8Array(e.buffer,x,e.buffer.byteLength-x));let S=0;for(let T=E;T<x;T+=Mr)if(e[T]===71){const R=!!(e[T+1]&64),I=WA(e,T),w=(e[T+3]&48)>>4;let C;if(w>1){if(C=T+5+e[T+4],C===T+Mr)continue}else C=T+4;switch(I){case u:R&&(f&&(a=zc(f))&&this.parseAVCPES(s,l,a,!1),f={data:[],size:0}),f&&(f.data.push(e.subarray(C,T+Mr)),f.size+=T+Mr-C);break;case d:if(R){if(p&&(a=zc(p)))switch(o.segmentCodec){case"aac":this.parseAACPES(o,a);break;case"mp3":this.parseMPEGPES(o,a);break}p={data:[],size:0}}p&&(p.data.push(e.subarray(C,T+Mr)),p.size+=T+Mr-C);break;case h:R&&(m&&(a=zc(m))&&this.parseID3PES(c,a),m={data:[],size:0}),m&&(m.data.push(e.subarray(C,T+Mr)),m.size+=T+Mr-C);break;case 0:R&&(C+=e[C]+1),y=this._pmtId=XGe(e,C);break;case y:{R&&(C+=e[C]+1);const L=QGe(e,C,this.typeSupported,n);u=L.avc,u>0&&(s.pid=u),d=L.audio,d>0&&(o.pid=d,o.segmentCodec=L.segmentCodec),h=L.id3,h>0&&(c.pid=h),g!==null&&!v&&(z.warn(`MPEG-TS PMT found at ${T} after unknown PID '${g}'. Backtracking to sync byte @${E} to parse all TS packets.`),g=null,T=E-188),v=this.pmtParsed=!0;break}case 17:case 8191:break;default:g=I;break}}else S++;if(S>0){const T=new Error(`Found ${S} TS packet/s that do not start with 0x47`);this.observer.emit($.ERROR,$.ERROR,{type:me.MEDIA_ERROR,details:q.FRAG_PARSING_ERROR,fatal:!1,error:T,reason:T.message})}s.pesData=f,o.pesData=p,c.pesData=m;const b={audioTrack:o,videoTrack:s,id3Track:c,textTrack:l};return i&&this.extractRemainingSamples(b),b}flush(){const{remainderData:e}=this;this.remainderData=null;let r;return e?r=this.demux(e,-1,!1,!0):r={videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(r),this.sampleAes?this.decrypt(r,this.sampleAes):r}extractRemainingSamples(e){const{audioTrack:r,videoTrack:n,id3Track:i,textTrack:a}=e,s=n.pesData,o=r.pesData,c=i.pesData;let l;if(s&&(l=zc(s))?(this.parseAVCPES(n,a,l,!0),n.pesData=null):n.pesData=s,o&&(l=zc(o))){switch(r.segmentCodec){case"aac":this.parseAACPES(r,l);break;case"mp3":this.parseMPEGPES(r,l);break}r.pesData=null}else o!=null&&o.size&&z.log("last AAC PES packet truncated,might overlap between fragments"),r.pesData=o;c&&(l=zc(c))?(this.parseID3PES(i,l),i.pesData=null):i.pesData=c}demuxSampleAes(e,r,n){const i=this.demux(e,n,!0,!this.config.progressive),a=this.sampleAes=new qGe(this.observer,this.config,r);return this.decrypt(i,a)}decrypt(e,r){return new Promise(n=>{const{audioTrack:i,videoTrack:a}=e;i.samples&&i.segmentCodec==="aac"?r.decryptAacSamples(i.samples,0,()=>{a.samples?r.decryptAvcSamples(a.samples,0,0,()=>{n(e)}):n(e)}):a.samples&&r.decryptAvcSamples(a.samples,0,0,()=>{n(e)})})}destroy(){this._duration=0}parseAVCPES(e,r,n,i){const a=this.parseAVCNALu(e,n.data);let s=this.avcSample,o,c=!1;n.data=null,s&&a.length&&!e.audFound&&(aw(s,e),s=this.avcSample=zm(!1,n.pts,n.dts,"")),a.forEach(l=>{switch(l.type){case 1:{o=!0,s||(s=this.avcSample=zm(!0,n.pts,n.dts,"")),s.frame=!0;const u=l.data;if(c&&u.length>4){const f=new J5(u).readSliceType();(f===2||f===4||f===7||f===9)&&(s.key=!0)}break}case 5:o=!0,s||(s=this.avcSample=zm(!0,n.pts,n.dts,"")),s.key=!0,s.frame=!0;break;case 6:{o=!0,mQ(l.data,1,n.pts,r.samples);break}case 7:if(o=!0,c=!0,!e.sps){const u=l.data,d=new J5(u).readSPS();e.width=d.width,e.height=d.height,e.pixelRatio=d.pixelRatio,e.sps=[u],e.duration=this._duration;const h=u.subarray(1,4);let p="avc1.";for(let m=0;m<3;m++){let g=h[m].toString(16);g.length<2&&(g="0"+g),p+=g}e.codec=p}break;case 8:o=!0,e.pps||(e.pps=[l.data]);break;case 9:o=!1,e.audFound=!0,s&&aw(s,e),s=this.avcSample=zm(!1,n.pts,n.dts,"");break;case 12:o=!0;break;default:o=!1,s&&(s.debug+="unknown NAL "+l.type+" ");break}s&&o&&s.units.push(l)}),i&&s&&(aw(s,e),this.avcSample=null)}getLastNalUnit(e){var r;let n=this.avcSample,i;if((!n||n.units.length===0)&&(n=e[e.length-1]),(r=n)!=null&&r.units){const a=n.units;i=a[a.length-1]}return i}parseAVCNALu(e,r){const n=r.byteLength;let i=e.naluState||0;const a=i,s=[];let o=0,c,l,u,f=-1,d=0;for(i===-1&&(f=0,d=r[0]&31,i=0,o=1);o<n;){if(c=r[o++],!i){i=c?0:1;continue}if(i===1){i=c?0:2;continue}if(!c)i=3;else if(c===1){if(f>=0){const h={data:r.subarray(f,o-i-1),type:d};s.push(h)}else{const h=this.getLastNalUnit(e.samples);if(h&&(a&&o<=4-a&&h.state&&(h.data=h.data.subarray(0,h.data.byteLength-a)),l=o-i-1,l>0)){const p=new Uint8Array(h.data.byteLength+l);p.set(h.data,0),p.set(r.subarray(0,l),h.data.byteLength),h.data=p,h.state=0}}o<n?(u=r[o]&31,f=o,d=u,i=0):i=-1}else i=0}if(f>=0&&i>=0){const h={data:r.subarray(f,n),type:d,state:i};s.push(h)}if(s.length===0){const h=this.getLastNalUnit(e.samples);if(h){const p=new Uint8Array(h.data.byteLength+r.byteLength);p.set(h.data,0),p.set(r,h.data.byteLength),h.data=p}}return e.naluState=i,s}parseAACPES(e,r){let n=0;const i=this.aacOverFlow;let a=r.data;if(i){this.aacOverFlow=null;const f=i.missing,d=i.sample.unit.byteLength;if(f===-1){const h=new Uint8Array(d+a.byteLength);h.set(i.sample.unit,0),h.set(a,d),a=h}else{const h=d-f;i.sample.unit.set(a.subarray(0,f),h),e.samples.push(i.sample),n=i.missing}}let s,o;for(s=n,o=a.length;s<o-1&&!L1(a,s);s++);if(s!==n){let f;const d=s<o-1;d?f=`AAC PES did not start with ADTS header,offset:${s}`:f="No ADTS header found in AAC PES";const h=new Error(f);if(z.warn(`parsing error: ${f}`),this.observer.emit($.ERROR,$.ERROR,{type:me.MEDIA_ERROR,details:q.FRAG_PARSING_ERROR,fatal:!1,levelRetry:d,error:h,reason:f}),!d)return}kQ(e,this.observer,a,s,this.audioCodec);let c;if(r.pts!==void 0)c=r.pts;else if(i){const f=OQ(e.samplerate);c=i.sample.pts+f}else{z.warn("[tsdemuxer]: AAC PES unknown PTS");return}let l=0,u;for(;s<o;)if(u=LQ(e,a,s,c,l),s+=u.length,u.missing){this.aacOverFlow=u;break}else for(l++;s<o-1&&!L1(a,s);s++);}parseMPEGPES(e,r){const n=r.data,i=n.length;let a=0,s=0;const o=r.pts;if(o===void 0){z.warn("[tsdemuxer]: MPEG PES unknown PTS");return}for(;s<i;)if(DQ(n,s)){const c=PQ(e,n,s,o,a);if(c)s+=c.length,a++;else break}else s++}parseID3PES(e,r){if(r.pts===void 0){z.warn("[tsdemuxer]: ID3 PES unknown PTS");return}const n=Pt({},r,{type:this._avcTrack?_i.emsg:_i.audioId3,duration:Number.POSITIVE_INFINITY});e.samples.push(n)}}function zm(t,e,r,n){return{key:t,frame:!1,pts:e,dts:r,units:[],debug:n,length:0}}function WA(t,e){return((t[e+1]&31)<<8)+t[e+2]}function XGe(t,e){return(t[e+10]&31)<<8|t[e+11]}function QGe(t,e,r,n){const i={audio:-1,avc:-1,id3:-1,segmentCodec:"aac"},a=(t[e+1]&15)<<8|t[e+2],s=e+3+a-4,o=(t[e+10]&15)<<8|t[e+11];for(e+=12+o;e<s;){const c=WA(t,e);switch(t[e]){case 207:if(!n){z.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:i.audio===-1&&(i.audio=c);break;case 21:i.id3===-1&&(i.id3=c);break;case 219:if(!n){z.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:i.avc===-1&&(i.avc=c);break;case 3:case 4:r.mpeg!==!0&&r.mp3!==!0?z.log("MPEG audio found, not supported in this browser"):i.audio===-1&&(i.audio=c,i.segmentCodec="mp3");break;case 36:z.warn("Unsupported HEVC stream type found");break}e+=((t[e+3]&15)<<8|t[e+4])+5}return i}function zc(t){let e=0,r,n,i,a,s;const o=t.data;if(!t||t.size===0)return null;for(;o[0].length<19&&o.length>1;){const l=new Uint8Array(o[0].length+o[1].length);l.set(o[0]),l.set(o[1],o[0].length),o[0]=l,o.splice(1,1)}if(r=o[0],(r[0]<<16)+(r[1]<<8)+r[2]===1){if(n=(r[4]<<8)+r[5],n&&n>t.size-6)return null;const l=r[7];l&192&&(a=(r[9]&14)*536870912+(r[10]&255)*4194304+(r[11]&254)*16384+(r[12]&255)*128+(r[13]&254)/2,l&64?(s=(r[14]&14)*536870912+(r[15]&255)*4194304+(r[16]&254)*16384+(r[17]&255)*128+(r[18]&254)/2,a-s>60*9e4&&(z.warn(`${Math.round((a-s)/9e4)}s delta between PTS and DTS, align them`),a=s)):s=a),i=r[8];let u=i+9;if(t.size<=u)return null;t.size-=u;const f=new Uint8Array(t.size);for(let d=0,h=o.length;d<h;d++){r=o[d];let p=r.byteLength;if(u)if(u>p){u-=p;continue}else r=r.subarray(u),p-=u,u=0;f.set(r,e),e+=p}return n&&(n-=i+3),{data:f,pts:a,dts:s,len:n}}return null}function aw(t,e){if(t.units.length&&t.frame){if(t.pts===void 0){const r=e.samples,n=r.length;if(n){const i=r[n-1];t.pts=i.pts,t.dts=i.dts}else{e.dropped++;return}}e.samples.push(t)}t.debug.length&&z.log(t.pts+"/"+t.dts+":"+t.debug)}class ZGe extends IQ{resetInitSegment(e,r,n,i){super.resetInitSegment(e,r,n,i),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:r,duration:i,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;let n=(I1(e,0)||[]).length;for(let i=e.length;n<i;n++)if(YGe(e,n))return z.log("MPEG Audio sync word found !"),!0;return!1}canParse(e,r){return KGe(e,r)}appendFrame(e,r,n){if(this.basePTS!==null)return PQ(e,r,n,this.basePTS,this.frameIndex)}}class eB{static getSilentFrame(e,r){switch(e){case"mp4a.40.2":if(r===1)return new Uint8Array([0,200,0,128,35,128]);if(r===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(r===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(r===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(r===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(r===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(r===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(r===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(r===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}}}const Ns=Math.pow(2,32)-1;class K{static init(){K.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};let e;for(e in K.types)K.types.hasOwnProperty(e)&&(K.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);const r=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);K.HDLR_TYPES={video:r,audio:n};const i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),a=new Uint8Array([0,0,0,0,0,0,0,0]);K.STTS=K.STSC=K.STCO=a,K.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),K.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),K.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),K.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const s=new Uint8Array([105,115,111,109]),o=new Uint8Array([97,118,99,49]),c=new Uint8Array([0,0,0,1]);K.FTYP=K.box(K.types.ftyp,s,c,s,o),K.DINF=K.box(K.types.dinf,K.box(K.types.dref,i))}static box(e,...r){let n=8,i=r.length;const a=i;for(;i--;)n+=r[i].byteLength;const s=new Uint8Array(n);for(s[0]=n>>24&255,s[1]=n>>16&255,s[2]=n>>8&255,s[3]=n&255,s.set(e,4),i=0,n=8;i<a;i++)s.set(r[i],n),n+=r[i].byteLength;return s}static hdlr(e){return K.box(K.types.hdlr,K.HDLR_TYPES[e])}static mdat(e){return K.box(K.types.mdat,e)}static mdhd(e,r){r*=e;const n=Math.floor(r/(Ns+1)),i=Math.floor(r%(Ns+1));return K.box(K.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,n>>24,n>>16&255,n>>8&255,n&255,i>>24,i>>16&255,i>>8&255,i&255,85,196,0,0]))}static mdia(e){return K.box(K.types.mdia,K.mdhd(e.timescale,e.duration),K.hdlr(e.type),K.minf(e))}static mfhd(e){return K.box(K.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,e&255]))}static minf(e){return e.type==="audio"?K.box(K.types.minf,K.box(K.types.smhd,K.SMHD),K.DINF,K.stbl(e)):K.box(K.types.minf,K.box(K.types.vmhd,K.VMHD),K.DINF,K.stbl(e))}static moof(e,r,n){return K.box(K.types.moof,K.mfhd(e),K.traf(n,r))}static moov(e){let r=e.length;const n=[];for(;r--;)n[r]=K.trak(e[r]);return K.box.apply(null,[K.types.moov,K.mvhd(e[0].timescale,e[0].duration)].concat(n).concat(K.mvex(e)))}static mvex(e){let r=e.length;const n=[];for(;r--;)n[r]=K.trex(e[r]);return K.box.apply(null,[K.types.mvex,...n])}static mvhd(e,r){r*=e;const n=Math.floor(r/(Ns+1)),i=Math.floor(r%(Ns+1)),a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,n>>24,n>>16&255,n>>8&255,n&255,i>>24,i>>16&255,i>>8&255,i&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return K.box(K.types.mvhd,a)}static sdtp(e){const r=e.samples||[],n=new Uint8Array(4+r.length);let i,a;for(i=0;i<r.length;i++)a=r[i].flags,n[i+4]=a.dependsOn<<4|a.isDependedOn<<2|a.hasRedundancy;return K.box(K.types.sdtp,n)}static stbl(e){return K.box(K.types.stbl,K.stsd(e),K.box(K.types.stts,K.STTS),K.box(K.types.stsc,K.STSC),K.box(K.types.stsz,K.STSZ),K.box(K.types.stco,K.STCO))}static avc1(e){let r=[],n=[],i,a,s;for(i=0;i<e.sps.length;i++)a=e.sps[i],s=a.byteLength,r.push(s>>>8&255),r.push(s&255),r=r.concat(Array.prototype.slice.call(a));for(i=0;i<e.pps.length;i++)a=e.pps[i],s=a.byteLength,n.push(s>>>8&255),n.push(s&255),n=n.concat(Array.prototype.slice.call(a));const o=K.box(K.types.avcC,new Uint8Array([1,r[3],r[4],r[5],255,224|e.sps.length].concat(r).concat([e.pps.length]).concat(n))),c=e.width,l=e.height,u=e.pixelRatio[0],f=e.pixelRatio[1];return K.box(K.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c>>8&255,c&255,l>>8&255,l&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o,K.box(K.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),K.box(K.types.pasp,new Uint8Array([u>>24,u>>16&255,u>>8&255,u&255,f>>24,f>>16&255,f>>8&255,f&255])))}static esds(e){const r=e.config.length;return new Uint8Array([0,0,0,0,3,23+r,0,1,0,4,15+r,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([r]).concat(e.config).concat([6,1,2]))}static mp4a(e){const r=e.samplerate;return K.box(K.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,r>>8&255,r&255,0,0]),K.box(K.types.esds,K.esds(e)))}static mp3(e){const r=e.samplerate;return K.box(K.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,r>>8&255,r&255,0,0]))}static stsd(e){return e.type==="audio"?e.segmentCodec==="mp3"&&e.codec==="mp3"?K.box(K.types.stsd,K.STSD,K.mp3(e)):K.box(K.types.stsd,K.STSD,K.mp4a(e)):K.box(K.types.stsd,K.STSD,K.avc1(e))}static tkhd(e){const r=e.id,n=e.duration*e.timescale,i=e.width,a=e.height,s=Math.floor(n/(Ns+1)),o=Math.floor(n%(Ns+1));return K.box(K.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,r>>24&255,r>>16&255,r>>8&255,r&255,0,0,0,0,s>>24,s>>16&255,s>>8&255,s&255,o>>24,o>>16&255,o>>8&255,o&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,i&255,0,0,a>>8&255,a&255,0,0]))}static traf(e,r){const n=K.sdtp(e),i=e.id,a=Math.floor(r/(Ns+1)),s=Math.floor(r%(Ns+1));return K.box(K.types.traf,K.box(K.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,i&255])),K.box(K.types.tfdt,new Uint8Array([1,0,0,0,a>>24,a>>16&255,a>>8&255,a&255,s>>24,s>>16&255,s>>8&255,s&255])),K.trun(e,n.length+16+20+8+16+8+8),n)}static trak(e){return e.duration=e.duration||4294967295,K.box(K.types.trak,K.tkhd(e),K.mdia(e))}static trex(e){const r=e.id;return K.box(K.types.trex,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,r&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,r){const n=e.samples||[],i=n.length,a=12+16*i,s=new Uint8Array(a);let o,c,l,u,f,d;for(r+=8+a,s.set([e.type==="video"?1:0,0,15,1,i>>>24&255,i>>>16&255,i>>>8&255,i&255,r>>>24&255,r>>>16&255,r>>>8&255,r&255],0),o=0;o<i;o++)c=n[o],l=c.duration,u=c.size,f=c.flags,d=c.cts,s.set([l>>>24&255,l>>>16&255,l>>>8&255,l&255,u>>>24&255,u>>>16&255,u>>>8&255,u&255,f.isLeading<<2|f.dependsOn,f.isDependedOn<<6|f.hasRedundancy<<4|f.paddingValue<<1|f.isNonSync,f.degradPrio&240<<8,f.degradPrio&15,d>>>24&255,d>>>16&255,d>>>8&255,d&255],12+16*o);return K.box(K.types.trun,s)}static initSegment(e){K.types||K.init();const r=K.moov(e),n=new Uint8Array(K.FTYP.byteLength+r.byteLength);return n.set(K.FTYP),n.set(r,K.FTYP.byteLength),n}}K.types=void 0;K.HDLR_TYPES=void 0;K.STTS=void 0;K.STSC=void 0;K.STCO=void 0;K.STSZ=void 0;K.VMHD=void 0;K.SMHD=void 0;K.STSD=void 0;K.FTYP=void 0;K.DINF=void 0;const MQ=9e4;function DO(t,e,r=1,n=!1){const i=t*e*r;return n?Math.round(i):i}function JGe(t,e,r=1,n=!1){return DO(t,e,1/r,n)}function ih(t,e=!1){return DO(t,1e3,1/MQ,e)}function eze(t,e=1){return DO(t,MQ,1/e)}const tze=10*1e3,tB=1024,rze=1152;let Vm=null,sw=null;class ow{constructor(e,r,n,i=""){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=e,this.config=r,this.typeSupported=n,this.ISGenerated=!1,Vm===null){const s=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Vm=s?parseInt(s[1]):0}if(sw===null){const a=navigator.userAgent.match(/Safari\/(\d+)/i);sw=a?parseInt(a[1]):0}}destroy(){}resetTimeStamp(e){z.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=e}resetNextTimestamp(){z.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){z.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1}getVideoStartPts(e){let r=!1;const n=e.reduce((i,a)=>{const s=a.pts-i;return s<-4294967296?(r=!0,Un(i,a.pts)):s>0?i:a.pts},e[0].pts);return r&&z.debug("PTS rollover detected"),n}remux(e,r,n,i,a,s,o,c){let l,u,f,d,h,p,m=a,g=a;const v=e.pid>-1,y=r.pid>-1,x=r.samples.length,E=e.samples.length>0,S=o&&x>0||x>1;if((!v||E)&&(!y||S)||this.ISGenerated||o){this.ISGenerated||(f=this.generateIS(e,r,a,s));const T=this.isVideoContiguous;let R=-1,I;if(S&&(R=nze(r.samples),!T&&this.config.forceKeyFrameOnDiscontinuity))if(p=!0,R>0){z.warn(`[mp4-remuxer]: Dropped ${R} out of ${x} video samples due to a missing keyframe`);const w=this.getVideoStartPts(r.samples);r.samples=r.samples.slice(R),r.dropped+=R,g+=(r.samples[0].pts-w)/r.inputTimeScale,I=g}else R===-1&&(z.warn(`[mp4-remuxer]: No keyframe found out of ${x} video samples`),p=!1);if(this.ISGenerated){if(E&&S){const w=this.getVideoStartPts(r.samples),L=(Un(e.samples[0].pts,w)-w)/r.inputTimeScale;m+=Math.max(0,L),g+=Math.max(0,-L)}if(E){if(e.samplerate||(z.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),f=this.generateIS(e,r,a,s)),u=this.remuxAudio(e,m,this.isAudioContiguous,s,y||S||c===ye.AUDIO?g:void 0),S){const w=u?u.endPTS-u.startPTS:0;r.inputTimeScale||(z.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),f=this.generateIS(e,r,a,s)),l=this.remuxVideo(r,g,T,w)}}else S&&(l=this.remuxVideo(r,g,T,0));l&&(l.firstKeyFrame=R,l.independent=R!==-1,l.firstKeyFramePTS=I)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(n.samples.length&&(h=FQ(n,a,this._initPTS,this._initDTS)),i.samples.length&&(d=BQ(i,a,this._initPTS))),{audio:u,video:l,initSegment:f,independent:p,text:d,id3:h}}generateIS(e,r,n,i){const a=e.samples,s=r.samples,o=this.typeSupported,c={},l=this._initPTS;let u=!l||i,f="audio/mp4",d,h,p;if(u&&(d=h=1/0),e.config&&a.length){switch(e.timescale=e.samplerate,e.segmentCodec){case"mp3":o.mpeg?(f="audio/mpeg",e.codec=""):o.mp3&&(e.codec="mp3");break}c.audio={id:"audio",container:f,codec:e.codec,initSegment:e.segmentCodec==="mp3"&&o.mpeg?new Uint8Array(0):K.initSegment([e]),metadata:{channelCount:e.channelCount}},u&&(p=e.inputTimeScale,!l||p!==l.timescale?d=h=a[0].pts-Math.round(p*n):u=!1)}if(r.sps&&r.pps&&s.length&&(r.timescale=r.inputTimeScale,c.video={id:"main",container:"video/mp4",codec:r.codec,initSegment:K.initSegment([r]),metadata:{width:r.width,height:r.height}},u))if(p=r.inputTimeScale,!l||p!==l.timescale){const m=this.getVideoStartPts(s),g=Math.round(p*n);h=Math.min(h,Un(s[0].dts,m)-g),d=Math.min(d,m-g)}else u=!1;if(Object.keys(c).length)return this.ISGenerated=!0,u?(this._initPTS={baseTime:d,timescale:p},this._initDTS={baseTime:h,timescale:p}):d=p=void 0,{tracks:c,initPTS:d,timescale:p}}remuxVideo(e,r,n,i){const a=e.inputTimeScale,s=e.samples,o=[],c=s.length,l=this._initPTS;let u=this.nextAvcDts,f=8,d=this.videoSampleDuration,h,p,m=Number.POSITIVE_INFINITY,g=Number.NEGATIVE_INFINITY,v=!1;if(!n||u===null){const M=r*a,U=s[0].pts-Un(s[0].dts,s[0].pts);u=M-U}const y=l.baseTime*a/l.timescale;for(let M=0;M<c;M++){const U=s[M];U.pts=Un(U.pts-y,u),U.dts=Un(U.dts-y,u),U.dts<s[M>0?M-1:M].dts&&(v=!0)}v&&s.sort(function(M,U){const W=M.dts-U.dts,k=M.pts-U.pts;return W||k}),h=s[0].dts,p=s[s.length-1].dts;const x=p-h,E=x?Math.round(x/(c-1)):d||e.inputTimeScale/30;if(n){const M=h-u,U=M>E,W=M<-1;if((U||W)&&(U?z.warn(`AVC: ${ih(M,!0)} ms (${M}dts) hole between fragments detected, filling it`):z.warn(`AVC: ${ih(-M,!0)} ms (${M}dts) overlapping between fragments detected`),!W||u>s[0].pts)){h=u;const k=s[0].pts-M;s[0].dts=h,s[0].pts=k,z.log(`Video: First PTS/DTS adjusted: ${ih(k,!0)}/${ih(h,!0)}, delta: ${ih(M,!0)} ms`)}}h=Math.max(0,h);let S=0,b=0;for(let M=0;M<c;M++){const U=s[M],W=U.units,k=W.length;let O=0;for(let F=0;F<k;F++)O+=W[F].data.length;b+=O,S+=k,U.length=O,U.dts=Math.max(U.dts,h),m=Math.min(U.pts,m),g=Math.max(U.pts,g)}p=s[c-1].dts;const T=b+4*S+8;let R;try{R=new Uint8Array(T)}catch(M){this.observer.emit($.ERROR,$.ERROR,{type:me.MUX_ERROR,details:q.REMUX_ALLOC_ERROR,fatal:!1,error:M,bytes:T,reason:`fail allocating video mdat ${T}`});return}const I=new DataView(R.buffer);I.setUint32(0,T),R.set(K.types.mdat,4);let w=!1,C=Number.POSITIVE_INFINITY,L=Number.POSITIVE_INFINITY,H=Number.NEGATIVE_INFINITY,N=Number.NEGATIVE_INFINITY;for(let M=0;M<c;M++){const U=s[M],W=U.units;let k=0;for(let D=0,Q=W.length;D<Q;D++){const ee=W[D],fe=ee.data,se=ee.data.byteLength;I.setUint32(f,se),f+=4,R.set(fe,f),f+=se,k+=4+se}let O;if(M<c-1)d=s[M+1].dts-U.dts,O=s[M+1].pts-U.pts;else{const D=this.config,Q=M>0?U.dts-s[M-1].dts:E;if(O=M>0?U.pts-s[M-1].pts:E,D.stretchShortVideoTrack&&this.nextAudioPts!==null){const ee=Math.floor(D.maxBufferHole*a),fe=(i?m+i*a:this.nextAudioPts)-U.pts;fe>ee?(d=fe-Q,d<0?d=Q:w=!0,z.log(`[mp4-remuxer]: It is approximately ${fe/90} ms to the next segment; using duration ${d/90} ms for the last video frame.`)):d=Q}else d=Q}const F=Math.round(U.pts-U.dts);C=Math.min(C,d),H=Math.max(H,d),L=Math.min(L,O),N=Math.max(N,O),o.push(new rB(U.key,d,k,F))}if(o.length){if(Vm){if(Vm<70){const M=o[0].flags;M.dependsOn=2,M.isNonSync=0}}else if(sw&&N-L<H-C&&E/H<.025&&o[0].cts===0){z.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let M=h;for(let U=0,W=o.length;U<W;U++){const k=M+o[U].duration,O=M+o[U].cts;if(U<W-1){const F=k+o[U+1].cts;o[U].duration=F-O}else o[U].duration=U?o[U-1].duration:E;o[U].cts=0,M=k}}}d=w||!d?E:d,this.nextAvcDts=u=p+d,this.videoSampleDuration=d,this.isVideoContiguous=!0;const P=K.moof(e.sequenceNumber++,h,Pt({},e,{samples:o})),B="video",V={data1:P,data2:R,startPTS:m/a,endPTS:(g+d)/a,startDTS:h/a,endDTS:u/a,type:B,hasAudio:!1,hasVideo:!0,nb:o.length,dropped:e.dropped};return e.samples=[],e.dropped=0,V}remuxAudio(e,r,n,i,a){const s=e.inputTimeScale,o=e.samplerate?e.samplerate:s,c=s/o,l=e.segmentCodec==="aac"?tB:rze,u=l*c,f=this._initPTS,d=e.segmentCodec==="mp3"&&this.typeSupported.mpeg,h=[],p=a!==void 0;let m=e.samples,g=d?0:8,v=this.nextAudioPts||-1;const y=r*s,x=f.baseTime*s/f.timescale;if(this.isAudioContiguous=n=n||m.length&&v>0&&(i&&Math.abs(y-v)<9e3||Math.abs(Un(m[0].pts-x,y)-v)<20*u),m.forEach(function(B){B.pts=Un(B.pts-x,y)}),!n||v<0){if(m=m.filter(B=>B.pts>=0),!m.length)return;a===0?v=0:i&&!p?v=Math.max(0,y):v=m[0].pts}if(e.segmentCodec==="aac"){const B=this.config.maxAudioFramesDrift;for(let V=0,M=v;V<m.length;V++){const U=m[V],W=U.pts,k=W-M,O=Math.abs(1e3*k/s);if(k<=-B*u&&p)V===0&&(z.warn(`Audio frame @ ${(W/s).toFixed(3)}s overlaps nextAudioPts by ${Math.round(1e3*k/s)} ms.`),this.nextAudioPts=v=M=W);else if(k>=B*u&&O<tze&&p){let F=Math.round(k/u);M=W-F*u,M<0&&(F--,M+=u),V===0&&(this.nextAudioPts=v=M),z.warn(`[mp4-remuxer]: Injecting ${F} audio frame @ ${(M/s).toFixed(3)}s due to ${Math.round(1e3*k/s)} ms gap.`);for(let D=0;D<F;D++){const Q=Math.max(M,0);let ee=eB.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);ee||(z.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),ee=U.unit.subarray()),m.splice(V,0,{unit:ee,pts:Q}),M+=u,V++}}U.pts=M,M+=u}}let E=null,S=null,b,T=0,R=m.length;for(;R--;)T+=m[R].unit.byteLength;for(let B=0,V=m.length;B<V;B++){const M=m[B],U=M.unit;let W=M.pts;if(S!==null){const O=h[B-1];O.duration=Math.round((W-S)/c)}else if(n&&e.segmentCodec==="aac"&&(W=v),E=W,T>0){T+=g;try{b=new Uint8Array(T)}catch(O){this.observer.emit($.ERROR,$.ERROR,{type:me.MUX_ERROR,details:q.REMUX_ALLOC_ERROR,fatal:!1,error:O,bytes:T,reason:`fail allocating audio mdat ${T}`});return}d||(new DataView(b.buffer).setUint32(0,T),b.set(K.types.mdat,4))}else return;b.set(U,g);const k=U.byteLength;g+=k,h.push(new rB(!0,l,k,0)),S=W}const I=h.length;if(!I)return;const w=h[h.length-1];this.nextAudioPts=v=S+c*w.duration;const C=d?new Uint8Array(0):K.moof(e.sequenceNumber++,E/c,Pt({},e,{samples:h}));e.samples=[];const L=E/s,H=v/s,P={data1:C,data2:b,startPTS:L,endPTS:H,startDTS:L,endDTS:H,type:"audio",hasAudio:!0,hasVideo:!1,nb:I};return this.isAudioContiguous=!0,P}remuxEmptyAudio(e,r,n,i){const a=e.inputTimeScale,s=e.samplerate?e.samplerate:a,o=a/s,c=this.nextAudioPts,l=this._initDTS,u=l.baseTime*9e4/l.timescale,f=(c!==null?c:i.startDTS*a)+u,d=i.endDTS*a+u,h=o*tB,p=Math.ceil((d-f)/h),m=eB.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(z.warn("[mp4-remuxer]: remux empty Audio"),!m){z.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec");return}const g=[];for(let v=0;v<p;v++){const y=f+v*h;g.push({unit:m,pts:y,dts:y})}return e.samples=g,this.remuxAudio(e,r,n,!1)}}function Un(t,e){let r;if(e===null)return t;for(e<t?r=-8589934592:r=8589934592;Math.abs(t-e)>4294967296;)t+=r;return t}function nze(t){for(let e=0;e<t.length;e++)if(t[e].key)return e;return-1}function FQ(t,e,r,n){const i=t.samples.length;if(!i)return;const a=t.inputTimeScale;for(let o=0;o<i;o++){const c=t.samples[o];c.pts=Un(c.pts-r.baseTime*9e4/r.timescale,e*a)/a,c.dts=Un(c.dts-n.baseTime*9e4/n.timescale,e*a)/a}const s=t.samples;return t.samples=[],{samples:s}}function BQ(t,e,r){const n=t.samples.length;if(!n)return;const i=t.inputTimeScale;for(let s=0;s<n;s++){const o=t.samples[s];o.pts=Un(o.pts-r.baseTime*9e4/r.timescale,e*i)/i}t.samples.sort((s,o)=>s.pts-o.pts);const a=t.samples;return t.samples=[],{samples:a}}class rB{constructor(e,r,n,i){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=r,this.size=n,this.cts=i,this.flags=new ize(e)}}class ize{constructor(e){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=e?2:1,this.isNonSync=e?0:1}}class aze{constructor(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}destroy(){}resetTimeStamp(e){this.initPTS=e,this.lastEndTime=null}resetNextTimestamp(){this.lastEndTime=null}resetInitSegment(e,r,n,i){this.audioCodec=r,this.videoCodec=n,this.generateInitSegment(wHe(e,i)),this.emitInitSegment=!0}generateInitSegment(e){let{audioCodec:r,videoCodec:n}=this;if(!(e!=null&&e.byteLength)){this.initTracks=void 0,this.initData=void 0;return}const i=this.initData=pQ(e);r||(r=nB(i.audio,qe.AUDIO)),n||(n=nB(i.video,qe.VIDEO));const a={};i.audio&&i.video?a.audiovideo={container:"video/mp4",codec:r+","+n,initSegment:e,id:"main"}:i.audio?a.audio={container:"audio/mp4",codec:r,initSegment:e,id:"audio"}:i.video?a.video={container:"video/mp4",codec:n,initSegment:e,id:"main"}:z.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=a}remux(e,r,n,i,a,s){var o,c;let{initPTS:l,lastEndTime:u}=this;const f={audio:void 0,video:void 0,text:i,id3:n,initSegment:void 0};pe(u)||(u=this.lastEndTime=a||0);const d=r.samples;if(!(d!=null&&d.length))return f;const h={initPTS:void 0,timescale:1};let p=this.initData;if((o=p)!=null&&o.length||(this.generateInitSegment(d),p=this.initData),!((c=p)!=null&&c.length))return z.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),f;this.emitInitSegment&&(h.tracks=this.initTracks,this.emitInitSegment=!1);const m=RHe(p,d),g=m===null?a:m;(sze(l,g,a)||h.timescale!==l.timescale&&s)&&(h.initPTS=g-a,this.initPTS=l={baseTime:h.initPTS,timescale:1});const v=AHe(d,p),y=e?g-l.baseTime/l.timescale:u,x=y+v;$He(p,d,l.baseTime/l.timescale),v>0?this.lastEndTime=x:(z.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const E=!!p.audio,S=!!p.video;let b="";E&&(b+="audio"),S&&(b+="video");const T={data1:d,startPTS:y,startDTS:y,endPTS:x,endDTS:x,type:b,hasAudio:E,hasVideo:S,nb:1,dropped:0};return f.audio=T.type==="audio"?T:void 0,f.video=T.type!=="audio"?T:void 0,f.initSegment=h,f.id3=FQ(n,a,l,l),i.samples.length&&(f.text=BQ(i,a,l)),f}}function sze(t,e,r){if(t===null)return!0;const n=e-t.baseTime/t.timescale;return n<0&&Math.abs(n-r)>1}function nB(t,e){const r=t==null?void 0:t.codec;return r&&r.length>4?r:r==="hvc1"||r==="hev1"?"hvc1.1.c.L120.90":r==="av01"?"av01.0.04M.08":r==="avc1"||e===qe.VIDEO?"avc1.42e01e":"mp4a.40.5"}let Fa;try{Fa=self.performance.now.bind(self.performance)}catch{z.debug("Unable to use Performance API on this environment"),Fa=typeof self<"u"&&self.Date.now}const lw=[{demux:HGe,remux:aze},{demux:Fs,remux:ow},{demux:UGe,remux:ow},{demux:ZGe,remux:ow}];class iB{constructor(e,r,n,i,a){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=r,this.config=n,this.vendor=i,this.id=a}configure(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()}push(e,r,n,i){const a=n.transmuxing;a.executeStart=Fa();let s=new Uint8Array(e);const{currentTransmuxState:o,transmuxConfig:c}=this;i&&(this.currentTransmuxState=i);const{contiguous:l,discontinuity:u,trackSwitch:f,accurateTimeOffset:d,timeOffset:h,initSegmentChange:p}=i||o,{audioCodec:m,videoCodec:g,defaultInitPts:v,duration:y,initSegmentData:x}=c,E=oze(s,r);if(E&&E.method==="AES-128"){const R=this.getDecrypter();if(R.isSync()){let I=R.softwareDecrypt(s,E.key.buffer,E.iv.buffer);if(n.part>-1&&(I=R.flush()),!I)return a.executeEnd=Fa(),cw(n);s=new Uint8Array(I)}else return this.decryptionPromise=R.webCryptoDecrypt(s,E.key.buffer,E.iv.buffer).then(I=>{const w=this.push(I,null,n);return this.decryptionPromise=null,w}),this.decryptionPromise}const S=this.needsProbing(u,f);if(S){const R=this.configureTransmuxer(s);if(R)return z.warn(`[transmuxer] ${R.message}`),this.observer.emit($.ERROR,$.ERROR,{type:me.MEDIA_ERROR,details:q.FRAG_PARSING_ERROR,fatal:!1,error:R,reason:R.message}),a.executeEnd=Fa(),cw(n)}(u||f||p||S)&&this.resetInitSegment(x,m,g,y,r),(u||p||S)&&this.resetInitialTimestamp(v),l||this.resetContiguity();const b=this.transmux(s,E,h,d,n),T=this.currentTransmuxState;return T.contiguous=!0,T.discontinuity=!1,T.trackSwitch=!1,a.executeEnd=Fa(),b}flush(e){const r=e.transmuxing;r.executeStart=Fa();const{decrypter:n,currentTransmuxState:i,decryptionPromise:a}=this;if(a)return a.then(()=>this.flush(e));const s=[],{timeOffset:o}=i;if(n){const f=n.flush();f&&s.push(this.push(f,null,e))}const{demuxer:c,remuxer:l}=this;if(!c||!l)return r.executeEnd=Fa(),[cw(e)];const u=c.flush(o);return Jv(u)?u.then(f=>(this.flushRemux(s,f,e),s)):(this.flushRemux(s,u,e),s)}flushRemux(e,r,n){const{audioTrack:i,videoTrack:a,id3Track:s,textTrack:o}=r,{accurateTimeOffset:c,timeOffset:l}=this.currentTransmuxState;z.log(`[transmuxer.ts]: Flushed fragment ${n.sn}${n.part>-1?" p: "+n.part:""} of level ${n.level}`);const u=this.remuxer.remux(i,a,s,o,l,c,!0,this.id);e.push({remuxResult:u,chunkMeta:n}),n.transmuxing.executeEnd=Fa()}resetInitialTimestamp(e){const{demuxer:r,remuxer:n}=this;!r||!n||(r.resetTimeStamp(e),n.resetTimeStamp(e))}resetContiguity(){const{demuxer:e,remuxer:r}=this;!e||!r||(e.resetContiguity(),r.resetNextTimestamp())}resetInitSegment(e,r,n,i,a){const{demuxer:s,remuxer:o}=this;!s||!o||(s.resetInitSegment(e,r,n,i),o.resetInitSegment(e,r,n,a))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(e,r,n,i,a){let s;return r&&r.method==="SAMPLE-AES"?s=this.transmuxSampleAes(e,r,n,i,a):s=this.transmuxUnencrypted(e,n,i,a),s}transmuxUnencrypted(e,r,n,i){const{audioTrack:a,videoTrack:s,id3Track:o,textTrack:c}=this.demuxer.demux(e,r,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(a,s,o,c,r,n,!1,this.id),chunkMeta:i}}transmuxSampleAes(e,r,n,i,a){return this.demuxer.demuxSampleAes(e,r,n).then(s=>({remuxResult:this.remuxer.remux(s.audioTrack,s.videoTrack,s.id3Track,s.textTrack,n,i,!1,this.id),chunkMeta:a}))}configureTransmuxer(e){const{config:r,observer:n,typeSupported:i,vendor:a}=this;let s;for(let f=0,d=lw.length;f<d;f++)if(lw[f].demux.probe(e)){s=lw[f];break}if(!s)return new Error("Failed to find demuxer by probing fragment data");const o=this.demuxer,c=this.remuxer,l=s.remux,u=s.demux;(!c||!(c instanceof l))&&(this.remuxer=new l(n,r,i,a)),(!o||!(o instanceof u))&&(this.demuxer=new u(n,r,i),this.probe=u.probe)}needsProbing(e,r){return!this.demuxer||!this.remuxer||e||r}getDecrypter(){let e=this.decrypter;return e||(e=this.decrypter=new kO(this.config)),e}}function oze(t,e){let r=null;return t.byteLength>0&&e!=null&&e.key!=null&&e.iv!==null&&e.method!=null&&(r=e),r}const cw=t=>({remuxResult:{},chunkMeta:t});function Jv(t){return"then"in t&&t.then instanceof Function}class lze{constructor(e,r,n,i,a){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=r,this.initSegmentData=n,this.duration=i,this.defaultInitPts=a||null}}class cze{constructor(e,r,n,i,a,s){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=r,this.accurateTimeOffset=n,this.trackSwitch=i,this.timeOffset=a,this.initSegmentChange=s}}var J0={},uze={get exports(){return J0},set exports(t){J0=t}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function a(c,l,u,f,d){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,f||c,d),p=r?r+l:l;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],h]:c._events[p].push(h):(c._events[p]=h,c._eventsCount++),c}function s(c,l){--c._eventsCount===0?c._events=new n:delete c._events[l]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var l=[],u,f;if(this._eventsCount===0)return l;for(f in u=this._events)e.call(u,f)&&l.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},o.prototype.listeners=function(l){var u=r?r+l:l,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,h=f.length,p=new Array(h);d<h;d++)p[d]=f[d].fn;return p},o.prototype.listenerCount=function(l){var u=r?r+l:l,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(l,u,f,d,h,p){var m=r?r+l:l;if(!this._events[m])return!1;var g=this._events[m],v=arguments.length,y,x;if(g.fn){switch(g.once&&this.removeListener(l,g.fn,void 0,!0),v){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,f),!0;case 4:return g.fn.call(g.context,u,f,d),!0;case 5:return g.fn.call(g.context,u,f,d,h),!0;case 6:return g.fn.call(g.context,u,f,d,h,p),!0}for(x=1,y=new Array(v-1);x<v;x++)y[x-1]=arguments[x];g.fn.apply(g.context,y)}else{var E=g.length,S;for(x=0;x<E;x++)switch(g[x].once&&this.removeListener(l,g[x].fn,void 0,!0),v){case 1:g[x].fn.call(g[x].context);break;case 2:g[x].fn.call(g[x].context,u);break;case 3:g[x].fn.call(g[x].context,u,f);break;case 4:g[x].fn.call(g[x].context,u,f,d);break;default:if(!y)for(S=1,y=new Array(v-1);S<v;S++)y[S-1]=arguments[S];g[x].fn.apply(g[x].context,y)}}return!0},o.prototype.on=function(l,u,f){return a(this,l,u,f,!1)},o.prototype.once=function(l,u,f){return a(this,l,u,f,!0)},o.prototype.removeListener=function(l,u,f,d){var h=r?r+l:l;if(!this._events[h])return this;if(!u)return s(this,h),this;var p=this._events[h];if(p.fn)p.fn===u&&(!d||p.once)&&(!f||p.context===f)&&s(this,h);else{for(var m=0,g=[],v=p.length;m<v;m++)(p[m].fn!==u||d&&!p[m].once||f&&p[m].context!==f)&&g.push(p[m]);g.length?this._events[h]=g.length===1?g[0]:g:s(this,h)}return this},o.prototype.removeAllListeners=function(l){var u;return l?(u=r?r+l:l,this._events[u]&&s(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(uze);const uw=LO()||{isTypeSupported:()=>!1};class UQ{constructor(e,r,n,i){this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;const a=e.config;this.hls=e,this.id=r,this.useWorker=!!a.enableWorker,this.onTransmuxComplete=n,this.onFlush=i;const s=(l,u)=>{u=u||{},u.frag=this.frag,u.id=this.id,l===$.ERROR&&(this.error=u.error),this.hls.trigger(l,u)};this.observer=new J0,this.observer.on($.FRAG_DECRYPTED,s),this.observer.on($.ERROR,s);const o={mp4:uw.isTypeSupported("video/mp4"),mpeg:uw.isTypeSupported("audio/mpeg"),mp3:uw.isTypeSupported('audio/mp4; codecs="mp3"')},c=navigator.vendor;if(this.useWorker&&typeof Worker<"u"&&(a.workerPath||kGe())){try{a.workerPath?(z.log(`loading Web Worker ${a.workerPath} for "${r}"`),this.workerContext=LGe(a.workerPath)):(z.log(`injecting Web Worker for "${r}"`),this.workerContext=OGe()),this.onwmsg=f=>this.onWorkerMessage(f);const{worker:u}=this.workerContext;u.addEventListener("message",this.onwmsg),u.onerror=f=>{const d=new Error(`${f.message}  (${f.filename}:${f.lineno})`);a.enableWorker=!1,z.warn(`Error in "${r}" Web Worker, fallback to inline`),this.hls.trigger($.ERROR,{type:me.OTHER_ERROR,details:q.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:d})},u.postMessage({cmd:"init",typeSupported:o,vendor:c,id:r,config:JSON.stringify(a)})}catch(u){z.warn(`Error setting up "${r}" Web Worker, fallback to inline`,u),this.resetWorker(),this.error=null,this.transmuxer=new iB(this.observer,o,a,c,r)}return}this.transmuxer=new iB(this.observer,o,a,c,r)}resetWorker(){if(this.workerContext){const{worker:e,objectURL:r}=this.workerContext;r&&self.URL.revokeObjectURL(r),e.removeEventListener("message",this.onwmsg),e.onerror=null,e.terminate(),this.workerContext=null}}destroy(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{const r=this.transmuxer;r&&(r.destroy(),this.transmuxer=null)}const e=this.observer;e&&e.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null}push(e,r,n,i,a,s,o,c,l,u){var f,d;l.transmuxing.start=self.performance.now();const{transmuxer:h}=this,p=s?s.start:a.start,m=a.decryptdata,g=this.frag,v=!(g&&a.cc===g.cc),y=!(g&&l.level===g.level),x=g?l.sn-g.sn:-1,E=this.part?l.part-this.part.index:-1,S=x===0&&l.id>1&&l.id===(g==null?void 0:g.stats.chunkCount),b=!y&&(x===1||x===0&&(E===1||S&&E<=0)),T=self.performance.now();(y||x||a.stats.parsing.start===0)&&(a.stats.parsing.start=T),s&&(E||!b)&&(s.stats.parsing.start=T);const R=!(g&&((f=a.initSegment)==null?void 0:f.url)===((d=g.initSegment)==null?void 0:d.url)),I=new cze(v,b,c,y,p,R);if(!b||v||R){z.log(`[transmuxer-interface, ${a.type}]: Starting new transmux session for sn: ${l.sn} p: ${l.part} level: ${l.level} id: ${l.id}
        discontinuity: ${v}
        trackSwitch: ${y}
        contiguous: ${b}
        accurateTimeOffset: ${c}
        timeOffset: ${p}
        initSegmentChange: ${R}`);const w=new lze(n,i,r,o,u);this.configureTransmuxer(w)}if(this.frag=a,this.part=s,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:e,decryptdata:m,chunkMeta:l,state:I},e instanceof ArrayBuffer?[e]:[]);else if(h){const w=h.push(e,m,l,I);Jv(w)?(h.async=!0,w.then(C=>{this.handleTransmuxComplete(C)}).catch(C=>{this.transmuxerError(C,l,"transmuxer-interface push error")})):(h.async=!1,this.handleTransmuxComplete(w))}}flush(e){e.transmuxing.start=self.performance.now();const{transmuxer:r}=this;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:e});else if(r){let n=r.flush(e);Jv(n)||r.async?(Jv(n)||(n=Promise.resolve(n)),n.then(a=>{this.handleFlushResult(a,e)}).catch(a=>{this.transmuxerError(a,e,"transmuxer-interface flush error")})):this.handleFlushResult(n,e)}}transmuxerError(e,r,n){this.hls&&(this.error=e,this.hls.trigger($.ERROR,{type:me.MEDIA_ERROR,details:q.FRAG_PARSING_ERROR,chunkMeta:r,fatal:!1,error:e,err:e,reason:n}))}handleFlushResult(e,r){e.forEach(n=>{this.handleTransmuxComplete(n)}),this.onFlush(r)}onWorkerMessage(e){const r=e.data,n=this.hls;switch(r.event){case"init":{var i;const a=(i=this.workerContext)==null?void 0:i.objectURL;a&&self.URL.revokeObjectURL(a);break}case"transmuxComplete":{this.handleTransmuxComplete(r.data);break}case"flush":{this.onFlush(r.data);break}case"workerLog":z[r.data.logType]&&z[r.data.logType](r.data.message);break;default:{r.data=r.data||{},r.data.frag=this.frag,r.data.id=this.id,n.trigger(r.event,r.data);break}}}configureTransmuxer(e){const{transmuxer:r}=this;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:e}):r&&r.configure(e)}handleTransmuxComplete(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)}}const fze=250,fw=2,dze=.1,hze=.05;class pze{constructor(e,r,n,i){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=e,this.media=r,this.fragmentTracker=n,this.hls=i}destroy(){this.media=null,this.hls=this.fragmentTracker=null}poll(e,r){const{config:n,media:i,stalled:a}=this;if(i===null)return;const{currentTime:s,seeking:o}=i,c=this.seeking&&!o,l=!this.seeking&&o;if(this.seeking=o,s!==e){if(this.moved=!0,a!==null){if(this.stallReported){const v=self.performance.now()-a;z.warn(`playback not stuck anymore @${s}, after ${Math.round(v)}ms`),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}return}if(l||c){this.stalled=null;return}if(i.paused&&!o||i.ended||i.playbackRate===0||!lt.getBuffered(i).length)return;const u=lt.bufferInfo(i,s,0),f=u.len>0,d=u.nextStart||0;if(!f&&!d)return;if(o){const v=u.len>fw,y=!d||r&&r.start<=s||d-s>fw&&!this.fragmentTracker.getPartialFragment(s);if(v||y)return;this.moved=!1}if(!this.moved&&this.stalled!==null){var h;const v=Math.max(d,u.start||0)-s,y=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,E=(y==null||(h=y.details)==null?void 0:h.live)?y.details.targetduration*2:fw,S=this.fragmentTracker.getPartialFragment(s);if(v>0&&(v<=E||S)){this._trySkipBufferHole(S);return}}const p=self.performance.now();if(a===null){this.stalled=p;return}const m=p-a;if(!o&&m>=fze&&(this._reportStall(u),!this.media))return;const g=lt.bufferInfo(i,s,n.maxBufferHole);this._tryFixBufferStall(g,m)}_tryFixBufferStall(e,r){const{config:n,fragmentTracker:i,media:a}=this;if(a===null)return;const s=a.currentTime,o=i.getPartialFragment(s);o&&(this._trySkipBufferHole(o)||!this.media)||(e.len>n.maxBufferHole||e.nextStart&&e.nextStart-s<n.maxBufferHole)&&r>n.highBufferWatchdogPeriod*1e3&&(z.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}_reportStall(e){const{hls:r,media:n,stallReported:i}=this;if(!i&&n){this.stallReported=!0;const a=new Error(`Playback stalling at @${n.currentTime} due to low buffer (${JSON.stringify(e)})`);z.warn(a.message),r.trigger($.ERROR,{type:me.MEDIA_ERROR,details:q.BUFFER_STALLED_ERROR,fatal:!1,error:a,buffer:e.len})}}_trySkipBufferHole(e){const{config:r,hls:n,media:i}=this;if(i===null)return 0;const a=i.currentTime,s=lt.bufferInfo(i,a,0),o=a<s.start?s.start:s.nextStart;if(o){const c=s.len<=r.maxBufferHole,l=s.len>0&&s.len<1&&i.readyState<3,u=o-a;if(u>0&&(c||l)){if(u>r.maxBufferHole){const{fragmentTracker:d}=this;let h=!1;if(a===0){const p=d.getAppendedFrag(0,ye.MAIN);p&&o<p.end&&(h=!0)}if(!h){const p=e||d.getAppendedFrag(a,ye.MAIN);if(p){let m=!1,g=p.end;for(;g<o;){const v=d.getPartialFragment(g);if(v)g+=v.duration;else{m=!0;break}}if(m)return 0}}}const f=Math.max(o+hze,a+dze);if(z.warn(`skipping hole, adjusting currentTime from ${a} to ${f}`),this.moved=!0,this.stalled=null,i.currentTime=f,e&&!e.gap){const d=new Error(`fragment loaded with buffer holes, seeking from ${a} to ${f}`);n.trigger($.ERROR,{type:me.MEDIA_ERROR,details:q.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:d,reason:d.message,frag:e})}return f}}return 0}_tryNudgeBuffer(){const{config:e,hls:r,media:n,nudgeRetry:i}=this;if(n===null)return;const a=n.currentTime;if(this.nudgeRetry++,i<e.nudgeMaxRetry){const s=a+(i+1)*e.nudgeOffset,o=new Error(`Nudging 'currentTime' from ${a} to ${s}`);z.warn(o.message),n.currentTime=s,r.trigger($.ERROR,{type:me.MEDIA_ERROR,details:q.BUFFER_NUDGE_ON_STALL,error:o,fatal:!1})}else{const s=new Error(`Playhead still not moving while enough data buffered @${a} after ${e.nudgeMaxRetry} nudges`);z.error(s.message),r.trigger($.ERROR,{type:me.MEDIA_ERROR,details:q.BUFFER_STALLED_ERROR,error:s,fatal:!0})}}}const gze=100;class mze extends OO{constructor(e,r,n){super(e,r,n,"[stream-controller]",ye.MAIN),this.audioCodecSwap=!1,this.gapController=null,this.level=-1,this._forceStartLoad=!1,this.altAudio=!1,this.audioOnly=!1,this.fragPlaying=null,this.onvplaying=null,this.onvseeked=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on($.MEDIA_ATTACHED,this.onMediaAttached,this),e.on($.MEDIA_DETACHING,this.onMediaDetaching,this),e.on($.MANIFEST_LOADING,this.onManifestLoading,this),e.on($.MANIFEST_PARSED,this.onManifestParsed,this),e.on($.LEVEL_LOADING,this.onLevelLoading,this),e.on($.LEVEL_LOADED,this.onLevelLoaded,this),e.on($.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on($.ERROR,this.onError,this),e.on($.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on($.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on($.BUFFER_CREATED,this.onBufferCreated,this),e.on($.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on($.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on($.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off($.MEDIA_ATTACHED,this.onMediaAttached,this),e.off($.MEDIA_DETACHING,this.onMediaDetaching,this),e.off($.MANIFEST_LOADING,this.onManifestLoading,this),e.off($.MANIFEST_PARSED,this.onManifestParsed,this),e.off($.LEVEL_LOADED,this.onLevelLoaded,this),e.off($.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off($.ERROR,this.onError,this),e.off($.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off($.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off($.BUFFER_CREATED,this.onBufferCreated,this),e.off($.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off($.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off($.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this._unregisterListeners(),this.onMediaDetaching()}startLoad(e){if(this.levels){const{lastCurrentTime:r,hls:n}=this;if(this.stopLoad(),this.setInterval(gze),this.level=-1,!this.startFragRequested){let i=n.startLevel;i===-1&&(n.config.testBandwidth&&this.levels.length>1?(i=0,this.bitrateTest=!0):i=n.nextAutoLevel),this.level=n.nextLoadLevel=i,this.loadedmetadata=!1}r>0&&e===-1&&(this.log(`Override startPosition with lastCurrentTime @${r.toFixed(3)}`),e=r),this.state=X.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this._forceStartLoad=!0,this.state=X.STOPPED}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case X.WAITING_LEVEL:{var e;const{levels:n,level:i}=this,a=n==null||(e=n[i])==null?void 0:e.details;if(a&&(!a.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(a))break;this.state=X.IDLE;break}break}case X.FRAG_LOADING_WAITING_RETRY:{var r;const n=self.performance.now(),i=this.retryDate;(!i||n>=i||(r=this.media)!=null&&r.seeking)&&(this.resetStartWhenNotLoaded(this.level),this.state=X.IDLE)}break}this.state===X.IDLE&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){super.onTickEnd(),this.checkBuffer(),this.checkFragmentChanged()}doTickIdle(){const{hls:e,levelLastLoaded:r,levels:n,media:i}=this,{config:a,nextLoadLevel:s}=e;if(r===null||!i&&(this.startFragRequested||!a.startFragPrefetch)||this.altAudio&&this.audioOnly||!(n!=null&&n[s]))return;const o=n[s],c=this.getMainFwdBufferInfo();if(c===null)return;const l=this.getLevelDetails();if(l&&this._streamEnded(c,l)){const g={};this.altAudio&&(g.type="video"),this.hls.trigger($.BUFFER_EOS,g),this.state=X.ENDED;return}e.loadLevel!==s&&e.manualLevel===-1&&this.log(`Adapting to level ${s} from level ${this.level}`),this.level=e.nextLoadLevel=s;const u=o.details;if(!u||this.state===X.WAITING_LEVEL||u.live&&this.levelLastLoaded!==s){this.level=s,this.state=X.WAITING_LEVEL;return}const f=c.len,d=this.getMaxBufferLength(o.maxBitrate);if(f>=d)return;this.backtrackFragment&&this.backtrackFragment.start>c.end&&(this.backtrackFragment=null);const h=this.backtrackFragment?this.backtrackFragment.start:c.end;let p=this.getNextFragment(h,u);if(this.couldBacktrack&&!this.fragPrevious&&p&&p.sn!=="initSegment"&&this.fragmentTracker.getState(p)!==Sr.OK){var m;const v=((m=this.backtrackFragment)!=null?m:p).sn-u.startSN,y=u.fragments[v-1];y&&p.cc===y.cc&&(p=y,this.fragmentTracker.removeFragment(y))}else this.backtrackFragment&&c.len&&(this.backtrackFragment=null);if(p&&this.isLoopLoading(p,h)){if(!p.gap){const v=this.audioOnly&&!this.altAudio?qe.AUDIO:qe.VIDEO,y=(v===qe.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;y&&this.afterBufferFlushed(y,v,ye.MAIN)}p=this.getNextFragmentLoopLoading(p,u,c,ye.MAIN,d)}p&&(p.initSegment&&!p.initSegment.data&&!this.bitrateTest&&(p=p.initSegment),this.loadFragment(p,o,h))}loadFragment(e,r,n){const i=this.fragmentTracker.getState(e);this.fragCurrent=e,i===Sr.NOT_LOADED?e.sn==="initSegment"?this._loadInitSegment(e,r):this.bitrateTest?(this.log(`Fragment ${e.sn} of level ${e.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(e,r)):(this.startFragRequested=!0,super.loadFragment(e,r,n)):this.clearTrackerIfNeeded(e)}getAppendedFrag(e){const r=this.fragmentTracker.getAppendedFrag(e,ye.MAIN);return r&&"fragment"in r?r.fragment:r}getBufferedFrag(e){return this.fragmentTracker.getBufferedFrag(e,ye.MAIN)}followingBufferedFrag(e){return e?this.getBufferedFrag(e.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:e,media:r}=this;if(r!=null&&r.readyState){let n;const i=this.getAppendedFrag(r.currentTime);if(i&&i.start>1&&this.flushMainBuffer(0,i.start-1),!r.paused&&e){const s=this.hls.nextLoadLevel,o=e[s],c=this.fragLastKbps;c&&this.fragCurrent?n=this.fragCurrent.duration*o.maxBitrate/(1e3*c)+1:n=0}else n=0;const a=this.getBufferedFrag(r.currentTime+n);if(a){const s=this.followingBufferedFrag(a);if(s){this.abortCurrentFrag();const o=s.maxStartPTS?s.maxStartPTS:s.start,c=s.duration,l=Math.max(a.end,o+Math.min(Math.max(c-this.config.maxFragLookUpTolerance,c*.5),c*.75));this.flushMainBuffer(l,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.state){case X.KEY_LOADING:case X.FRAG_LOADING:case X.FRAG_LOADING_WAITING_RETRY:case X.PARSING:case X.PARSED:this.state=X.IDLE;break}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(e,r){super.flushMainBuffer(e,r,this.altAudio?"video":null)}onMediaAttached(e,r){super.onMediaAttached(e,r);const n=r.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),n.addEventListener("playing",this.onvplaying),n.addEventListener("seeked",this.onvseeked),this.gapController=new pze(this.config,n,this.fragmentTracker,this.hls)}onMediaDetaching(){const{media:e}=this;e&&this.onvplaying&&this.onvseeked&&(e.removeEventListener("playing",this.onvplaying),e.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),super.onMediaDetaching()}onMediaPlaying(){this.tick()}onMediaSeeked(){const e=this.media,r=e?e.currentTime:null;pe(r)&&this.log(`Media seeked to ${r.toFixed(3)}`);const n=this.getMainFwdBufferInfo();if(n===null||n.len===0){this.warn(`Main forward buffer length on "seeked" event ${n?n.len:"empty"})`);return}this.tick()}onManifestLoading(){this.log("Trigger BUFFER_RESET"),this.hls.trigger($.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=0,this.fragPlaying=null,this.backtrackFragment=null}onManifestParsed(e,r){let n=!1,i=!1,a;r.levels.forEach(s=>{a=s.audioCodec,a&&(a.indexOf("mp4a.40.2")!==-1&&(n=!0),a.indexOf("mp4a.40.5")!==-1&&(i=!0))}),this.audioCodecSwitch=n&&i&&!CGe(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=r.levels,this.startFragRequested=!1}onLevelLoading(e,r){const{levels:n}=this;if(!n||this.state!==X.IDLE)return;const i=n[r.level];(!i.details||i.details.live&&this.levelLastLoaded!==r.level||this.waitForCdnTuneIn(i.details))&&(this.state=X.WAITING_LEVEL)}onLevelLoaded(e,r){var n;const{levels:i}=this,a=r.level,s=r.details,o=s.totalduration;if(!i){this.warn(`Levels were reset while loading level ${a}`);return}this.log(`Level ${a} loaded [${s.startSN},${s.endSN}], cc [${s.startCC}, ${s.endCC}] duration:${o}`);const c=i[a],l=this.fragCurrent;l&&(this.state===X.FRAG_LOADING||this.state===X.FRAG_LOADING_WAITING_RETRY)&&(l.level!==r.level||l.urlId!==c.urlId)&&l.loader&&this.abortCurrentFrag();let u=0;if(s.live||(n=c.details)!=null&&n.live){if(s.fragments[0]||(s.deltaUpdateFailed=!0),s.deltaUpdateFailed)return;u=this.alignPlaylists(s,c.details)}if(c.details=s,this.levelLastLoaded=a,this.hls.trigger($.LEVEL_UPDATED,{details:s,level:a}),this.state===X.WAITING_LEVEL){if(this.waitForCdnTuneIn(s))return;this.state=X.IDLE}this.startFragRequested?s.live&&this.synchronizeToLiveEdge(s):this.setStartPosition(s,u),this.tick()}_handleFragmentLoadProgress(e){var r;const{frag:n,part:i,payload:a}=e,{levels:s}=this;if(!s){this.warn(`Levels were reset while fragment load was in progress. Fragment ${n.sn} of level ${n.level} will not be buffered`);return}const o=s[n.level],c=o.details;if(!c){this.warn(`Dropping fragment ${n.sn} of level ${n.level} after level details were reset`),this.fragmentTracker.removeFragment(n);return}const l=o.videoCodec,u=c.PTSKnown||!c.live,f=(r=n.initSegment)==null?void 0:r.data,d=this._getAudioCodec(o),h=this.transmuxer=this.transmuxer||new UQ(this.hls,ye.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),p=i?i.index:-1,m=p!==-1,g=new $O(n.level,n.sn,n.stats.chunkCount,a.byteLength,p,m),v=this.initPTS[n.cc];h.push(a,f,d,l,n,i,c.totalduration,u,g,v)}onAudioTrackSwitching(e,r){const n=this.altAudio;if(!!!r.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const s=this.fragCurrent;s&&(this.log("Switching to main audio track, cancel main fragment load"),s.abortRequests(),this.fragmentTracker.removeFragment(s)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();const a=this.hls;n&&(a.trigger($.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),a.trigger($.AUDIO_TRACK_SWITCHED,r)}}onAudioTrackSwitched(e,r){const n=r.id,i=!!this.hls.audioTracks[n].url;if(i){const a=this.videoBuffer;a&&this.mediaBuffer!==a&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=a)}this.altAudio=i,this.tick()}onBufferCreated(e,r){const n=r.tracks;let i,a,s=!1;for(const o in n){const c=n[o];if(c.id==="main"){if(a=o,i=c,o==="video"){const l=n[o];l&&(this.videoBuffer=l.buffer)}}else s=!0}s&&i?(this.log(`Alternate track found, use ${a}.buffered to schedule main fragment loading`),this.mediaBuffer=i.buffer):this.mediaBuffer=this.media}onFragBuffered(e,r){const{frag:n,part:i}=r;if(n&&n.type!==ye.MAIN)return;if(this.fragContextChanged(n)){this.warn(`Fragment ${n.sn}${i?" p: "+i.index:""} of level ${n.level} finished buffering, but was aborted. state: ${this.state}`),this.state===X.PARSED&&(this.state=X.IDLE);return}const a=i?i.stats:n.stats;this.fragLastKbps=Math.round(8*a.total/(a.buffering.end-a.loading.first)),n.sn!=="initSegment"&&(this.fragPrevious=n),this.fragBufferedComplete(n,i)}onError(e,r){var n;if(r.fatal){this.state=X.ERROR;return}switch(r.details){case q.FRAG_GAP:case q.FRAG_PARSING_ERROR:case q.FRAG_DECRYPT_ERROR:case q.FRAG_LOAD_ERROR:case q.FRAG_LOAD_TIMEOUT:case q.KEY_LOAD_ERROR:case q.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(ye.MAIN,r);break;case q.LEVEL_LOAD_ERROR:case q.LEVEL_LOAD_TIMEOUT:case q.LEVEL_PARSING_ERROR:!r.levelRetry&&this.state===X.WAITING_LEVEL&&((n=r.context)==null?void 0:n.type)===je.LEVEL&&(this.state=X.IDLE);break;case q.BUFFER_FULL_ERROR:if(!r.parent||r.parent!=="main")return;this.reduceLengthAndFlushBuffer(r)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case q.INTERNAL_EXCEPTION:this.recoverWorkerError(r);break}}checkBuffer(){const{media:e,gapController:r}=this;if(!(!e||!r||!e.readyState)){if(this.loadedmetadata||!lt.getBuffered(e).length){const n=this.state!==X.IDLE?this.fragCurrent:null;r.poll(this.lastCurrentTime,n)}this.lastCurrentTime=e.currentTime}}onFragLoadEmergencyAborted(){this.state=X.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()}onBufferFlushed(e,{type:r}){if(r!==qe.AUDIO||this.audioOnly&&!this.altAudio){const n=(r===qe.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(n,r,ye.MAIN)}}onLevelsUpdated(e,r){this.levels=r.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:e}=this;if(!e)return;const r=e.currentTime;let n=this.startPosition;if(n>=0&&r<n){if(e.seeking){this.log(`could not seek to ${n}, already seeking at ${r}`);return}const i=lt.getBuffered(e),s=(i.length?i.start(0):0)-n;s>0&&(s<this.config.maxBufferHole||s<this.config.maxFragLookUpTolerance)&&(this.log(`adjusting start position by ${s} to match buffer start`),n+=s,this.startPosition=n),this.log(`seek to target start position ${n} from current time ${r}`),e.currentTime=n}}_getAudioCodec(e){let r=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&r&&(this.log("Swapping audio codec"),r.indexOf("mp4a.40.5")!==-1?r="mp4a.40.2":r="mp4a.40.5"),r}_loadBitrateTestFrag(e,r){e.bitrateTest=!0,this._doFragLoad(e,r).then(n=>{const{hls:i}=this;if(!n||this.fragContextChanged(e))return;r.fragmentError=0,this.state=X.IDLE,this.startFragRequested=!1,this.bitrateTest=!1;const a=e.stats;a.parsing.start=a.parsing.end=a.buffering.start=a.buffering.end=self.performance.now(),i.trigger($.FRAG_LOADED,n),e.bitrateTest=!1})}_handleTransmuxComplete(e){var r;const n="main",{hls:i}=this,{remuxResult:a,chunkMeta:s}=e,o=this.getCurrentContext(s);if(!o){this.resetWhenMissingContext(s);return}const{frag:c,part:l,level:u}=o,{video:f,text:d,id3:h,initSegment:p}=a,{details:m}=u,g=this.altAudio?void 0:a.audio;if(this.fragContextChanged(c)){this.fragmentTracker.removeFragment(c);return}if(this.state=X.PARSING,p){p.tracks&&(this._bufferInitSegment(u,p.tracks,c,s),i.trigger($.FRAG_PARSING_INIT_SEGMENT,{frag:c,id:n,tracks:p.tracks}));const v=p.initPTS,y=p.timescale;pe(v)&&(this.initPTS[c.cc]={baseTime:v,timescale:y},i.trigger($.INIT_PTS_FOUND,{frag:c,id:n,initPTS:v,timescale:y}))}if(f&&a.independent!==!1){if(m){const{startPTS:v,endPTS:y,startDTS:x,endDTS:E}=f;if(l)l.elementaryStreams[f.type]={startPTS:v,endPTS:y,startDTS:x,endDTS:E};else if(f.firstKeyFrame&&f.independent&&s.id===1&&(this.couldBacktrack=!0),f.dropped&&f.independent){const S=this.getMainFwdBufferInfo(),b=(S?S.end:this.getLoadPosition())+this.config.maxBufferHole,T=f.firstKeyFramePTS?f.firstKeyFramePTS:v;if(b<T-this.config.maxBufferHole){this.backtrack(c);return}c.setElementaryStreamInfo(f.type,c.start,y,c.start,E,!0)}c.setElementaryStreamInfo(f.type,v,y,x,E),this.backtrackFragment&&(this.backtrackFragment=c),this.bufferFragmentData(f,c,l,s)}}else if(a.independent===!1){this.backtrack(c);return}if(g){const{startPTS:v,endPTS:y,startDTS:x,endDTS:E}=g;l&&(l.elementaryStreams[qe.AUDIO]={startPTS:v,endPTS:y,startDTS:x,endDTS:E}),c.setElementaryStreamInfo(qe.AUDIO,v,y,x,E),this.bufferFragmentData(g,c,l,s)}if(m&&h!=null&&(r=h.samples)!=null&&r.length){const v={id:n,frag:c,details:m,samples:h.samples};i.trigger($.FRAG_PARSING_METADATA,v)}if(m&&d){const v={id:n,frag:c,details:m,samples:d.samples};i.trigger($.FRAG_PARSING_USERDATA,v)}}_bufferInitSegment(e,r,n,i){if(this.state!==X.PARSING)return;this.audioOnly=!!r.audio&&!r.video,this.altAudio&&!this.audioOnly&&delete r.audio;const{audio:a,video:s,audiovideo:o}=r;if(a){let c=e.audioCodec;const l=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(c&&(c.indexOf("mp4a.40.5")!==-1?c="mp4a.40.2":c="mp4a.40.5"),a.metadata.channelCount!==1&&l.indexOf("firefox")===-1&&(c="mp4a.40.5")),l.indexOf("android")!==-1&&a.container!=="audio/mpeg"&&(c="mp4a.40.2",this.log(`Android: force audio codec to ${c}`)),e.audioCodec&&e.audioCodec!==c&&this.log(`Swapping manifest audio codec "${e.audioCodec}" for "${c}"`),a.levelCodec=c,a.id="main",this.log(`Init audio buffer, container:${a.container}, codecs[selected/level/parsed]=[${c||""}/${e.audioCodec||""}/${a.codec}]`)}s&&(s.levelCodec=e.videoCodec,s.id="main",this.log(`Init video buffer, container:${s.container}, codecs[level/parsed]=[${e.videoCodec||""}/${s.codec}]`)),o&&this.log(`Init audiovideo buffer, container:${o.container}, codecs[level/parsed]=[${e.attrs.CODECS||""}/${o.codec}]`),this.hls.trigger($.BUFFER_CODECS,r),Object.keys(r).forEach(c=>{const u=r[c].initSegment;u!=null&&u.byteLength&&this.hls.trigger($.BUFFER_APPENDING,{type:c,data:u,frag:n,part:null,chunkMeta:i,parent:n.type})}),this.tick()}getMainFwdBufferInfo(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,ye.MAIN)}backtrack(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=X.IDLE}checkFragmentChanged(){const e=this.media;let r=null;if(e&&e.readyState>1&&e.seeking===!1){const n=e.currentTime;if(lt.isBuffered(e,n)?r=this.getAppendedFrag(n):lt.isBuffered(e,n+.1)&&(r=this.getAppendedFrag(n+.1)),r){this.backtrackFragment=null;const i=this.fragPlaying,a=r.level;(!i||r.sn!==i.sn||i.level!==a||r.urlId!==i.urlId)&&(this.fragPlaying=r,this.hls.trigger($.FRAG_CHANGED,{frag:r}),(!i||i.level!==a)&&this.hls.trigger($.LEVEL_SWITCHED,{level:a}))}}}get nextLevel(){const e=this.nextBufferedFrag;return e?e.level:-1}get currentFrag(){const e=this.media;return e?this.fragPlaying||this.getAppendedFrag(e.currentTime):null}get currentProgramDateTime(){const e=this.media;if(e){const r=e.currentTime,n=this.currentFrag;if(n&&pe(r)&&pe(n.programDateTime)){const i=n.programDateTime+(r-n.start)*1e3;return new Date(i)}}return null}get currentLevel(){const e=this.currentFrag;return e?e.level:-1}get nextBufferedFrag(){const e=this.currentFrag;return e?this.followingBufferedFrag(e):null}get forceStartLoad(){return this._forceStartLoad}}class Vc{constructor(e,r=0,n=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=r,this.totalWeight_=n}sample(e,r){const n=Math.pow(this.alpha_,e);this.estimate_=r*(1-n)+n*this.estimate_,this.totalWeight_+=e}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_}}class vze{constructor(e,r,n,i=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new Vc(e),this.fast_=new Vc(r),this.defaultTTFB_=i,this.ttfb_=new Vc(e)}update(e,r){const{slow_:n,fast_:i,ttfb_:a}=this;n.halfLife!==e&&(this.slow_=new Vc(e,n.getEstimate(),n.getTotalWeight())),i.halfLife!==r&&(this.fast_=new Vc(r,i.getEstimate(),i.getTotalWeight())),a.halfLife!==e&&(this.ttfb_=new Vc(e,a.getEstimate(),a.getTotalWeight()))}sample(e,r){e=Math.max(e,this.minDelayMs_);const n=8*r,i=e/1e3,a=n/i;this.fast_.sample(i,a),this.slow_.sample(i,a)}sampleTTFB(e){const r=e/1e3,n=Math.sqrt(2)*Math.exp(-Math.pow(r,2)/2);this.ttfb_.sample(n,Math.max(e,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}destroy(){}}class yze{constructor(e){this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=-1,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=e;const r=e.config;this.bwEstimator=new vze(r.abrEwmaSlowVoD,r.abrEwmaFastVoD,r.abrEwmaDefaultEstimate),this.registerListeners()}registerListeners(){const{hls:e}=this;e.on($.FRAG_LOADING,this.onFragLoading,this),e.on($.FRAG_LOADED,this.onFragLoaded,this),e.on($.FRAG_BUFFERED,this.onFragBuffered,this),e.on($.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on($.LEVEL_LOADED,this.onLevelLoaded,this)}unregisterListeners(){const{hls:e}=this;e.off($.FRAG_LOADING,this.onFragLoading,this),e.off($.FRAG_LOADED,this.onFragLoaded,this),e.off($.FRAG_BUFFERED,this.onFragBuffered,this),e.off($.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off($.LEVEL_LOADED,this.onLevelLoaded,this)}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null}onFragLoading(e,r){var n;const i=r.frag;this.ignoreFragment(i)||(this.fragCurrent=i,this.partCurrent=(n=r.part)!=null?n:null,this.clearTimer(),this.timer=self.setInterval(this.onCheck,100))}onLevelSwitching(e,r){this.clearTimer()}getTimeToLoadFrag(e,r,n,i){const a=e+n/r,s=i?this.lastLevelLoadSec:0;return a+s}onLevelLoaded(e,r){const n=this.hls.config,{total:i,bwEstimate:a}=r.stats;pe(i)&&pe(a)&&(this.lastLevelLoadSec=8*i/a),r.details.live?this.bwEstimator.update(n.abrEwmaSlowLive,n.abrEwmaFastLive):this.bwEstimator.update(n.abrEwmaSlowVoD,n.abrEwmaFastVoD)}_abandonRulesCheck(){const{fragCurrent:e,partCurrent:r,hls:n}=this,{autoLevelEnabled:i,media:a}=n;if(!e||!a)return;const s=performance.now(),o=r?r.stats:e.stats,c=r?r.duration:e.duration,l=s-o.loading.start;if(o.aborted||o.loaded&&o.loaded===o.total||e.level===0){this.clearTimer(),this._nextAutoLevel=-1;return}if(!i||a.paused||!a.playbackRate||!a.readyState)return;const u=n.mainForwardBufferInfo;if(u===null)return;const f=this.bwEstimator.getEstimateTTFB(),d=Math.abs(a.playbackRate);if(l<=Math.max(f,1e3*(c/(d*2))))return;const h=u.len/d;if(h>=2*c/d)return;const p=o.loading.first?o.loading.first-o.loading.start:-1,m=o.loaded&&p>-1,g=this.bwEstimator.getEstimate(),{levels:v,minAutoLevel:y}=n,x=v[e.level],E=o.total||Math.max(o.loaded,Math.round(c*x.maxBitrate/8));let S=l-p;S<1&&m&&(S=Math.min(l,o.loaded*8/g));const b=m?o.loaded*1e3/S:0,T=b?(E-o.loaded)/b:E*8/g+f/1e3;if(T<=h)return;const R=b?b*8:g;let I=Number.POSITIVE_INFINITY,w;for(w=e.level-1;w>y;w--){const C=v[w].maxBitrate;if(I=this.getTimeToLoadFrag(f/1e3,R,c*C,!v[w].details),I<h)break}I>=T||I>c*10||(n.nextLoadLevel=w,m?this.bwEstimator.sample(l-Math.min(f,p),o.loaded):this.bwEstimator.sampleTTFB(l),this.clearTimer(),z.warn(`[abr] Fragment ${e.sn}${r?" part "+r.index:""} of level ${e.level} is loading too slowly;
      Time to underbuffer: ${h.toFixed(3)} s
      Estimated load time for current fragment: ${T.toFixed(3)} s
      Estimated load time for down switch fragment: ${I.toFixed(3)} s
      TTFB estimate: ${p}
      Current BW estimate: ${pe(g)?(g/1024).toFixed(3):"Unknown"} Kb/s
      New BW estimate: ${(this.bwEstimator.getEstimate()/1024).toFixed(3)} Kb/s
      Aborting and switching to level ${w}`),e.loader&&(this.fragCurrent=this.partCurrent=null,e.abortRequests()),n.trigger($.FRAG_LOAD_EMERGENCY_ABORTED,{frag:e,part:r,stats:o}))}onFragLoaded(e,{frag:r,part:n}){const i=n?n.stats:r.stats;if(r.type===ye.MAIN&&this.bwEstimator.sampleTTFB(i.loading.first-i.loading.start),!this.ignoreFragment(r)){if(this.clearTimer(),this.lastLoadedFragLevel=r.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){const a=n?n.duration:r.duration,s=this.hls.levels[r.level],o=(s.loaded?s.loaded.bytes:0)+i.loaded,c=(s.loaded?s.loaded.duration:0)+a;s.loaded={bytes:o,duration:c},s.realBitrate=Math.round(8*o/c)}if(r.bitrateTest){const a={stats:i,frag:r,part:n,id:r.type};this.onFragBuffered($.FRAG_BUFFERED,a),r.bitrateTest=!1}}}onFragBuffered(e,r){const{frag:n,part:i}=r,a=i!=null&&i.stats.loaded?i.stats:n.stats;if(a.aborted||this.ignoreFragment(n))return;const s=a.parsing.end-a.loading.start-Math.min(a.loading.first-a.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(s,a.loaded),a.bwEstimate=this.bwEstimator.getEstimate(),n.bitrateTest?this.bitrateTestDelay=s/1e3:this.bitrateTestDelay=0}ignoreFragment(e){return e.type!==ye.MAIN||e.sn==="initSegment"}clearTimer(){self.clearInterval(this.timer)}get nextAutoLevel(){const e=this._nextAutoLevel,r=this.bwEstimator;if(e!==-1&&!r.canEstimate())return e;let n=this.getNextABRAutoLevel();if(e!==-1){const i=this.hls.levels;if(i.length>Math.max(e,n)&&i[e].loadError<=i[n].loadError)return e}return e!==-1&&(n=Math.min(e,n)),n}getNextABRAutoLevel(){const{fragCurrent:e,partCurrent:r,hls:n}=this,{maxAutoLevel:i,config:a,minAutoLevel:s,media:o}=n,c=r?r.duration:e?e.duration:0,l=o&&o.playbackRate!==0?Math.abs(o.playbackRate):1,u=this.bwEstimator?this.bwEstimator.getEstimate():a.abrEwmaDefaultEstimate,f=n.mainForwardBufferInfo,d=(f?f.len:0)/l;let h=this.findBestLevel(u,s,i,d,a.abrBandWidthFactor,a.abrBandWidthUpFactor);if(h>=0)return h;z.trace(`[abr] ${d?"rebuffering expected":"buffer is empty"}, finding optimal quality level`);let p=c?Math.min(c,a.maxStarvationDelay):a.maxStarvationDelay,m=a.abrBandWidthFactor,g=a.abrBandWidthUpFactor;if(!d){const v=this.bitrateTestDelay;v&&(p=(c?Math.min(c,a.maxLoadingDelay):a.maxLoadingDelay)-v,z.trace(`[abr] bitrate test took ${Math.round(1e3*v)}ms, set first fragment max fetchDuration to ${Math.round(1e3*p)} ms`),m=g=1)}return h=this.findBestLevel(u,s,i,d+p,m,g),Math.max(h,0)}findBestLevel(e,r,n,i,a,s){var o;const{fragCurrent:c,partCurrent:l,lastLoadedFragLevel:u}=this,{levels:f}=this.hls,d=f[u],h=!!(d!=null&&(o=d.details)!=null&&o.live),p=d==null?void 0:d.codecSet,m=l?l.duration:c?c.duration:0,g=this.bwEstimator.getEstimateTTFB()/1e3;let v=r,y=-1;for(let x=n;x>=r;x--){const E=f[x];if(!E||p&&E.codecSet!==p){E&&(v=Math.min(x,v),y=Math.max(x,y));continue}y!==-1&&z.trace(`[abr] Skipped level(s) ${v}-${y} with CODECS:"${f[y].attrs.CODECS}"; not compatible with "${d.attrs.CODECS}"`);const S=E.details,b=(l?S==null?void 0:S.partTarget:S==null?void 0:S.averagetargetduration)||m;let T;x<=u?T=a*e:T=s*e;const R=f[x].maxBitrate,I=this.getTimeToLoadFrag(g,T,R*b,S===void 0);if(z.trace(`[abr] level:${x} adjustedbw-bitrate:${Math.round(T-R)} avgDuration:${b.toFixed(1)} maxFetchDuration:${i.toFixed(1)} fetchDuration:${I.toFixed(1)}`),T>R&&(I===0||!pe(I)||h&&!this.bitrateTestDelay||I<i))return x}return-1}set nextAutoLevel(e){this._nextAutoLevel=e}}class jQ{constructor(){this.chunks=[],this.dataLength=0}push(e){this.chunks.push(e),this.dataLength+=e.length}flush(){const{chunks:e,dataLength:r}=this;let n;if(e.length)e.length===1?n=e[0]:n=xze(e,r);else return new Uint8Array(0);return this.reset(),n}reset(){this.chunks.length=0,this.dataLength=0}}function xze(t,e){const r=new Uint8Array(e);let n=0;for(let i=0;i<t.length;i++){const a=t[i];r.set(a,n),n+=a.length}return r}const aB=100;class Eze extends OO{constructor(e,r,n){super(e,r,n,"[audio-stream-controller]",ye.AUDIO),this.videoBuffer=null,this.videoTrackCC=-1,this.waitingVideoCC=-1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null}_registerListeners(){const{hls:e}=this;e.on($.MEDIA_ATTACHED,this.onMediaAttached,this),e.on($.MEDIA_DETACHING,this.onMediaDetaching,this),e.on($.MANIFEST_LOADING,this.onManifestLoading,this),e.on($.LEVEL_LOADED,this.onLevelLoaded,this),e.on($.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on($.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on($.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on($.ERROR,this.onError,this),e.on($.BUFFER_RESET,this.onBufferReset,this),e.on($.BUFFER_CREATED,this.onBufferCreated,this),e.on($.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on($.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on($.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off($.MEDIA_ATTACHED,this.onMediaAttached,this),e.off($.MEDIA_DETACHING,this.onMediaDetaching,this),e.off($.MANIFEST_LOADING,this.onManifestLoading,this),e.off($.LEVEL_LOADED,this.onLevelLoaded,this),e.off($.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off($.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off($.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off($.ERROR,this.onError,this),e.off($.BUFFER_RESET,this.onBufferReset,this),e.off($.BUFFER_CREATED,this.onBufferCreated,this),e.off($.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off($.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off($.FRAG_BUFFERED,this.onFragBuffered,this)}onInitPtsFound(e,{frag:r,id:n,initPTS:i,timescale:a}){if(n==="main"){const s=r.cc;this.initPTS[r.cc]={baseTime:i,timescale:a},this.log(`InitPTS for cc: ${s} found from main: ${i}`),this.videoTrackCC=s,this.state===X.WAITING_INIT_PTS&&this.tick()}}startLoad(e){if(!this.levels){this.startPosition=e,this.state=X.STOPPED;return}const r=this.lastCurrentTime;this.stopLoad(),this.setInterval(aB),r>0&&e===-1?(this.log(`Override startPosition with lastCurrentTime @${r.toFixed(3)}`),e=r,this.state=X.IDLE):(this.loadedmetadata=!1,this.state=X.WAITING_TRACK),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}doTick(){switch(this.state){case X.IDLE:this.doTickIdle();break;case X.WAITING_TRACK:{var e;const{levels:n,trackId:i}=this,a=n==null||(e=n[i])==null?void 0:e.details;if(a){if(this.waitForCdnTuneIn(a))break;this.state=X.WAITING_INIT_PTS}break}case X.FRAG_LOADING_WAITING_RETRY:{var r;const n=performance.now(),i=this.retryDate;(!i||n>=i||(r=this.media)!=null&&r.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.trackId),this.state=X.IDLE);break}case X.WAITING_INIT_PTS:{const n=this.waitingData;if(n){const{frag:i,part:a,cache:s,complete:o}=n;if(this.initPTS[i.cc]!==void 0){this.waitingData=null,this.waitingVideoCC=-1,this.state=X.FRAG_LOADING;const c=s.flush(),l={frag:i,part:a,payload:c,networkDetails:null};this._handleFragmentLoadProgress(l),o&&super._handleFragmentLoadComplete(l)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log(`Waiting fragment cc (${i.cc}) cancelled because video is at cc ${this.videoTrackCC}`),this.clearWaitingFragment();else{const c=this.getLoadPosition(),l=lt.bufferInfo(this.mediaBuffer,c,this.config.maxBufferHole);VA(l.end,this.config.maxFragLookUpTolerance,i)<0&&(this.log(`Waiting fragment cc (${i.cc}) @ ${i.start} cancelled because another fragment at ${l.end} is needed`),this.clearWaitingFragment())}}else this.state=X.IDLE}}this.onTickEnd()}clearWaitingFragment(){const e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=X.IDLE)}resetLoadingState(){this.clearWaitingFragment(),super.resetLoadingState()}onTickEnd(){const{media:e}=this;e!=null&&e.readyState&&(this.lastCurrentTime=e.currentTime)}doTickIdle(){const{hls:e,levels:r,media:n,trackId:i}=this,a=e.config;if(!(r!=null&&r[i])||!n&&(this.startFragRequested||!a.startFragPrefetch))return;const s=r[i],o=s.details;if(!o||o.live&&this.levelLastLoaded!==i||this.waitForCdnTuneIn(o)){this.state=X.WAITING_TRACK;return}const c=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&c&&(this.bufferFlushed=!1,this.afterBufferFlushed(c,qe.AUDIO,ye.AUDIO));const l=this.getFwdBufferInfo(c,ye.AUDIO);if(l===null)return;const{bufferedTrack:u,switchingTrack:f}=this;if(!f&&this._streamEnded(l,o)){e.trigger($.BUFFER_EOS,{type:"audio"}),this.state=X.ENDED;return}const d=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,ye.MAIN),h=l.len,p=this.getMaxBufferLength(d==null?void 0:d.len);if(h>=p&&!f)return;const g=o.fragments[0].start;let v=l.end;if(f&&n){const S=this.getLoadPosition();u&&f.attrs!==u.attrs&&(v=S),o.PTSKnown&&S<g&&(l.end>g||l.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),n.currentTime=g+.05)}let y=this.getNextFragment(v,o),x=!1;if(y&&this.isLoopLoading(y,v)&&(x=!!y.gap,y=this.getNextFragmentLoopLoading(y,o,l,ye.MAIN,p)),!y){this.bufferFlushed=!0;return}const E=d&&y.start>d.end+o.targetduration;if(E||!(d!=null&&d.len)&&l.len){const S=this.fragmentTracker.getBufferedFrag(y.start,ye.MAIN);if(S===null||(x||(x=!!S.gap||!!E&&d.len===0),E&&!x||x&&l.nextStart&&l.nextStart<S.end))return}this.loadFragment(y,s,v)}getMaxBufferLength(e){const r=super.getMaxBufferLength();return e?Math.min(Math.max(r,e),this.config.maxMaxBufferLength):r}onMediaDetaching(){this.videoBuffer=null,super.onMediaDetaching()}onAudioTracksUpdated(e,{audioTracks:r}){this.resetTransmuxer(),this.levels=r.map(n=>new Q0(n))}onAudioTrackSwitching(e,r){const n=!!r.url;this.trackId=r.id;const{fragCurrent:i}=this;i&&(i.abortRequests(),this.removeUnbufferedFrags(i.start)),this.resetLoadingState(),n?this.setInterval(aB):this.resetTransmuxer(),n?(this.switchingTrack=r,this.state=X.IDLE):(this.switchingTrack=null,this.bufferedTrack=r,this.state=X.STOPPED),this.tick()}onManifestLoading(){this.mainDetails=null,this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1,this.bufferedTrack=null,this.switchingTrack=null}onLevelLoaded(e,r){this.mainDetails=r.details,this.cachedTrackLoadedData!==null&&(this.hls.trigger($.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)}onAudioTrackLoaded(e,r){var n;if(this.mainDetails==null){this.cachedTrackLoadedData=r;return}const{levels:i}=this,{details:a,id:s}=r;if(!i){this.warn(`Audio tracks were reset while loading level ${s}`);return}this.log(`Track ${s} loaded [${a.startSN},${a.endSN}],duration:${a.totalduration}`);const o=i[s];let c=0;if(a.live||(n=o.details)!=null&&n.live){const l=this.mainDetails;if(a.fragments[0]||(a.deltaUpdateFailed=!0),a.deltaUpdateFailed||!l)return;!o.details&&a.hasProgramDateTime&&l.hasProgramDateTime?(RQ(a,l),c=a.fragments[0].start):c=this.alignPlaylists(a,o.details)}o.details=a,this.levelLastLoaded=s,!this.startFragRequested&&(this.mainDetails||!a.live)&&this.setStartPosition(o.details,c),this.state===X.WAITING_TRACK&&!this.waitForCdnTuneIn(a)&&(this.state=X.IDLE),this.tick()}_handleFragmentLoadProgress(e){var r;const{frag:n,part:i,payload:a}=e,{config:s,trackId:o,levels:c}=this;if(!c){this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${n.sn} of level ${n.level} will not be buffered`);return}const l=c[o];if(!l){this.warn("Audio track is undefined on fragment load progress");return}const u=l.details;if(!u){this.warn("Audio track details undefined on fragment load progress"),this.removeUnbufferedFrags(n.start);return}const f=s.defaultAudioCodec||l.audioCodec||"mp4a.40.2";let d=this.transmuxer;d||(d=this.transmuxer=new UQ(this.hls,ye.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const h=this.initPTS[n.cc],p=(r=n.initSegment)==null?void 0:r.data;if(h!==void 0){const g=i?i.index:-1,v=g!==-1,y=new $O(n.level,n.sn,n.stats.chunkCount,a.byteLength,g,v);d.push(a,p,f,"",n,i,u.totalduration,!1,y,h)}else{this.log(`Unknown video PTS for cc ${n.cc}, waiting for video PTS before demuxing audio frag ${n.sn} of [${u.startSN} ,${u.endSN}],track ${o}`);const{cache:m}=this.waitingData=this.waitingData||{frag:n,part:i,cache:new jQ,complete:!1};m.push(new Uint8Array(a)),this.waitingVideoCC=this.videoTrackCC,this.state=X.WAITING_INIT_PTS}}_handleFragmentLoadComplete(e){if(this.waitingData){this.waitingData.complete=!0;return}super._handleFragmentLoadComplete(e)}onBufferReset(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1}onBufferCreated(e,r){const n=r.tracks.audio;n&&(this.mediaBuffer=n.buffer||null),r.tracks.video&&(this.videoBuffer=r.tracks.video.buffer||null)}onFragBuffered(e,r){const{frag:n,part:i}=r;if(n.type!==ye.AUDIO){if(!this.loadedmetadata&&n.type===ye.MAIN){var a;(a=this.videoBuffer||this.media)!=null&&a.buffered.length&&(this.loadedmetadata=!0)}return}if(this.fragContextChanged(n)){this.warn(`Fragment ${n.sn}${i?" p: "+i.index:""} of level ${n.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);return}if(n.sn!=="initSegment"){this.fragPrevious=n;const s=this.switchingTrack;s&&(this.bufferedTrack=s,this.switchingTrack=null,this.hls.trigger($.AUDIO_TRACK_SWITCHED,an({},s)))}this.fragBufferedComplete(n,i)}onError(e,r){var n;if(r.fatal){this.state=X.ERROR;return}switch(r.details){case q.FRAG_GAP:case q.FRAG_PARSING_ERROR:case q.FRAG_DECRYPT_ERROR:case q.FRAG_LOAD_ERROR:case q.FRAG_LOAD_TIMEOUT:case q.KEY_LOAD_ERROR:case q.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(ye.AUDIO,r);break;case q.AUDIO_TRACK_LOAD_ERROR:case q.AUDIO_TRACK_LOAD_TIMEOUT:case q.LEVEL_PARSING_ERROR:!r.levelRetry&&this.state===X.WAITING_TRACK&&((n=r.context)==null?void 0:n.type)===je.AUDIO_TRACK&&(this.state=X.IDLE);break;case q.BUFFER_FULL_ERROR:if(!r.parent||r.parent!=="audio")return;this.reduceLengthAndFlushBuffer(r)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case q.INTERNAL_EXCEPTION:this.recoverWorkerError(r);break}}onBufferFlushed(e,{type:r}){r===qe.AUDIO&&(this.bufferFlushed=!0,this.state===X.ENDED&&(this.state=X.IDLE))}_handleTransmuxComplete(e){var r;const n="audio",{hls:i}=this,{remuxResult:a,chunkMeta:s}=e,o=this.getCurrentContext(s);if(!o){this.resetWhenMissingContext(s);return}const{frag:c,part:l,level:u}=o,{details:f}=u,{audio:d,text:h,id3:p,initSegment:m}=a;if(this.fragContextChanged(c)||!f){this.fragmentTracker.removeFragment(c);return}if(this.state=X.PARSING,this.switchingTrack&&d&&this.completeAudioSwitch(this.switchingTrack),m!=null&&m.tracks&&(this._bufferInitSegment(m.tracks,c,s),i.trigger($.FRAG_PARSING_INIT_SEGMENT,{frag:c,id:n,tracks:m.tracks})),d){const{startPTS:g,endPTS:v,startDTS:y,endDTS:x}=d;l&&(l.elementaryStreams[qe.AUDIO]={startPTS:g,endPTS:v,startDTS:y,endDTS:x}),c.setElementaryStreamInfo(qe.AUDIO,g,v,y,x),this.bufferFragmentData(d,c,l,s)}if(p!=null&&(r=p.samples)!=null&&r.length){const g=Pt({id:n,frag:c,details:f},p);i.trigger($.FRAG_PARSING_METADATA,g)}if(h){const g=Pt({id:n,frag:c,details:f},h);i.trigger($.FRAG_PARSING_USERDATA,g)}}_bufferInitSegment(e,r,n){if(this.state!==X.PARSING)return;e.video&&delete e.video;const i=e.audio;if(!i)return;i.levelCodec=i.codec,i.id="audio",this.log(`Init audio buffer, container:${i.container}, codecs[parsed]=[${i.codec}]`),this.hls.trigger($.BUFFER_CODECS,e);const a=i.initSegment;if(a!=null&&a.byteLength){const s={type:"audio",frag:r,part:null,chunkMeta:n,parent:r.type,data:a};this.hls.trigger($.BUFFER_APPENDING,s)}this.tick()}loadFragment(e,r,n){const i=this.fragmentTracker.getState(e);if(this.fragCurrent=e,this.switchingTrack||i===Sr.NOT_LOADED||i===Sr.PARTIAL){var a;e.sn==="initSegment"?this._loadInitSegment(e,r):(a=r.details)!=null&&a.live&&!this.initPTS[e.cc]?(this.log(`Waiting for video PTS in continuity counter ${e.cc} of live stream before loading audio fragment ${e.sn} of level ${this.trackId}`),this.state=X.WAITING_INIT_PTS):(this.startFragRequested=!0,super.loadFragment(e,r,n))}else this.clearTrackerIfNeeded(e)}completeAudioSwitch(e){const{hls:r,media:n,bufferedTrack:i}=this,a=i==null?void 0:i.attrs,s=e.attrs;n&&a&&(a.CHANNELS!==s.CHANNELS||a.NAME!==s.NAME||a.LANGUAGE!==s.LANGUAGE)&&(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio")),this.bufferedTrack=e,this.switchingTrack=null,r.trigger($.AUDIO_TRACK_SWITCHED,an({},e))}}class _ze extends IO{constructor(e){super(e,"[audio-track-controller]"),this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:e}=this;e.on($.MANIFEST_LOADING,this.onManifestLoading,this),e.on($.MANIFEST_PARSED,this.onManifestParsed,this),e.on($.LEVEL_LOADING,this.onLevelLoading,this),e.on($.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on($.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on($.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off($.MANIFEST_LOADING,this.onManifestLoading,this),e.off($.MANIFEST_PARSED,this.onManifestParsed,this),e.off($.LEVEL_LOADING,this.onLevelLoading,this),e.off($.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off($.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off($.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(e,r){this.tracks=r.audioTracks||[]}onAudioTrackLoaded(e,r){const{id:n,groupId:i,details:a}=r,s=this.tracksInGroup[n];if(!s||s.groupId!==i){this.warn(`Track with id:${n} and group:${i} not found in active group ${s.groupId}`);return}const o=s.details;s.details=r.details,this.log(`audio-track ${n} "${s.name}" lang:${s.lang} group:${i} loaded [${a.startSN}-${a.endSN}]`),n===this.trackId&&this.playlistLoaded(n,r,o)}onLevelLoading(e,r){this.switchLevel(r.level)}onLevelSwitching(e,r){this.switchLevel(r.level)}switchLevel(e){const r=this.hls.levels[e];if(!(r!=null&&r.audioGroupIds))return;const n=r.audioGroupIds[r.urlId];if(this.groupId!==n){this.groupId=n||null;const i=this.tracks.filter(s=>!n||s.groupId===n);this.selectDefaultTrack&&!i.some(s=>s.default)&&(this.selectDefaultTrack=!1),this.tracksInGroup=i;const a={audioTracks:i};this.log(`Updating audio tracks, ${i.length} track(s) found in group:${n}`),this.hls.trigger($.AUDIO_TRACKS_UPDATED,a),this.selectInitialTrack()}else this.shouldReloadPlaylist(this.currentTrack)&&this.setAudioTrack(this.trackId)}onError(e,r){r.fatal||!r.context||r.context.type===je.AUDIO_TRACK&&r.context.id===this.trackId&&r.context.groupId===this.groupId&&(this.requestScheduled=-1,this.checkRetry(r))}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}setAudioTrack(e){const r=this.tracksInGroup;if(e<0||e>=r.length){this.warn("Invalid id passed to audio-track controller");return}this.clearTimer();const n=this.currentTrack;r[this.trackId];const i=r[e],{groupId:a,name:s}=i;if(this.log(`Switching to audio-track ${e} "${s}" lang:${i.lang} group:${a}`),this.trackId=e,this.currentTrack=i,this.selectDefaultTrack=!1,this.hls.trigger($.AUDIO_TRACK_SWITCHING,an({},i)),i.details&&!i.details.live)return;const o=this.switchParams(i.url,n==null?void 0:n.details);this.loadPlaylist(o)}selectInitialTrack(){const e=this.tracksInGroup,r=this.findTrackId(this.currentTrack)|this.findTrackId(null);if(r!==-1)this.setAudioTrack(r);else{const n=new Error(`No track found for running audio group-ID: ${this.groupId} track count: ${e.length}`);this.warn(n.message),this.hls.trigger($.ERROR,{type:me.MEDIA_ERROR,details:q.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:n})}}findTrackId(e){const r=this.tracksInGroup;for(let n=0;n<r.length;n++){const i=r[n];if((!this.selectDefaultTrack||i.default)&&(!e||e.attrs["STABLE-RENDITION-ID"]===i.attrs["STABLE-RENDITION-ID"]||e.name===i.name&&e.lang===i.lang))return i.id}return-1}loadPlaylist(e){super.loadPlaylist();const r=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(r)){const n=r.id,i=r.groupId;let a=r.url;if(e)try{a=e.addDirectives(a)}catch(s){this.warn(`Could not construct new URL with HLS Delivery Directives: ${s}`)}this.log(`loading audio-track playlist ${n} "${r.name}" lang:${r.lang} group:${i}`),this.clearTimer(),this.hls.trigger($.AUDIO_TRACK_LOADING,{url:a,id:n,groupId:i,deliveryDirectives:e||null})}}}function HQ(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(!bze(t[r].attrs,e[r].attrs))return!1;return!0}function bze(t,e){const r=t["STABLE-RENDITION-ID"];return r?r===e["STABLE-RENDITION-ID"]:!["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED"].some(n=>t[n]!==e[n])}const sB=500;class Sze extends OO{constructor(e,r,n){super(e,r,n,"[subtitle-stream-controller]",ye.SUBTITLE),this.levels=[],this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),this.mainDetails=null}_registerListeners(){const{hls:e}=this;e.on($.MEDIA_ATTACHED,this.onMediaAttached,this),e.on($.MEDIA_DETACHING,this.onMediaDetaching,this),e.on($.MANIFEST_LOADING,this.onManifestLoading,this),e.on($.LEVEL_LOADED,this.onLevelLoaded,this),e.on($.ERROR,this.onError,this),e.on($.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on($.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on($.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on($.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on($.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on($.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off($.MEDIA_ATTACHED,this.onMediaAttached,this),e.off($.MEDIA_DETACHING,this.onMediaDetaching,this),e.off($.MANIFEST_LOADING,this.onManifestLoading,this),e.off($.LEVEL_LOADED,this.onLevelLoaded,this),e.off($.ERROR,this.onError,this),e.off($.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off($.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off($.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off($.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off($.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off($.FRAG_BUFFERED,this.onFragBuffered,this)}startLoad(e){this.stopLoad(),this.state=X.IDLE,this.setInterval(sB),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}onManifestLoading(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()}onMediaDetaching(){this.tracksBuffered=[],super.onMediaDetaching()}onLevelLoaded(e,r){this.mainDetails=r.details}onSubtitleFragProcessed(e,r){const{frag:n,success:i}=r;if(this.fragPrevious=n,this.state=X.IDLE,!i)return;const a=this.tracksBuffered[this.currentTrackId];if(!a)return;let s;const o=n.start;for(let l=0;l<a.length;l++)if(o>=a[l].start&&o<=a[l].end){s=a[l];break}const c=n.start+n.duration;s?s.end=c:(s={start:o,end:c},a.push(s)),this.fragmentTracker.fragBuffered(n)}onBufferFlushing(e,r){const{startOffset:n,endOffset:i}=r;if(n===0&&i!==Number.POSITIVE_INFINITY){const{currentTrackId:a,levels:s}=this;if(!s.length||!s[a]||!s[a].details)return;const c=s[a].details.targetduration,l=i-c;if(l<=0)return;r.endOffsetSubtitles=Math.max(0,l),this.tracksBuffered.forEach(u=>{for(let f=0;f<u.length;){if(u[f].end<=l){u.shift();continue}else if(u[f].start<l)u[f].start=l;else break;f++}}),this.fragmentTracker.removeFragmentsInRange(n,l,ye.SUBTITLE)}}onFragBuffered(e,r){if(!this.loadedmetadata&&r.frag.type===ye.MAIN){var n;(n=this.media)!=null&&n.buffered.length&&(this.loadedmetadata=!0)}}onError(e,r){const n=r.frag;(n==null?void 0:n.type)===ye.SUBTITLE&&(this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==X.STOPPED&&(this.state=X.IDLE))}onSubtitleTracksUpdated(e,{subtitleTracks:r}){if(HQ(this.levels,r)){this.levels=r.map(n=>new Q0(n));return}this.tracksBuffered=[],this.levels=r.map(n=>{const i=new Q0(n);return this.tracksBuffered[i.id]=[],i}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,ye.SUBTITLE),this.fragPrevious=null,this.mediaBuffer=null}onSubtitleTrackSwitch(e,r){if(this.currentTrackId=r.id,!this.levels.length||this.currentTrackId===-1){this.clearInterval();return}const n=this.levels[this.currentTrackId];n!=null&&n.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,n&&this.setInterval(sB)}onSubtitleTrackLoaded(e,r){var n;const{details:i,id:a}=r,{currentTrackId:s,levels:o}=this;if(!o.length)return;const c=o[s];if(a>=o.length||a!==s||!c)return;this.mediaBuffer=this.mediaBufferTimeRanges;let l=0;if(i.live||(n=c.details)!=null&&n.live){const u=this.mainDetails;if(i.deltaUpdateFailed||!u)return;const f=u.fragments[0];c.details?(l=this.alignPlaylists(i,c.details),l===0&&f&&(l=f.start,zA(i,l))):i.hasProgramDateTime&&u.hasProgramDateTime?(RQ(i,u),l=i.fragments[0].start):f&&(l=f.start,zA(i,l))}c.details=i,this.levelLastLoaded=a,!this.startFragRequested&&(this.mainDetails||!i.live)&&this.setStartPosition(c.details,l),this.tick(),i.live&&!this.fragCurrent&&this.media&&this.state===X.IDLE&&(Z0(null,i.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),c.details=void 0))}_handleFragmentLoadComplete(e){const{frag:r,payload:n}=e,i=r.decryptdata,a=this.hls;if(!this.fragContextChanged(r)&&n&&n.byteLength>0&&i&&i.key&&i.iv&&i.method==="AES-128"){const s=performance.now();this.decrypter.decrypt(new Uint8Array(n),i.key.buffer,i.iv.buffer).catch(o=>{throw a.trigger($.ERROR,{type:me.MEDIA_ERROR,details:q.FRAG_DECRYPT_ERROR,fatal:!1,error:o,reason:o.message,frag:r}),o}).then(o=>{const c=performance.now();a.trigger($.FRAG_DECRYPTED,{frag:r,payload:o,stats:{tstart:s,tdecrypt:c}})}).catch(o=>{this.warn(`${o.name}: ${o.message}`),this.state=X.IDLE})}}doTick(){if(!this.media){this.state=X.IDLE;return}if(this.state===X.IDLE){const{currentTrackId:e,levels:r}=this,n=r[e];if(!r.length||!n||!n.details)return;const i=n.details,a=i.targetduration,{config:s}=this,o=this.getLoadPosition(),c=lt.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],o-a,s.maxBufferHole),{end:l,len:u}=c,f=this.getFwdBufferInfo(this.media,ye.MAIN),d=this.getMaxBufferLength(f==null?void 0:f.len)+a;if(u>d)return;const h=i.fragments,p=h.length,m=i.edge;let g=null;const v=this.fragPrevious;if(l<m){const{maxFragLookUpTolerance:y}=s;g=Z0(v,h,Math.max(h[0].start,l),y),!g&&v&&v.start<h[0].start&&(g=h[0])}else g=h[p-1];if(!g)return;g=this.mapToInitFragWhenRequired(g),this.fragmentTracker.getState(g)===Sr.NOT_LOADED&&this.loadFragment(g,n,l)}}getMaxBufferLength(e){const r=super.getMaxBufferLength();return e?Math.max(r,e):r}loadFragment(e,r,n){this.fragCurrent=e,e.sn==="initSegment"?this._loadInitSegment(e,r):(this.startFragRequested=!0,super.loadFragment(e,r,n))}get mediaBufferTimeRanges(){return new Tze(this.tracksBuffered[this.currentTrackId]||[])}}class Tze{constructor(e){this.buffered=void 0;const r=(n,i,a)=>{if(i=i>>>0,i>a-1)throw new DOMException(`Failed to execute '${n}' on 'TimeRanges': The index provided (${i}) is greater than the maximum bound (${a})`);return e[i][n]};this.buffered={get length(){return e.length},end(n){return r("end",n,e.length)},start(n){return r("start",n,e.length)}}}}class wze extends IO{constructor(e){super(e,"[subtitle-track-controller]"),this.media=null,this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.trackChangeListener=()=>this.onTextTracksChanged(),this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes(this.trackId)}registerListeners(){const{hls:e}=this;e.on($.MEDIA_ATTACHED,this.onMediaAttached,this),e.on($.MEDIA_DETACHING,this.onMediaDetaching,this),e.on($.MANIFEST_LOADING,this.onManifestLoading,this),e.on($.MANIFEST_PARSED,this.onManifestParsed,this),e.on($.LEVEL_LOADING,this.onLevelLoading,this),e.on($.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on($.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on($.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off($.MEDIA_ATTACHED,this.onMediaAttached,this),e.off($.MEDIA_DETACHING,this.onMediaDetaching,this),e.off($.MANIFEST_LOADING,this.onManifestLoading,this),e.off($.MANIFEST_PARSED,this.onManifestParsed,this),e.off($.LEVEL_LOADING,this.onLevelLoading,this),e.off($.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off($.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off($.ERROR,this.onError,this)}onMediaAttached(e,r){this.media=r.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,e)}onMediaDetaching(){if(!this.media)return;self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),dw(this.media.textTracks).forEach(r=>{Eu(r)}),this.subtitleTrack=-1,this.media=null}onManifestLoading(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(e,r){this.tracks=r.subtitleTracks}onSubtitleTrackLoaded(e,r){const{id:n,details:i}=r,{trackId:a}=this,s=this.tracksInGroup[a];if(!s){this.warn(`Invalid subtitle track id ${n}`);return}const o=s.details;s.details=r.details,this.log(`subtitle track ${n} loaded [${i.startSN}-${i.endSN}]`),n===this.trackId&&this.playlistLoaded(n,r,o)}onLevelLoading(e,r){this.switchLevel(r.level)}onLevelSwitching(e,r){this.switchLevel(r.level)}switchLevel(e){const r=this.hls.levels[e];if(!(r!=null&&r.textGroupIds))return;const n=r.textGroupIds[r.urlId],i=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;if(this.groupId!==n){const a=this.tracks.filter(c=>!n||c.groupId===n);this.tracksInGroup=a;const s=this.findTrackId(i==null?void 0:i.name)||this.findTrackId();this.groupId=n||null;const o={subtitleTracks:a};this.log(`Updating subtitle tracks, ${a.length} track(s) found in "${n}" group-id`),this.hls.trigger($.SUBTITLE_TRACKS_UPDATED,o),s!==-1&&this.setSubtitleTrack(s,i)}else this.shouldReloadPlaylist(i)&&this.setSubtitleTrack(this.trackId,i)}findTrackId(e){const r=this.tracksInGroup;for(let n=0;n<r.length;n++){const i=r[n];if((!this.selectDefaultTrack||i.default)&&(!e||e===i.name))return i.id}return-1}onError(e,r){r.fatal||!r.context||r.context.type===je.SUBTITLE_TRACK&&r.context.id===this.trackId&&r.context.groupId===this.groupId&&this.checkRetry(r)}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(e){this.selectDefaultTrack=!1;const r=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;this.setSubtitleTrack(e,r)}loadPlaylist(e){super.loadPlaylist();const r=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(r)){const n=r.id,i=r.groupId;let a=r.url;if(e)try{a=e.addDirectives(a)}catch(s){this.warn(`Could not construct new URL with HLS Delivery Directives: ${s}`)}this.log(`Loading subtitle playlist for id ${n}`),this.hls.trigger($.SUBTITLE_TRACK_LOADING,{url:a,id:n,groupId:i,deliveryDirectives:e||null})}}toggleTrackModes(e){const{media:r,trackId:n}=this;if(!r)return;const i=dw(r.textTracks),a=i.filter(o=>o.groupId===this.groupId);if(e===-1)[].slice.call(i).forEach(o=>{o.mode="disabled"});else{const o=a[n];o&&(o.mode="disabled")}const s=a[e];s&&(s.mode=this.subtitleDisplay?"showing":"hidden")}setSubtitleTrack(e,r){var n;const i=this.tracksInGroup;if(!this.media){this.queuedDefaultTrack=e;return}if(this.trackId!==e&&this.toggleTrackModes(e),this.trackId===e&&(e===-1||(n=i[e])!=null&&n.details)||e<-1||e>=i.length)return;this.clearTimer();const a=i[e];if(this.log(`Switching to subtitle-track ${e}`+(a?` "${a.name}" lang:${a.lang} group:${a.groupId}`:"")),this.trackId=e,a){const{id:s,groupId:o="",name:c,type:l,url:u}=a;this.hls.trigger($.SUBTITLE_TRACK_SWITCH,{id:s,groupId:o,name:c,type:l,url:u});const f=this.switchParams(a.url,r==null?void 0:r.details);this.loadPlaylist(f)}else this.hls.trigger($.SUBTITLE_TRACK_SWITCH,{id:e})}onTextTracksChanged(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let e=-1;const r=dw(this.media.textTracks);for(let n=0;n<r.length;n++)if(r[n].mode==="hidden")e=n;else if(r[n].mode==="showing"){e=n;break}this.subtitleTrack!==e&&(this.subtitleTrack=e)}}function dw(t){const e=[];for(let r=0;r<t.length;r++){const n=t[r];(n.kind==="subtitles"||n.kind==="captions")&&n.label&&e.push(t[r])}return e}class Rze{constructor(e){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=e}append(e,r){const n=this.queues[r];n.push(e),n.length===1&&this.buffers[r]&&this.executeNext(r)}insertAbort(e,r){this.queues[r].unshift(e),this.executeNext(r)}appendBlocker(e){let r;const n=new Promise(a=>{r=a}),i={execute:r,onStart:()=>{},onComplete:()=>{},onError:()=>{}};return this.append(i,e),n}executeNext(e){const{buffers:r,queues:n}=this,i=r[e],a=n[e];if(a.length){const s=a[0];try{s.execute()}catch(o){z.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),s.onError(o),i!=null&&i.updating||(a.shift(),this.executeNext(e))}}}shiftAndExecuteNext(e){this.queues[e].shift(),this.executeNext(e)}current(e){return this.queues[e][0]}}const oB=LO(),lB=/([ha]vc.)(?:\.[^.,]+)+/;class Aze{constructor(e){this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=()=>{const{media:r,mediaSource:n}=this;z.log("[buffer-controller]: Media source opened"),r&&(r.removeEventListener("emptied",this._onMediaEmptied),this.updateMediaElementDuration(),this.hls.trigger($.MEDIA_ATTACHED,{media:r})),n&&n.removeEventListener("sourceopen",this._onMediaSourceOpen),this.checkPendingTracks()},this._onMediaSourceClose=()=>{z.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=()=>{z.log("[buffer-controller]: Media source ended")},this._onMediaEmptied=()=>{const{media:r,_objectUrl:n}=this;r&&r.src!==n&&z.error(`Media element src was set while attaching MediaSource (${n} > ${r.src})`)},this.hls=e,this._initSourceBuffer(),this.registerListeners()}hasSourceTypes(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null}registerListeners(){const{hls:e}=this;e.on($.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on($.MEDIA_DETACHING,this.onMediaDetaching,this),e.on($.MANIFEST_PARSED,this.onManifestParsed,this),e.on($.BUFFER_RESET,this.onBufferReset,this),e.on($.BUFFER_APPENDING,this.onBufferAppending,this),e.on($.BUFFER_CODECS,this.onBufferCodecs,this),e.on($.BUFFER_EOS,this.onBufferEos,this),e.on($.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on($.LEVEL_UPDATED,this.onLevelUpdated,this),e.on($.FRAG_PARSED,this.onFragParsed,this),e.on($.FRAG_CHANGED,this.onFragChanged,this)}unregisterListeners(){const{hls:e}=this;e.off($.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off($.MEDIA_DETACHING,this.onMediaDetaching,this),e.off($.MANIFEST_PARSED,this.onManifestParsed,this),e.off($.BUFFER_RESET,this.onBufferReset,this),e.off($.BUFFER_APPENDING,this.onBufferAppending,this),e.off($.BUFFER_CODECS,this.onBufferCodecs,this),e.off($.BUFFER_EOS,this.onBufferEos,this),e.off($.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off($.LEVEL_UPDATED,this.onLevelUpdated,this),e.off($.FRAG_PARSED,this.onFragParsed,this),e.off($.FRAG_CHANGED,this.onFragChanged,this)}_initSourceBuffer(){this.sourceBuffer={},this.operationQueue=new Rze(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.lastMpegAudioChunk=null}onManifestParsed(e,r){let n=2;(r.audio&&!r.video||!r.altAudio)&&(n=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=n,this.details=null,z.log(`${this.bufferCodecEventsExpected} bufferCodec event(s) expected`)}onMediaAttaching(e,r){const n=this.media=r.media;if(n&&oB){const i=this.mediaSource=new oB;i.addEventListener("sourceopen",this._onMediaSourceOpen),i.addEventListener("sourceended",this._onMediaSourceEnded),i.addEventListener("sourceclose",this._onMediaSourceClose),n.src=self.URL.createObjectURL(i),this._objectUrl=n.src,n.addEventListener("emptied",this._onMediaEmptied)}}onMediaDetaching(){const{media:e,mediaSource:r,_objectUrl:n}=this;if(r){if(z.log("[buffer-controller]: media source detaching"),r.readyState==="open")try{r.endOfStream()}catch(i){z.warn(`[buffer-controller]: onMediaDetaching: ${i.message} while calling endOfStream`)}this.onBufferReset(),r.removeEventListener("sourceopen",this._onMediaSourceOpen),r.removeEventListener("sourceended",this._onMediaSourceEnded),r.removeEventListener("sourceclose",this._onMediaSourceClose),e&&(e.removeEventListener("emptied",this._onMediaEmptied),n&&self.URL.revokeObjectURL(n),e.src===n?(e.removeAttribute("src"),e.load()):z.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger($.MEDIA_DETACHED,void 0)}onBufferReset(){this.getSourceBufferTypes().forEach(e=>{const r=this.sourceBuffer[e];try{r&&(this.removeBufferListeners(e),this.mediaSource&&this.mediaSource.removeSourceBuffer(r),this.sourceBuffer[e]=void 0)}catch(n){z.warn(`[buffer-controller]: Failed to reset the ${e} buffer`,n)}}),this._initSourceBuffer()}onBufferCodecs(e,r){const n=this.getSourceBufferTypes().length;Object.keys(r).forEach(i=>{if(n){const a=this.tracks[i];if(a&&typeof a.buffer.changeType=="function"){const{id:s,codec:o,levelCodec:c,container:l,metadata:u}=r[i],f=(a.levelCodec||a.codec).replace(lB,"$1"),d=(c||o).replace(lB,"$1");if(f!==d){const h=`${l};codecs=${c||o}`;this.appendChangeType(i,h),z.log(`[buffer-controller]: switching codec ${f} to ${d}`),this.tracks[i]={buffer:a.buffer,codec:o,container:l,levelCodec:c,metadata:u,id:s}}}}else this.pendingTracks[i]=r[i]}),!n&&(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&this.mediaSource.readyState==="open"&&this.checkPendingTracks())}appendChangeType(e,r){const{operationQueue:n}=this,i={execute:()=>{const a=this.sourceBuffer[e];a&&(z.log(`[buffer-controller]: changing ${e} sourceBuffer type to ${r}`),a.changeType(r)),n.shiftAndExecuteNext(e)},onStart:()=>{},onComplete:()=>{},onError:a=>{z.warn(`[buffer-controller]: Failed to change ${e} SourceBuffer type`,a)}};n.append(i,e)}onBufferAppending(e,r){const{hls:n,operationQueue:i,tracks:a}=this,{data:s,type:o,frag:c,part:l,chunkMeta:u}=r,f=u.buffering[o],d=self.performance.now();f.start=d;const h=c.stats.buffering,p=l?l.stats.buffering:null;h.start===0&&(h.start=d),p&&p.start===0&&(p.start=d);const m=a.audio;let g=!1;o==="audio"&&(m==null?void 0:m.container)==="audio/mpeg"&&(g=!this.lastMpegAudioChunk||u.id===1||this.lastMpegAudioChunk.sn!==u.sn,this.lastMpegAudioChunk=u);const v=c.start,y={execute:()=>{if(f.executeStart=self.performance.now(),g){const x=this.sourceBuffer[o];if(x){const E=v-x.timestampOffset;Math.abs(E)>=.1&&(z.log(`[buffer-controller]: Updating audio SourceBuffer timestampOffset to ${v} (delta: ${E}) sn: ${c.sn})`),x.timestampOffset=v)}}this.appendExecutor(s,o)},onStart:()=>{},onComplete:()=>{const x=self.performance.now();f.executeEnd=f.end=x,h.first===0&&(h.first=x),p&&p.first===0&&(p.first=x);const{sourceBuffer:E}=this,S={};for(const b in E)S[b]=lt.getBuffered(E[b]);this.appendError=0,this.hls.trigger($.BUFFER_APPENDED,{type:o,frag:c,part:l,chunkMeta:u,parent:c.type,timeRanges:S})},onError:x=>{z.error(`[buffer-controller]: Error encountered while trying to append to the ${o} SourceBuffer`,x);const E={type:me.MEDIA_ERROR,parent:c.type,details:q.BUFFER_APPEND_ERROR,frag:c,part:l,chunkMeta:u,error:x,err:x,fatal:!1};x.code===DOMException.QUOTA_EXCEEDED_ERR?E.details=q.BUFFER_FULL_ERROR:(this.appendError++,E.details=q.BUFFER_APPEND_ERROR,this.appendError>n.config.appendErrorMaxRetry&&(z.error(`[buffer-controller]: Failed ${n.config.appendErrorMaxRetry} times to append segment in sourceBuffer`),E.fatal=!0)),n.trigger($.ERROR,E)}};i.append(y,o)}onBufferFlushing(e,r){const{operationQueue:n}=this,i=a=>({execute:this.removeExecutor.bind(this,a,r.startOffset,r.endOffset),onStart:()=>{},onComplete:()=>{this.hls.trigger($.BUFFER_FLUSHED,{type:a})},onError:s=>{z.warn(`[buffer-controller]: Failed to remove from ${a} SourceBuffer`,s)}});r.type?n.append(i(r.type),r.type):this.getSourceBufferTypes().forEach(a=>{n.append(i(a),a)})}onFragParsed(e,r){const{frag:n,part:i}=r,a=[],s=i?i.elementaryStreams:n.elementaryStreams;s[qe.AUDIOVIDEO]?a.push("audiovideo"):(s[qe.AUDIO]&&a.push("audio"),s[qe.VIDEO]&&a.push("video"));const o=()=>{const c=self.performance.now();n.stats.buffering.end=c,i&&(i.stats.buffering.end=c);const l=i?i.stats:n.stats;this.hls.trigger($.FRAG_BUFFERED,{frag:n,part:i,stats:l,id:n.type})};a.length===0&&z.warn(`Fragments must have at least one ElementaryStreamType set. type: ${n.type} level: ${n.level} sn: ${n.sn}`),this.blockBuffers(o,a)}onFragChanged(e,r){this.flushBackBuffer()}onBufferEos(e,r){this.getSourceBufferTypes().reduce((i,a)=>{const s=this.sourceBuffer[a];return s&&(!r.type||r.type===a)&&(s.ending=!0,s.ended||(s.ended=!0,z.log(`[buffer-controller]: ${a} sourceBuffer now EOS`))),i&&!!(!s||s.ended)},!0)&&(z.log("[buffer-controller]: Queueing mediaSource.endOfStream()"),this.blockBuffers(()=>{this.getSourceBufferTypes().forEach(a=>{const s=this.sourceBuffer[a];s&&(s.ending=!1)});const{mediaSource:i}=this;if(!i||i.readyState!=="open"){i&&z.info(`[buffer-controller]: Could not call mediaSource.endOfStream(). mediaSource.readyState: ${i.readyState}`);return}z.log("[buffer-controller]: Calling mediaSource.endOfStream()"),i.endOfStream()}))}onLevelUpdated(e,{details:r}){r.fragments.length&&(this.details=r,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())}flushBackBuffer(){const{hls:e,details:r,media:n,sourceBuffer:i}=this;if(!n||r===null)return;const a=this.getSourceBufferTypes();if(!a.length)return;const s=r.live&&e.config.liveBackBufferLength!==null?e.config.liveBackBufferLength:e.config.backBufferLength;if(!pe(s)||s<0)return;const o=n.currentTime,c=r.levelTargetDuration,l=Math.max(s,c),u=Math.floor(o/c)*c-l;a.forEach(f=>{const d=i[f];if(d){const h=lt.getBuffered(d);if(h.length>0&&u>h.start(0)){if(e.trigger($.BACK_BUFFER_REACHED,{bufferEnd:u}),r.live)e.trigger($.LIVE_BACK_BUFFER_REACHED,{bufferEnd:u});else if(d.ended&&h.end(h.length-1)-o<c*2){z.info(`[buffer-controller]: Cannot flush ${f} back buffer while SourceBuffer is in ended state`);return}e.trigger($.BUFFER_FLUSHING,{startOffset:0,endOffset:u,type:f})}}})}updateMediaElementDuration(){if(!this.details||!this.media||!this.mediaSource||this.mediaSource.readyState!=="open")return;const{details:e,hls:r,media:n,mediaSource:i}=this,a=e.fragments[0].start+e.totalduration,s=n.duration,o=pe(i.duration)?i.duration:0;e.live&&r.config.liveDurationInfinity?(z.log("[buffer-controller]: Media Source duration is set to Infinity"),i.duration=1/0,this.updateSeekableRange(e)):(a>o&&a>s||!pe(s))&&(z.log(`[buffer-controller]: Updating Media Source duration to ${a.toFixed(3)}`),i.duration=a)}updateSeekableRange(e){const r=this.mediaSource,n=e.fragments;if(n.length&&e.live&&r!=null&&r.setLiveSeekableRange){const a=Math.max(0,n[0].start),s=Math.max(a,a+e.totalduration);r.setLiveSeekableRange(a,s)}}checkPendingTracks(){const{bufferCodecEventsExpected:e,operationQueue:r,pendingTracks:n}=this,i=Object.keys(n).length;if(i&&!e||i===2){this.createSourceBuffers(n),this.pendingTracks={};const a=this.getSourceBufferTypes();if(a.length)this.hls.trigger($.BUFFER_CREATED,{tracks:this.tracks}),a.forEach(s=>{r.executeNext(s)});else{const s=new Error("could not create source buffer for media codec(s)");this.hls.trigger($.ERROR,{type:me.MEDIA_ERROR,details:q.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:s,reason:s.message})}}}createSourceBuffers(e){const{sourceBuffer:r,mediaSource:n}=this;if(!n)throw Error("createSourceBuffers called when mediaSource was null");for(const i in e)if(!r[i]){const a=e[i];if(!a)throw Error(`source buffer exists for track ${i}, however track does not`);const s=a.levelCodec||a.codec,o=`${a.container};codecs=${s}`;z.log(`[buffer-controller]: creating sourceBuffer(${o})`);try{const c=r[i]=n.addSourceBuffer(o),l=i;this.addBufferListener(l,"updatestart",this._onSBUpdateStart),this.addBufferListener(l,"updateend",this._onSBUpdateEnd),this.addBufferListener(l,"error",this._onSBUpdateError),this.tracks[i]={buffer:c,codec:s,container:a.container,levelCodec:a.levelCodec,metadata:a.metadata,id:a.id}}catch(c){z.error(`[buffer-controller]: error while trying to add sourceBuffer: ${c.message}`),this.hls.trigger($.ERROR,{type:me.MEDIA_ERROR,details:q.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:c,mimeType:o})}}}_onSBUpdateStart(e){const{operationQueue:r}=this;r.current(e).onStart()}_onSBUpdateEnd(e){const{operationQueue:r}=this;r.current(e).onComplete(),r.shiftAndExecuteNext(e)}_onSBUpdateError(e,r){const n=new Error(`${e} SourceBuffer error`);z.error(`[buffer-controller]: ${n}`,r),this.hls.trigger($.ERROR,{type:me.MEDIA_ERROR,details:q.BUFFER_APPENDING_ERROR,error:n,fatal:!1});const i=this.operationQueue.current(e);i&&i.onError(r)}removeExecutor(e,r,n){const{media:i,mediaSource:a,operationQueue:s,sourceBuffer:o}=this,c=o[e];if(!i||!a||!c){z.warn(`[buffer-controller]: Attempting to remove from the ${e} SourceBuffer, but it does not exist`),s.shiftAndExecuteNext(e);return}const l=pe(i.duration)?i.duration:1/0,u=pe(a.duration)?a.duration:1/0,f=Math.max(0,r),d=Math.min(n,l,u);d>f&&!c.ending?(c.ended=!1,z.log(`[buffer-controller]: Removing [${f},${d}] from the ${e} SourceBuffer`),c.remove(f,d)):s.shiftAndExecuteNext(e)}appendExecutor(e,r){const{operationQueue:n,sourceBuffer:i}=this,a=i[r];if(!a){z.warn(`[buffer-controller]: Attempting to append to the ${r} SourceBuffer, but it does not exist`),n.shiftAndExecuteNext(r);return}a.ended=!1,a.appendBuffer(e)}blockBuffers(e,r=this.getSourceBufferTypes()){if(!r.length){z.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(e);return}const{operationQueue:n}=this,i=r.map(a=>n.appendBlocker(a));Promise.all(i).then(()=>{e(),r.forEach(a=>{const s=this.sourceBuffer[a];s!=null&&s.updating||n.shiftAndExecuteNext(a)})})}getSourceBufferTypes(){return Object.keys(this.sourceBuffer)}addBufferListener(e,r,n){const i=this.sourceBuffer[e];if(!i)return;const a=n.bind(this,e);this.listeners[e].push({event:r,listener:a}),i.addEventListener(r,a)}removeBufferListeners(e){const r=this.sourceBuffer[e];r&&this.listeners[e].forEach(n=>{r.removeEventListener(n.event,n.listener)})}}const cB={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},GQ=function(e){let r=e;return cB.hasOwnProperty(e)&&(r=cB[e]),String.fromCharCode(r)},vi=15,$a=100,Ize={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},$ze={17:2,18:4,21:6,22:8,23:10,19:13,20:15},Cze={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},kze={25:2,26:4,29:6,30:8,31:10,27:13,28:15},Oze=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class Lze{constructor(){this.time=null,this.verboseLevel=0}log(e,r){if(this.verboseLevel>=e){const n=typeof r=="function"?r():r;z.log(`${this.time} [${e}] ${n}`)}}}const ul=function(e){const r=[];for(let n=0;n<e.length;n++)r.push(e[n].toString(16));return r};class zQ{constructor(e,r,n,i,a){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=e||"white",this.underline=r||!1,this.italics=n||!1,this.background=i||"black",this.flash=a||!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(e){const r=["foreground","underline","italics","background","flash"];for(let n=0;n<r.length;n++){const i=r[n];e.hasOwnProperty(i)&&(this[i]=e[i])}}isDefault(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash}equals(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}copy(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class Pze{constructor(e,r,n,i,a,s){this.uchar=void 0,this.penState=void 0,this.uchar=e||" ",this.penState=new zQ(r,n,i,a,s)}reset(){this.uchar=" ",this.penState.reset()}setChar(e,r){this.uchar=e,this.penState.copy(r)}setPenState(e){this.penState.copy(e)}equals(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}copy(e){this.uchar=e.uchar,this.penState.copy(e.penState)}isEmpty(){return this.uchar===" "&&this.penState.isDefault()}}class Nze{constructor(e){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(let r=0;r<$a;r++)this.chars.push(new Pze);this.logger=e,this.pos=0,this.currPenState=new zQ}equals(e){let r=!0;for(let n=0;n<$a;n++)if(!this.chars[n].equals(e.chars[n])){r=!1;break}return r}copy(e){for(let r=0;r<$a;r++)this.chars[r].copy(e.chars[r])}isEmpty(){let e=!0;for(let r=0;r<$a;r++)if(!this.chars[r].isEmpty()){e=!1;break}return e}setCursor(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>$a&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=$a)}moveCursor(e){const r=this.pos+e;if(e>1)for(let n=this.pos+1;n<r+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(r)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(e){e>=144&&this.backSpace();const r=GQ(e);if(this.pos>=$a){this.logger.log(0,()=>"Cannot insert "+e.toString(16)+" ("+r+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(r,this.currPenState),this.moveCursor(1)}clearFromPos(e){let r;for(r=e;r<$a;r++)this.chars[r].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const e=[];let r=!0;for(let n=0;n<$a;n++){const i=this.chars[n].uchar;i!==" "&&(r=!1),e.push(i)}return r?"":e.join("")}setPenStyles(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}}class hw{constructor(e){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(let r=0;r<vi;r++)this.rows.push(new Nze(e));this.logger=e,this.currRow=vi-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}reset(){for(let e=0;e<vi;e++)this.rows[e].clear();this.currRow=vi-1}equals(e){let r=!0;for(let n=0;n<vi;n++)if(!this.rows[n].equals(e.rows[n])){r=!1;break}return r}copy(e){for(let r=0;r<vi;r++)this.rows[r].copy(e.rows[r])}isEmpty(){let e=!0;for(let r=0;r<vi;r++)if(!this.rows[r].isEmpty()){e=!1;break}return e}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(e){this.rows[this.currRow].insertChar(e)}setPen(e){this.rows[this.currRow].setPenStyles(e)}moveCursor(e){this.rows[this.currRow].moveCursor(e)}setCursor(e){this.logger.log(2,"setCursor: "+e),this.rows[this.currRow].setCursor(e)}setPAC(e){this.logger.log(2,()=>"pacData = "+JSON.stringify(e));let r=e.row-1;if(this.nrRollUpRows&&r<this.nrRollUpRows-1&&(r=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==r){for(let o=0;o<vi;o++)this.rows[o].clear();const a=this.currRow+1-this.nrRollUpRows,s=this.lastOutputScreen;if(s){const o=s.rows[a].cueStartTime,c=this.logger.time;if(o&&c!==null&&o<c)for(let l=0;l<this.nrRollUpRows;l++)this.rows[r-this.nrRollUpRows+l+1].copy(s.rows[a+l])}}this.currRow=r;const n=this.rows[this.currRow];if(e.indent!==null){const a=e.indent,s=Math.max(a-1,0);n.setCursor(e.indent),e.color=n.chars[s].penState.foreground}const i={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(i)}setBkgData(e){this.logger.log(2,()=>"bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)}setRollUpRows(e){this.nrRollUpRows=e}rollUp(){if(this.nrRollUpRows===null){this.logger.log(3,"roll_up but nrRollUpRows not set yet");return}this.logger.log(1,()=>this.getDisplayText());const e=this.currRow+1-this.nrRollUpRows,r=this.rows.splice(e,1)[0];r.clear(),this.rows.splice(this.currRow,0,r),this.logger.log(2,"Rolling up")}getDisplayText(e){e=e||!1;const r=[];let n="",i=-1;for(let a=0;a<vi;a++){const s=this.rows[a].getTextString();s&&(i=a+1,e?r.push("Row "+i+": '"+s+"'"):r.push(s.trim()))}return r.length>0&&(e?n="["+r.join(" | ")+"]":n=r.join(`
`)),n}getTextAndFormat(){return this.rows}}class uB{constructor(e,r,n){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=r,this.mode=null,this.verbose=0,this.displayedMemory=new hw(n),this.nonDisplayedMemory=new hw(n),this.lastOutputScreen=new hw(n),this.currRollUpRow=this.displayedMemory.rows[vi-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=n}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[vi-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(e){this.outputFilter=e}setPAC(e){this.writeScreen.setPAC(e)}setBkgData(e){this.writeScreen.setBkgData(e)}setMode(e){e!==this.mode&&(this.mode=e,this.logger.log(2,()=>"MODE="+e),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}insertChars(e){for(let n=0;n<e.length;n++)this.writeScreen.insertChar(e[n]);const r=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>r+": "+this.writeScreen.getDisplayText(!0)),(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(e){this.logger.log(2,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){const e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(e){this.logger.log(2,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}ccMIDROW(e){const r={flash:!1};if(r.underline=e%2===1,r.italics=e>=46,r.italics)r.foreground="white";else{const n=Math.floor(e/2)-16,i=["white","green","blue","cyan","red","yellow","magenta"];r.foreground=i[n]}this.logger.log(2,"MIDROW: "+JSON.stringify(r)),this.writeScreen.setPen(r)}outputDataUpdate(e=!1){const r=this.logger.time;r!==null&&this.outputFilter&&(this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=r:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,r,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:r),this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}class fB{constructor(e,r,n){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;const i=new Lze;this.channels=[null,new uB(e,r,i),new uB(e+1,n,i)],this.cmdHistory=hB(),this.logger=i}getHandler(e){return this.channels[e].getHandler()}setHandler(e,r){this.channels[e].setHandler(r)}addData(e,r){let n,i,a,s=!1;this.logger.time=e;for(let o=0;o<r.length;o+=2)if(i=r[o]&127,a=r[o+1]&127,!(i===0&&a===0)){if(this.logger.log(3,"["+ul([r[o],r[o+1]])+"] -> ("+ul([i,a])+")"),n=this.parseCmd(i,a),n||(n=this.parseMidrow(i,a)),n||(n=this.parsePAC(i,a)),n||(n=this.parseBackgroundAttributes(i,a)),!n&&(s=this.parseChars(i,a),s)){const c=this.currentChannel;c&&c>0?this.channels[c].insertChars(s):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!n&&!s&&this.logger.log(2,"Couldn't parse cleaned data "+ul([i,a])+" orig: "+ul([r[o],r[o+1]]))}}parseCmd(e,r){const{cmdHistory:n}=this,i=(e===20||e===28||e===21||e===29)&&r>=32&&r<=47,a=(e===23||e===31)&&r>=33&&r<=35;if(!(i||a))return!1;if(dB(e,r,n))return Wc(null,null,n),this.logger.log(3,"Repeated command ("+ul([e,r])+") is dropped"),!0;const s=e===20||e===21||e===23?1:2,o=this.channels[s];return e===20||e===21||e===28||e===29?r===32?o.ccRCL():r===33?o.ccBS():r===34?o.ccAOF():r===35?o.ccAON():r===36?o.ccDER():r===37?o.ccRU(2):r===38?o.ccRU(3):r===39?o.ccRU(4):r===40?o.ccFON():r===41?o.ccRDC():r===42?o.ccTR():r===43?o.ccRTD():r===44?o.ccEDM():r===45?o.ccCR():r===46?o.ccENM():r===47&&o.ccEOC():o.ccTO(r-32),Wc(e,r,n),this.currentChannel=s,!0}parseMidrow(e,r){let n=0;if((e===17||e===25)&&r>=32&&r<=47){if(e===17?n=1:n=2,n!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const i=this.channels[n];return i?(i.ccMIDROW(r),this.logger.log(3,"MIDROW ("+ul([e,r])+")"),!0):!1}return!1}parsePAC(e,r){let n;const i=this.cmdHistory,a=(e>=17&&e<=23||e>=25&&e<=31)&&r>=64&&r<=127,s=(e===16||e===24)&&r>=64&&r<=95;if(!(a||s))return!1;if(dB(e,r,i))return Wc(null,null,i),!0;const o=e<=23?1:2;r>=64&&r<=95?n=o===1?Ize[e]:Cze[e]:n=o===1?$ze[e]:kze[e];const c=this.channels[o];return c?(c.setPAC(this.interpretPAC(n,r)),Wc(e,r,i),this.currentChannel=o,!0):!1}interpretPAC(e,r){let n;const i={color:null,italics:!1,indent:null,underline:!1,row:e};return r>95?n=r-96:n=r-64,i.underline=(n&1)===1,n<=13?i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(i.italics=!0,i.color="white"):i.indent=Math.floor((n-16)/2)*4,i}parseChars(e,r){let n,i=null,a=null;if(e>=25?(n=2,a=e-8):(n=1,a=e),a>=17&&a<=19){let s;a===17?s=r+80:a===18?s=r+112:s=r+144,this.logger.log(2,"Special char '"+GQ(s)+"' in channel "+n),i=[s]}else e>=32&&e<=127&&(i=r===0?[e]:[e,r]);if(i){const s=ul(i);this.logger.log(3,"Char codes =  "+s.join(",")),Wc(e,r,this.cmdHistory)}return i}parseBackgroundAttributes(e,r){const n=(e===16||e===24)&&r>=32&&r<=47,i=(e===23||e===31)&&r>=45&&r<=47;if(!(n||i))return!1;let a;const s={};e===16||e===24?(a=Math.floor((r-32)/2),s.background=Oze[a],r%2===1&&(s.background=s.background+"_semi")):r===45?s.background="transparent":(s.foreground="black",r===47&&(s.underline=!0));const o=e<=23?1:2;return this.channels[o].setBkgData(s),Wc(e,r,this.cmdHistory),!0}reset(){for(let e=0;e<Object.keys(this.channels).length;e++){const r=this.channels[e];r&&r.reset()}this.cmdHistory=hB()}cueSplitAtTime(e){for(let r=0;r<this.channels.length;r++){const n=this.channels[r];n&&n.cueSplitAtTime(e)}}}function Wc(t,e,r){r.a=t,r.b=e}function dB(t,e,r){return r.a===t&&r.b===e}function hB(){return{a:null,b:null}}class Wm{constructor(e,r){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=r}dispatchCue(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(e,r,n){(this.startTime===null||this.startTime>e)&&(this.startTime=e),this.endTime=r,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}var MO=function(){if(typeof self<"u"&&self.VTTCue)return self.VTTCue;const t=["","lr","rl"],e=["start","middle","end","left","right"];function r(o,c){if(typeof c!="string"||!Array.isArray(o))return!1;const l=c.toLowerCase();return~o.indexOf(l)?l:!1}function n(o){return r(t,o)}function i(o){return r(e,o)}function a(o,...c){let l=1;for(;l<arguments.length;l++){const u=arguments[l];for(const f in u)o[f]=u[f]}return o}function s(o,c,l){const u=this,f={enumerable:!0};u.hasBeenReset=!1;let d="",h=!1,p=o,m=c,g=l,v=null,y="",x=!0,E="auto",S="start",b=50,T="middle",R=50,I="middle";Object.defineProperty(u,"id",a({},f,{get:function(){return d},set:function(w){d=""+w}})),Object.defineProperty(u,"pauseOnExit",a({},f,{get:function(){return h},set:function(w){h=!!w}})),Object.defineProperty(u,"startTime",a({},f,{get:function(){return p},set:function(w){if(typeof w!="number")throw new TypeError("Start time must be set to a number.");p=w,this.hasBeenReset=!0}})),Object.defineProperty(u,"endTime",a({},f,{get:function(){return m},set:function(w){if(typeof w!="number")throw new TypeError("End time must be set to a number.");m=w,this.hasBeenReset=!0}})),Object.defineProperty(u,"text",a({},f,{get:function(){return g},set:function(w){g=""+w,this.hasBeenReset=!0}})),Object.defineProperty(u,"region",a({},f,{get:function(){return v},set:function(w){v=w,this.hasBeenReset=!0}})),Object.defineProperty(u,"vertical",a({},f,{get:function(){return y},set:function(w){const C=n(w);if(C===!1)throw new SyntaxError("An invalid or illegal string was specified.");y=C,this.hasBeenReset=!0}})),Object.defineProperty(u,"snapToLines",a({},f,{get:function(){return x},set:function(w){x=!!w,this.hasBeenReset=!0}})),Object.defineProperty(u,"line",a({},f,{get:function(){return E},set:function(w){if(typeof w!="number"&&w!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");E=w,this.hasBeenReset=!0}})),Object.defineProperty(u,"lineAlign",a({},f,{get:function(){return S},set:function(w){const C=i(w);if(!C)throw new SyntaxError("An invalid or illegal string was specified.");S=C,this.hasBeenReset=!0}})),Object.defineProperty(u,"position",a({},f,{get:function(){return b},set:function(w){if(w<0||w>100)throw new Error("Position must be between 0 and 100.");b=w,this.hasBeenReset=!0}})),Object.defineProperty(u,"positionAlign",a({},f,{get:function(){return T},set:function(w){const C=i(w);if(!C)throw new SyntaxError("An invalid or illegal string was specified.");T=C,this.hasBeenReset=!0}})),Object.defineProperty(u,"size",a({},f,{get:function(){return R},set:function(w){if(w<0||w>100)throw new Error("Size must be between 0 and 100.");R=w,this.hasBeenReset=!0}})),Object.defineProperty(u,"align",a({},f,{get:function(){return I},set:function(w){const C=i(w);if(!C)throw new SyntaxError("An invalid or illegal string was specified.");I=C,this.hasBeenReset=!0}})),u.displayState=void 0}return s.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},s}();class Dze{decode(e,r){if(!e)return"";if(typeof e!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}function VQ(t){function e(n,i,a,s){return(n|0)*3600+(i|0)*60+(a|0)+parseFloat(s||0)}const r=t.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return r?parseFloat(r[2])>59?e(r[2],r[3],0,r[4]):e(r[1],r[2],r[3],r[4]):null}class Mze{constructor(){this.values=Object.create(null)}set(e,r){!this.get(e)&&r!==""&&(this.values[e]=r)}get(e,r,n){return n?this.has(e)?this.values[e]:r[n]:this.has(e)?this.values[e]:r}has(e){return e in this.values}alt(e,r,n){for(let i=0;i<n.length;++i)if(r===n[i]){this.set(e,r);break}}integer(e,r){/^-?\d+$/.test(r)&&this.set(e,parseInt(r,10))}percent(e,r){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(r)){const n=parseFloat(r);if(n>=0&&n<=100)return this.set(e,n),!0}return!1}}function WQ(t,e,r,n){const i=n?t.split(n):[t];for(const a in i){if(typeof i[a]!="string")continue;const s=i[a].split(r);if(s.length!==2)continue;const o=s[0],c=s[1];e(o,c)}}const KA=new MO(0,0,""),Km=KA.align==="middle"?"middle":"center";function Fze(t,e,r){const n=t;function i(){const o=VQ(t);if(o===null)throw new Error("Malformed timestamp: "+n);return t=t.replace(/^[^\sa-zA-Z-]+/,""),o}function a(o,c){const l=new Mze;WQ(o,function(d,h){let p;switch(d){case"region":for(let m=r.length-1;m>=0;m--)if(r[m].id===h){l.set(d,r[m].region);break}break;case"vertical":l.alt(d,h,["rl","lr"]);break;case"line":p=h.split(","),l.integer(d,p[0]),l.percent(d,p[0])&&l.set("snapToLines",!1),l.alt(d,p[0],["auto"]),p.length===2&&l.alt("lineAlign",p[1],["start",Km,"end"]);break;case"position":p=h.split(","),l.percent(d,p[0]),p.length===2&&l.alt("positionAlign",p[1],["start",Km,"end","line-left","line-right","auto"]);break;case"size":l.percent(d,h);break;case"align":l.alt(d,h,["start",Km,"end","left","right"]);break}},/:/,/\s/),c.region=l.get("region",null),c.vertical=l.get("vertical","");let u=l.get("line","auto");u==="auto"&&KA.line===-1&&(u=-1),c.line=u,c.lineAlign=l.get("lineAlign","start"),c.snapToLines=l.get("snapToLines",!0),c.size=l.get("size",100),c.align=l.get("align",Km);let f=l.get("position","auto");f==="auto"&&KA.position===50&&(f=c.align==="start"||c.align==="left"?0:c.align==="end"||c.align==="right"?100:50),c.position=f}function s(){t=t.replace(/^\s+/,"")}if(s(),e.startTime=i(),s(),t.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+n);t=t.slice(3),s(),e.endTime=i(),s(),a(t,e)}function KQ(t){return t.replace(/<br(?: \/)?>/gi,`
`)}class Bze{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new Dze,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(e){const r=this;e&&(r.buffer+=r.decoder.decode(e,{stream:!0}));function n(){let a=r.buffer,s=0;for(a=KQ(a);s<a.length&&a[s]!=="\r"&&a[s]!==`
`;)++s;const o=a.slice(0,s);return a[s]==="\r"&&++s,a[s]===`
`&&++s,r.buffer=a.slice(s),o}function i(a){WQ(a,function(s,o){},/:/)}try{let a="";if(r.state==="INITIAL"){if(!/\r\n|\n/.test(r.buffer))return this;a=n();const o=a.match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(!(o!=null&&o[0]))throw new Error("Malformed WebVTT signature.");r.state="HEADER"}let s=!1;for(;r.buffer;){if(!/\r\n|\n/.test(r.buffer))return this;switch(s?s=!1:a=n(),r.state){case"HEADER":/:/.test(a)?i(a):a||(r.state="ID");continue;case"NOTE":a||(r.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(a)){r.state="NOTE";break}if(!a)continue;if(r.cue=new MO(0,0,""),r.state="CUE",a.indexOf("-->")===-1){r.cue.id=a;continue}case"CUE":if(!r.cue){r.state="BADCUE";continue}try{Fze(a,r.cue,r.regionList)}catch{r.cue=null,r.state="BADCUE";continue}r.state="CUETEXT";continue;case"CUETEXT":{const o=a.indexOf("-->")!==-1;if(!a||o&&(s=!0)){r.oncue&&r.cue&&r.oncue(r.cue),r.cue=null,r.state="ID";continue}if(r.cue===null)continue;r.cue.text&&(r.cue.text+=`
`),r.cue.text+=a}continue;case"BADCUE":a||(r.state="ID")}}}catch{r.state==="CUETEXT"&&r.cue&&r.oncue&&r.oncue(r.cue),r.cue=null,r.state=r.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this}flush(){const e=this;try{if((e.cue||e.state==="HEADER")&&(e.buffer+=`

`,e.parse()),e.state==="INITIAL"||e.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(r){e.onparsingerror&&e.onparsingerror(r)}return e.onflush&&e.onflush(),this}}const Uze=/\r\n|\n\r|\n|\r/g,pw=function(e,r,n=0){return e.slice(n,n+r.length)===r},jze=function(e){let r=parseInt(e.slice(-3));const n=parseInt(e.slice(-6,-4)),i=parseInt(e.slice(-9,-7)),a=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!pe(r)||!pe(n)||!pe(i)||!pe(a))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${e}`);return r+=1e3*n,r+=60*1e3*i,r+=60*60*1e3*a,r},gw=function(e){let r=5381,n=e.length;for(;n;)r=r*33^e.charCodeAt(--n);return(r>>>0).toString()};function FO(t,e,r){return gw(t.toString())+gw(e.toString())+gw(r)}const Hze=function(e,r,n){let i=e[r],a=e[i.prevCC];if(!a||!a.new&&i.new){e.ccOffset=e.presentationOffset=i.start,i.new=!1;return}for(;(s=a)!=null&&s.new;){var s;e.ccOffset+=i.start-a.start,i.new=!1,i=a,a=e[i.prevCC]}e.presentationOffset=n};function Gze(t,e,r,n,i,a,s){const o=new Bze,c=la(new Uint8Array(t)).trim().replace(Uze,`
`).split(`
`),l=[],u=eze(e.baseTime,e.timescale);let f="00:00.000",d=0,h=0,p,m=!0;o.oncue=function(g){const v=r[n];let y=r.ccOffset;const x=(d-u)/9e4;v!=null&&v.new&&(h!==void 0?y=r.ccOffset=v.start:Hze(r,n,x)),x&&(y=x-r.presentationOffset);const E=g.endTime-g.startTime,S=Un((g.startTime+y-h)*9e4,i*9e4)/9e4;g.startTime=Math.max(S,0),g.endTime=Math.max(S+E,0);const b=g.text.trim();g.text=decodeURIComponent(encodeURIComponent(b)),g.id||(g.id=FO(g.startTime,g.endTime,b)),g.endTime>0&&l.push(g)},o.onparsingerror=function(g){p=g},o.onflush=function(){if(p){s(p);return}a(l)},c.forEach(g=>{if(m)if(pw(g,"X-TIMESTAMP-MAP=")){m=!1,g.slice(16).split(",").forEach(v=>{pw(v,"LOCAL:")?f=v.slice(6):pw(v,"MPEGTS:")&&(d=parseInt(v.slice(7)))});try{h=jze(f)/1e3}catch(v){p=v}return}else g===""&&(m=!1);o.parse(g+`
`)}),o.flush()}const mw="stpp.ttml.im1t",YQ=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,qQ=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,zze={left:"start",center:"center",right:"end",start:"start",end:"end"};function pB(t,e,r,n){const i=Fe(new Uint8Array(t),["mdat"]);if(i.length===0){n(new Error("Could not parse IMSC1 mdat"));return}const a=i.map(o=>la(o)),s=JGe(e.baseTime,1,e.timescale);try{a.forEach(o=>r(Vze(o,s)))}catch(o){n(o)}}function Vze(t,e){const i=new DOMParser().parseFromString(t,"text/xml").getElementsByTagName("tt")[0];if(!i)throw new Error("Invalid ttml");const a={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},s=Object.keys(a).reduce((f,d)=>(f[d]=i.getAttribute(`ttp:${d}`)||a[d],f),{}),o=i.getAttribute("xml:space")!=="preserve",c=gB(vw(i,"styling","style")),l=gB(vw(i,"layout","region")),u=vw(i,"body","[begin]");return[].map.call(u,f=>{const d=XQ(f,o);if(!d||!f.hasAttribute("begin"))return null;const h=xw(f.getAttribute("begin"),s),p=xw(f.getAttribute("dur"),s);let m=xw(f.getAttribute("end"),s);if(h===null)throw mB(f);if(m===null){if(p===null)throw mB(f);m=h+p}const g=new MO(h-e,m-e,d);g.id=FO(g.startTime,g.endTime,g.text);const v=l[f.getAttribute("region")],y=c[f.getAttribute("style")],x=Wze(v,y,c),{textAlign:E}=x;if(E){const S=zze[E];S&&(g.lineAlign=S),g.align=E}return Pt(g,x),g}).filter(f=>f!==null)}function vw(t,e,r){const n=t.getElementsByTagName(e)[0];return n?[].slice.call(n.querySelectorAll(r)):[]}function gB(t){return t.reduce((e,r)=>{const n=r.getAttribute("xml:id");return n&&(e[n]=r),e},{})}function XQ(t,e){return[].slice.call(t.childNodes).reduce((r,n,i)=>{var a;return n.nodeName==="br"&&i?r+`
`:(a=n.childNodes)!=null&&a.length?XQ(n,e):e?r+n.textContent.trim().replace(/\s+/g," "):r+n.textContent},"")}function Wze(t,e,r){const n="http://www.w3.org/ns/ttml#styling";let i=null;const a=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],s=t!=null&&t.hasAttribute("style")?t.getAttribute("style"):null;return s&&r.hasOwnProperty(s)&&(i=r[s]),a.reduce((o,c)=>{const l=yw(e,n,c)||yw(t,n,c)||yw(i,n,c);return l&&(o[c]=l),o},{})}function yw(t,e,r){return t&&t.hasAttributeNS(e,r)?t.getAttributeNS(e,r):null}function mB(t){return new Error(`Could not parse ttml timestamp ${t}`)}function xw(t,e){if(!t)return null;let r=VQ(t);return r===null&&(YQ.test(t)?r=Kze(t,e):qQ.test(t)&&(r=Yze(t,e))),r}function Kze(t,e){const r=YQ.exec(t),n=(r[4]|0)+(r[5]|0)/e.subFrameRate;return(r[1]|0)*3600+(r[2]|0)*60+(r[3]|0)+n/e.frameRate}function Yze(t,e){const r=qQ.exec(t),n=Number(r[1]);switch(r[2]){case"h":return n*3600;case"m":return n*60;case"ms":return n*1e3;case"f":return n/e.frameRate;case"t":return n/e.tickRate}return n}class qze{constructor(e){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=vB(),this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){const r=new Wm(this,"textTrack1"),n=new Wm(this,"textTrack2"),i=new Wm(this,"textTrack3"),a=new Wm(this,"textTrack4");this.cea608Parser1=new fB(1,r,n),this.cea608Parser2=new fB(3,i,a)}e.on($.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on($.MEDIA_DETACHING,this.onMediaDetaching,this),e.on($.MANIFEST_LOADING,this.onManifestLoading,this),e.on($.MANIFEST_LOADED,this.onManifestLoaded,this),e.on($.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on($.FRAG_LOADING,this.onFragLoading,this),e.on($.FRAG_LOADED,this.onFragLoaded,this),e.on($.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on($.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on($.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on($.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on($.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:e}=this;e.off($.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off($.MEDIA_DETACHING,this.onMediaDetaching,this),e.off($.MANIFEST_LOADING,this.onManifestLoading,this),e.off($.MANIFEST_LOADED,this.onManifestLoaded,this),e.off($.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off($.FRAG_LOADING,this.onFragLoading,this),e.off($.FRAG_LOADED,this.onFragLoaded,this),e.off($.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off($.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off($.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off($.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off($.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null}addCues(e,r,n,i,a){let s=!1;for(let o=a.length;o--;){const c=a[o],l=Qze(c[0],c[1],r,n);if(l>=0&&(c[0]=Math.min(c[0],r),c[1]=Math.max(c[1],n),s=!0,l/(n-r)>.5))return}if(s||a.push([r,n]),this.config.renderTextTracksNatively){const o=this.captionsTracks[e];this.Cues.newCue(o,r,n,i)}else{const o=this.Cues.newCue(null,r,n,i);this.hls.trigger($.CUES_PARSED,{type:"captions",cues:o,track:e})}}onInitPtsFound(e,{frag:r,id:n,initPTS:i,timescale:a}){const{unparsedVttFrags:s}=this;n==="main"&&(this.initPTS[r.cc]={baseTime:i,timescale:a}),s.length&&(this.unparsedVttFrags=[],s.forEach(o=>{this.onFragLoaded($.FRAG_LOADED,o)}))}getExistingTrack(e){const{media:r}=this;if(r)for(let n=0;n<r.textTracks.length;n++){const i=r.textTracks[n];if(i[e])return i}return null}createCaptionsTrack(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)}createNativeTrack(e){if(this.captionsTracks[e])return;const{captionsProperties:r,captionsTracks:n,media:i}=this,{label:a,languageCode:s}=r[e],o=this.getExistingTrack(e);if(o)n[e]=o,Eu(n[e]),xQ(n[e],i);else{const c=this.createTextTrack("captions",a,s);c&&(c[e]=!0,n[e]=c)}}createNonNativeTrack(e){if(this.nonNativeCaptionsTracks[e])return;const r=this.captionsProperties[e];if(!r)return;const n=r.label,i={_id:e,label:n,kind:"captions",default:r.media?!!r.media.default:!1,closedCaptions:r.media};this.nonNativeCaptionsTracks[e]=i,this.hls.trigger($.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[i]})}createTextTrack(e,r,n){const i=this.media;if(i)return i.addTextTrack(e,r,n)}onMediaAttaching(e,r){this.media=r.media,this._cleanTracks()}onMediaDetaching(){const{captionsTracks:e}=this;Object.keys(e).forEach(r=>{Eu(e[r]),delete e[r]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=vB(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:e}=this;if(!e)return;const r=e.textTracks;if(r)for(let n=0;n<r.length;n++)Eu(r[n])}onSubtitleTracksUpdated(e,r){const n=r.subtitleTracks||[],i=n.some(a=>a.textCodec===mw);if(this.config.enableWebVTT||i&&this.config.enableIMSC1){if(HQ(this.tracks,n)){this.tracks=n;return}if(this.textTracks=[],this.tracks=n,this.config.renderTextTracksNatively){const s=this.media?this.media.textTracks:null;this.tracks.forEach((o,c)=>{let l;if(s&&c<s.length){let u=null;for(let f=0;f<s.length;f++)if(Xze(s[f],o)){u=s[f];break}u&&(l=u)}if(l)Eu(l);else{const u=this._captionsOrSubtitlesFromCharacteristics(o);l=this.createTextTrack(u,o.name,o.lang),l&&(l.mode="disabled")}l&&(l.groupId=o.groupId,this.textTracks.push(l))})}else if(this.tracks.length){const s=this.tracks.map(o=>({label:o.name,kind:o.type.toLowerCase(),default:o.default,subtitleTrack:o}));this.hls.trigger($.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:s})}}}_captionsOrSubtitlesFromCharacteristics(e){if(e.attrs.CHARACTERISTICS){const r=/transcribes-spoken-dialog/gi.test(e.attrs.CHARACTERISTICS),n=/describes-music-and-sound/gi.test(e.attrs.CHARACTERISTICS);if(r&&n)return"captions"}return"subtitles"}onManifestLoaded(e,r){this.config.enableCEA708Captions&&r.captions&&r.captions.forEach(n=>{const i=/(?:CC|SERVICE)([1-4])/.exec(n.instreamId);if(!i)return;const a=`textTrack${i[1]}`,s=this.captionsProperties[a];s&&(s.label=n.name,n.lang&&(s.languageCode=n.lang),s.media=n)})}closedCaptionsForLevel(e){const r=this.hls.levels[e.level];return r==null?void 0:r.attrs["CLOSED-CAPTIONS"]}onFragLoading(e,r){const{cea608Parser1:n,cea608Parser2:i,lastSn:a,lastPartIndex:s}=this;if(!(!this.enabled||!(n&&i))&&r.frag.type===ye.MAIN){var o,c;const l=r.frag.sn,u=(o=r==null||(c=r.part)==null?void 0:c.index)!=null?o:-1;l===a+1||l===a&&u===s+1||(n.reset(),i.reset()),this.lastSn=l,this.lastPartIndex=u}}onFragLoaded(e,r){const{frag:n,payload:i}=r,{initPTS:a,unparsedVttFrags:s}=this;if(n.type===ye.SUBTITLE)if(i.byteLength){if(!a[n.cc]){s.push(r),a.length&&this.hls.trigger($.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:new Error("Missing initial subtitle PTS")});return}const o=n.decryptdata,c="stats"in r;if(o==null||!o.encrypted||c){const l=this.tracks[n.level],u=this.vttCCs;u[n.cc]||(u[n.cc]={start:n.start,prevCC:this.prevCC,new:!0},this.prevCC=n.cc),l&&l.textCodec===mw?this._parseIMSC1(n,i):this._parseVTTs(n,i,u)}}else this.hls.trigger($.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:new Error("Empty subtitle payload")})}_parseIMSC1(e,r){const n=this.hls;pB(r,this.initPTS[e.cc],i=>{this._appendCues(i,e.level),n.trigger($.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})},i=>{z.log(`Failed to parse IMSC1: ${i}`),n.trigger($.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:i})})}_parseVTTs(e,r,n){var i;const a=this.hls,s=(i=e.initSegment)!=null&&i.data?Zl(e.initSegment.data,new Uint8Array(r)):r;Gze(s,this.initPTS[e.cc],n,e.cc,e.start,o=>{this._appendCues(o,e.level),a.trigger($.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})},o=>{this._fallbackToIMSC1(e,r),z.log(`Failed to parse VTT cue: ${o}`),a.trigger($.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:o})})}_fallbackToIMSC1(e,r){const n=this.tracks[e.level];n.textCodec||pB(r,this.initPTS[e.cc],()=>{n.textCodec=mw,this._parseIMSC1(e,r)},()=>{n.textCodec="wvtt"})}_appendCues(e,r){const n=this.hls;if(this.config.renderTextTracksNatively){const i=this.textTracks[r];if(!i||i.mode==="disabled")return;e.forEach(a=>EQ(i,a))}else{const i=this.tracks[r];if(!i)return;const a=i.default?"default":"subtitles"+r;n.trigger($.CUES_PARSED,{type:"subtitles",cues:e,track:a})}}onFragDecrypted(e,r){const{frag:n}=r;if(n.type===ye.SUBTITLE){if(!this.initPTS[n.cc]){this.unparsedVttFrags.push(r);return}this.onFragLoaded($.FRAG_LOADED,r)}}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(e,r){const{cea608Parser1:n,cea608Parser2:i}=this;if(!this.enabled||!(n&&i))return;const{frag:a,samples:s}=r;if(!(a.type===ye.MAIN&&this.closedCaptionsForLevel(a)==="NONE"))for(let o=0;o<s.length;o++){const c=s[o].bytes;if(c){const l=this.extractCea608Data(c);n.addData(s[o].pts,l[0]),i.addData(s[o].pts,l[1])}}}onBufferFlushing(e,{startOffset:r,endOffset:n,endOffsetSubtitles:i,type:a}){const{media:s}=this;if(!(!s||s.currentTime<n)){if(!a||a==="video"){const{captionsTracks:o}=this;Object.keys(o).forEach(c=>jA(o[c],r,n))}if(this.config.renderTextTracksNatively&&r===0&&i!==void 0){const{textTracks:o}=this;Object.keys(o).forEach(c=>jA(o[c],r,i))}}}extractCea608Data(e){const r=[[],[]],n=e[0]&31;let i=2;for(let a=0;a<n;a++){const s=e[i++],o=127&e[i++],c=127&e[i++];if(o===0&&c===0)continue;if((4&s)!==0){const u=3&s;(u===0||u===1)&&(r[u].push(o),r[u].push(c))}}return r}}function Xze(t,e){return!!t&&t.label===e.name&&!(t.textTrack1||t.textTrack2)}function Qze(t,e,r,n){return Math.min(e,n)-Math.max(t,r)}function vB(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}class BO{constructor(e){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(e){this.streamController=e}destroy(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:e}=this;e.on($.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on($.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on($.MANIFEST_PARSED,this.onManifestParsed,this),e.on($.BUFFER_CODECS,this.onBufferCodecs,this),e.on($.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:e}=this;e.off($.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off($.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off($.MANIFEST_PARSED,this.onManifestParsed,this),e.off($.BUFFER_CODECS,this.onBufferCodecs,this),e.off($.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(e,r){const n=this.hls.levels[r.droppedLevel];this.isLevelAllowed(n)&&this.restrictedLevels.push({bitrate:n.bitrate,height:n.height,width:n.width})}onMediaAttaching(e,r){this.media=r.media instanceof HTMLVideoElement?r.media:null,this.clientRect=null}onManifestParsed(e,r){const n=this.hls;this.restrictedLevels=[],this.firstLevel=r.firstLevel,n.config.capLevelToPlayerSize&&r.video&&this.startCapping()}onBufferCodecs(e,r){this.hls.config.capLevelToPlayerSize&&r.video&&this.startCapping()}onMediaDetaching(){this.stopCapping()}detectPlayerSize(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){const e=this.hls.levels;if(e.length){const r=this.hls;r.autoLevelCapping=this.getMaxLevel(e.length-1),r.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=r.autoLevelCapping}}}getMaxLevel(e){const r=this.hls.levels;if(!r.length)return-1;const n=r.filter((i,a)=>this.isLevelAllowed(i)&&a<=e);return this.clientRect=null,BO.getMaxLevelByMediaSize(n,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const e=this.media,r={width:0,height:0};if(e){const n=e.getBoundingClientRect();r.width=n.width,r.height=n.height,!r.width&&!r.height&&(r.width=n.right-n.left||e.width||0,r.height=n.bottom-n.top||e.height||0)}return this.clientRect=r,r}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch{}return e}isLevelAllowed(e){return!this.restrictedLevels.some(n=>e.bitrate===n.bitrate&&e.width===n.width&&e.height===n.height)}static getMaxLevelByMediaSize(e,r,n){if(!(e!=null&&e.length))return-1;const i=(s,o)=>o?s.width!==o.width||s.height!==o.height:!0;let a=e.length-1;for(let s=0;s<e.length;s+=1){const o=e[s];if((o.width>=r||o.height>=n)&&i(o,e[s+1])){a=s;break}}return a}}class Zze{constructor(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}setStreamController(e){this.streamController=e}registerListeners(){this.hls.on($.MEDIA_ATTACHING,this.onMediaAttaching,this)}unregisterListeners(){this.hls.off($.MEDIA_ATTACHING,this.onMediaAttaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(e,r){const n=this.hls.config;if(n.capLevelOnFPSDrop){const i=r.media instanceof self.HTMLVideoElement?r.media:null;this.media=i,i&&typeof i.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),n.fpsDroppedMonitoringPeriod)}}checkFPS(e,r,n){const i=performance.now();if(r){if(this.lastTime){const a=i-this.lastTime,s=n-this.lastDroppedFrames,o=r-this.lastDecodedFrames,c=1e3*s/a,l=this.hls;if(l.trigger($.FPS_DROP,{currentDropped:s,currentDecoded:o,totalDroppedFrames:n}),c>0&&s>l.config.fpsDroppedMonitoringThreshold*o){let u=l.currentLevel;z.warn("drop FPS ratio greater than max allowed value for currentLevel: "+u),u>0&&(l.autoLevelCapping===-1||l.autoLevelCapping>=u)&&(u=u-1,l.trigger($.FPS_DROP_LEVEL_CAPPING,{level:u,droppedLevel:l.currentLevel}),l.autoLevelCapping=u,this.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=n,this.lastDecodedFrames=r}}checkFPSInterval(){const e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){const r=e.getVideoPlaybackQuality();this.checkFPS(e,r.totalVideoFrames,r.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}}const Ym="[eme]";class Vu{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=Vu.CDMCleanupPromise?[Vu.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=z.debug.bind(z,Ym),this.log=z.log.bind(z,Ym),this.warn=z.warn.bind(z,Ym),this.error=z.error.bind(z,Ym),this.hls=e,this.config=e.config,this.registerListeners()}destroy(){this.unregisterListeners(),this.onMediaDetached();const e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null,this.config=null}registerListeners(){this.hls.on($.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on($.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on($.MANIFEST_LOADED,this.onManifestLoaded,this)}unregisterListeners(){this.hls.off($.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off($.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off($.MANIFEST_LOADED,this.onManifestLoaded,this)}getLicenseServerUrl(e){const{drmSystems:r,widevineLicenseUrl:n}=this.config,i=r[e];if(i)return i.licenseUrl;if(e===mt.WIDEVINE&&n)return n;throw new Error(`no license server URL configured for key-system "${e}"`)}getServerCertificateUrl(e){const{drmSystems:r}=this.config,n=r[e];if(n)return n.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${e}"]`)}attemptKeySystemAccess(e){const r=this.hls.levels,n=(s,o,c)=>!!s&&c.indexOf(s)===o,i=r.map(s=>s.audioCodec).filter(n),a=r.map(s=>s.videoCodec).filter(n);return i.length+a.length===0&&a.push("avc1.42e01e"),new Promise((s,o)=>{const c=l=>{const u=l.shift();this.getMediaKeysPromise(u,i,a).then(f=>s({keySystem:u,mediaKeys:f})).catch(f=>{l.length?c(l):f instanceof Dn?o(f):o(new Dn({type:me.KEY_SYSTEM_ERROR,details:q.KEY_SYSTEM_NO_ACCESS,error:f,fatal:!0},f.message))})};c(e)})}requestMediaKeySystemAccess(e,r){const{requestMediaKeySystemAccessFunc:n}=this.config;if(typeof n!="function"){let i=`Configured requestMediaKeySystemAccess is not a function ${n}`;return oQ===null&&self.location.protocol==="http:"&&(i=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(i))}return n(e,r)}getMediaKeysPromise(e,r,n){const i=dHe(e,r,n,this.config.drmSystemOptions),a=this.keySystemAccessPromises[e];let s=a==null?void 0:a.keySystemAccess;if(!s){this.log(`Requesting encrypted media "${e}" key-system access with config: ${JSON.stringify(i)}`),s=this.requestMediaKeySystemAccess(e,i);const o=this.keySystemAccessPromises[e]={keySystemAccess:s};return s.catch(c=>{this.log(`Failed to obtain access to key-system "${e}": ${c}`)}),s.then(c=>{this.log(`Access for key-system "${c.keySystem}" obtained`);const l=this.fetchServerCertificate(e);return this.log(`Create media-keys for "${e}"`),o.mediaKeys=c.createMediaKeys().then(u=>(this.log(`Media-keys created for "${e}"`),l.then(f=>f?this.setMediaKeysServerCertificate(u,e,f):u))),o.mediaKeys.catch(u=>{this.error(`Failed to create media-keys for "${e}"}: ${u}`)}),o.mediaKeys})}return s.then(()=>a.mediaKeys)}createMediaKeySessionContext({decryptdata:e,keySystem:r,mediaKeys:n}){this.log(`Creating key-system session "${r}" keyId: ${Xi.hexDump(e.keyId||[])}`);const i=n.createSession(),a={decryptdata:e,keySystem:r,mediaKeys:n,mediaKeysSession:i,keyStatus:"status-pending"};return this.mediaKeySessions.push(a),a}renewKeySession(e){const r=e.decryptdata;if(r.pssh){const n=this.createMediaKeySessionContext(e),i=this.getKeyIdString(r),a="cenc";this.keyIdToKeySessionPromise[i]=this.generateRequestWithPreferredKeySession(n,a,r.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}getKeyIdString(e){if(!e)throw new Error("Could not read keyId of undefined decryptdata");if(e.keyId===null)throw new Error("keyId is null");return Xi.hexDump(e.keyId)}updateKeySession(e,r){var n;const i=e.mediaKeysSession;return this.log(`Updating key-session "${i.sessionId}" for keyID ${Xi.hexDump(((n=e.decryptdata)==null?void 0:n.keyId)||[])}
      } (data length: ${r&&r.byteLength})`),i.update(r)}selectKeySystemFormat(e){const r=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${e.sn} ${e.type}: ${e.level}) key formats ${r.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(r)),this.keyFormatPromise}getKeyFormatPromise(e){return new Promise((r,n)=>{const i=XT(this.config),a=e.map($5).filter(s=>!!s&&i.indexOf(s)!==-1);return this.getKeySystemSelectionPromise(a).then(({keySystem:s})=>{const o=C5(s);o?r(o):n(new Error(`Unable to find format for key-system "${s}"`))}).catch(n)})}loadKey(e){const r=e.keyInfo.decryptdata,n=this.getKeyIdString(r),i=`(keyId: ${n} format: "${r.keyFormat}" method: ${r.method} uri: ${r.uri})`;this.log(`Starting session for key ${i}`);let a=this.keyIdToKeySessionPromise[n];return a||(a=this.keyIdToKeySessionPromise[n]=this.getKeySystemForKeyPromise(r).then(({keySystem:s,mediaKeys:o})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${e.frag.sn} ${e.frag.type}: ${e.frag.level} using key ${i}`),this.attemptSetMediaKeys(s,o).then(()=>{this.throwIfDestroyed();const c=this.createMediaKeySessionContext({keySystem:s,mediaKeys:o,decryptdata:r}),l="cenc";return this.generateRequestWithPreferredKeySession(c,l,r.pssh,"playlist-key")}))),a.catch(s=>this.handleError(s))),a}throwIfDestroyed(e="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(e){this.hls&&(this.error(e.message),e instanceof Dn?this.hls.trigger($.ERROR,e.data):this.hls.trigger($.ERROR,{type:me.KEY_SYSTEM_ERROR,details:q.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0}))}getKeySystemForKeyPromise(e){const r=this.getKeyIdString(e),n=this.keyIdToKeySessionPromise[r];if(!n){const i=$5(e.keyFormat),a=i?[i]:XT(this.config);return this.attemptKeySystemAccess(a)}return n}getKeySystemSelectionPromise(e){if(e.length||(e=XT(this.config)),e.length===0)throw new Dn({type:me.KEY_SYSTEM_ERROR,details:q.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${JSON.stringify({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(e)}_onMediaEncrypted(e){const{initDataType:r,initData:n}=e;if(this.debug(`"${e.type}" event: init data type: "${r}"`),n===null)return;let i,a;if(r==="sinf"&&this.config.drmSystems[mt.FAIRPLAY]){const u=Xt(new Uint8Array(n));try{const f=wO(JSON.parse(u).sinf),d=gQ(new Uint8Array(f));if(!d)return;i=d.subarray(8,24),a=mt.FAIRPLAY}catch{this.warn('Failed to parse sinf "encrypted" event message initData');return}}else{const u=DHe(n);if(u===null)return;u.version===0&&u.systemId===sQ.WIDEVINE&&u.data&&(i=u.data.subarray(8,24)),a=fHe(u.systemId)}if(!a||!i)return;const s=Xi.hexDump(i),{keyIdToKeySessionPromise:o,mediaKeySessions:c}=this;let l=o[s];for(let u=0;u<c.length;u++){const f=c[u],d=f.decryptdata;if(d.pssh||!d.keyId)continue;const h=Xi.hexDump(d.keyId);if(s===h||d.uri.replace(/-/g,"").indexOf(s)!==-1){l=o[h],delete o[h],d.pssh=new Uint8Array(n),d.keyId=i,l=o[s]=l.then(()=>this.generateRequestWithPreferredKeySession(f,r,n,"encrypted-event-key-match"));break}}l||(l=o[s]=this.getKeySystemSelectionPromise([a]).then(({keySystem:u,mediaKeys:f})=>{var d;this.throwIfDestroyed();const h=new X0("ISO-23001-7",s,(d=C5(u))!=null?d:"");return h.pssh=new Uint8Array(n),h.keyId=i,this.attemptSetMediaKeys(u,f).then(()=>{this.throwIfDestroyed();const p=this.createMediaKeySessionContext({decryptdata:h,keySystem:u,mediaKeys:f});return this.generateRequestWithPreferredKeySession(p,r,n,"encrypted-event-no-match")})})),l.catch(u=>this.handleError(u))}_onWaitingForKey(e){this.log(`"${e.type}" event`)}attemptSetMediaKeys(e,r){const n=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${e}"`);const i=Promise.all(n).then(()=>{if(!this.media)throw new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(r)});return this.setMediaKeysQueue.push(i),i.then(()=>{this.log(`Media-keys set for "${e}"`),n.push(i),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(a=>n.indexOf(a)===-1)})}generateRequestWithPreferredKeySession(e,r,n,i){var a,s;const o=(a=this.config.drmSystems)==null||(s=a[e.keySystem])==null?void 0:s.generateRequest;if(o)try{const d=o.call(this.hls,r,n,e);if(!d)throw new Error("Invalid response from configured generateRequest filter");r=d.initDataType,n=e.decryptdata.pssh=d.initData?new Uint8Array(d.initData):null}catch(d){var c;if(this.warn(d.message),(c=this.hls)!=null&&c.config.debug)throw d}if(n===null)return this.log(`Skipping key-session request for "${i}" (no initData)`),Promise.resolve(e);const l=this.getKeyIdString(e.decryptdata);this.log(`Generating key-session request for "${i}": ${l} (init data type: ${r} length: ${n?n.byteLength:null})`);const u=new J0;e.mediaKeysSession.onmessage=d=>{const h=e.mediaKeysSession;if(!h){u.emit("error",new Error("invalid state"));return}const{messageType:p,message:m}=d;this.log(`"${p}" message event for session "${h.sessionId}" message size: ${m.byteLength}`),p==="license-request"||p==="license-renewal"?this.renewLicense(e,m).catch(g=>{this.handleError(g),u.emit("error",g)}):p==="license-release"?e.keySystem===mt.FAIRPLAY&&(this.updateKeySession(e,aQ("acknowledged")),this.removeSession(e)):this.warn(`unhandled media key message type "${p}"`)},e.mediaKeysSession.onkeystatuseschange=d=>{if(!e.mediaKeysSession){u.emit("error",new Error("invalid state"));return}this.onKeyStatusChange(e);const p=e.keyStatus;u.emit("keyStatus",p),p==="expired"&&(this.warn(`${e.keySystem} expired for key ${l}`),this.renewKeySession(e))};const f=new Promise((d,h)=>{u.on("error",h),u.on("keyStatus",p=>{p.startsWith("usable")?d():p==="output-restricted"?h(new Dn({type:me.KEY_SYSTEM_ERROR,details:q.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):p==="internal-error"?h(new Dn({type:me.KEY_SYSTEM_ERROR,details:q.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${p}"`)):p==="expired"?h(new Error("key expired while generating request")):this.warn(`unhandled key status change "${p}"`)})});return e.mediaKeysSession.generateRequest(r,n).then(()=>{var d;this.log(`Request generated for key-session "${(d=e.mediaKeysSession)==null?void 0:d.sessionId}" keyId: ${l}`)}).catch(d=>{throw new Dn({type:me.KEY_SYSTEM_ERROR,details:q.KEY_SYSTEM_NO_SESSION,error:d,fatal:!1},`Error generating key-session request: ${d}`)}).then(()=>f).catch(d=>{throw u.removeAllListeners(),this.removeSession(e),d}).then(()=>(u.removeAllListeners(),e))}onKeyStatusChange(e){e.mediaKeysSession.keyStatuses.forEach((r,n)=>{this.log(`key status change "${r}" for keyStatuses keyId: ${Xi.hexDump("buffer"in n?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):new Uint8Array(n))} session keyId: ${Xi.hexDump(new Uint8Array(e.decryptdata.keyId||[]))} uri: ${e.decryptdata.uri}`),e.keyStatus=r})}fetchServerCertificate(e){const r=this.config,n=r.loader,i=new n(r),a=this.getServerCertificateUrl(e);return a?(this.log(`Fetching serverCertificate for "${e}"`),new Promise((s,o)=>{const c={responseType:"arraybuffer",url:a},l=r.certLoadPolicy.default,u={loadPolicy:l,timeout:l.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},f={onSuccess:(d,h,p,m)=>{s(d.data)},onError:(d,h,p,m)=>{o(new Dn({type:me.KEY_SYSTEM_ERROR,details:q.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:p,response:an({url:c.url,data:void 0},d)},`"${e}" certificate request failed (${a}). Status: ${d.code} (${d.text})`))},onTimeout:(d,h,p)=>{o(new Dn({type:me.KEY_SYSTEM_ERROR,details:q.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:p,response:{url:c.url,data:void 0}},`"${e}" certificate request timed out (${a})`))},onAbort:(d,h,p)=>{o(new Error("aborted"))}};i.load(c,u,f)})):Promise.resolve()}setMediaKeysServerCertificate(e,r,n){return new Promise((i,a)=>{e.setServerCertificate(n).then(s=>{this.log(`setServerCertificate ${s?"success":"not supported by CDM"} (${n==null?void 0:n.byteLength}) on "${r}"`),i(e)}).catch(s=>{a(new Dn({type:me.KEY_SYSTEM_ERROR,details:q.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:s,fatal:!0},s.message))})})}renewLicense(e,r){return this.requestLicense(e,new Uint8Array(r)).then(n=>this.updateKeySession(e,new Uint8Array(n)).catch(i=>{throw new Dn({type:me.KEY_SYSTEM_ERROR,details:q.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:i,fatal:!0},i.message)}))}setupLicenseXHR(e,r,n,i){const a=this.config.licenseXhrSetup;return a?Promise.resolve().then(()=>{if(!n.decryptdata)throw new Error("Key removed");return a.call(this.hls,e,r,n,i)}).catch(s=>{if(!n.decryptdata)throw s;return e.open("POST",r,!0),a.call(this.hls,e,r,n,i)}).then(s=>(e.readyState||e.open("POST",r,!0),{xhr:e,licenseChallenge:s||i})):(e.open("POST",r,!0),Promise.resolve({xhr:e,licenseChallenge:i}))}requestLicense(e,r){const n=this.config.keyLoadPolicy.default;return new Promise((i,a)=>{const s=this.getLicenseServerUrl(e.keySystem);this.log(`Sending license request to URL: ${s}`);const o=new XMLHttpRequest;o.responseType="arraybuffer",o.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return a(new Error("invalid state"));if(o.readyState===4)if(o.status===200){this._requestLicenseFailureCount=0;let c=o.response;this.log(`License received ${c instanceof ArrayBuffer?c.byteLength:c}`);const l=this.config.licenseResponseCallback;if(l)try{c=l.call(this.hls,o,s,e)}catch(u){this.error(u)}i(c)}else{const c=n.errorRetry,l=c?c.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>l||o.status>=400&&o.status<500)a(new Dn({type:me.KEY_SYSTEM_ERROR,details:q.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:o,response:{url:s,data:void 0,code:o.status,text:o.statusText}},`License Request XHR failed (${s}). Status: ${o.status} (${o.statusText})`));else{const u=l-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${u} attempts left`),this.requestLicense(e,r).then(i,a)}}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=o,this.setupLicenseXHR(o,s,e,r).then(({xhr:c,licenseChallenge:l})=>{c.send(l)})})}onMediaAttached(e,r){if(!this.config.emeEnabled)return;const n=r.media;this.media=n,n.addEventListener("encrypted",this.onMediaEncrypted),n.addEventListener("waitingforkey",this.onWaitingForKey)}onMediaDetached(){const e=this.media,r=this.mediaKeySessions;e&&(e.removeEventListener("encrypted",this.onMediaEncrypted),e.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},X0.clearKeyUriToKeyIdMap();const n=r.length;Vu.CDMCleanupPromise=Promise.all(r.map(i=>this.removeSession(i)).concat(e==null?void 0:e.setMediaKeys(null).catch(i=>{this.log(`Could not clear media keys: ${i}. media.src: ${e==null?void 0:e.src}`)}))).then(()=>{n&&(this.log("finished closing key sessions and clearing media keys"),r.length=0)}).catch(i=>{this.log(`Could not close sessions and clear media keys: ${i}. media.src: ${e==null?void 0:e.src}`)})}onManifestLoaded(e,{sessionKeys:r}){if(!(!r||!this.config.emeEnabled)&&!this.keyFormatPromise){const n=r.reduce((i,a)=>(i.indexOf(a.keyFormat)===-1&&i.push(a.keyFormat),i),[]);this.log(`Selecting key-system from session-keys ${n.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(n)}}removeSession(e){const{mediaKeysSession:r,licenseXhr:n}=e;if(r){this.log(`Remove licenses and keys and close session ${r.sessionId}`),r.onmessage=null,r.onkeystatuseschange=null,n&&n.readyState!==XMLHttpRequest.DONE&&n.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;const i=this.mediaKeySessions.indexOf(e);return i>-1&&this.mediaKeySessions.splice(i,1),r.remove().catch(a=>{this.log(`Could not remove session: ${a}`)}).then(()=>r.close()).catch(a=>{this.log(`Could not close session: ${a}`)})}}}Vu.CDMCleanupPromise=void 0;class Dn extends Error{constructor(e,r){super(r),this.data=void 0,e.error||(e.error=new Error(r)),this.data=e,e.err=e.error}}const Jze=1;var Fr={MANIFEST:"m",AUDIO:"a",VIDEO:"v",MUXED:"av",INIT:"i",CAPTION:"c",TIMED_TEXT:"tt",KEY:"k",OTHER:"o"};const eVe="h";class Bs{constructor(e){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=i=>{try{this.apply(i,{ot:Fr.MANIFEST,su:!this.initialized})}catch(a){z.warn("Could not generate manifest CMCD data.",a)}},this.applyFragmentData=i=>{try{const a=i.frag,s=this.hls.levels[a.level],o=this.getObjectType(a),c={d:a.duration*1e3,ot:o};(o===Fr.VIDEO||o===Fr.AUDIO||o==Fr.MUXED)&&(c.br=s.bitrate/1e3,c.tb=this.getTopBandwidth(o)/1e3,c.bl=this.getBufferLength(o)),this.apply(i,c)}catch(a){z.warn("Could not generate segment CMCD data.",a)}},this.hls=e;const r=this.config=e.config,{cmcd:n}=r;n!=null&&(r.pLoader=this.createPlaylistLoader(),r.fLoader=this.createFragmentLoader(),this.sid=n.sessionId||Bs.uuid(),this.cid=n.contentId,this.useHeaders=n.useHeaders===!0,this.registerListeners())}registerListeners(){const e=this.hls;e.on($.MEDIA_ATTACHED,this.onMediaAttached,this),e.on($.MEDIA_DETACHED,this.onMediaDetached,this),e.on($.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const e=this.hls;e.off($.MEDIA_ATTACHED,this.onMediaAttached,this),e.off($.MEDIA_DETACHED,this.onMediaDetached,this),e.off($.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null}onMediaAttached(e,r){this.media=r.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(e,r){var n,i;this.audioBuffer=(n=r.tracks.audio)==null?void 0:n.buffer,this.videoBuffer=(i=r.tracks.video)==null?void 0:i.buffer}createData(){var e;return{v:Jze,sf:eVe,sid:this.sid,cid:this.cid,pr:(e=this.media)==null?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(e,r={}){Pt(r,this.createData());const n=r.ot===Fr.INIT||r.ot===Fr.VIDEO||r.ot===Fr.MUXED;if(this.starved&&n&&(r.bs=!0,r.su=!0,this.starved=!1),r.su==null&&(r.su=this.buffering),this.useHeaders){const i=Bs.toHeaders(r);if(!Object.keys(i).length)return;e.headers||(e.headers={}),Pt(e.headers,i)}else{const i=Bs.toQuery(r);if(!i)return;e.url=Bs.appendQueryToUri(e.url,i)}}getObjectType(e){const{type:r}=e;if(r==="subtitle")return Fr.TIMED_TEXT;if(e.sn==="initSegment")return Fr.INIT;if(r==="audio")return Fr.AUDIO;if(r==="main")return this.hls.audioTracks.length?Fr.VIDEO:Fr.MUXED}getTopBandwidth(e){let r=0,n;const i=this.hls;if(e===Fr.AUDIO)n=i.audioTracks;else{const a=i.maxAutoLevel,s=a>-1?a+1:i.levels.length;n=i.levels.slice(0,s)}for(const a of n)a.bitrate>r&&(r=a.bitrate);return r>0?r:NaN}getBufferLength(e){const r=this.hls.media,n=e===Fr.AUDIO?this.audioBuffer:this.videoBuffer;return!n||!r?NaN:lt.bufferInfo(n,r.currentTime,this.config.maxBufferHole).len*1e3}createPlaylistLoader(){const{pLoader:e}=this.config,r=this.applyPlaylistData,n=e||this.config.loader;return class{constructor(a){this.loader=void 0,this.loader=new n(a)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(a,s,o){r(a),this.loader.load(a,s,o)}}}createFragmentLoader(){const{fLoader:e}=this.config,r=this.applyFragmentData,n=e||this.config.loader;return class{constructor(a){this.loader=void 0,this.loader=new n(a)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(a,s,o){r(a),this.loader.load(a,s,o)}}}static uuid(){const e=URL.createObjectURL(new Blob),r=e.toString();return URL.revokeObjectURL(e),r.slice(r.lastIndexOf("/")+1)}static serialize(e){const r=[],n=l=>!Number.isNaN(l)&&l!=null&&l!==""&&l!==!1,i=l=>Math.round(l),a=l=>i(l/100)*100,o={br:i,d:i,bl:a,dl:a,mtp:a,nor:l=>encodeURIComponent(l),rtp:a,tb:i},c=Object.keys(e||{}).sort();for(const l of c){let u=e[l];if(!n(u)||l==="v"&&u===1||l=="pr"&&u===1)continue;const f=o[l];f&&(u=f(u));const d=typeof u;let h;l==="ot"||l==="sf"||l==="st"?h=`${l}=${u}`:d==="boolean"?h=l:d==="number"?h=`${l}=${u}`:h=`${l}=${JSON.stringify(u)}`,r.push(h)}return r.join(",")}static toHeaders(e){const r=Object.keys(e),n={},i=["Object","Request","Session","Status"],a=[{},{},{},{}],s={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3};for(const o of r){const c=s[o]!=null?s[o]:1;a[c][o]=e[o]}for(let o=0;o<a.length;o++){const c=Bs.serialize(a[o]);c&&(n[`CMCD-${i[o]}`]=c)}return n}static toQuery(e){return`CMCD=${encodeURIComponent(Bs.serialize(e))}`}static appendQueryToUri(e,r){if(!r)return e;const n=e.includes("?")?"&":"?";return`${e}${n}${r}`}}const tVe=3e5;class rVe{constructor(e){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=e,this.log=z.log.bind(z,"[content-steering]:"),this.registerListeners()}registerListeners(){const e=this.hls;e.on($.MANIFEST_LOADING,this.onManifestLoading,this),e.on($.MANIFEST_LOADED,this.onManifestLoaded,this),e.on($.MANIFEST_PARSED,this.onManifestParsed,this),e.on($.ERROR,this.onError,this)}unregisterListeners(){const e=this.hls;e&&(e.off($.MANIFEST_LOADING,this.onManifestLoading,this),e.off($.MANIFEST_LOADED,this.onManifestLoaded,this),e.off($.MANIFEST_PARSED,this.onManifestParsed,this),e.off($.ERROR,this.onError,this))}startLoad(){if(this.started=!0,self.clearTimeout(this.reloadTimer),this.enabled&&this.uri)if(this.updated){const e=Math.max(this.timeToLoad*1e3-(performance.now()-this.updated),0);this.scheduleRefresh(this.uri,e)}else this.loadSteeringManifest(this.uri)}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),self.clearTimeout(this.reloadTimer)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(e){const r=this.levels;r&&(this.levels=r.filter(n=>n!==e))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(e,r){const{contentSteering:n}=r;n!==null&&(this.pathwayId=n.pathwayId,this.uri=n.uri,this.started&&this.startLoad())}onManifestParsed(e,r){this.audioTracks=r.audioTracks,this.subtitleTracks=r.subtitleTracks}onError(e,r){const{errorAction:n}=r;if((n==null?void 0:n.action)===jr.SendAlternateToPenaltyBox&&n.flags===Fn.MoveAllAlternatesMatchingHost){let i=this.pathwayPriority;const a=this.pathwayId;this.penalizedPathways[a]||(this.penalizedPathways[a]=performance.now()),!i&&this.levels&&(i=this.levels.reduce((s,o)=>(s.indexOf(o.pathwayId)===-1&&s.push(o.pathwayId),s),[])),i&&i.length>1&&(this.updatePathwayPriority(i),n.resolved=this.pathwayId!==a)}}filterParsedLevels(e){this.levels=e;let r=this.getLevelsForPathway(this.pathwayId);if(r.length===0){const n=e[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${n}"`),r=this.getLevelsForPathway(n),this.pathwayId=n}return r.length!==e.length?(this.log(`Found ${r.length}/${e.length} levels in Pathway "${this.pathwayId}"`),r):e}getLevelsForPathway(e){return this.levels===null?[]:this.levels.filter(r=>e===r.pathwayId)}updatePathwayPriority(e){this.pathwayPriority=e;let r;const n=this.penalizedPathways,i=performance.now();Object.keys(n).forEach(a=>{i-n[a]>tVe&&delete n[a]});for(let a=0;a<e.length;a++){const s=e[a];if(n[s])continue;if(s===this.pathwayId)return;const o=this.hls.nextLoadLevel,c=this.hls.levels[o];if(r=this.getLevelsForPathway(s),r.length>0){this.log(`Setting Pathway to "${s}"`),this.pathwayId=s,this.hls.trigger($.LEVELS_UPDATED,{levels:r});const l=this.hls.levels[o];c&&l&&this.levels&&(l.attrs["STABLE-VARIANT-ID"]!==c.attrs["STABLE-VARIANT-ID"]&&l.bitrate!==c.bitrate&&this.log(`Unstable Pathways change from bitrate ${c.bitrate} to ${l.bitrate}`),this.hls.nextLoadLevel=o);break}}}clonePathways(e){const r=this.levels;if(!r)return;const n={},i={};e.forEach(a=>{const{ID:s,"BASE-ID":o,"URI-REPLACEMENT":c}=a;if(r.some(u=>u.pathwayId===s))return;const l=this.getLevelsForPathway(o).map(u=>{const f=Pt({},u);f.details=void 0,f.url=QQ(u.uri,u.attrs["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",c);const d=new gt(u.attrs);d["PATHWAY-ID"]=s;const h=d.AUDIO&&`${d.AUDIO}_clone_${s}`,p=d.SUBTITLES&&`${d.SUBTITLES}_clone_${s}`;h&&(n[d.AUDIO]=h,d.AUDIO=h),p&&(i[d.SUBTITLES]=p,d.SUBTITLES=p),f.attrs=d;const m=new Q0(f);return O1(m,"audio",h),O1(m,"text",p),m});r.push(...l),yB(this.audioTracks,n,c,s),yB(this.subtitleTracks,i,c,s)})}loadSteeringManifest(e){const r=this.hls.config,n=r.loader;this.loader&&this.loader.destroy(),this.loader=new n(r);let i;try{i=new self.URL(e)}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest URI: ${e}`);return}if(i.protocol!=="data:"){const u=(this.hls.bandwidthEstimate||r.abrEwmaDefaultEstimate)|0;i.searchParams.set("_HLS_pathway",this.pathwayId),i.searchParams.set("_HLS_throughput",""+u)}const a={responseType:"json",url:i.href},s=r.steeringManifestLoadPolicy.default,o=s.errorRetry||s.timeoutRetry||{},c={loadPolicy:s,timeout:s.maxLoadTimeMs,maxRetry:o.maxNumRetry||0,retryDelay:o.retryDelayMs||0,maxRetryDelay:o.maxRetryDelayMs||0},l={onSuccess:(u,f,d,h)=>{this.log(`Loaded steering manifest: "${i}"`);const p=u.data;if(p.VERSION!==1){this.log(`Steering VERSION ${p.VERSION} not supported!`);return}this.updated=performance.now(),this.timeToLoad=p.TTL;const{"RELOAD-URI":m,"PATHWAY-CLONES":g,"PATHWAY-PRIORITY":v}=p;if(m)try{this.uri=new self.URL(m,i).href}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest RELOAD-URI: ${m}`);return}this.scheduleRefresh(this.uri||d.url),g&&this.clonePathways(g),v&&this.updatePathwayPriority(v)},onError:(u,f,d,h)=>{if(this.log(`Error loading steering manifest: ${u.code} ${u.text} (${f.url})`),this.stopLoad(),u.code===410){this.enabled=!1,this.log(`Steering manifest ${f.url} no longer available`);return}let p=this.timeToLoad*1e3;if(u.code===429){const m=this.loader;if(typeof(m==null?void 0:m.getResponseHeader)=="function"){const g=m.getResponseHeader("Retry-After");g&&(p=parseFloat(g)*1e3)}this.log(`Steering manifest ${f.url} rate limited`);return}this.scheduleRefresh(this.uri||f.url,p)},onTimeout:(u,f,d)=>{this.log(`Timeout loading steering manifest (${f.url})`),this.scheduleRefresh(this.uri||f.url)}};this.log(`Requesting steering manifest: ${i}`),this.loader.load(a,c,l)}scheduleRefresh(e,r=this.timeToLoad*1e3){self.clearTimeout(this.reloadTimer),this.reloadTimer=self.setTimeout(()=>{this.loadSteeringManifest(e)},r)}}function yB(t,e,r,n){t&&Object.keys(e).forEach(i=>{const a=t.filter(s=>s.groupId===i).map(s=>{const o=Pt({},s);return o.details=void 0,o.attrs=new gt(o.attrs),o.url=o.attrs.URI=QQ(s.url,s.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",r),o.groupId=o.attrs["GROUP-ID"]=e[i],o.attrs["PATHWAY-ID"]=n,o});t.push(...a)})}function QQ(t,e,r,n){const{HOST:i,PARAMS:a,[r]:s}=n;let o;e&&(o=s==null?void 0:s[e],o&&(t=o));const c=new self.URL(t);return i&&!o&&(c.host=i),a&&Object.keys(a).sort().forEach(l=>{l&&c.searchParams.set(l,a[l])}),c.href}const nVe=/^age:\s*[\d.]+\s*$/im;class ZQ{constructor(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=e&&e.xhrSetup||null,this.stats=new x_,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null}abortInternal(){const e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,e.readyState!==4&&(this.stats.aborted=!0,e.abort()))}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(e,r,n){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=r,this.callbacks=n,this.loadInternal()}loadInternal(){const{config:e,context:r}=this;if(!e)return;const n=this.loader=new self.XMLHttpRequest,i=this.stats;i.loading.first=0,i.loaded=0;const a=this.xhrSetup;a?Promise.resolve().then(()=>{if(!this.stats.aborted)return a(n,r.url)}).catch(s=>(n.open("GET",r.url,!0),a(n,r.url))).then(()=>{this.stats.aborted||this.openAndSendXhr(n,r,e)}).catch(s=>{this.callbacks.onError({code:n.status,text:s.message},r,n,i)}):this.openAndSendXhr(n,r,e)}openAndSendXhr(e,r,n){e.readyState||e.open("GET",r.url,!0);const i=this.context.headers,{maxTimeToFirstByteMs:a,maxLoadTimeMs:s}=n.loadPolicy;if(i)for(const o in i)e.setRequestHeader(o,i[o]);r.rangeEnd&&e.setRequestHeader("Range","bytes="+r.rangeStart+"-"+(r.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=r.responseType,self.clearTimeout(this.requestTimeout),n.timeout=a&&pe(a)?a:s,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),n.timeout),e.send()}readystatechange(){const{context:e,loader:r,stats:n}=this;if(!e||!r)return;const i=r.readyState,a=this.config;if(!n.aborted&&i>=2&&(n.loading.first===0&&(n.loading.first=Math.max(self.performance.now(),n.loading.start),a.timeout!==a.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),a.timeout=a.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),a.loadPolicy.maxLoadTimeMs-(n.loading.first-n.loading.start)))),i===4)){self.clearTimeout(this.requestTimeout),r.onreadystatechange=null,r.onprogress=null;const s=r.status,o=r.responseType!=="text";if(s>=200&&s<300&&(o&&r.response||r.responseText!==null)){n.loading.end=Math.max(self.performance.now(),n.loading.first);const c=o?r.response:r.responseText,l=r.responseType==="arraybuffer"?c.byteLength:c.length;if(n.loaded=n.total=l,n.bwEstimate=n.total*8e3/(n.loading.end-n.loading.first),!this.callbacks)return;const u=this.callbacks.onProgress;if(u&&u(n,e,c,r),!this.callbacks)return;const f={url:r.responseURL,data:c,code:s};this.callbacks.onSuccess(f,n,e,r)}else{const c=a.loadPolicy.errorRetry,l=n.retry;k1(c,l,!1,s)?this.retry(c):(z.error(`${s} while loading ${e.url}`),this.callbacks.onError({code:s,text:r.statusText},e,r,n))}}}loadtimeout(){var e;const r=(e=this.config)==null?void 0:e.loadPolicy.timeoutRetry,n=this.stats.retry;if(k1(r,n,!0))this.retry(r);else{z.warn(`timeout while loading ${this.context.url}`);const i=this.callbacks;i&&(this.abortInternal(),i.onTimeout(this.stats,this.context,this.loader))}}retry(e){const{context:r,stats:n}=this;this.retryDelay=AO(e,n.retry),n.retry++,z.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${r.url}, retrying ${n.retry}/${e.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(e){const r=this.stats;r.loaded=e.loaded,e.lengthComputable&&(r.total=e.total)}getCacheAge(){let e=null;if(this.loader&&nVe.test(this.loader.getAllResponseHeaders())){const r=this.loader.getResponseHeader("age");e=r?parseFloat(r):null}return e}getResponseHeader(e){return this.loader&&new RegExp(`^${e}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(e):null}}function iVe(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}const aVe=/(\d+)-(\d+)\/(\d+)/;class xB{constructor(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||cVe,this.controller=new self.AbortController,this.stats=new x_}destroy(){this.loader=this.callbacks=null,this.abortInternal()}abortInternal(){const e=this.response;e!=null&&e.ok||(this.stats.aborted=!0,this.controller.abort())}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(e,r,n){const i=this.stats;if(i.loading.start)throw new Error("Loader can only be used once.");i.loading.start=self.performance.now();const a=sVe(e,this.controller.signal),s=n.onProgress,o=e.responseType==="arraybuffer",c=o?"byteLength":"length",{maxTimeToFirstByteMs:l,maxLoadTimeMs:u}=r.loadPolicy;this.context=e,this.config=r,this.callbacks=n,this.request=this.fetchSetup(e,a),self.clearTimeout(this.requestTimeout),r.timeout=l&&pe(l)?l:u,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),n.onTimeout(i,e,this.response)},r.timeout),self.fetch(this.request).then(f=>{this.response=this.loader=f;const d=Math.max(self.performance.now(),i.loading.start);if(self.clearTimeout(this.requestTimeout),r.timeout=u,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),n.onTimeout(i,e,this.response)},u-(d-i.loading.start)),!f.ok){const{status:h,statusText:p}=f;throw new uVe(p||"fetch, bad network response",h,f)}return i.loading.first=d,i.total=lVe(f.headers)||i.total,s&&pe(r.highWaterMark)?this.loadProgressively(f,i,e,r.highWaterMark,s):o?f.arrayBuffer():e.responseType==="json"?f.json():f.text()}).then(f=>{const{response:d}=this;self.clearTimeout(this.requestTimeout),i.loading.end=Math.max(self.performance.now(),i.loading.first);const h=f[c];h&&(i.loaded=i.total=h);const p={url:d.url,data:f,code:d.status};s&&!pe(r.highWaterMark)&&s(i,e,f,d),n.onSuccess(p,i,e,d)}).catch(f=>{if(self.clearTimeout(this.requestTimeout),i.aborted)return;const d=f&&f.code||0,h=f?f.message:null;n.onError({code:d,text:h},e,f?f.details:null,i)})}getCacheAge(){let e=null;if(this.response){const r=this.response.headers.get("age");e=r?parseFloat(r):null}return e}getResponseHeader(e){return this.response?this.response.headers.get(e):null}loadProgressively(e,r,n,i=0,a){const s=new jQ,o=e.body.getReader(),c=()=>o.read().then(l=>{if(l.done)return s.dataLength&&a(r,n,s.flush(),e),Promise.resolve(new ArrayBuffer(0));const u=l.value,f=u.length;return r.loaded+=f,f<i||s.dataLength?(s.push(u),s.dataLength>=i&&a(r,n,s.flush(),e)):a(r,n,u,e),c()}).catch(()=>Promise.reject());return c()}}function sVe(t,e){const r={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(Pt({},t.headers))};return t.rangeEnd&&r.headers.set("Range","bytes="+t.rangeStart+"-"+String(t.rangeEnd-1)),r}function oVe(t){const e=aVe.exec(t);if(e)return parseInt(e[2])-parseInt(e[1])+1}function lVe(t){const e=t.get("Content-Range");if(e){const n=oVe(e);if(pe(n))return n}const r=t.get("Content-Length");if(r)return parseInt(r)}function cVe(t,e){return new self.Request(t.url,e)}class uVe extends Error{constructor(e,r,n){super(e),this.code=void 0,this.details=void 0,this.code=r,this.details=n}}const fVe=/\s/,dVe={newCue(t,e,r,n){const i=[];let a,s,o,c,l;const u=self.VTTCue||self.TextTrackCue;for(let d=0;d<n.rows.length;d++)if(a=n.rows[d],o=!0,c=0,l="",!a.isEmpty()){var f;for(let m=0;m<a.chars.length;m++)fVe.test(a.chars[m].uchar)&&o?c++:(l+=a.chars[m].uchar,o=!1);a.cueStartTime=e,e===r&&(r+=1e-4),c>=16?c--:c++;const h=KQ(l.trim()),p=FO(e,r,h);t!=null&&(f=t.cues)!=null&&f.getCueById(p)||(s=new u(e,r,h),s.id=p,s.line=d+1,s.align="left",s.position=10+Math.min(80,Math.floor(c*8/32)*10),i.push(s))}return t&&i.length&&(i.sort((d,h)=>d.line==="auto"||h.line==="auto"?0:d.line>8&&h.line>8?h.line-d.line:d.line-h.line),i.forEach(d=>EQ(t,d))),i}},hVe={maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null},pVe=an(an({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:60*1e3*1e3,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:ZQ,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:yze,bufferController:Aze,capLevelController:BO,errorController:uGe,fpsController:Zze,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:oQ,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,certLoadPolicy:{default:hVe},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},gVe()),{},{subtitleStreamController:Sze,subtitleTrackController:wze,timelineController:qze,audioStreamController:Eze,audioTrackController:_ze,emeController:Vu,cmcdController:Bs,contentSteeringController:rVe});function gVe(){return{cueHandler:dVe,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function mVe(t,e){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(e.liveMaxLatencyDurationCount!==void 0&&(e.liveSyncDurationCount===void 0||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(e.liveMaxLatencyDuration!==void 0&&(e.liveSyncDuration===void 0||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const r=YA(t),n=["manifest","level","frag"],i=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return n.forEach(a=>{const s=`${a==="level"?"playlist":a}LoadPolicy`,o=e[s]===void 0,c=[];i.forEach(l=>{const u=`${a}Loading${l}`,f=e[u];if(f!==void 0&&o){c.push(u);const d=r[s].default;switch(e[s]={default:d},l){case"TimeOut":d.maxLoadTimeMs=f,d.maxTimeToFirstByteMs=f;break;case"MaxRetry":d.errorRetry.maxNumRetry=f,d.timeoutRetry.maxNumRetry=f;break;case"RetryDelay":d.errorRetry.retryDelayMs=f,d.timeoutRetry.retryDelayMs=f;break;case"MaxRetryTimeout":d.errorRetry.maxRetryDelayMs=f,d.timeoutRetry.maxRetryDelayMs=f;break}}}),c.length&&z.warn(`hls.js config: "${c.join('", "')}" setting(s) are deprecated, use "${s}": ${JSON.stringify(e[s])}`)}),an(an({},r),e)}function YA(t){return t&&typeof t=="object"?Array.isArray(t)?t.map(YA):Object.keys(t).reduce((e,r)=>(e[r]=YA(t[r]),e),{}):t}function vVe(t){const e=t.loader;e!==xB&&e!==ZQ?(z.log("[config]: Custom loader detected, cannot enable progressive streaming"),t.progressive=!1):iVe()&&(t.loader=xB,t.progressive=!0,t.enableSoftwareAES=!0,z.log("[config]: Progressive streaming enabled, using FetchLoader"))}class qa{static get version(){return"1.4.0"}static isSupported(){return $Ge()}static get Events(){return $}static get ErrorTypes(){return me}static get ErrorDetails(){return q}static get DefaultConfig(){return qa.defaultConfig?qa.defaultConfig:pVe}static set DefaultConfig(e){qa.defaultConfig=e}constructor(e={}){this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new J0,this._autoLevelCapping=void 0,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,tHe(e.debug||!1,"Hls instance");const r=this.config=mVe(qa.DefaultConfig,e);this.userConfig=e,this._autoLevelCapping=-1,r.progressive&&vVe(r);const{abrController:n,bufferController:i,capLevelController:a,errorController:s,fpsController:o}=r,c=new s(this),l=this.abrController=new n(this),u=this.bufferController=new i(this),f=this.capLevelController=new a(this),d=new o(this),h=new VHe(this),p=new XHe(this),m=r.contentSteeringController,g=m?new m(this):null,v=this.levelController=new dGe(this,g),y=new hGe(this),x=new gGe(this.config),E=this.streamController=new mze(this,y,x);f.setStreamController(E),d.setStreamController(E);const S=[h,v,E];g&&S.splice(1,0,g),this.networkControllers=S;const b=[l,u,f,d,p,y];this.audioTrackController=this.createController(r.audioTrackController,S);const T=r.audioStreamController;T&&S.push(new T(this,y,x)),this.subtitleTrackController=this.createController(r.subtitleTrackController,S);const R=r.subtitleStreamController;R&&S.push(new R(this,y,x)),this.createController(r.timelineController,b),x.emeController=this.emeController=this.createController(r.emeController,b),this.cmcdController=this.createController(r.cmcdController,b),this.latencyController=this.createController(QHe,b),this.coreComponents=b,S.push(c);const I=c.onErrorOut;typeof I=="function"&&this.on($.ERROR,I,c)}createController(e,r){if(e){const n=new e(this);return r&&r.push(n),n}return null}on(e,r,n=this){this._emitter.on(e,r,n)}once(e,r,n=this){this._emitter.once(e,r,n)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,r,n=this,i){this._emitter.off(e,r,n,i)}listeners(e){return this._emitter.listeners(e)}emit(e,r,n){return this._emitter.emit(e,r,n)}trigger(e,r){if(this.config.debug)return this.emit(e,e,r);try{return this.emit(e,e,r)}catch(n){z.error("An internal error happened while handling event "+e+'. Error message: "'+n.message+'". Here is a stacktrace:',n),this.trigger($.ERROR,{type:me.OTHER_ERROR,details:q.INTERNAL_EXCEPTION,fatal:!1,event:e,error:n})}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){z.log("destroy"),this.trigger($.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(r=>r.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(r=>r.destroy()),this.coreComponents.length=0;const e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){z.log("attachMedia"),this._media=e,this.trigger($.MEDIA_ATTACHING,{media:e})}detachMedia(){z.log("detachMedia"),this.trigger($.MEDIA_DETACHING,void 0),this._media=null}loadSource(e){this.stopLoad();const r=this.media,n=this.url,i=this.url=q0.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});z.log(`loadSource:${i}`),r&&n&&n!==i&&this.bufferController.hasSourceTypes()&&(this.detachMedia(),this.attachMedia(r)),this.trigger($.MANIFEST_LOADING,{url:e})}startLoad(e=-1){z.log(`startLoad(${e})`),this.networkControllers.forEach(r=>{r.startLoad(e)})}stopLoad(){z.log("stopLoad"),this.networkControllers.forEach(e=>{e.stopLoad()})}swapAudioCodec(){z.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){z.log("recoverMediaError");const e=this._media;this.detachMedia(),e&&this.attachMedia(e)}removeLevel(e,r=0){this.levelController.removeLevel(e,r)}get levels(){const e=this.levelController.levels;return e||[]}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){z.log(`set currentLevel:${e}`),this.loadLevel=e,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){z.log(`set nextLevel:${e}`),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){z.log(`set loadLevel:${e}`),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){z.log(`set firstLevel:${e}`),this.levelController.firstLevel=e}get startLevel(){return this.levelController.startLevel}set startLevel(e){z.log(`set startLevel:${e}`),e!==-1&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){const r=!!e;r!==this.config.capLevelToPlayerSize&&(r?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=r)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}get ttfbEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&(z.log(`set autoLevelCapping:${e}`),this._autoLevelCapping=e)}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){GA.indexOf(e)>-1&&(this._maxHdcpLevel=e)}get autoLevelEnabled(){return this.levelController.manualLevel===-1}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:e,config:{minAutoBitrate:r}}=this;if(!e)return 0;const n=e.length;for(let i=0;i<n;i++)if(e[i].maxBitrate>=r)return i;return 0}get maxAutoLevel(){const{levels:e,autoLevelCapping:r,maxHdcpLevel:n}=this;let i;if(r===-1&&e&&e.length?i=e.length-1:i=r,n)for(let a=i;a--;){const s=e[a].attrs["HDCP-LEVEL"];if(s&&s<=n)return a}return i}get nextAutoLevel(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)}set nextAutoLevel(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}get audioTracks(){const e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){const e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){const r=this.audioTrackController;r&&(r.audioTrack=e)}get subtitleTracks(){const e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){const e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){const r=this.subtitleTrackController;r&&(r.subtitleTrack=e)}get subtitleDisplay(){const e=this.subtitleTrackController;return e?e.subtitleDisplay:!1}set subtitleDisplay(e){const r=this.subtitleTrackController;r&&(r.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}}qa.defaultConfig=void 0;function yVe(t){switch(t.code){case MediaError.MEDIA_ERR_ABORTED:return{code:"ABORTED",description:"Video was aborted"};case MediaError.MEDIA_ERR_NETWORK:return{code:"NETWORK_ERROR",description:"A network error occured, the video failed to stream"};case MediaError.MEDIA_ERR_DECODE:return{code:"DECODE_ERROR",description:"Video stream could not be decoded"};case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:return{code:"SRC_NOT_SUPPORTED",description:"The video type is not supported by your browser"};default:return{code:"UNKNOWN_ERROR",description:"Unknown media error occured"}}}function xVe(t,e){const r=e,n=xr(t);return{getId(){return"video"},play(){r.play()},pause(){r.pause()},exitFullscreen(){yn.fullscreenElement&&yn.exitFullscreen()},enterFullscreen(){if(!(!cO()||yn.fullscreenElement)){if(l_()){n.wrapperElement&&yn.requestFullscreen(n.wrapperElement);return}lO()&&r.webkitEnterFullscreen()}},startAirplay(){const i=r;i.webkitShowPlaybackTargetPicker&&i.webkitShowPlaybackTargetPicker()},setTime(i){let a=Math.min(i,r.duration);a=Math.max(0,a),!Number.isNaN(a)&&(r.currentTime=a,n.progress.time=a,Ka(t,n))},setSeeking(i){if(n.mediaPlaying.isSeeking=i,n.mediaPlaying.isDragSeeking=i,Zt(t,n),!i){n.pausedWhenSeeking||this.play();return}n.pausedWhenSeeking=n.mediaPlaying.isPaused,this.pause()},async setVolume(i){let a=Math.min(i,1);a=Math.max(0,a),await U0()&&(r.volume=a),n.mediaPlaying.volume=a,Zt(t,n),eQ(a)},setSource(i){if(!i){A1(t,n),r.removeAttribute("src"),r.load(),n.source=null,eo(t,n);return}if(A1(t,n),(i==null?void 0:i.type)===nn.HLS)if(r.canPlayType("application/vnd.apple.mpegurl"))r.src=i.source;else{if(!qa.isSupported()){n.error={name:"Not supported",description:"Your browser does not support HLS video"},jT(t,n);return}const a=new qa({enableWorker:!1});n.hlsInstance=a,a.on(qa.Events.ERROR,(s,o)=>{var c;o.fatal&&(n.error={name:`error ${o.details}`,description:((c=o.error)==null?void 0:c.message)??"Something went wrong"},jT(t,n)),console.error("HLS error",o)}),a.attachMedia(r),a.loadSource(i.source)}else i.type===nn.MP4&&(r.src=i.source);n.source={quality:i.quality,type:i.type,url:i.source,caption:null,embedId:i.embedId,providerId:i.providerId},eo(t,n)},setCaption(i,a){var s;n.source&&(y1((s=n.source.caption)==null?void 0:s.url),n.source.caption={id:i,url:a},eo(t,n))},clearCaption(){var i;n.source&&(y1((i=n.source.caption)==null?void 0:i.url),n.source.caption=null,eo(t,n))},togglePictureInPicture(){if(Yq()){const i=r;i.webkitSetPresentationMode(i.webkitPresentationMode==="picture-in-picture"?"inline":"picture-in-picture")}Kq()&&(r!==document.pictureInPictureElement?r.requestPictureInPicture():document.exitPictureInPicture())},setPlaybackSpeed(i){r.playbackRate=i,n.mediaPlaying.playbackSpeed=i,Zt(t,n)},providerStart(){var x,E,S;this.setVolume(JX());const i=()=>{n.mediaPlaying.isPaused=!0,n.mediaPlaying.isPlaying=!1,Zt(t,n)},a=()=>{n.mediaPlaying.isPaused=!1,n.mediaPlaying.isPlaying=!0,n.mediaPlaying.isLoading=!1,n.mediaPlaying.hasPlayedOnce=!0,Zt(t,n)},s=()=>{n.mediaPlaying.isLoading=!0,Zt(t,n)},o=()=>{n.mediaPlaying.isSeeking=!0,Zt(t,n)},c=()=>{n.mediaPlaying.isSeeking=!1,Zt(t,n)},l=()=>{n.progress.duration=r.duration,Ka(t,n)},u=()=>{n.progress.duration=r.duration,n.progress.time=r.currentTime,Ka(t,n)},f=()=>{n.progress.buffered=zje(r.currentTime,r.buffered),Ka(t,n)},d=()=>{n.mediaPlaying.isFirstLoading=!1,n.mediaPlaying.isLoading=!1,Zt(t,n)},h=()=>{n.mediaPlaying.playbackSpeed=r.playbackRate,Zt(t,n)},p=()=>{n.interface.isFullscreen=!!document.fullscreenElement||!!document.webkitFullscreenElement,gn(t,n)},m=async()=>{await U0()&&(n.mediaPlaying.volume=r.volume,Zt(t,n))},g=b=>{n.interface.isFocused=b.type!=="mouseleave",gn(t,n)},v=b=>{b.availability==="available"&&(n.canAirplay=!0,id(t,n))},y=()=>{if(r.error){const b=yVe(r.error);console.error("Native video player threw error",r.error),n.error={description:b.description,name:`Error ${b.code}`},this.pause()}else n.error=null;jT(t,n)};return(x=n.wrapperElement)==null||x.addEventListener("click",g),(E=n.wrapperElement)==null||E.addEventListener("mouseenter",g),(S=n.wrapperElement)==null||S.addEventListener("mouseleave",g),r.addEventListener("volumechange",m),r.addEventListener("pause",i),r.addEventListener("playing",a),r.addEventListener("seeking",o),r.addEventListener("seeked",c),r.addEventListener("progress",f),r.addEventListener("waiting",s),r.addEventListener("timeupdate",u),r.addEventListener("loadedmetadata",l),r.addEventListener("canplay",d),r.addEventListener("ratechange",h),yn.addEventListener("fullscreenchange",p),r.addEventListener("error",y),r.addEventListener("webkitplaybacktargetavailabilitychanged",v),n.source&&this.setSource({quality:n.source.quality,source:n.source.url,type:n.source.type,embedId:n.source.embedId,providerId:n.source.providerId}),{destroy:()=>{var b,T,R;r.removeEventListener("pause",i),r.removeEventListener("playing",a),r.removeEventListener("seeking",o),r.removeEventListener("volumechange",m),r.removeEventListener("seeked",c),r.removeEventListener("timeupdate",u),r.removeEventListener("loadedmetadata",l),r.removeEventListener("progress",f),r.removeEventListener("waiting",s),r.removeEventListener("error",y),r.removeEventListener("canplay",d),yn.removeEventListener("fullscreenchange",p),(b=n.wrapperElement)==null||b.removeEventListener("click",g),(T=n.wrapperElement)==null||T.removeEventListener("mouseenter",g),(R=n.wrapperElement)==null||R.removeEventListener("mouseleave",g),r.removeEventListener("webkitplaybacktargetavailabilitychanged",v)}}}}}function EVe(t){const e=we(),r=$n(e),n=ys(e),i=A.useRef(null),a=A.useMemo(()=>!!n.wrapperInitialized,[n]),s=A.useMemo(()=>n.stateProviderId,[n]);return A.useEffect(()=>{if(!a||!i.current)return;const o=xVe(e,i.current);tQ(e,o);const{destroy:c}=o.providerStart();return()=>{try{rQ(e,o.getId())}catch{}c()}},[e,a,s]),_("video",{ref:i,autoPlay:t.autoPlay,muted:r.volume===0,playsInline:!0,className:"z-0 h-full w-full"})}function _Ve(t){const e=we();return ys(e).stateProviderId!=="video"?null:_(EVe,{...t})}function bVe(t){const e=A.useRef(null),r=we(),n=Di(r),i=ci(r),a=typeof t.children=="function"?t.children({isFullscreen:n.isFullscreen}):t.children;return _(Kje,{onGoBack:t.onGoBack,media:i==null?void 0:i.meta.meta,children:Y("div",{ref:e,className:["is-video-player popout-location relative h-full w-full select-none overflow-hidden bg-black",t.includeSafeArea||n.isFullscreen?"[border-left:env(safe-area-inset-left)_solid_transparent] [border-right:env(safe-area-inset-right)_solid_transparent]":""].join(" "),children:[_(Yje,{}),_(_Ve,{autoPlay:t.autoPlay}),_(Vje,{}),_(Wje,{wrapper:e.current}),_("div",{className:"absolute inset-0",children:a})]})})}function SVe(t){return _(H6e,{children:_(bVe,{...t})})}function JQ({text:t,scale:e}){const{captionSettings:r}=td(),n=(t||"").replaceAll(/\r?\n/g,"<br />"),i=wBe(n,{ALLOWED_TAGS:["c","b","i","u","span","ruby","rt","br"],ADD_TAGS:["v","lang"],ALLOWED_ATTR:["title","lang"]});return _("p",{className:"pointer-events-none mb-1 select-none rounded px-4 py-1 text-center [text-shadow:0_2px_4px_rgba(0,0,0,0.5)]",style:{...r.style,fontSize:r.style.fontSize*(e??1)},children:_("span",{dangerouslySetInnerHTML:{__html:i},dir:"auto"})})}function TVe({isControlsShown:t}){var u,f;const e=we(),r=hg(e).source,n=Wo(e).time,{captionSettings:i,setCaptionDelay:a}=td(),s=A.useRef([]),o=A.useRef(a);A.useEffect(()=>{o.current=a},[a]),IMe(async()=>{var h;const d=(h=r==null?void 0:r.caption)==null?void 0:h.url;if(d){const m=await(await fetch(d)).text();try{s.current=kq(m)}catch{s.current=[]}a(0)}else s.current=[]},[(u=r==null?void 0:r.caption)==null?void 0:u.url]),A.useEffect(()=>{o.current(0)},[(f=r==null?void 0:r.caption)==null?void 0:f.url]);const c=A.useCallback((d,h,p,m)=>{const g=d/1e3+p,v=h/1e3+p;return Math.max(0,g)<=m&&Math.max(0,v)>=m},[]);if(!s.current.length)return null;const l=s.current.filter(({start:d,end:h})=>c(d,h,i.delay,n));return _(Ii,{className:["pointer-events-none absolute flex w-full flex-col items-center transition-[bottom]",t?"bottom-24":"bottom-12"].join(" "),animation:"slide-up",show:!0,children:l.map(({start:d,end:h,content:p})=>_(JQ,{text:p},`${d}-${h}`))})}function wVe(){const t=we(),e=ci(t);return(e==null?void 0:e.meta.meta.type)!==ve.SERIES?null:_("div",{className:"mx-2 h-6 w-px bg-white opacity-50"})}function EB(t){const{t:e}=Ce(),r=we(),n=at(r),i=Di(r),{isMobile:a}=Ta(!1);return _("div",{className:t.className,children:_("div",{className:"relative",children:_(rX,{id:"settings",children:_(Es,{active:i.popout==="settings",className:t.className,onClick:()=>n.openPopout("settings"),text:a?e("videoPlayer.buttons.settings"):void 0,icon:ce.GEAR})})})})}function RVe(){const t=we(),e=Di(t),r=$n(t);return Y("div",{className:[e.volumeChangedWithKeybind?"mt-10 scale-100 opacity-100":"mt-5 scale-75 opacity-0","absolute left-1/2 z-[100] flex -translate-x-1/2 items-center space-x-4 rounded-full bg-bink-300 bg-opacity-50 px-5 py-2 transition-all duration-100"].join(" "),children:[_(Ge,{icon:r.volume>0?ce.VOLUME:ce.VOLUME_X,className:"text-xl text-white"}),_("div",{className:"h-2 w-44 overflow-hidden rounded-full bg-denim-100",children:_("div",{className:"h-full rounded-r-full bg-bink-500 transition-[width] duration-100",style:{width:`${r.volume*100}%`}})})]})}function Ew(t){return _("div",{className:"absolute inset-0 flex items-center justify-center",children:t.children})}function AVe(){const t=we(),e=at(t),r=A.useCallback(()=>{e.setLeftControlsHover(!0)},[e]),n=A.useCallback(()=>{e.setLeftControlsHover(!1)},[e]);return Y(vr,{children:[Y("div",{className:"flex items-center px-2",onMouseLeave:n,onMouseEnter:r,children:[_(Qq,{}),_(zUe,{}),_(QUe,{className:"mr-2"}),_(nX,{})]}),_(qUe,{})]})}function IVe(t){const[e,r]=A.useState(!1),{isMobile:n}=Ta(),i=A.useCallback(a=>{r(a)},[r]);return _(SVe,{autoPlay:t.autoPlay,includeSafeArea:t.includeSafeArea,onGoBack:t.onGoBack,children:({isFullscreen:a})=>Y(vr,{children:[_(jUe,{}),_(WUe,{}),_(RVe,{}),Y(JUe,{onGoBack:t.onGoBack,children:[Y(DUe,{onBackdropChange:i,children:[_(Ew,{children:_(HUe,{})}),_(Ew,{children:_(MUe,{})}),_(Ew,{children:_(GUe,{})}),n?_(Ii,{animation:"fade",show:e,className:"absolute inset-0 flex items-center justify-center",children:_(VUe,{})}):"",_(Ii,{animation:"slide-down",show:e,className:"pointer-events-auto absolute inset-x-0 top-0 flex flex-col px-8 py-6 pb-2",children:_(UUe,{showControls:n,onClick:t.onGoBack,isFullScreen:!0})}),Y(Ii,{animation:"slide-up",show:e,className:["pointer-events-auto absolute inset-x-0 bottom-0 flex flex-col px-4 pb-2",t.includeSafeArea||a?"[margin-bottom:env(safe-area-inset-bottom)]":""].join(" "),children:[Y("div",{className:"flex w-full items-center space-x-3",children:[n&&_(nX,{noDuration:!0}),_(YUe,{})]}),_("div",{className:"flex items-center",children:n?Y("div",{className:"grid w-full grid-cols-[56px,1fr,56px] items-center",children:[_("div",{}),Y("div",{className:"flex items-center justify-center",children:[_(G6,{}),_(H6,{}),_(EB,{})]}),_(j6,{})]}):Y(vr,{children:[_(AVe,{}),_("div",{className:"flex-1"}),_(G6,{}),_(wVe,{}),_(EB,{}),_(Pq,{}),_(Lq,{}),_(H6,{}),_(j6,{})]})})]}),e?_(Mje,{}):null]}),_(TVe,{isControlsShown:e}),t.children]})]})})}function $Ve(){const{t}=Ce(),e=r_();return Y("div",{className:"flex-1",children:[_(pa,{children:_("title",{children:t("media.errors.failedMeta")})}),_("div",{className:"fixed inset-x-0 top-0 px-8 py-6",children:_(yc,{onClick:e})}),_(Hk,{children:_("p",{className:"my-6 max-w-lg",children:t("media.errors.mediaFailed")})})]})}function _B(){return _("div",{className:"h-9 w-[220px] rounded-full bg-slate-800 opacity-50"})}function CVe({event:t}){return Y("div",{className:"flex h-9 w-[220px] items-center rounded-full bg-slate-800 p-3 text-denim-700",children:[_("div",{className:"mr-2 flex w-[18px] items-center justify-center",children:t.errored?_(Ge,{icon:ce.X,className:"text-[0.85em] text-rose-400"}):_(zX,{className:"h-[18px] w-[18px] text-bink-700",percentage:t.percentage,radius:40})}),_("div",{className:"flex-1 overflow-hidden",children:_("p",{className:`overflow-hidden text-ellipsis whitespace-nowrap ${t.errored?"text-rose-400":""}`,children:t.id})})]})}function kVe(t){return Y("div",{className:"relative h-16 w-[400px] overflow-hidden",children:[_("div",{className:"absolute inset-0 flex items-center justify-center",children:_("div",{className:"relative flex h-full w-[220px] items-center",children:Y("div",{className:"absolute inset-y-0 left-0 flex items-center gap-[16px] transition-transform duration-200",style:{transform:`translateX(${-1*(220+16)*t.events.length}px)`},children:[_(_B,{}),t.events.map(e=>_(CVe,{event:e},e.eventId)),_(_B,{})]})})}),_("div",{className:"absolute inset-y-0 left-0 w-40 bg-gradient-to-r from-denim-100 to-transparent"}),_("div",{className:"absolute inset-y-0 right-0 w-40 bg-gradient-to-l from-denim-100 to-transparent"})]})}function bB(t){return _("div",{className:"relative my-4 max-w-[18rem]",children:_(Dm,{value:t.selectedItem,onChange:t.setSelectedItem,children:({open:e})=>Y(vr,{children:[Y(Dm.Button,{className:"relative w-full cursor-default rounded-lg bg-denim-500 py-2 pl-3 pr-10 text-left text-white shadow-md focus:outline-none focus-visible:border-indigo-500 focus-visible:ring-2 focus-visible:ring-bink-500  focus-visible:ring-opacity-75 focus-visible:ring-offset-2 focus-visible:ring-offset-bink-300 sm:text-sm",children:[_("span",{className:"block truncate",children:t.selectedItem.name}),_("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:_(Ge,{icon:ce.CHEVRON_DOWN,className:`transform transition-transform ${e?"rotate-180":""}`})})]}),_(SA,{as:A.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:_(Dm.Options,{className:"absolute left-0 right-0 top-10 z-10 mt-1 max-h-60 overflow-auto rounded-md bg-denim-500 py-1 text-white shadow-lg ring-1 ring-black ring-opacity-5 scrollbar-thin scrollbar-track-denim-400 scrollbar-thumb-denim-200 focus:outline-none sm:top-10 sm:text-sm",children:t.options.map(r=>_(Dm.Option,{className:({active:n})=>`relative cursor-default select-none py-2 pl-10 pr-4 ${n?"bg-denim-400 text-bink-700":"text-white"}`,value:r,children:r.name},r.id))})})]})})})}function OVe(t){return Y(vr,{children:[_(pa,{children:_("body",{"data-no-scroll":!0})}),Y("div",{className:"fixed inset-0 z-[99999]",children:[_(Ii,{animation:"fade",className:"absolute inset-0 bg-[rgba(8,6,18,0.85)]",isChild:!0}),t.children]})]})}function LVe(t){return _(Ii,{className:"fixed inset-0 z-[9999]",animation:"none",show:t.show,children:_(OVe,{children:_(Ii,{isChild:!0,className:"flex h-full w-full items-center justify-center",animation:"slide-up",children:t.children})})})}function eZ(t){return Vl.createPortal(_(LVe,{show:t.show,children:t.children}),document.body)}function tZ(t){return _("div",{className:["relative mx-2 w-[500px] overflow-hidden rounded-lg bg-denim-300 px-10 py-10 sm:w-[500px] md:w-[500px] lg:w-[1000px]",t.className??""].join(" "),children:t.children})}function po(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function __(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o1(t,e)}function pg(t,e){if(e&&(zt(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return po(t)}function ma(t){return ma=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ma(t)}function PVe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NVe(t){return FY(t)||PVe(t)||BY(t)||UY()}function SB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function TB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SB(Object(r),!0).forEach(function(n){li(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var DVe={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,r){console&&console[e]&&console[e].apply(console,r)}},MVe=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Pi(this,t),this.init(e,r)}return Ni(t,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=r||DVe,this.options=n,this.debug=n.debug}},{key:"setDebug",value:function(r){this.debug=r}},{key:"log",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"log","",!0)}},{key:"warn",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"warn","",!0)}},{key:"error",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"error","")}},{key:"deprecate",value:function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(r,n,i,a){return a&&!this.debug?null:(typeof r[0]=="string"&&(r[0]="".concat(i).concat(this.prefix," ").concat(r[0])),this.logger[n](r))}},{key:"create",value:function(r){return new t(this.logger,TB(TB({},{prefix:"".concat(this.prefix,":").concat(r,":")}),this.options))}},{key:"clone",value:function(r){return r=r||this.options,r.prefix=r.prefix||this.prefix,new t(this.logger,r)}}]),t}(),aa=new MVe,Oo=function(){function t(){Pi(this,t),this.observers={}}return Ni(t,[{key:"on",value:function(r,n){var i=this;return r.split(" ").forEach(function(a){i.observers[a]=i.observers[a]||[],i.observers[a].push(n)}),this}},{key:"off",value:function(r,n){if(this.observers[r]){if(!n){delete this.observers[r];return}this.observers[r]=this.observers[r].filter(function(i){return i!==n})}}},{key:"emit",value:function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];if(this.observers[r]){var s=[].concat(this.observers[r]);s.forEach(function(c){c.apply(void 0,i)})}if(this.observers["*"]){var o=[].concat(this.observers["*"]);o.forEach(function(c){c.apply(c,[r].concat(i))})}}}]),t}();function ah(){var t,e,r=new Promise(function(n,i){t=n,e=i});return r.resolve=t,r.reject=e,r}function wB(t){return t==null?"":""+t}function FVe(t,e,r){t.forEach(function(n){e[n]&&(r[n]=e[n])})}function UO(t,e,r){function n(o){return o&&o.indexOf("###")>-1?o.replace(/###/g,"."):o}function i(){return!t||typeof t=="string"}for(var a=typeof e!="string"?[].concat(e):e.split(".");a.length>1;){if(i())return{};var s=n(a.shift());!t[s]&&r&&(t[s]=new r),Object.prototype.hasOwnProperty.call(t,s)?t=t[s]:t={}}return i()?{}:{obj:t,k:n(a.shift())}}function RB(t,e,r){var n=UO(t,e,Object),i=n.obj,a=n.k;i[a]=r}function BVe(t,e,r,n){var i=UO(t,e,Object),a=i.obj,s=i.k;a[s]=a[s]||[],n&&(a[s]=a[s].concat(r)),n||a[s].push(r)}function P1(t,e){var r=UO(t,e),n=r.obj,i=r.k;if(n)return n[i]}function UVe(t,e,r){var n=P1(t,r);return n!==void 0?n:P1(e,r)}function rZ(t,e,r){for(var n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?typeof t[n]=="string"||t[n]instanceof String||typeof e[n]=="string"||e[n]instanceof String?r&&(t[n]=e[n]):rZ(t[n],e[n],r):t[n]=e[n]);return t}function Kc(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var jVe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function HVe(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,function(e){return jVe[e]}):t}var b_=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,GVe=[" ",",","?","!",";"];function zVe(t,e,r){e=e||"",r=r||"";var n=GVe.filter(function(o){return e.indexOf(o)<0&&r.indexOf(o)<0});if(n.length===0)return!0;var i=new RegExp("(".concat(n.map(function(o){return o==="?"?"\\?":o}).join("|"),")")),a=!i.test(t);if(!a){var s=t.indexOf(r);s>0&&!i.test(t.substring(0,s))&&(a=!0)}return a}function N1(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(t){if(t[e])return t[e];for(var n=e.split(r),i=t,a=0;a<n.length;++a){if(!i||typeof i[n[a]]=="string"&&a+1<n.length)return;if(i[n[a]]===void 0){for(var s=2,o=n.slice(a,a+s).join(r),c=i[o];c===void 0&&n.length>a+s;)s++,o=n.slice(a,a+s).join(r),c=i[o];if(c===void 0)return;if(c===null)return null;if(e.endsWith(o)){if(typeof c=="string")return c;if(o&&typeof c[o]=="string")return c[o]}var l=n.slice(a+s).join(r);return l?N1(c,l,r):void 0}i=i[n[a]]}return i}}function AB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AB(Object(r),!0).forEach(function(n){li(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VVe(t){var e=WVe();return function(){var n=ma(t),i;if(e){var a=ma(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return pg(this,i)}}function WVe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var KVe=function(t){__(r,t);var e=VVe(r);function r(n){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return Pi(this,r),i=e.call(this),b_&&Oo.call(po(i)),i.data=n||{},i.options=a,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.options.ignoreJSONStructure===void 0&&(i.options.ignoreJSONStructure=!0),i}return Ni(r,[{key:"addNamespaces",value:function(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}},{key:"removeNamespaces",value:function(i){var a=this.options.ns.indexOf(i);a>-1&&this.options.ns.splice(a,1)}},{key:"getResource",value:function(i,a,s){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},c=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,l=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure,u=[i,a];s&&typeof s!="string"&&(u=u.concat(s)),s&&typeof s=="string"&&(u=u.concat(c?s.split(c):s)),i.indexOf(".")>-1&&(u=i.split("."));var f=P1(this.data,u);return f||!l||typeof s!="string"?f:N1(this.data&&this.data[i]&&this.data[i][a],s,c)}},{key:"addResource",value:function(i,a,s,o){var c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},l=this.options.keySeparator;l===void 0&&(l=".");var u=[i,a];s&&(u=u.concat(l?s.split(l):s)),i.indexOf(".")>-1&&(u=i.split("."),o=a,a=u[1]),this.addNamespaces(a),RB(this.data,u,o),c.silent||this.emit("added",i,a,s,o)}},{key:"addResources",value:function(i,a,s){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var c in s)(typeof s[c]=="string"||Object.prototype.toString.apply(s[c])==="[object Array]")&&this.addResource(i,a,c,s[c],{silent:!0});o.silent||this.emit("added",i,a,s)}},{key:"addResourceBundle",value:function(i,a,s,o,c){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},u=[i,a];i.indexOf(".")>-1&&(u=i.split("."),o=s,s=a,a=u[1]),this.addNamespaces(a);var f=P1(this.data,u)||{};o?rZ(f,s,c):f=qm(qm({},f),s),RB(this.data,u,f),l.silent||this.emit("added",i,a,s)}},{key:"removeResourceBundle",value:function(i,a){this.hasResourceBundle(i,a)&&delete this.data[i][a],this.removeNamespaces(a),this.emit("removed",i,a)}},{key:"hasResourceBundle",value:function(i,a){return this.getResource(i,a)!==void 0}},{key:"getResourceBundle",value:function(i,a){return a||(a=this.options.defaultNS),this.options.compatibilityAPI==="v1"?qm(qm({},{}),this.getResource(i,a)):this.getResource(i,a)}},{key:"getDataByLanguage",value:function(i){return this.data[i]}},{key:"hasLanguageSomeTranslations",value:function(i){var a=this.getDataByLanguage(i),s=a&&Object.keys(a)||[];return!!s.find(function(o){return a[o]&&Object.keys(a[o]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),r}(Oo),nZ={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,r,n,i,a){var s=this;return e.forEach(function(o){s.processors[o]&&(r=s.processors[o].process(r,n,i,a))}),r}};function IB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IB(Object(r),!0).forEach(function(n){li(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YVe(t){var e=qVe();return function(){var n=ma(t),i;if(e){var a=ma(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return pg(this,i)}}function qVe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var $B={},CB=function(t){__(r,t);var e=YVe(r);function r(n){var i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Pi(this,r),i=e.call(this),b_&&Oo.call(po(i)),FVe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],n,po(i)),i.options=a,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.logger=aa.create("translator"),i}return Ni(r,[{key:"changeLanguage",value:function(i){i&&(this.language=i)}},{key:"exists",value:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(i==null)return!1;var s=this.resolve(i,a);return s&&s.res!==void 0}},{key:"extractFromKey",value:function(i,a){var s=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");var o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,c=a.ns||this.options.defaultNS||[],l=s&&i.indexOf(s)>-1,u=!this.options.userDefinedKeySeparator&&!a.keySeparator&&!this.options.userDefinedNsSeparator&&!a.nsSeparator&&!zVe(i,s,o);if(l&&!u){var f=i.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:i,namespaces:c};var d=i.split(s);(s!==o||s===o&&this.options.ns.indexOf(d[0])>-1)&&(c=d.shift()),i=d.join(o)}return typeof c=="string"&&(c=[c]),{key:i,namespaces:c}}},{key:"translate",value:function(i,a,s){var o=this;if(zt(a)!=="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),zt(a)==="object"&&(a=cr({},a)),a||(a={}),i==null)return"";Array.isArray(i)||(i=[String(i)]);var c=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,u=this.extractFromKey(i[i.length-1],a),f=u.key,d=u.namespaces,h=d[d.length-1],p=a.lng||this.language,m=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(p&&p.toLowerCase()==="cimode"){if(m){var g=a.nsSeparator||this.options.nsSeparator;return c?{res:"".concat(h).concat(g).concat(f),usedKey:f,exactUsedKey:f,usedLng:p,usedNS:h}:"".concat(h).concat(g).concat(f)}return c?{res:f,usedKey:f,exactUsedKey:f,usedLng:p,usedNS:h}:f}var v=this.resolve(i,a),y=v&&v.res,x=v&&v.usedKey||f,E=v&&v.exactUsedKey||f,S=Object.prototype.toString.apply(y),b=["[object Number]","[object Function]","[object RegExp]"],T=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,R=!this.i18nFormat||this.i18nFormat.handleAsObject,I=typeof y!="string"&&typeof y!="boolean"&&typeof y!="number";if(R&&y&&I&&b.indexOf(S)<0&&!(typeof T=="string"&&S==="[object Array]")){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var w=this.options.returnedObjectHandler?this.options.returnedObjectHandler(x,y,cr(cr({},a),{},{ns:d})):"key '".concat(f," (").concat(this.language,")' returned an object instead of string.");return c?(v.res=w,v):w}if(l){var C=S==="[object Array]",L=C?[]:{},H=C?E:x;for(var N in y)if(Object.prototype.hasOwnProperty.call(y,N)){var P="".concat(H).concat(l).concat(N);L[N]=this.translate(P,cr(cr({},a),{joinArrays:!1,ns:d})),L[N]===P&&(L[N]=y[N])}y=L}}else if(R&&typeof T=="string"&&S==="[object Array]")y=y.join(T),y&&(y=this.extendTranslation(y,i,a,s));else{var B=!1,V=!1,M=a.count!==void 0&&typeof a.count!="string",U=r.hasDefaultValue(a),W=M?this.pluralResolver.getSuffix(p,a.count,a):"",k=a["defaultValue".concat(W)]||a.defaultValue;!this.isValidLookup(y)&&U&&(B=!0,y=k),this.isValidLookup(y)||(V=!0,y=f);var O=a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,F=O&&V?void 0:y,D=U&&k!==y&&this.options.updateMissing;if(V||B||D){if(this.logger.log(D?"updateKey":"missingKey",p,h,f,D?k:y),l){var Q=this.resolve(f,cr(cr({},a),{},{keySeparator:!1}));Q&&Q.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var ee=[],fe=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&fe&&fe[0])for(var se=0;se<fe.length;se++)ee.push(fe[se]);else this.options.saveMissingTo==="all"?ee=this.languageUtils.toResolveHierarchy(a.lng||this.language):ee.push(a.lng||this.language);var tt=function(Nr,cn,Tt){var wt=U&&Tt!==y?Tt:F;o.options.missingKeyHandler?o.options.missingKeyHandler(Nr,h,cn,wt,D,a):o.backendConnector&&o.backendConnector.saveMissing&&o.backendConnector.saveMissing(Nr,h,cn,wt,D,a),o.emit("missingKey",Nr,h,cn,y)};this.options.saveMissing&&(this.options.saveMissingPlurals&&M?ee.forEach(function(Mt){o.pluralResolver.getSuffixes(Mt,a).forEach(function(Nr){tt([Mt],f+Nr,a["defaultValue".concat(Nr)]||k)})}):tt(ee,f,k))}y=this.extendTranslation(y,i,a,v,s),V&&y===f&&this.options.appendNamespaceToMissingKey&&(y="".concat(h,":").concat(f)),(V||B)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?y=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(h,":").concat(f):f,B?y:void 0):y=this.options.parseMissingKeyHandler(y))}return c?(v.res=y,v):y}},{key:"extendTranslation",value:function(i,a,s,o,c){var l=this;if(this.i18nFormat&&this.i18nFormat.parse)i=this.i18nFormat.parse(i,cr(cr({},this.options.interpolation.defaultVariables),s),o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init(cr(cr({},s),{interpolation:cr(cr({},this.options.interpolation),s.interpolation)}));var u=typeof i=="string"&&(s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),f;if(u){var d=i.match(this.interpolator.nestingRegexp);f=d&&d.length}var h=s.replace&&typeof s.replace!="string"?s.replace:s;if(this.options.interpolation.defaultVariables&&(h=cr(cr({},this.options.interpolation.defaultVariables),h)),i=this.interpolator.interpolate(i,h,s.lng||this.language,s),u){var p=i.match(this.interpolator.nestingRegexp),m=p&&p.length;f<m&&(s.nest=!1)}!s.lng&&this.options.compatibilityAPI!=="v1"&&o&&o.res&&(s.lng=o.usedLng),s.nest!==!1&&(i=this.interpolator.nest(i,function(){for(var y=arguments.length,x=new Array(y),E=0;E<y;E++)x[E]=arguments[E];return c&&c[0]===x[0]&&!s.context?(l.logger.warn("It seems you are nesting recursively key: ".concat(x[0]," in key: ").concat(a[0])),null):l.translate.apply(l,x.concat([a]))},s)),s.interpolation&&this.interpolator.reset()}var g=s.postProcess||this.options.postProcess,v=typeof g=="string"?[g]:g;return i!=null&&v&&v.length&&s.applyPostProcessor!==!1&&(i=nZ.handle(v,i,a,this.options&&this.options.postProcessPassResolved?cr({i18nResolved:o},s):s,this)),i}},{key:"resolve",value:function(i){var a=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o,c,l,u,f;return typeof i=="string"&&(i=[i]),i.forEach(function(d){if(!a.isValidLookup(o)){var h=a.extractFromKey(d,s),p=h.key;c=p;var m=h.namespaces;a.options.fallbackNS&&(m=m.concat(a.options.fallbackNS));var g=s.count!==void 0&&typeof s.count!="string",v=g&&!s.ordinal&&s.count===0&&a.pluralResolver.shouldUseIntlApi(),y=s.context!==void 0&&(typeof s.context=="string"||typeof s.context=="number")&&s.context!=="",x=s.lngs?s.lngs:a.languageUtils.toResolveHierarchy(s.lng||a.language,s.fallbackLng);m.forEach(function(E){a.isValidLookup(o)||(f=E,!$B["".concat(x[0],"-").concat(E)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(f)&&($B["".concat(x[0],"-").concat(E)]=!0,a.logger.warn('key "'.concat(c,'" for languages "').concat(x.join(", "),`" won't get resolved as namespace "`).concat(f,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(function(S){if(!a.isValidLookup(o)){u=S;var b=[p];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(b,p,S,E,s);else{var T;g&&(T=a.pluralResolver.getSuffix(S,s.count,s));var R="".concat(a.options.pluralSeparator,"zero");if(g&&(b.push(p+T),v&&b.push(p+R)),y){var I="".concat(p).concat(a.options.contextSeparator).concat(s.context);b.push(I),g&&(b.push(I+T),v&&b.push(I+R))}}for(var w;w=b.pop();)a.isValidLookup(o)||(l=w,o=a.getResource(S,E,w,s))}}))})}}),{res:o,usedKey:c,exactUsedKey:l,usedLng:u,usedNS:f}}},{key:"isValidLookup",value:function(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}},{key:"getResource",value:function(i,a,s){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(i,a,s,o):this.resourceStore.getResource(i,a,s,o)}}],[{key:"hasDefaultValue",value:function(i){var a="defaultValue";for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)&&a===s.substring(0,a.length)&&i[s]!==void 0)return!0;return!1}}]),r}(Oo);function _w(t){return t.charAt(0).toUpperCase()+t.slice(1)}var kB=function(){function t(e){Pi(this,t),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=aa.create("languageUtils")}return Ni(t,[{key:"getScriptPartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return null;var n=r.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}},{key:"getLanguagePartFromCode",value:function(r){if(!r||r.indexOf("-")<0)return r;var n=r.split("-");return this.formatLanguageCode(n[0])}},{key:"formatLanguageCode",value:function(r){if(typeof r=="string"&&r.indexOf("-")>-1){var n=["hans","hant","latn","cyrl","cans","mong","arab"],i=r.split("-");return this.options.lowerCaseLng?i=i.map(function(a){return a.toLowerCase()}):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=_w(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),n.indexOf(i[1].toLowerCase())>-1&&(i[1]=_w(i[1].toLowerCase())),n.indexOf(i[2].toLowerCase())>-1&&(i[2]=_w(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}},{key:"isSupportedCode",value:function(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}},{key:"getBestMatchFromCodes",value:function(r){var n=this;if(!r)return null;var i;return r.forEach(function(a){if(!i){var s=n.formatLanguageCode(a);(!n.options.supportedLngs||n.isSupportedCode(s))&&(i=s)}}),!i&&this.options.supportedLngs&&r.forEach(function(a){if(!i){var s=n.getLanguagePartFromCode(a);if(n.isSupportedCode(s))return i=s;i=n.options.supportedLngs.find(function(o){if(o===s)return o;if(!(o.indexOf("-")<0&&s.indexOf("-")<0)&&o.indexOf(s)===0)return o})}}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}},{key:"getFallbackCodes",value:function(r,n){if(!r)return[];if(typeof r=="function"&&(r=r(n)),typeof r=="string"&&(r=[r]),Object.prototype.toString.apply(r)==="[object Array]")return r;if(!n)return r.default||[];var i=r[n];return i||(i=r[this.getScriptPartFromCode(n)]),i||(i=r[this.formatLanguageCode(n)]),i||(i=r[this.getLanguagePartFromCode(n)]),i||(i=r.default),i||[]}},{key:"toResolveHierarchy",value:function(r,n){var i=this,a=this.getFallbackCodes(n||this.options.fallbackLng||[],r),s=[],o=function(l){l&&(i.isSupportedCode(l)?s.push(l):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(l)))};return typeof r=="string"&&r.indexOf("-")>-1?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(r))):typeof r=="string"&&o(this.formatLanguageCode(r)),a.forEach(function(c){s.indexOf(c)<0&&o(i.formatLanguageCode(c))}),s}}]),t}(),XVe=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],QVe={1:function(e){return+(e>1)},2:function(e){return+(e!=1)},3:function(e){return 0},4:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},5:function(e){return e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},6:function(e){return e==1?0:e>=2&&e<=4?1:2},7:function(e){return e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},8:function(e){return e==1?0:e==2?1:e!=8&&e!=11?2:3},9:function(e){return+(e>=2)},10:function(e){return e==1?0:e==2?1:e<7?2:e<11?3:4},11:function(e){return e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3},12:function(e){return+(e%10!=1||e%100==11)},13:function(e){return+(e!==0)},14:function(e){return e==1?0:e==2?1:e==3?2:3},15:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2},16:function(e){return e%10==1&&e%100!=11?0:e!==0?1:2},17:function(e){return e==1||e%10==1&&e%100!=11?0:1},18:function(e){return e==0?0:e==1?1:2},19:function(e){return e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3},20:function(e){return e==1?0:e==0||e%100>0&&e%100<20?1:2},21:function(e){return e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0},22:function(e){return e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3}},ZVe=["v1","v2","v3"],OB={zero:0,one:1,two:2,few:3,many:4,other:5};function JVe(){var t={};return XVe.forEach(function(e){e.lngs.forEach(function(r){t[r]={numbers:e.nr,plurals:QVe[e.fc]}})}),t}var eWe=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Pi(this,t),this.languageUtils=e,this.options=r,this.logger=aa.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=JVe()}return Ni(t,[{key:"addRule",value:function(r,n){this.rules[r]=n}},{key:"getRule",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(r,{type:n.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[r]||this.rules[this.languageUtils.getLanguagePartFromCode(r)]}},{key:"needsPlural",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(r,n);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(r,i).map(function(a){return"".concat(n).concat(a)})}},{key:"getSuffixes",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=this.getRule(r,i);return a?this.shouldUseIntlApi()?a.resolvedOptions().pluralCategories.sort(function(s,o){return OB[s]-OB[o]}).map(function(s){return"".concat(n.options.prepend).concat(s)}):a.numbers.map(function(s){return n.getSuffix(r,s,i)}):[]}},{key:"getSuffix",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=this.getRule(r,i);return a?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(a.select(n)):this.getSuffixRetroCompatible(a,n):(this.logger.warn("no plural rule found for: ".concat(r)),"")}},{key:"getSuffixRetroCompatible",value:function(r,n){var i=this,a=r.noAbs?r.plurals(n):r.plurals(Math.abs(n)),s=r.numbers[a];this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1&&(s===2?s="plural":s===1&&(s=""));var o=function(){return i.options.prepend&&s.toString()?i.options.prepend+s.toString():s.toString()};return this.options.compatibilityJSON==="v1"?s===1?"":typeof s=="number"?"_plural_".concat(s.toString()):o():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1?o():this.options.prepend&&a.toString()?this.options.prepend+a.toString():a.toString()}},{key:"shouldUseIntlApi",value:function(){return!ZVe.includes(this.options.compatibilityJSON)}}]),t}();function LB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LB(Object(r),!0).forEach(function(n){li(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PB(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=UVe(t,e,r);return!a&&i&&typeof r=="string"&&(a=N1(t,r,n),a===void 0&&(a=N1(e,r,n))),a}var tWe=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Pi(this,t),this.logger=aa.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(r){return r},this.init(e)}return Ni(t,[{key:"init",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};r.interpolation||(r.interpolation={escapeValue:!0});var n=r.interpolation;this.escape=n.escape!==void 0?n.escape:HVe,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?Kc(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?Kc(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?Kc(n.nestingPrefix):n.nestingPrefixEscaped||Kc("$t("),this.nestingSuffix=n.nestingSuffix?Kc(n.nestingSuffix):n.nestingSuffixEscaped||Kc(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var r="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(r,"g");var n="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(n,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(r,n,i,a){var s=this,o,c,l,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function f(g){return g.replace(/\$/g,"$$$$")}var d=function(v){if(v.indexOf(s.formatSeparator)<0){var y=PB(n,u,v,s.options.keySeparator,s.options.ignoreJSONStructure);return s.alwaysFormat?s.format(y,void 0,i,mi(mi(mi({},a),n),{},{interpolationkey:v})):y}var x=v.split(s.formatSeparator),E=x.shift().trim(),S=x.join(s.formatSeparator).trim();return s.format(PB(n,u,E,s.options.keySeparator,s.options.ignoreJSONStructure),S,i,mi(mi(mi({},a),n),{},{interpolationkey:E}))};this.resetRegExp();var h=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler,p=a&&a.interpolation&&a.interpolation.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,m=[{regex:this.regexpUnescape,safeValue:function(v){return f(v)}},{regex:this.regexp,safeValue:function(v){return s.escapeValue?f(s.escape(v)):f(v)}}];return m.forEach(function(g){for(l=0;o=g.regex.exec(r);){var v=o[1].trim();if(c=d(v),c===void 0)if(typeof h=="function"){var y=h(r,o,a);c=typeof y=="string"?y:""}else if(a&&Object.prototype.hasOwnProperty.call(a,v))c="";else if(p){c=o[0];continue}else s.logger.warn("missed to pass in variable ".concat(v," for interpolating ").concat(r)),c="";else typeof c!="string"&&!s.useRawValueToEscape&&(c=wB(c));var x=g.safeValue(c);if(r=r.replace(o[0],x),p?(g.regex.lastIndex+=c.length,g.regex.lastIndex-=o[0].length):g.regex.lastIndex=0,l++,l>=s.maxReplaces)break}}),r}},{key:"nest",value:function(r,n){var i=this,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s,o,c;function l(h,p){var m=this.nestingOptionsSeparator;if(h.indexOf(m)<0)return h;var g=h.split(new RegExp("".concat(m,"[ ]*{"))),v="{".concat(g[1]);h=g[0],v=this.interpolate(v,c);var y=v.match(/'/g),x=v.match(/"/g);(y&&y.length%2===0&&!x||x.length%2!==0)&&(v=v.replace(/'/g,'"'));try{c=JSON.parse(v),p&&(c=mi(mi({},p),c))}catch(E){return this.logger.warn("failed parsing options string in nesting for key ".concat(h),E),"".concat(h).concat(m).concat(v)}return delete c.defaultValue,h}for(;s=this.nestingRegexp.exec(r);){var u=[];c=mi({},a),c=c.replace&&typeof c.replace!="string"?c.replace:c,c.applyPostProcessor=!1,delete c.defaultValue;var f=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){var d=s[1].split(this.formatSeparator).map(function(h){return h.trim()});s[1]=d.shift(),u=d,f=!0}if(o=n(l.call(this,s[1].trim(),c),c),o&&s[0]===r&&typeof o!="string")return o;typeof o!="string"&&(o=wB(o)),o||(this.logger.warn("missed to resolve ".concat(s[1]," for nesting ").concat(r)),o=""),f&&(o=u.reduce(function(h,p){return i.format(h,p,a.lng,mi(mi({},a),{},{interpolationkey:s[1].trim()}))},o.trim())),r=r.replace(s[0],o),this.regexp.lastIndex=0}return r}}]),t}();function NB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ca(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NB(Object(r),!0).forEach(function(n){li(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rWe(t){var e=t.toLowerCase().trim(),r={};if(t.indexOf("(")>-1){var n=t.split("(");e=n[0].toLowerCase().trim();var i=n[1].substring(0,n[1].length-1);if(e==="currency"&&i.indexOf(":")<0)r.currency||(r.currency=i.trim());else if(e==="relativetime"&&i.indexOf(":")<0)r.range||(r.range=i.trim());else{var a=i.split(";");a.forEach(function(s){if(s){var o=s.split(":"),c=NVe(o),l=c[0],u=c.slice(1),f=u.join(":").trim().replace(/^'+|'+$/g,"");r[l.trim()]||(r[l.trim()]=f),f==="false"&&(r[l.trim()]=!1),f==="true"&&(r[l.trim()]=!0),isNaN(f)||(r[l.trim()]=parseInt(f,10))}})}}return{formatName:e,formatOptions:r}}function Yc(t){var e={};return function(n,i,a){var s=i+JSON.stringify(a),o=e[s];return o||(o=t(i,a),e[s]=o),o(n)}}var nWe=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Pi(this,t),this.logger=aa.create("formatter"),this.options=e,this.formats={number:Yc(function(r,n){var i=new Intl.NumberFormat(r,Ca({},n));return function(a){return i.format(a)}}),currency:Yc(function(r,n){var i=new Intl.NumberFormat(r,Ca(Ca({},n),{},{style:"currency"}));return function(a){return i.format(a)}}),datetime:Yc(function(r,n){var i=new Intl.DateTimeFormat(r,Ca({},n));return function(a){return i.format(a)}}),relativetime:Yc(function(r,n){var i=new Intl.RelativeTimeFormat(r,Ca({},n));return function(a){return i.format(a,n.range||"day")}}),list:Yc(function(r,n){var i=new Intl.ListFormat(r,Ca({},n));return function(a){return i.format(a)}})},this.init(e)}return Ni(t,[{key:"init",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},i=n.interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}},{key:"add",value:function(r,n){this.formats[r.toLowerCase().trim()]=n}},{key:"addCached",value:function(r,n){this.formats[r.toLowerCase().trim()]=Yc(n)}},{key:"format",value:function(r,n,i){var a=this,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=n.split(this.formatSeparator),c=o.reduce(function(l,u){var f=rWe(u),d=f.formatName,h=f.formatOptions;if(a.formats[d]){var p=l;try{var m=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},g=m.locale||m.lng||s.locale||s.lng||i;p=a.formats[d](l,g,Ca(Ca(Ca({},h),s),m))}catch(v){a.logger.warn(v)}return p}else a.logger.warn("there was no format function for ".concat(d));return l},r);return c}}]),t}();function DB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function MB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DB(Object(r),!0).forEach(function(n){li(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iWe(t){var e=aWe();return function(){var n=ma(t),i;if(e){var a=ma(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return pg(this,i)}}function aWe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sWe(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}var oWe=function(t){__(r,t);var e=iWe(r);function r(n,i,a){var s,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Pi(this,r),s=e.call(this),b_&&Oo.call(po(s)),s.backend=n,s.store=i,s.services=a,s.languageUtils=a.languageUtils,s.options=o,s.logger=aa.create("backendConnector"),s.waitingReads=[],s.maxParallelReads=o.maxParallelReads||10,s.readingCalls=0,s.maxRetries=o.maxRetries>=0?o.maxRetries:5,s.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,s.state={},s.queue=[],s.backend&&s.backend.init&&s.backend.init(a,o.backend,o),s}return Ni(r,[{key:"queueLoad",value:function(i,a,s,o){var c=this,l={},u={},f={},d={};return i.forEach(function(h){var p=!0;a.forEach(function(m){var g="".concat(h,"|").concat(m);!s.reload&&c.store.hasResourceBundle(h,m)?c.state[g]=2:c.state[g]<0||(c.state[g]===1?u[g]===void 0&&(u[g]=!0):(c.state[g]=1,p=!1,u[g]===void 0&&(u[g]=!0),l[g]===void 0&&(l[g]=!0),d[m]===void 0&&(d[m]=!0)))}),p||(f[h]=!0)}),(Object.keys(l).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(l),pending:Object.keys(u),toLoadLanguages:Object.keys(f),toLoadNamespaces:Object.keys(d)}}},{key:"loaded",value:function(i,a,s){var o=i.split("|"),c=o[0],l=o[1];a&&this.emit("failedLoading",c,l,a),s&&this.store.addResourceBundle(c,l,s),this.state[i]=a?-1:2;var u={};this.queue.forEach(function(f){BVe(f.loaded,[c],l),sWe(f,i),a&&f.errors.push(a),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(function(d){u[d]||(u[d]={});var h=f.loaded[d];h.length&&h.forEach(function(p){u[d][p]===void 0&&(u[d][p]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",u),this.queue=this.queue.filter(function(f){return!f.done})}},{key:"read",value:function(i,a,s){var o=this,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,u=arguments.length>5?arguments[5]:void 0;if(!i.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:a,fcName:s,tried:c,wait:l,callback:u});return}this.readingCalls++;var f=function(m,g){if(o.readingCalls--,o.waitingReads.length>0){var v=o.waitingReads.shift();o.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(m&&g&&c<o.maxRetries){setTimeout(function(){o.read.call(o,i,a,s,c+1,l*2,u)},l);return}u(m,g)},d=this.backend[s].bind(this.backend);if(d.length===2){try{var h=d(i,a);h&&typeof h.then=="function"?h.then(function(p){return f(null,p)}).catch(f):f(null,h)}catch(p){f(p)}return}return d(i,a,f)}},{key:"prepareLoading",value:function(i,a){var s=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),c&&c();typeof i=="string"&&(i=this.languageUtils.toResolveHierarchy(i)),typeof a=="string"&&(a=[a]);var l=this.queueLoad(i,a,o,c);if(!l.toLoad.length)return l.pending.length||c(),null;l.toLoad.forEach(function(u){s.loadOne(u)})}},{key:"load",value:function(i,a,s){this.prepareLoading(i,a,{},s)}},{key:"reload",value:function(i,a,s){this.prepareLoading(i,a,{reload:!0},s)}},{key:"loadOne",value:function(i){var a=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",o=i.split("|"),c=o[0],l=o[1];this.read(c,l,"read",void 0,void 0,function(u,f){u&&a.logger.warn("".concat(s,"loading namespace ").concat(l," for language ").concat(c," failed"),u),!u&&f&&a.logger.log("".concat(s,"loaded namespace ").concat(l," for language ").concat(c),f),a.loaded(i,u,f)})}},{key:"saveMissing",value:function(i,a,s,o,c){var l=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},u=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(a)){this.logger.warn('did not save key "'.concat(s,'" as the namespace "').concat(a,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if(this.backend&&this.backend.create){var f=MB(MB({},l),{},{isUpdate:c}),d=this.backend.create.bind(this.backend);if(d.length<6)try{var h;d.length===5?h=d(i,a,s,o,f):h=d(i,a,s,o),h&&typeof h.then=="function"?h.then(function(p){return u(null,p)}).catch(u):u(null,h)}catch(p){u(p)}else d(i,a,s,o,u,f)}!i||!i[0]||this.store.addResource(i[0],a,s,o)}}}]),r}(Oo);function FB(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var r={};if(zt(e[1])==="object"&&(r=e[1]),typeof e[1]=="string"&&(r.defaultValue=e[1]),typeof e[2]=="string"&&(r.tDescription=e[2]),zt(e[2])==="object"||zt(e[3])==="object"){var n=e[3]||e[2];Object.keys(n).forEach(function(i){r[i]=n[i]})}return r},interpolation:{escapeValue:!0,format:function(e,r,n,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function BB(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function UB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UB(Object(r),!0).forEach(function(n){li(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lWe(t){var e=cWe();return function(){var n=ma(t),i;if(e){var a=ma(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return pg(this,i)}}function cWe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Xm(){}function uWe(t){var e=Object.getOwnPropertyNames(Object.getPrototypeOf(t));e.forEach(function(r){typeof t[r]=="function"&&(t[r]=t[r].bind(t))})}var D1=function(t){__(r,t);var e=lWe(r);function r(){var n,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;if(Pi(this,r),n=e.call(this),b_&&Oo.call(po(n)),n.options=BB(i),n.services={},n.logger=aa,n.modules={external:[]},uWe(po(n)),a&&!n.isInitialized&&!i.isClone){if(!n.options.initImmediate)return n.init(i,a),pg(n,po(n));setTimeout(function(){n.init(i,a)},0)}return n}return Ni(r,[{key:"init",value:function(){var i=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;typeof a=="function"&&(s=a,a={}),!a.defaultNS&&a.defaultNS!==!1&&a.ns&&(typeof a.ns=="string"?a.defaultNS=a.ns:a.ns.indexOf("translation")<0&&(a.defaultNS=a.ns[0]));var o=FB();this.options=Vi(Vi(Vi({},o),this.options),BB(a)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=Vi(Vi({},o.interpolation),this.options.interpolation)),a.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=a.keySeparator),a.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=a.nsSeparator);function c(v){return v?typeof v=="function"?new v:v:null}if(!this.options.isClone){this.modules.logger?aa.init(c(this.modules.logger),this.options):aa.init(null,this.options);var l;this.modules.formatter?l=this.modules.formatter:typeof Intl<"u"&&(l=nWe);var u=new kB(this.options);this.store=new KVe(this.options.resources,this.options);var f=this.services;f.logger=aa,f.resourceStore=this.store,f.languageUtils=u,f.pluralResolver=new eWe(u,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),l&&(!this.options.interpolation.format||this.options.interpolation.format===o.interpolation.format)&&(f.formatter=c(l),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new tWe(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new oWe(c(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",function(v){for(var y=arguments.length,x=new Array(y>1?y-1:0),E=1;E<y;E++)x[E-1]=arguments[E];i.emit.apply(i,[v].concat(x))}),this.modules.languageDetector&&(f.languageDetector=c(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=c(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new CB(this.services,this.options),this.translator.on("*",function(v){for(var y=arguments.length,x=new Array(y>1?y-1:0),E=1;E<y;E++)x[E-1]=arguments[E];i.emit.apply(i,[v].concat(x))}),this.modules.external.forEach(function(v){v.init&&v.init(i)})}if(this.format=this.options.interpolation.format,s||(s=Xm),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var h=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];h.forEach(function(v){i[v]=function(){var y;return(y=i.store)[v].apply(y,arguments)}});var p=["addResource","addResources","addResourceBundle","removeResourceBundle"];p.forEach(function(v){i[v]=function(){var y;return(y=i.store)[v].apply(y,arguments),i}});var m=ah(),g=function(){var y=function(E,S){i.isInitialized&&!i.initializedStoreOnce&&i.logger.warn("init: i18next is already initialized. You should call init just once!"),i.isInitialized=!0,i.options.isClone||i.logger.log("initialized",i.options),i.emit("initialized",i.options),m.resolve(S),s(E,S)};if(i.languages&&i.options.compatibilityAPI!=="v1"&&!i.isInitialized)return y(null,i.t.bind(i));i.changeLanguage(i.options.lng,y)};return this.options.resources||!this.options.initImmediate?g():setTimeout(g,0),m}},{key:"loadResources",value:function(i){var a=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xm,o=s,c=typeof i=="string"?i:this.language;if(typeof i=="function"&&(o=i),!this.options.resources||this.options.partialBundledLanguages){if(c&&c.toLowerCase()==="cimode")return o();var l=[],u=function(h){if(h){var p=a.services.languageUtils.toResolveHierarchy(h);p.forEach(function(m){l.indexOf(m)<0&&l.push(m)})}};if(c)u(c);else{var f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.forEach(function(d){return u(d)})}this.options.preload&&this.options.preload.forEach(function(d){return u(d)}),this.services.backendConnector.load(l,this.options.ns,function(d){!d&&!a.resolvedLanguage&&a.language&&a.setResolvedLanguage(a.language),o(d)})}else o(null)}},{key:"reloadResources",value:function(i,a,s){var o=ah();return i||(i=this.languages),a||(a=this.options.ns),s||(s=Xm),this.services.backendConnector.reload(i,a,function(c){o.resolve(),s(c)}),o}},{key:"use",value:function(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&nZ.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}},{key:"setResolvedLanguage",value:function(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1))for(var a=0;a<this.languages.length;a++){var s=this.languages[a];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}}},{key:"changeLanguage",value:function(i,a){var s=this;this.isLanguageChangingTo=i;var o=ah();this.emit("languageChanging",i);var c=function(d){s.language=d,s.languages=s.services.languageUtils.toResolveHierarchy(d),s.resolvedLanguage=void 0,s.setResolvedLanguage(d)},l=function(d,h){h?(c(h),s.translator.changeLanguage(h),s.isLanguageChangingTo=void 0,s.emit("languageChanged",h),s.logger.log("languageChanged",h)):s.isLanguageChangingTo=void 0,o.resolve(function(){return s.t.apply(s,arguments)}),a&&a(d,function(){return s.t.apply(s,arguments)})},u=function(d){!i&&!d&&s.services.languageDetector&&(d=[]);var h=typeof d=="string"?d:s.services.languageUtils.getBestMatchFromCodes(d);h&&(s.language||c(h),s.translator.language||s.translator.changeLanguage(h),s.services.languageDetector&&s.services.languageDetector.cacheUserLanguage&&s.services.languageDetector.cacheUserLanguage(h)),s.loadResources(h,function(p){l(p,h)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(i),o}},{key:"getFixedT",value:function(i,a,s){var o=this,c=function l(u,f){var d;if(zt(f)!=="object"){for(var h=arguments.length,p=new Array(h>2?h-2:0),m=2;m<h;m++)p[m-2]=arguments[m];d=o.options.overloadTranslationOptionHandler([u,f].concat(p))}else d=Vi({},f);d.lng=d.lng||l.lng,d.lngs=d.lngs||l.lngs,d.ns=d.ns||l.ns,d.keyPrefix=d.keyPrefix||s||l.keyPrefix;var g=o.options.keySeparator||".",v;return d.keyPrefix&&Array.isArray(u)?v=u.map(function(y){return"".concat(d.keyPrefix).concat(g).concat(y)}):v=d.keyPrefix?"".concat(d.keyPrefix).concat(g).concat(u):u,o.t(v,d)};return typeof i=="string"?c.lng=i:c.lngs=i,c.ns=a,c.keyPrefix=s,c}},{key:"t",value:function(){var i;return this.translator&&(i=this.translator).translate.apply(i,arguments)}},{key:"exists",value:function(){var i;return this.translator&&(i=this.translator).exists.apply(i,arguments)}},{key:"setDefaultNamespace",value:function(i){this.options.defaultNS=i}},{key:"hasLoadedNamespace",value:function(i){var a=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var o=this.resolvedLanguage||this.languages[0],c=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(o.toLowerCase()==="cimode")return!0;var u=function(h,p){var m=a.services.backendConnector.state["".concat(h,"|").concat(p)];return m===-1||m===2};if(s.precheck){var f=s.precheck(this,u);if(f!==void 0)return f}return!!(this.hasResourceBundle(o,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(o,i)&&(!c||u(l,i)))}},{key:"loadNamespaces",value:function(i,a){var s=this,o=ah();return this.options.ns?(typeof i=="string"&&(i=[i]),i.forEach(function(c){s.options.ns.indexOf(c)<0&&s.options.ns.push(c)}),this.loadResources(function(c){o.resolve(),a&&a(c)}),o):(a&&a(),Promise.resolve())}},{key:"loadLanguages",value:function(i,a){var s=ah();typeof i=="string"&&(i=[i]);var o=this.options.preload||[],c=i.filter(function(l){return o.indexOf(l)<0});return c.length?(this.options.preload=o.concat(c),this.loadResources(function(l){s.resolve(),a&&a(l)}),s):(a&&a(),Promise.resolve())}},{key:"dir",value:function(i){if(i||(i=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!i)return"rtl";var a=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=this.services&&this.services.languageUtils||new kB(FB());return a.indexOf(s.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var i=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xm,o=Vi(Vi(Vi({},this.options),a),{isClone:!0}),c=new r(o);(a.debug!==void 0||a.prefix!==void 0)&&(c.logger=c.logger.clone(a));var l=["store","services","language"];return l.forEach(function(u){c[u]=i[u]}),c.services=Vi({},this.services),c.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c.translator=new CB(c.services,c.options),c.translator.on("*",function(u){for(var f=arguments.length,d=new Array(f>1?f-1:0),h=1;h<f;h++)d[h-1]=arguments[h];c.emit.apply(c,[u].concat(d))}),c.init(o,s),c.translator.options=c.options,c.translator.backendConnector.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),r}(Oo);li(D1,"createInstance",function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new D1(t,e)});var Er=D1.createInstance();Er.createInstance=D1.createInstance;Er.createInstance;Er.dir;Er.init;Er.loadResources;Er.reloadResources;Er.use;Er.changeLanguage;Er.getFixedT;Er.t;Er.exists;Er.setDefaultNamespace;Er.hasLoadedNamespace;Er.loadNamespaces;Er.loadLanguages;const fWe={name:"movie-web"},dWe={loading_series:"Načítání Vašich oblíbených seriálů...",loading_movie:"Načítání Vašich oblíbených filmů...",loading:"Načítání...",allResults:"To je vše co máme!",noResults:"Nemohli jsme nic najít!",allFailed:"Nepodařilo se najít média, zkuste to znovu!",headingTitle:"Výsledky vyhledávání",bookmarks:"Záložky",continueWatching:"Pokračujte ve sledování",title:"Co si přejete sledovat?",placeholder:"Co si přejete sledovat?"},hWe={movie:"Filmy",series:"Seriály",stopEditing:"Zastavit upravování",errors:{genericTitle:"Jejda, rozbilo se to!",failedMeta:"Nepovedlo se načíst meta",mediaFailed:"Nepodařilo se nám požádat o Vaše média, zkontrolujte své internetové připojení a zkuste to znovu.",videoFailed:"Při přehrávání požadovaného videa došlo k chybě. Pokud se tohle opakuje prosím nahlašte nám to na <0>Discord serveru</0> nebo na <1>GitHubu</1>."}},pWe={seasonAndEpisode:"S{{season}} E{{episode}}"},gWe={genericTitle:"Nenalezeno",backArrow:"Zpátky domů",media:{title:"Nemohli jsme najít Vaše média.",description:"Nemohli jsme najít média o které jste požádali. Buďto jsme ho nemohli najít, nebo jste manipulovali s URL."},provider:{title:"Tento poskytovatel byl zakázán",description:"Měli jsme s tímto poskytovatelem problémy, nebo byl moc nestabilní na používání, a tak jsme ho museli zakázat."},page:{title:"Tuto stránku se nepodařilo najít",description:"Dívali jsme se všude: pod koši, ve skříni, za proxy, ale nakonec jsme nemohli najít stránku, kterou hledáte."}},mWe={movie:"Film",series:"Seriál",Search:"Hledání"},vWe={findingBestVideo:"Hledáme pro Vás nejlepší video",noVideos:"Jejda, nemohli jsme žádné video najít",loading:"Načítání...",backToHome:"Zpátky domů",backToHomeShort:"Zpět",seasonAndEpisode:"S{{season}} E{{episode}}",timeLeft:"Zbývá {{timeLeft}}",finishAt:"Končí ve {{timeFinished, datetime}}",buttons:{episodes:"Epizody",source:"Zdroj",captions:"Titulky",download:"Stáhnout",settings:"Nastavení",pictureInPicture:"Obraz v obraze",playbackSpeed:"Rychlost přehrávání"},popouts:{back:"Zpět",sources:"Zdroje",seasons:"Sezóny",captions:"Titulky",playbackSpeed:"Rychlost přehrávání",customPlaybackSpeed:"Vlastní rychlost přehrávání",captionPreferences:{title:"Upravit",delay:"Zpoždení",fontSize:"Velikost",opacity:"Průhlednost",color:"Barva"},episode:"E{{index}} - {{title}}",noCaptions:"Žádné titulky",linkedCaptions:"Propojené titulky",customCaption:"Vlastní titulky",uploadCustomCaption:"Nahrát titulky",noEmbeds:"Nebyla nalezena žádná vložení pro tento zdroj",errors:{loadingWentWong:"Něco se nepovedlo při načítání epizod pro {{seasonTitle}}",embedsError:"Něco se povedlo při načítání vložení pro tuhle věc, kterou máte tak rádi"},descriptions:{sources:"Jakého poskytovatele chcete použít?",embeds:"Vyberte video, které chcete sledovat",seasons:"Vyberte sérii, kterou chcete sledovat",episode:"Vyberte epizodu",captions:"Vyberte jazyk titulků",captionPreferences:"Upravte titulky tak, jak se Vám budou líbit",playbackSpeed:"Změňtě rychlost přehrávání"}},errors:{fatalError:"Došlo k závažné chybě v přehrávači videa, prosím nahlašte ji na <0>Discord serveru</0> nebo na <1>GitHubu</1>."}},yWe={title:"Nastavení",language:"Jazyk",captionLanguage:"Jazyk titulků"},xWe={newSiteTitle:"Je dostupná nová verze!",newDomain:"https://movie-web.app",newDomainText:"movie-web se brzy přesune na novou doménu: <0>https://movie-web.app</0>. Nezapomeňte si aktualizovat záložky, protože <1>stará stránka přestane fungovat {{date}}.</1>",tireless:"Pracovali jsme neúnavně na této nové aktualizaci, a tak doufáme, že se Vám bude líbit co jsme v posledních měsících kuchtili.",leaveAnnouncement:"Vezměte mě tam!"},EWe={casting:"Přehrávání do zařízení..."},_We={offline:"Zkontrolujte své internetové připojení"},bWe={global:fWe,search:dWe,media:hWe,seasons:pWe,notFound:gWe,searchBar:mWe,videoPlayer:vWe,settings:yWe,v3:xWe,casting:EWe,errors:_We},SWe={name:"movie-web"},TWe={loading_series:"Auf der Suche nach Ihrer Lieblingsserie...",loading_movie:"Auf der Suche nach Ihren Lieblingsfilmen...",loading:"Wird geladen...",allResults:"Das ist alles, was wir haben!",noResults:"Wir haben nichts gefunden!",allFailed:"Das Medium wurde nicht gefunden, bitte versuchen Sie es erneut!",headingTitle:"Suchergebnisse",bookmarks:"Favoriten",continueWatching:"Weiter ansehen",title:"Was willst du sehen?",placeholder:"Was willst du sehen?"},wWe={movie:"Filme",series:"Serie",stopEditing:"Beenden Sie die Bearbeitung",errors:{genericTitle:"Hoppla, etwas ist falsch gegangen!",failedMeta:"Metadaten konnten nicht geladen werden",mediaFailed:"Wir konnten die angeforderten Medien nicht abrufen.",videoFailed:"Beim Abspielen des angeforderten Videos ist ein Fehler aufgetreten. <0>Discord</0> Oder weiter <1>GitHub</1>."}},RWe={seasonAndEpisode:"S{{season}} E{{episode}}"},AWe={genericTitle:"Nicht gefunden",backArrow:"Zurück zur Startseite",media:{title:"Das Medium konnte nicht gefunden werden",description:"Wir konnten die angeforderten Medien nicht finden."},provider:{title:"Dieser Anbieter wurde deaktiviert",description:"Wir hatten Probleme mit dem Anbieter oder er war zu instabil, sodass wir ihn deaktivieren mussten."},page:{title:"Diese Seite kann nicht gefunden werden",description:"Wir haben überall gesucht, aber am Ende konnten wir die gesuchte Seite nicht finden."}},IWe={movie:"Film",series:"Serie",Search:"Forschen"},$We={findingBestVideo:"Auf der Suche nach dem besten Video für Sie",noVideos:"Entschuldigung, wir konnten keine Videos für Sie finden",loading:"Wird geladen...",backToHome:"Zurück zur Startseite",backToHomeShort:"Rückmeldung",seasonAndEpisode:"S{{season}} E{{episode}}",timeLeft:"{{timeLeft}} bleibt",finishAt:"Ende um {{timeFinished, datetime}}",buttons:{episodes:"Folgen",source:"Quelle",captions:"Untertitel",download:"Herunterladen",settings:"Einstellungen",pictureInPicture:"Bild-im-Bild",playbackSpeed:"Wiedergabegeschwindigkeit"},popouts:{back:"Zurück",sources:"Quellen",seasons:"Saison",captions:"Untertitel",playbackSpeed:"Lesegeschwindigkeit",customPlaybackSpeed:"Benutzerdefinierte Wiedergabegeschwindigkeit",captionPreferences:{title:"Personifizieren",delay:"Zeitlimit",fontSize:"Größe",opacity:"Opazität",color:"Farbe"},episode:"E{{index}} - {{title}}",noCaptions:"Keine Untertitel",linkedCaptions:"Verbundene Untertitel",customCaption:"Benutzerdefinierte Untertitel",uploadCustomCaption:"Untertitel hochladen",noEmbeds:"Für diese Quelle wurde kein eingebetteter Inhalt gefunden",errors:{loadingWentWong:"Beim Laden der Folgen für {{seasonTitle}} ist ein Problem aufgetreten ",embedsError:"Beim Laden der eingebetteter Medien ist ein Problem aufgetreten"},descriptions:{sources:"Welchen Anbieter möchten Sie nutzen?",embeds:"Wählen Sie das Video aus, das Sie ansehen möchten",seasons:"Wählen Sie die Staffel aus, die Sie sehen möchten",episode:"Wählen Sie eine Folge aus",captions:"Wählen Sie eine Untertitelsprache",captionPreferences:"Passen Sie das Erscheinungsbild von Untertiteln an",playbackSpeed:"Wiedergabegeschwindigkeit ändern"}},errors:{fatalError:"Der Videoplayer hat einen Fehler festgestellt, bitte melden Sie ihn dem Server <0>Discord</0> Oder weiter <1>GitHub</1>."}},CWe={title:"Einstellungen",language:"Sprache",captionLanguage:"Untertitelsprache"},kWe={newSiteTitle:"Neue Version verfügbar!",newDomain:"https://movie-web.app",newDomainText:"movie-web zieht in Kürze auf eine neue Domain um: <0>https://movie-web.app</0>. <1>Die alte Website funktioniert nicht mehr {{date}}.</1>",tireless:"Wir haben unermüdlich an diesem neuen Update gearbeitet und hoffen, dass Ihnen das gefällt, was wir in den letzten Monaten vorbereitet haben.",leaveAnnouncement:"Bring mich dahin!"},OWe={casting:"An Gerät übertragen..."},LWe={offline:"Ihre Internetverbindung ist instabil"},PWe={global:SWe,search:TWe,media:wWe,seasons:RWe,notFound:AWe,searchBar:IWe,videoPlayer:$We,settings:CWe,v3:kWe,casting:OWe,errors:LWe},NWe={name:"movie-web"},DWe={loading_series:"Fetching your favourite series...",loading_movie:"Fetching your favourite movies...",loading:"Loading...",allResults:"That's all we have!",noResults:"We couldn't find anything!",allFailed:"Failed to find media, try again!",headingTitle:"Search results",bookmarks:"Bookmarks",continueWatching:"Continue Watching",title:"What do you want to watch?",placeholder:"What do you want to watch?"},MWe={movie:"Movie",series:"Series",stopEditing:"Stop editing",errors:{genericTitle:"Whoops, it broke!",failedMeta:"Failed to load meta",mediaFailed:"We failed to request the media you asked for, check your internet connection and try again.",videoFailed:"We encountered an error while playing the video you requested. If this keeps happening please report the issue to the <0>Discord server</0> or on <1>GitHub</1>."}},FWe={seasonAndEpisode:"S{{season}} E{{episode}}"},BWe={genericTitle:"Not found",backArrow:"Back to home",media:{title:"Couldn't find that media",description:"We couldn't find the media you requested. Either it's been removed or you tampered with the URL"},provider:{title:"This provider has been disabled",description:"We had issues with the provider or it was too unstable to use, so we had to disable it."},page:{title:"Couldn't find that page",description:"We looked everywhere: under the bins, in the closet, behind the proxy but ultimately couldn't find the page you are looking for."}},UWe={movie:"Movie",series:"Series",Search:"Search"},jWe={findingBestVideo:"Finding the best video for you",noVideos:"Whoops, couldn't find any videos for you",loading:"Loading...",backToHome:"Back to home",backToHomeShort:"Back",seasonAndEpisode:"S{{season}} E{{episode}}",timeLeft:"{{timeLeft}} left",finishAt:"Finish at {{timeFinished, datetime}}",buttons:{episodes:"Episodes",source:"Source",captions:"Captions",download:"Download",settings:"Settings",pictureInPicture:"Picture in Picture",playbackSpeed:"Playback speed"},popouts:{back:"Go back",sources:"Sources",seasons:"Seasons",captions:"Captions",playbackSpeed:"Playback speed",customPlaybackSpeed:"Custom playback speed",captionPreferences:{title:"Customize",delay:"Delay",fontSize:"Size",opacity:"Opacity",color:"Color"},episode:"E{{index}} - {{title}}",noCaptions:"No captions",linkedCaptions:"Linked captions",customCaption:"Custom caption",uploadCustomCaption:"Upload caption",noEmbeds:"No embeds were found for this source",errors:{loadingWentWong:"Something went wrong loading the episodes for {{seasonTitle}}",embedsError:"Something went wrong loading the embeds for this thing that you like"},descriptions:{sources:"What provider do you want to use?",embeds:"Choose which video to view",seasons:"Choose which season you want to watch",episode:"Pick an episode",captions:"Choose a subtitle language",captionPreferences:"Make subtitles look how you want it",playbackSpeed:"Change the playback speed"}},errors:{fatalError:"The video player encounted a fatal error, please report it to the <0>Discord server</0> or on <1>GitHub</1>."}},HWe={title:"Settings",language:"Language",captionLanguage:"Caption Language"},GWe={newSiteTitle:"New version now released!",newDomain:"https://movie-web.app",newDomainText:"movie-web will soon be moving to a new domain: <0>https://movie-web.app</0>. Make sure to update all your bookmarks as <1>the old website will stop working on {{date}}.</1>",tireless:"We've worked tirelessly on this new update, we hope you will enjoy what we've been cooking up for the past months.",leaveAnnouncement:"Take me there!"},zWe={casting:"Casting to device..."},VWe={offline:"Check your internet connection"},WWe={global:NWe,search:DWe,media:MWe,seasons:FWe,notFound:BWe,searchBar:UWe,videoPlayer:jWe,settings:HWe,v3:GWe,casting:zWe,errors:VWe},KWe={name:"movie-web"},YWe={loading_series:"Recherche de votre série préférée...",loading_movie:"Recherche de vos films préférés...",loading:"Chargement...",allResults:"C'est tout ce que nous avons!",noResults:"Nous n'avons rien trouvé!",allFailed:"Le média n'a pas été trouvé, veuillez réessayez!",headingTitle:"Résultats de la recherche",bookmarks:"Favoris",continueWatching:"Continuer le visionnage",title:"Que voulez-vous voir?",placeholder:"Que voulez-vous voir?"},qWe={movie:"Films",series:"Séries",stopEditing:"Arrêter l'édition",errors:{genericTitle:"Oups, c'est coupé !",failedMeta:"Impossible de charger les métadonnées",mediaFailed:"Nous n'avons pas réussi à récupérer le média que vous avez demandé. Veuillez vérifier votre connexion Internet et réessayer.",videoFailed:"Nous avons rencontré une erreur lors de la lecture de la vidéo que vous avez demandée. Si cela se reproduit, veuillez signaler le problème au serveur <0>Discord</0> ou sur <1>GitHub</1>."}},XWe={seasonAndEpisode:"S{{season}} E{{episode}}"},QWe={genericTitle:"Introuvable",backArrow:"Retour à l'accueil",media:{title:"Impossible de trouver ce média",description:"Nous n'avons pas trouvé le média que vous avez demandé. Soit il a été supprimé, soit vous avez modifié l'URL."},provider:{title:"Ce fournisseur a été désactivé",description:"Nous avons eu des problèmes avec le fournisseur ou il était trop instable pour être utilisé, nous avons donc dû le désactiver."},page:{title:"Impossible de trouver cette page",description:"Nous avons cherché partout : sous les poubelles, dans le placard, derrière le proxy, mais nous n'avons finalement pas trouvé la page que vous cherchez."}},ZWe={movie:"Film",series:"Série",Search:"Rechercher"},JWe={findingBestVideo:"Recherche de la meilleure vidéo pour vous",noVideos:"Désolé, nous n'avons pas pu trouver de vidéos pour vous",loading:"Chargement...",backToHome:"Retour à la page d'accueil",backToHomeShort:"Retour",seasonAndEpisode:"S{{season}} E{{episode}}",timeLeft:"{{timeLeft}} restant",finishAt:"Terminer à {{timeFinished, datetime}}",buttons:{episodes:"Épisodes",source:"Source",captions:"Sous-titres",download:"Télécharger",settings:"Paramètres",pictureInPicture:"Image dans l'image",playbackSpeed:"Vitesse"},popouts:{back:"Retourner",sources:"Sources",seasons:"Saisons",captions:"Sous-titres",playbackSpeed:"Vitesse de lecture",customPlaybackSpeed:"Vitesse de lecture personnalisée",captionPreferences:{title:"Personnaliser",delay:"Délai",fontSize:"Taille",opacity:"Opacité",color:"Couleur"},episode:"E{{index}} - {{title}}",noCaptions:"Pas de sous-titres",linkedCaptions:"Sous-titres liés",customCaption:"Sous-titres personnalisés",uploadCustomCaption:"Télécharger des sous-titres",noEmbeds:"Aucun contenu intégré n'a été trouvé pour cette source",errors:{loadingWentWong:"Un problème est survenu lors du chargement des épisodes pour {{seasonTitle}}",embedsError:"Un problème est survenu lors du chargement des contenus intégrés pour cet élément que vous aimez"},descriptions:{sources:"Quel fournisseur voulez-vous utiliser ?",embeds:"Choisissez quelle vidéo regarder",seasons:"Choisissez la saison que vous voulez regarder",episode:"Sélectionnez un épisode",captions:"Choisissez une langue de sous-titres",captionPreferences:"Personnalisez l'apparence des sous-titres",playbackSpeed:"Changer la vitesse de lecture"}},errors:{fatalError:"Le lecteur vidéo a rencontré une erreur fatale, veuillez la signaler au serveur <0>Discord</0> ou sur <1>GitHub</1>."}},eKe={title:"Paramètres",language:"Language",captionLanguage:"Langue des sous-titres"},tKe={newSiteTitle:"Nouvelle version disponible!",newDomain:"https://movie-web.app",newDomainText:"movie-web déménagera bientôt vers un nouveau domaine : <0>https://movie-web.app</0>. Veillez à mettre à jour tous vos favoris car <1>l'ancien site web cessera de fonctionner le {{date}}.</1>",tireless:"Nous avons travaillé sans relâche sur cette nouvelle mise à jour et nous espérons que vous apprécierez ce que nous avons préparé ces derniers mois.",leaveAnnouncement:"Emmenez-moi là!"},rKe={casting:"Transmission à l'appareil..."},nKe={offline:"Vérifiez votre connexion internet"},iKe={global:KWe,search:YWe,media:qWe,seasons:XWe,notFound:QWe,searchBar:ZWe,videoPlayer:JWe,settings:eKe,v3:tKe,casting:rKe,errors:nKe},aKe={name:"movie-web"},sKe={loading_series:"We zoeken je favoriete series...",loading_movie:"We zoeken je favoriete films...",loading:"Aan het zoeken...",allResults:"Dat is het!",noResults:"We konden helaas niets vinden.",allFailed:"Het is niet gelukt de media te laden, probeer het nog eens.",headingTitle:"Zoekresultaten",bookmarks:"Opgeslagen",continueWatching:"Kijk verder",title:"Wat wil je graag kijken?",placeholder:"Wat wil je graag kijken?"},oKe={movie:"Film",series:"Serie",stopEditing:"Stop met bewerken",errors:{genericTitle:"Oeps, hier ging iets mis!",failedMeta:"Het is niet gelukt de meta-informatie op te halen/",mediaFailed:"Het is niet gelukt deze media op te halen. Controleer of je een internetverbinding hebt en probeer het nog een keer.",videoFailed:"Er ging iets mis tijdens het spelen van deze video. Als dit blijft gebeuren, deel het dan in de <0>Discord server</0> of maak een <1>GitHub issue</1>."}},lKe={seasonAndEpisode:"S{{season}} A{{episode}}"},cKe={genericTitle:"Pagina niet gevonden",backArrow:"Naar de home-pagina",media:{title:"We konden deze media niet vinden.",description:"We konden dit stukje media niet vinden. Het is mogelijk verwijderd, of jij hebt zelf de URL aangepast."},provider:{title:"Deze bron is niet langer beschikbaar",description:"Deze bron was helaas te instabiel, we hebben hem jammer genoeg uit moeten zetten."},page:{title:"Pagina niet gevonden",description:"We hebben echt alles geprobeerd, zelfs tijdrijzen; echter hebben we deze pagina helaas niet kunnen vinden."}},uKe={movie:"Films",series:"Series",Search:"Zoeken"},fKe={findingBestVideo:"De beste video voor jou aan het zoeken...",noVideos:"Helaas konden we dat filmpje niet vinden",loading:"Aan het laden...",backToHome:"Naar de home-pagina",backToHomeShort:"Terug",seasonAndEpisode:"S{{season}} A{{episode}}",timeLeft:"Nog {{timeLeft}}",finishAt:"Afgelopen om {{timeFinished, datetime}}",buttons:{episodes:"Afleveringen",source:"Bron",captions:"Ondertiteling",download:"Download",settings:"Instellingen",pictureInPicture:"Beeld-in-beeld",playbackSpeed:"Afspeelsnelheid"},popouts:{back:"Terug",sources:"Bronnen",seasons:"Seizoenen",captions:"Ondertiteling",playbackSpeed:"Afspeelsnelheid",customPlaybackSpeed:"Andere snelheden",captionPreferences:{title:"Instellingen",delay:"Vertraging",fontSize:"Lettergrootte",opacity:"Doorzichtbaarheid",color:"Kleur"},episode:"A{{index}} - {{title}}",noCaptions:"Geen ondertiteling",linkedCaptions:"Gelinkte ondertiteling",customCaption:"Eigen ondertiteling",uploadCustomCaption:"Ondertiteling uploaden",noEmbeds:"We hebben geen filmpjes kunnen vinden voor deze bron.",errors:{loadingWentWong:"Er ging iets mis tijdens het laden van de afleveringen voor {{seasonTitle}}",embedsError:"Er ging iets mis tijdens het laden van de embeds voor dit dingetje dat je waarschijnlijk leuk vindt"},descriptions:{sources:"Welke bron wil je graag gebruiken",embeds:"Welk filmpje wil je gebruiken?",seasons:"Welk seizoen wil je kijken?",episode:"Kies een aflevering",captions:"Kies een taal voor de ondertiteling",captionPreferences:"Pas de ondertiteling aan aan je voorkeuren",playbackSpeed:"Pas de afspeelsnelhijd aan"}},errors:{fatalError:"De videospeler is helaas ontploft, rapporteer deze fout op de <0>Discord server</0> of op <1>GitHub</1>."}},dKe={title:"Instellingen",language:"Taal",captionLanguage:"Taal voor de Ondertiteling"},hKe={newSiteTitle:"De nieuwe versie is uit!",newDomain:"https://movie-web.app",newDomainText:"We gaan binnenkort verhuizen naar een nieuw domein: <0>https://movie-web.app</0>. Pas je bladwijzers aan naar het nieuwe domein, want </b>het oude domein gaat stoppen met werken op {{date}}.</b>",tireless:"We hebben mega hard gewerkt aan deze nieuwe versie, dus we hopen dat je er van gaat genieten.",leaveAnnouncement:"Let's go!"},pKe={casting:"Aan het casten..."},gKe={offline:"Controleer je internetverbinding"},mKe={global:aKe,search:sKe,media:oKe,seasons:lKe,notFound:cKe,searchBar:uKe,videoPlayer:fKe,settings:dKe,v3:hKe,casting:pKe,errors:gKe},vKe={name:"movie-web"},yKe={loading_series:"Favori dizileriniz aranıyor...",loading_movie:"Favori filmleriniz aranıyor...",loading:"Yükleniyor...",allResults:"Bu kadarını bulabildik!",noResults:"Hiçbir şey bulamadık!",allFailed:"Medya bulunamadı, tekrar deneyin!",headingTitle:"Arama sonuçları",bookmarks:"Yerimleri",continueWatching:"İzlemeye devam edin",title:"Ne izlemek istersiniz?",placeholder:"Ne izlemek istersiniz?"},xKe={movie:"Film",series:"Dizi",stopEditing:"Düzenlemeyi durdur",errors:{genericTitle:"Hay aksi, bozuldu!",failedMeta:"Önbilgi yüklenemedi",mediaFailed:"İstediğiniz medyaya istek atarken hata oluştu, internet bağlantınızı kontrol edin ve tekrar deneyin.",videoFailed:"İstediğiniz videoyu oynatırken bir sorunla karşılaştık. Bu durum devam ederse lütfen bunu <0>Discord sunucumuza</0> veya <1>GitHub</1> üzerinden bildiriniz."}},EKe={seasonAndEpisode:"S{{season}} B{{episode}}"},_Ke={genericTitle:"Bulunamadı",backArrow:"Geri",media:{title:"Medya bulunamadı",description:"İstediğiniz medyayı bulamadık. URL'i yanlış girdiniz ya da medya kaldırıldı."},provider:{title:"Bu sağlayıcı devre dışı bırakıldı",description:"Sağlayıcı ile ilgili bir sorun oluştu ya da kullanılacak kadar stabil değildi bu yüzden devre dışı bırakmak zorunda kaldık."},page:{title:"Sayfa bulunamadı",description:"Her yere baktık: bazanın altına, dolabın içine hatta ara sunucuya ama maalesef aradığınız sayfayı bulamadık."}},bKe={movie:"Film",series:"Dizi",Search:"Ara"},SKe={findingBestVideo:"Sizin için en iyi videoyu buluyoruz...",noVideos:"Hay aksi, hiçbir video bulamadık",loading:"Yükleniyor...",backToHome:"Ana sayfaya dön",backToHomeShort:"Geri",seasonAndEpisode:"S{{season}} B{{episode}}",timeLeft:"{{timeLeft}} kaldı",finishAt:"{{timeFinished, datetime}}'de/da bitiyor",buttons:{episodes:"Bölümler",source:"Kaynak",captions:"Altyazılar",download:"İndir",settings:"Ayarlar",pictureInPicture:"Resim içinde Resim",playbackSpeed:"Oynatma Hızı"},popouts:{back:"Geri git",sources:"Kaynaklar",seasons:"Sezonlar",captions:"Altyazılar",playbackSpeed:"Oynatma hızı",customPlaybackSpeed:"Özel oynatma hızı",captionPreferences:{title:"Kişiselleştirme",delay:"Gecikme",fontSize:"Boyut",opacity:"Opaklık",color:"Renk"},episode:"B{{index}} - {{title}}",noCaptions:"Altyazı yok",linkedCaptions:"Kaynak Altyazıları",customCaption:"Özel altyazı",uploadCustomCaption:"Altyazı yükle",noEmbeds:"Bu kaynak için gömülü video bulunamadı",errors:{loadingWentWong:"{{seasonTitle}} için bölümler yüklenirken bir hata oluştu",embedsError:"İstediğiniz şey için gömülü video bulunurken bir hata oluştu"},descriptions:{sources:"Hangi sağlayıcıyı kullanmak istersiniz?",embeds:"Görüntülemek istediğiniz videoyu seçiniz",seasons:"İzlemek istediğiniz sezonu seçiniz",episode:"Bir bölüm seçiniz",captions:"Altyazı dili seçiniz",captionPreferences:"Altyazıları istediğiniz gibi ayarlayın",playbackSpeed:"Oynatma hızınızı değiştirin"}},errors:{fatalError:"Video oynatıcıda bir hata oluştu, lütfen bunu <0>Discord sunucumuzda</0> ya da <1>GitHub</1> üzeriden bildiriniz."}},TKe={title:"Ayarlar",language:"Dil",captionLanguage:"Altyazı Dili"},wKe={newSiteTitle:"Yeni sürüm yayınlandı!",newDomain:"https://movie-web.app",newDomainText:"movie-web yakında yeni bir alan adına taşınacak: <0>https://movie-web.app</0>. <1>{{date}} tarihinde eski site çalışmayacağı için</1> yerimlerinizi güncellemeyi unutmayın.",tireless:"Bu yeni güncelleme için gece gündüz çalıştık, umarız aylardan beri hazırladığımız bu güncellemeyi beğenirsiniz.",leaveAnnouncement:"Götür beni!"},RKe={casting:"Cihaza aktarılıyor..."},AKe={offline:"İnternet bağlantınızı kontrol ediniz"},IKe={global:vKe,search:yKe,media:xKe,seasons:EKe,notFound:_Ke,searchBar:bKe,videoPlayer:SKe,settings:TKe,v3:wKe,casting:RKe,errors:AKe},$Ke={name:"movie-web"},CKe={loading_series:"正在获取您最喜欢的连续剧……",loading_movie:"正在获取您最喜欢的影片……",loading:"载入中……",allResults:"以上是我们能找到的所有结果！",noResults:"我们找不到任何结果！",allFailed:"查找媒体失败，请重试！",headingTitle:"搜索结果",bookmarks:"书签",continueWatching:"继续观看",title:"您想看些什么？",placeholder:"您想看些什么？"},kKe={movie:"电影",series:"连续剧",stopEditing:"退出编辑",errors:{genericTitle:"哎呀，出问题了！",failedMeta:"加载元数据失败",mediaFailed:"我们未能请求到您要求的媒体，检查互联网连接并重试。",videoFailed:"我们在播放您要求的视频时遇到了错误。如果错误持续发生，请向 <0>Discord 服务器</0>或 <1>GitHub</1> 提交问题报告。"}},OKe={seasonAndEpisode:"第{{season}}季 第{{episode}}集"},LKe={genericTitle:"未找到",backArrow:"返回首页",media:{title:"无法找到媒体",description:"我们无法找到您请求的媒体。它可能已被删除，或您篡改了 URL"},provider:{title:"该内容提供者已被停用",description:"我们的提供者出现问题，或是太不稳定，导致无法使用，所以我们不得不将其停用。"},page:{title:"无法找到页面",description:"我们已经到处找过了：不管是垃圾桶下、橱柜里或是代理之后。但最终并没有发现您查找的页面。"}},PKe={movie:"电影",series:"连续剧",Search:"搜索"},NKe={findingBestVideo:"正在为您探测最佳视频",noVideos:"哎呀，无法为您找到任何视频",loading:"载入中……",backToHome:"返回首页",backToHomeShort:"返回",seasonAndEpisode:"第{{season}}季 第{{episode}}集",timeLeft:"还剩余 {{timeLeft}}",finishAt:"在 {{timeFinished, datetime}} 结束",buttons:{episodes:"分集",source:"视频源",captions:"字幕",download:"下载",settings:"设置",pictureInPicture:"画中画",playbackSpeed:"播放速度"},popouts:{back:"返回",sources:"视频源",seasons:"分季",captions:"字幕",playbackSpeed:"播放速度",customPlaybackSpeed:"自定义播放速度",captionPreferences:{title:"自定义",delay:"延迟",fontSize:"尺寸",opacity:"透明度",color:"颜色"},episode:"第{{index}}集 - {{title}}",noCaptions:"没有字幕",linkedCaptions:"已链接字幕",customCaption:"自定义字幕",uploadCustomCaption:"上传字幕",noEmbeds:"未发现该视频源的嵌入内容",errors:{loadingWentWong:"加载 {{seasonTitle}} 的分集时出现了一些问题",embedsError:"为您喜欢的这一东西加载嵌入内容时出现了一些问题"},descriptions:{sources:"您想使用哪个内容提供者？",embeds:"选择要观看的视频",seasons:"选择您要观看的季",episode:"选择一个分集",captions:"选择字幕语言",captionPreferences:"让字幕看起来如您所想",playbackSpeed:"改变播放速度"}},errors:{fatalError:"视频播放器遇到致命错误，请向 <0>Discord 服务器</0>或 <1>GitHub</1> 报告。"}},DKe={title:"设置",language:"语言",captionLanguage:"字幕语言"},MKe={newSiteTitle:"新的版本现已发布！",newDomain:"https://movie-web.app",newDomainText:"movie-web 将很快转移到新的域名：<0>https://movie-web.app</0>。请确保已经更新全部书签链接，<1>旧网站将于 {{date}} 停止工作。</1>",tireless:"为了这一新版本，我们不懈努力，希望您会喜欢我们在过去几个月中所做的一切。",leaveAnnouncement:"请带我去！"},FKe={casting:"正在投射到设备……"},BKe={offline:"检查您的互联网连接"},UKe={global:$Ke,search:CKe,media:kKe,seasons:OKe,notFound:LKe,searchBar:PKe,videoPlayer:NKe,settings:DKe,v3:MKe,casting:FKe,errors:BKe},iZ={en:{translation:WWe},nl:{translation:mKe},tr:{translation:IKe},fr:{translation:iKe},de:{translation:PWe},zh:{translation:UKe},cs:{translation:bWe}};Er.use(cMe).init({fallbackLng:"en",resources:iZ,interpolation:{escapeValue:!1}});const jB=x1.filter(t=>Object.keys(iZ).includes(t.id));function jKe(t){const{captionSettings:e,language:r,setLanguage:n,setCaptionLanguage:i,setCaptionBackgroundColor:a,setCaptionFontSize:s}=td(),{t:o,i18n:c}=Ce(),l=A.useMemo(()=>x1.find(d=>d.id===e.language),[e.language]),u=A.useMemo(()=>jB.find(d=>d.id===r),[r]),f=(parseInt(e.style.backgroundColor.substring(7,9),16)/255*100).toFixed(0);return _(eZ,{show:t.show,children:Y(tZ,{className:"text-white",children:[Y("div",{className:"flex flex-col gap-4",children:[Y("div",{className:"flex flex-row justify-between",children:[_("span",{className:"text-xl font-bold",children:o("settings.title")}),_("div",{onClick:()=>t.onClose(),className:"hover:cursor-pointer",children:_(Ge,{icon:ce.X})})]}),Y("div",{className:"flex flex-col gap-10 lg:flex-row",children:[Y("div",{className:"lg:w-1/2",children:[Y("div",{className:"flex flex-col justify-between",children:[_("label",{className:"text-md font-semibold",children:o("settings.language")}),_(bB,{selectedItem:u,setSelectedItem:d=>{c.changeLanguage(d.id),n(d.id)},options:jB})]}),Y("div",{className:"flex flex-col justify-between",children:[_("label",{className:"text-md font-semibold",children:o("settings.captionLanguage")}),_(bB,{selectedItem:l,setSelectedItem:d=>{i(d.id)},options:x1})]}),Y("div",{className:"flex flex-col justify-between",children:[_(zu,{label:o("videoPlayer.popouts.captionPreferences.fontSize"),min:14,step:1,max:60,value:e.style.fontSize,onChange:d=>s(d.target.valueAsNumber)}),_(zu,{label:o("videoPlayer.popouts.captionPreferences.opacity"),step:1,min:0,max:255,valueDisplay:`${f}%`,value:parseInt(e.style.backgroundColor.substring(7,9),16),onChange:d=>a(d.target.valueAsNumber)}),Y("div",{className:"flex flex-row justify-between",children:[_("label",{className:"font-bold",htmlFor:"color",children:o("videoPlayer.popouts.captionPreferences.color")}),_("div",{className:"flex flex-row gap-2",children:qX.map(d=>_(XX,{color:d}))})]})]}),_("div",{})]}),_("div",{className:"flex w-full flex-col justify-center",children:_("div",{className:"flex aspect-video flex-col justify-end rounded bg-zinc-800",children:_("div",{className:"pointer-events-none flex w-full flex-col items-center transition-[bottom]",children:_(JQ,{scale:.5,text:l.nativeName})})})})]})]}),Y("div",{className:"float-right mt-1 text-sm",children:["v",Cr().APP_VERSION]})]})})}function aZ(t){const e=ZE(),[r,n]=A.useState(!1);return Y("div",{className:"fixed left-0 right-0 top-0 z-20 min-h-[150px] bg-gradient-to-b from-denim-300 via-denim-300 to-transparent sm:from-transparent",style:{top:`${e}px`},children:[Y("div",{className:"fixed left-0 right-0 flex items-center justify-between px-7 py-5",children:[_("div",{className:`${t.bg?"opacity-100":"opacity-0"} absolute inset-0 block bg-denim-100 transition-opacity duration-300`,children:_("div",{className:"pointer-events-none absolute -bottom-24 h-24 w-full bg-gradient-to-b from-denim-100 to-transparent"})}),Y("div",{className:"relative flex w-full items-center justify-center sm:w-fit",children:[_("div",{className:"mr-auto sm:mr-6",children:_(ng,{to:"/",children:_(Oq,{clickable:!0})})}),t.children]}),Y("div",{className:`${t.children?"hidden sm:flex":"flex"} relative flex-row	gap-4`,children:[_(tn,{className:"text-2xl text-white",icon:ce.GEAR,clickable:!0,onClick:()=>{n(!0)}}),_("a",{href:Cr().DISCORD_LINK,target:"_blank",rel:"noreferrer",className:"text-2xl text-white",children:_(tn,{icon:ce.DISCORD,clickable:!0})}),_("a",{href:Cr().GITHUB_LINK,target:"_blank",rel:"noreferrer",className:"text-2xl text-white",children:_(tn,{icon:ce.GITHUB,clickable:!0})})]})]}),_(jKe,{show:r,onClose:()=>n(!1)})]})}function sZ(t){const e=t.direction||"right",r=!!t.url,n=!!t.to,i=Y("span",{className:"group mt-1 inline-flex cursor-pointer items-center space-x-1 pr-1 font-bold text-bink-600 hover:text-bink-700 active:scale-95",children:[e==="left"?_("span",{className:"text-xl transition-transform group-hover:-translate-x-1",children:_(Ge,{icon:ce.ARROW_LEFT})}):null,_("span",{className:"flex-1",children:t.linkText}),e==="right"?_("span",{className:"text-xl transition-transform group-hover:translate-x-1",children:_(Ge,{icon:ce.ARROW_RIGHT})}):null]});return r?_("a",{href:t.url,children:i}):n?_(ng,{to:t.to,children:i}):_("span",{onClick:()=>t.onClick&&t.onClick(),children:i})}function oZ(t){const{t:e}=Ce(),r=r_();return Y("div",{className:"relative flex flex-1 flex-col",children:[_(pa,{children:_("title",{children:e("notFound.genericTitle")})}),t.video?_("div",{className:"absolute inset-x-0 top-0 px-8 py-6",children:_(yc,{onClick:r})}):_(aZ,{}),_("div",{className:"flex h-full flex-1 flex-col items-center justify-center p-5 text-center",children:t.children})]})}function HKe(){const{t}=Ce();return Y("div",{className:"flex flex-1 flex-col items-center justify-center p-5 text-center",children:[_(tn,{icon:ce.EYE_SLASH,className:"mb-6 text-xl text-bink-600"}),_(ig,{children:t("notFound.media.title")}),_("p",{className:"mb-12 mt-5 max-w-sm",children:t("notFound.media.description")}),_(sZ,{to:"/",linkText:t("notFound.backArrow")})]})}function GKe(){const{t}=Ce();return Y(oZ,{children:[_(tn,{icon:ce.EYE_SLASH,className:"mb-6 text-xl text-bink-600"}),_(ig,{children:t("notFound.page.title")}),_("p",{className:"mb-12 mt-5 max-w-sm",children:t("notFound.page.description")}),_(sZ,{to:"/",linkText:t("notFound.backArrow")})]})}function zKe(t){const{t:e}=Ce();return Y("div",{className:"relative flex flex-1 items-center justify-center",children:[_(pa,{children:_("title",{children:e("videoPlayer.loading")})}),_("div",{className:"absolute inset-x-0 top-0 px-8 py-6",children:_(yc,{onClick:t.onGoBack})}),Y("div",{className:"flex flex-col items-center",children:[_(ag,{className:"mb-4"}),_("p",{className:"mb-8 text-denim-700",children:e("videoPlayer.findingBestVideo")})]})]})}function VKe(t){const{eventLog:e,stream:r,pending:n}=L6e(t.meta,t.selected),{t:i}=Ce();return A.useEffect(()=>{r&&t.onStream(r)},[r,t]),Y("div",{className:"relative flex flex-1 items-center justify-center",children:[_(pa,{children:_("title",{children:t.meta.meta.title})}),_("div",{className:"absolute inset-x-0 top-0 px-8 py-6",children:_(yc,{onClick:t.onGoBack,media:t.meta.meta})}),Y("div",{className:"flex flex-col items-center transition-opacity duration-200",children:[n?Y(vr,{children:[_(ag,{}),_("p",{className:"mb-8 text-denim-700",children:i("videoPlayer.findingBestVideo")})]}):Y(vr,{children:[_(tn,{icon:ce.EYE_SLASH,className:"mb-8 text-bink-700"}),_("p",{className:"mb-8 text-denim-700",children:i("videoPlayer.noVideos")})]}),_("div",{className:`flex flex-col items-center transition-opacity duration-200 ${n?"opacity-100":"opacity-0"}`,children:_(kVe,{events:e})})]})]})}function WKe(t){const e=r_(),{updateProgress:r,watchedItem:n}=WFe(t.meta,t.selected.episode),i=A.useRef(n==null?void 0:n.progress);A.useEffect(()=>{i.current=n==null?void 0:n.progress},[t.stream]);const a={meta:t.meta,captions:[]};let s;return t.selected.type===ve.SERIES&&t.meta.meta.type===ve.SERIES&&(a.episode={seasonId:t.selected.season,episodeId:t.selected.episode},a.seasons=t.meta.meta.seasons,s=t.meta.meta.seasonData),Y("div",{className:"fixed left-0 top-0 h-[100dvh] w-screen",children:[_(pa,{children:_("html",{"data-full":"true"})}),Y(IVe,{includeSafeArea:!0,autoPlay:!0,onGoBack:e,children:[_(z6e,{data:a,seasonData:s,linkedCaptions:t.stream.captions}),_(IBe,{source:t.stream.streamUrl,type:t.stream.type,quality:t.stream.quality,embedId:t.stream.embedId,providerId:t.stream.providerId,captions:t.stream.captions}),_(c5e,{startAt:i.current,onProgress:r}),_(u5e,{onSelect:o=>{var c;return o.seasonId&&o.episodeId&&((c=t.onChangeStream)==null?void 0:c.call(t,o.seasonId,o.episodeId))}})]})]})}function HB(){const t=CY(),e=r_(),r=ed(),[n,i]=A.useState(null),[a,s]=A.useState(null),[o,c,l]=rd(async(h,p)=>{const m=JY(h);return m?p1(m.type,m.id,p):null}),[u,f]=A.useState(null),d=A.useRef(null);return A.useEffect(()=>{const h=[t.media,t.season,t.episode],p=d.current,m=(p==null?void 0:p[0])===h[0]&&((p==null?void 0:p[1])===h[1]||!(p!=null&&p[1]))&&((p==null?void 0:p[2])===h[2]||!(p!=null&&p[2]));d.current=h,!(m&&p!==null)&&(i(null),f(null),s(null),o(t.media,t.season).then(g=>{if(i(g??null),f(null),g)if(g.meta.type!==ve.SERIES)s({type:g.meta.type,season:void 0,episode:void 0});else{const v=t.season??g.meta.seasonData.id,y=t.episode??g.meta.seasonData.episodes[0].id;s({type:ve.SERIES,season:v,episode:y}),(v!==t.season||y!==t.episode)&&r.replace(`/media/${encodeURIComponent(t.media)}/${encodeURIComponent(v)}/${encodeURIComponent(y)}`)}else s(null)}))},[o,r,t]),c?_(zKe,{onGoBack:e}):l?_($Ve,{}):!n||!a?_(oZ,{video:!0,children:_(HKe,{})}):u?_(WKe,{meta:n,stream:u,selected:a,onChangeStream:(h,p)=>{r.replace(`/media/${encodeURIComponent(t.media)}/${encodeURIComponent(h)}/${encodeURIComponent(p)}`)}}):_(VKe,{meta:n,selected:a,onGoBack:e,onStream:f})}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const KKe=4,GB=0,zB=1,YKe=2;function sd(t){let e=t.length;for(;--e>=0;)t[e]=0}const qKe=0,lZ=1,XKe=2,QKe=3,ZKe=258,jO=29,gg=256,ep=gg+1+jO,Wu=30,HO=19,cZ=2*ep+1,Il=15,bw=16,JKe=7,GO=256,uZ=16,fZ=17,dZ=18,qA=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),ey=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),eYe=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),hZ=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),tYe=512,Ha=new Array((ep+2)*2);sd(Ha);const i0=new Array(Wu*2);sd(i0);const tp=new Array(tYe);sd(tp);const rp=new Array(ZKe-QKe+1);sd(rp);const zO=new Array(jO);sd(zO);const M1=new Array(Wu);sd(M1);function Sw(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}let pZ,gZ,mZ;function Tw(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const vZ=t=>t<256?tp[t]:tp[256+(t>>>7)],np=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},Zr=(t,e,r)=>{t.bi_valid>bw-r?(t.bi_buf|=e<<t.bi_valid&65535,np(t,t.bi_buf),t.bi_buf=e>>bw-t.bi_valid,t.bi_valid+=r-bw):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)},Ji=(t,e,r)=>{Zr(t,r[e*2],r[e*2+1])},yZ=(t,e)=>{let r=0;do r|=t&1,t>>>=1,r<<=1;while(--e>0);return r>>>1},rYe=t=>{t.bi_valid===16?(np(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},nYe=(t,e)=>{const r=e.dyn_tree,n=e.max_code,i=e.stat_desc.static_tree,a=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,o=e.stat_desc.extra_base,c=e.stat_desc.max_length;let l,u,f,d,h,p,m=0;for(d=0;d<=Il;d++)t.bl_count[d]=0;for(r[t.heap[t.heap_max]*2+1]=0,l=t.heap_max+1;l<cZ;l++)u=t.heap[l],d=r[r[u*2+1]*2+1]+1,d>c&&(d=c,m++),r[u*2+1]=d,!(u>n)&&(t.bl_count[d]++,h=0,u>=o&&(h=s[u-o]),p=r[u*2],t.opt_len+=p*(d+h),a&&(t.static_len+=p*(i[u*2+1]+h)));if(m!==0){do{for(d=c-1;t.bl_count[d]===0;)d--;t.bl_count[d]--,t.bl_count[d+1]+=2,t.bl_count[c]--,m-=2}while(m>0);for(d=c;d!==0;d--)for(u=t.bl_count[d];u!==0;)f=t.heap[--l],!(f>n)&&(r[f*2+1]!==d&&(t.opt_len+=(d-r[f*2+1])*r[f*2],r[f*2+1]=d),u--)}},xZ=(t,e,r)=>{const n=new Array(Il+1);let i=0,a,s;for(a=1;a<=Il;a++)i=i+r[a-1]<<1,n[a]=i;for(s=0;s<=e;s++){let o=t[s*2+1];o!==0&&(t[s*2]=yZ(n[o]++,o))}},iYe=()=>{let t,e,r,n,i;const a=new Array(Il+1);for(r=0,n=0;n<jO-1;n++)for(zO[n]=r,t=0;t<1<<qA[n];t++)rp[r++]=n;for(rp[r-1]=n,i=0,n=0;n<16;n++)for(M1[n]=i,t=0;t<1<<ey[n];t++)tp[i++]=n;for(i>>=7;n<Wu;n++)for(M1[n]=i<<7,t=0;t<1<<ey[n]-7;t++)tp[256+i++]=n;for(e=0;e<=Il;e++)a[e]=0;for(t=0;t<=143;)Ha[t*2+1]=8,t++,a[8]++;for(;t<=255;)Ha[t*2+1]=9,t++,a[9]++;for(;t<=279;)Ha[t*2+1]=7,t++,a[7]++;for(;t<=287;)Ha[t*2+1]=8,t++,a[8]++;for(xZ(Ha,ep+1,a),t=0;t<Wu;t++)i0[t*2+1]=5,i0[t*2]=yZ(t,5);pZ=new Sw(Ha,qA,gg+1,ep,Il),gZ=new Sw(i0,ey,0,Wu,Il),mZ=new Sw(new Array(0),eYe,0,HO,JKe)},EZ=t=>{let e;for(e=0;e<ep;e++)t.dyn_ltree[e*2]=0;for(e=0;e<Wu;e++)t.dyn_dtree[e*2]=0;for(e=0;e<HO;e++)t.bl_tree[e*2]=0;t.dyn_ltree[GO*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},_Z=t=>{t.bi_valid>8?np(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},VB=(t,e,r,n)=>{const i=e*2,a=r*2;return t[i]<t[a]||t[i]===t[a]&&n[e]<=n[r]},ww=(t,e,r)=>{const n=t.heap[r];let i=r<<1;for(;i<=t.heap_len&&(i<t.heap_len&&VB(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!VB(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n},WB=(t,e,r)=>{let n,i,a=0,s,o;if(t.sym_next!==0)do n=t.pending_buf[t.sym_buf+a++]&255,n+=(t.pending_buf[t.sym_buf+a++]&255)<<8,i=t.pending_buf[t.sym_buf+a++],n===0?Ji(t,i,e):(s=rp[i],Ji(t,s+gg+1,e),o=qA[s],o!==0&&(i-=zO[s],Zr(t,i,o)),n--,s=vZ(n),Ji(t,s,r),o=ey[s],o!==0&&(n-=M1[s],Zr(t,n,o)));while(a<t.sym_next);Ji(t,GO,e)},XA=(t,e)=>{const r=e.dyn_tree,n=e.stat_desc.static_tree,i=e.stat_desc.has_stree,a=e.stat_desc.elems;let s,o,c=-1,l;for(t.heap_len=0,t.heap_max=cZ,s=0;s<a;s++)r[s*2]!==0?(t.heap[++t.heap_len]=c=s,t.depth[s]=0):r[s*2+1]=0;for(;t.heap_len<2;)l=t.heap[++t.heap_len]=c<2?++c:0,r[l*2]=1,t.depth[l]=0,t.opt_len--,i&&(t.static_len-=n[l*2+1]);for(e.max_code=c,s=t.heap_len>>1;s>=1;s--)ww(t,r,s);l=a;do s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],ww(t,r,1),o=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=o,r[l*2]=r[s*2]+r[o*2],t.depth[l]=(t.depth[s]>=t.depth[o]?t.depth[s]:t.depth[o])+1,r[s*2+1]=r[o*2+1]=l,t.heap[1]=l++,ww(t,r,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],nYe(t,e),xZ(r,c,t.bl_count)},KB=(t,e,r)=>{let n,i=-1,a,s=e[0*2+1],o=0,c=7,l=4;for(s===0&&(c=138,l=3),e[(r+1)*2+1]=65535,n=0;n<=r;n++)a=s,s=e[(n+1)*2+1],!(++o<c&&a===s)&&(o<l?t.bl_tree[a*2]+=o:a!==0?(a!==i&&t.bl_tree[a*2]++,t.bl_tree[uZ*2]++):o<=10?t.bl_tree[fZ*2]++:t.bl_tree[dZ*2]++,o=0,i=a,s===0?(c=138,l=3):a===s?(c=6,l=3):(c=7,l=4))},YB=(t,e,r)=>{let n,i=-1,a,s=e[0*2+1],o=0,c=7,l=4;for(s===0&&(c=138,l=3),n=0;n<=r;n++)if(a=s,s=e[(n+1)*2+1],!(++o<c&&a===s)){if(o<l)do Ji(t,a,t.bl_tree);while(--o!==0);else a!==0?(a!==i&&(Ji(t,a,t.bl_tree),o--),Ji(t,uZ,t.bl_tree),Zr(t,o-3,2)):o<=10?(Ji(t,fZ,t.bl_tree),Zr(t,o-3,3)):(Ji(t,dZ,t.bl_tree),Zr(t,o-11,7));o=0,i=a,s===0?(c=138,l=3):a===s?(c=6,l=3):(c=7,l=4)}},aYe=t=>{let e;for(KB(t,t.dyn_ltree,t.l_desc.max_code),KB(t,t.dyn_dtree,t.d_desc.max_code),XA(t,t.bl_desc),e=HO-1;e>=3&&t.bl_tree[hZ[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},sYe=(t,e,r,n)=>{let i;for(Zr(t,e-257,5),Zr(t,r-1,5),Zr(t,n-4,4),i=0;i<n;i++)Zr(t,t.bl_tree[hZ[i]*2+1],3);YB(t,t.dyn_ltree,e-1),YB(t,t.dyn_dtree,r-1)},oYe=t=>{let e=4093624447,r;for(r=0;r<=31;r++,e>>>=1)if(e&1&&t.dyn_ltree[r*2]!==0)return GB;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return zB;for(r=32;r<gg;r++)if(t.dyn_ltree[r*2]!==0)return zB;return GB};let qB=!1;const lYe=t=>{qB||(iYe(),qB=!0),t.l_desc=new Tw(t.dyn_ltree,pZ),t.d_desc=new Tw(t.dyn_dtree,gZ),t.bl_desc=new Tw(t.bl_tree,mZ),t.bi_buf=0,t.bi_valid=0,EZ(t)},bZ=(t,e,r,n)=>{Zr(t,(qKe<<1)+(n?1:0),3),_Z(t),np(t,r),np(t,~r),r&&t.pending_buf.set(t.window.subarray(e,e+r),t.pending),t.pending+=r},cYe=t=>{Zr(t,lZ<<1,3),Ji(t,GO,Ha),rYe(t)},uYe=(t,e,r,n)=>{let i,a,s=0;t.level>0?(t.strm.data_type===YKe&&(t.strm.data_type=oYe(t)),XA(t,t.l_desc),XA(t,t.d_desc),s=aYe(t),i=t.opt_len+3+7>>>3,a=t.static_len+3+7>>>3,a<=i&&(i=a)):i=a=r+5,r+4<=i&&e!==-1?bZ(t,e,r,n):t.strategy===KKe||a===i?(Zr(t,(lZ<<1)+(n?1:0),3),WB(t,Ha,i0)):(Zr(t,(XKe<<1)+(n?1:0),3),sYe(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),WB(t,t.dyn_ltree,t.dyn_dtree)),EZ(t),n&&_Z(t)},fYe=(t,e,r)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=r,e===0?t.dyn_ltree[r*2]++:(t.matches++,e--,t.dyn_ltree[(rp[r]+gg+1)*2]++,t.dyn_dtree[vZ(e)*2]++),t.sym_next===t.sym_end);var dYe=lYe,hYe=bZ,pYe=uYe,gYe=fYe,mYe=cYe,vYe={_tr_init:dYe,_tr_stored_block:hYe,_tr_flush_block:pYe,_tr_tally:gYe,_tr_align:mYe};const yYe=(t,e,r,n)=>{let i=t&65535|0,a=t>>>16&65535|0,s=0;for(;r!==0;){s=r>2e3?2e3:r,r-=s;do i=i+e[n++]|0,a=a+i|0;while(--s);i%=65521,a%=65521}return i|a<<16|0};var ip=yYe;const xYe=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},EYe=new Uint32Array(xYe()),_Ye=(t,e,r,n)=>{const i=EYe,a=n+r;t^=-1;for(let s=n;s<a;s++)t=t>>>8^i[(t^e[s])&255];return t^-1};var Ht=_Ye,Jl={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Ec={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:bYe,_tr_stored_block:QA,_tr_flush_block:SYe,_tr_tally:go,_tr_align:TYe}=vYe,{Z_NO_FLUSH:mo,Z_PARTIAL_FLUSH:wYe,Z_FULL_FLUSH:RYe,Z_FINISH:Kn,Z_BLOCK:XB,Z_OK:Qt,Z_STREAM_END:QB,Z_STREAM_ERROR:ca,Z_DATA_ERROR:AYe,Z_BUF_ERROR:Rw,Z_DEFAULT_COMPRESSION:IYe,Z_FILTERED:$Ye,Z_HUFFMAN_ONLY:Qm,Z_RLE:CYe,Z_FIXED:kYe,Z_DEFAULT_STRATEGY:OYe,Z_UNKNOWN:LYe,Z_DEFLATED:S_}=Ec,PYe=9,NYe=15,DYe=8,MYe=29,FYe=256,ZA=FYe+1+MYe,BYe=30,UYe=19,jYe=2*ZA+1,HYe=15,Oe=3,to=258,ua=to+Oe+1,GYe=32,Ef=42,VO=57,JA=69,eI=73,tI=91,rI=103,$l=113,wh=666,Ar=1,od=2,ec=3,ld=4,zYe=3,Cl=(t,e)=>(t.msg=Jl[e],e),ZB=t=>t*2-(t>4?9:0),zs=t=>{let e=t.length;for(;--e>=0;)t[e]=0},VYe=t=>{let e,r,n,i=t.w_size;e=t.hash_size,n=e;do r=t.head[--n],t.head[n]=r>=i?r-i:0;while(--e);e=i,n=e;do r=t.prev[--n],t.prev[n]=r>=i?r-i:0;while(--e)};let WYe=(t,e,r)=>(e<<t.hash_shift^r)&t.hash_mask,vo=WYe;const hn=t=>{const e=t.state;let r=e.pending;r>t.avail_out&&(r=t.avail_out),r!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,e.pending===0&&(e.pending_out=0))},_n=(t,e)=>{SYe(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,hn(t.strm)},He=(t,e)=>{t.pending_buf[t.pending++]=e},sh=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},nI=(t,e,r,n)=>{let i=t.avail_in;return i>n&&(i=n),i===0?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),r),t.state.wrap===1?t.adler=ip(t.adler,e,i,r):t.state.wrap===2&&(t.adler=Ht(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)},SZ=(t,e)=>{let r=t.max_chain_length,n=t.strstart,i,a,s=t.prev_length,o=t.nice_match;const c=t.strstart>t.w_size-ua?t.strstart-(t.w_size-ua):0,l=t.window,u=t.w_mask,f=t.prev,d=t.strstart+to;let h=l[n+s-1],p=l[n+s];t.prev_length>=t.good_match&&(r>>=2),o>t.lookahead&&(o=t.lookahead);do if(i=e,!(l[i+s]!==p||l[i+s-1]!==h||l[i]!==l[n]||l[++i]!==l[n+1])){n+=2,i++;do;while(l[++n]===l[++i]&&l[++n]===l[++i]&&l[++n]===l[++i]&&l[++n]===l[++i]&&l[++n]===l[++i]&&l[++n]===l[++i]&&l[++n]===l[++i]&&l[++n]===l[++i]&&n<d);if(a=to-(d-n),n=d-to,a>s){if(t.match_start=e,s=a,a>=o)break;h=l[n+s-1],p=l[n+s]}}while((e=f[e&u])>c&&--r!==0);return s<=t.lookahead?s:t.lookahead},_f=t=>{const e=t.w_size;let r,n,i;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-ua)&&(t.window.set(t.window.subarray(e,e+e-n),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),VYe(t),n+=e),t.strm.avail_in===0)break;if(r=nI(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=r,t.lookahead+t.insert>=Oe)for(i=t.strstart-t.insert,t.ins_h=t.window[i],t.ins_h=vo(t,t.ins_h,t.window[i+1]);t.insert&&(t.ins_h=vo(t,t.ins_h,t.window[i+Oe-1]),t.prev[i&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=i,i++,t.insert--,!(t.lookahead+t.insert<Oe)););}while(t.lookahead<ua&&t.strm.avail_in!==0)},TZ=(t,e)=>{let r=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,n,i,a,s=0,o=t.strm.avail_in;do{if(n=65535,a=t.bi_valid+42>>3,t.strm.avail_out<a||(a=t.strm.avail_out-a,i=t.strstart-t.block_start,n>i+t.strm.avail_in&&(n=i+t.strm.avail_in),n>a&&(n=a),n<r&&(n===0&&e!==Kn||e===mo||n!==i+t.strm.avail_in)))break;s=e===Kn&&n===i+t.strm.avail_in?1:0,QA(t,0,0,s),t.pending_buf[t.pending-4]=n,t.pending_buf[t.pending-3]=n>>8,t.pending_buf[t.pending-2]=~n,t.pending_buf[t.pending-1]=~n>>8,hn(t.strm),i&&(i>n&&(i=n),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+i),t.strm.next_out),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i,t.block_start+=i,n-=i),n&&(nI(t.strm,t.strm.output,t.strm.next_out,n),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n)}while(s===0);return o-=t.strm.avail_in,o&&(o>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=o&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-o,t.strm.next_in),t.strstart),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),s?ld:e!==mo&&e!==Kn&&t.strm.avail_in===0&&t.strstart===t.block_start?od:(a=t.window_size-t.strstart,t.strm.avail_in>a&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,a+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),a>t.strm.avail_in&&(a=t.strm.avail_in),a&&(nI(t.strm,t.window,t.strstart,a),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.high_water<t.strstart&&(t.high_water=t.strstart),a=t.bi_valid+42>>3,a=t.pending_buf_size-a>65535?65535:t.pending_buf_size-a,r=a>t.w_size?t.w_size:a,i=t.strstart-t.block_start,(i>=r||(i||e===Kn)&&e!==mo&&t.strm.avail_in===0&&i<=a)&&(n=i>a?a:i,s=e===Kn&&t.strm.avail_in===0&&n===i?1:0,QA(t,t.block_start,n,s),t.block_start+=n,hn(t.strm)),s?ec:Ar)},Aw=(t,e)=>{let r,n;for(;;){if(t.lookahead<ua){if(_f(t),t.lookahead<ua&&e===mo)return Ar;if(t.lookahead===0)break}if(r=0,t.lookahead>=Oe&&(t.ins_h=vo(t,t.ins_h,t.window[t.strstart+Oe-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),r!==0&&t.strstart-r<=t.w_size-ua&&(t.match_length=SZ(t,r)),t.match_length>=Oe)if(n=go(t,t.strstart-t.match_start,t.match_length-Oe),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=Oe){t.match_length--;do t.strstart++,t.ins_h=vo(t,t.ins_h,t.window[t.strstart+Oe-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=vo(t,t.ins_h,t.window[t.strstart+1]);else n=go(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(_n(t,!1),t.strm.avail_out===0))return Ar}return t.insert=t.strstart<Oe-1?t.strstart:Oe-1,e===Kn?(_n(t,!0),t.strm.avail_out===0?ec:ld):t.sym_next&&(_n(t,!1),t.strm.avail_out===0)?Ar:od},qc=(t,e)=>{let r,n,i;for(;;){if(t.lookahead<ua){if(_f(t),t.lookahead<ua&&e===mo)return Ar;if(t.lookahead===0)break}if(r=0,t.lookahead>=Oe&&(t.ins_h=vo(t,t.ins_h,t.window[t.strstart+Oe-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=Oe-1,r!==0&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-ua&&(t.match_length=SZ(t,r),t.match_length<=5&&(t.strategy===$Ye||t.match_length===Oe&&t.strstart-t.match_start>4096)&&(t.match_length=Oe-1)),t.prev_length>=Oe&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-Oe,n=go(t,t.strstart-1-t.prev_match,t.prev_length-Oe),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=i&&(t.ins_h=vo(t,t.ins_h,t.window[t.strstart+Oe-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=Oe-1,t.strstart++,n&&(_n(t,!1),t.strm.avail_out===0))return Ar}else if(t.match_available){if(n=go(t,0,t.window[t.strstart-1]),n&&_n(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return Ar}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=go(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<Oe-1?t.strstart:Oe-1,e===Kn?(_n(t,!0),t.strm.avail_out===0?ec:ld):t.sym_next&&(_n(t,!1),t.strm.avail_out===0)?Ar:od},KYe=(t,e)=>{let r,n,i,a;const s=t.window;for(;;){if(t.lookahead<=to){if(_f(t),t.lookahead<=to&&e===mo)return Ar;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=Oe&&t.strstart>0&&(i=t.strstart-1,n=s[i],n===s[++i]&&n===s[++i]&&n===s[++i])){a=t.strstart+to;do;while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<a);t.match_length=to-(a-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=Oe?(r=go(t,1,t.match_length-Oe),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=go(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(_n(t,!1),t.strm.avail_out===0))return Ar}return t.insert=0,e===Kn?(_n(t,!0),t.strm.avail_out===0?ec:ld):t.sym_next&&(_n(t,!1),t.strm.avail_out===0)?Ar:od},YYe=(t,e)=>{let r;for(;;){if(t.lookahead===0&&(_f(t),t.lookahead===0)){if(e===mo)return Ar;break}if(t.match_length=0,r=go(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(_n(t,!1),t.strm.avail_out===0))return Ar}return t.insert=0,e===Kn?(_n(t,!0),t.strm.avail_out===0?ec:ld):t.sym_next&&(_n(t,!1),t.strm.avail_out===0)?Ar:od};function Wi(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}const Rh=[new Wi(0,0,0,0,TZ),new Wi(4,4,8,4,Aw),new Wi(4,5,16,8,Aw),new Wi(4,6,32,32,Aw),new Wi(4,4,16,16,qc),new Wi(8,16,32,32,qc),new Wi(8,16,128,128,qc),new Wi(8,32,128,256,qc),new Wi(32,128,258,1024,qc),new Wi(32,258,258,4096,qc)],qYe=t=>{t.window_size=2*t.w_size,zs(t.head),t.max_lazy_match=Rh[t.level].max_lazy,t.good_match=Rh[t.level].good_length,t.nice_match=Rh[t.level].nice_length,t.max_chain_length=Rh[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=Oe-1,t.match_available=0,t.ins_h=0};function XYe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=S_,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(jYe*2),this.dyn_dtree=new Uint16Array((2*BYe+1)*2),this.bl_tree=new Uint16Array((2*UYe+1)*2),zs(this.dyn_ltree),zs(this.dyn_dtree),zs(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(HYe+1),this.heap=new Uint16Array(2*ZA+1),zs(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*ZA+1),zs(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const mg=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==Ef&&e.status!==VO&&e.status!==JA&&e.status!==eI&&e.status!==tI&&e.status!==rI&&e.status!==$l&&e.status!==wh?1:0},wZ=t=>{if(mg(t))return Cl(t,ca);t.total_in=t.total_out=0,t.data_type=LYe;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?VO:e.wrap?Ef:$l,t.adler=e.wrap===2?0:1,e.last_flush=-2,bYe(e),Qt},RZ=t=>{const e=wZ(t);return e===Qt&&qYe(t.state),e},QYe=(t,e)=>mg(t)||t.state.wrap!==2?ca:(t.state.gzhead=e,Qt),AZ=(t,e,r,n,i,a)=>{if(!t)return ca;let s=1;if(e===IYe&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),i<1||i>PYe||r!==S_||n<8||n>15||e<0||e>9||a<0||a>kYe||n===8&&s!==1)return Cl(t,ca);n===8&&(n=9);const o=new XYe;return t.state=o,o.strm=t,o.status=Ef,o.wrap=s,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+Oe-1)/Oe),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=e,o.strategy=a,o.method=r,RZ(t)},ZYe=(t,e)=>AZ(t,e,S_,NYe,DYe,OYe),JYe=(t,e)=>{if(mg(t)||e>XB||e<0)return t?Cl(t,ca):ca;const r=t.state;if(!t.output||t.avail_in!==0&&!t.input||r.status===wh&&e!==Kn)return Cl(t,t.avail_out===0?Rw:ca);const n=r.last_flush;if(r.last_flush=e,r.pending!==0){if(hn(t),t.avail_out===0)return r.last_flush=-1,Qt}else if(t.avail_in===0&&ZB(e)<=ZB(n)&&e!==Kn)return Cl(t,Rw);if(r.status===wh&&t.avail_in!==0)return Cl(t,Rw);if(r.status===Ef&&r.wrap===0&&(r.status=$l),r.status===Ef){let i=S_+(r.w_bits-8<<4)<<8,a=-1;if(r.strategy>=Qm||r.level<2?a=0:r.level<6?a=1:r.level===6?a=2:a=3,i|=a<<6,r.strstart!==0&&(i|=GYe),i+=31-i%31,sh(r,i),r.strstart!==0&&(sh(r,t.adler>>>16),sh(r,t.adler&65535)),t.adler=1,r.status=$l,hn(t),r.pending!==0)return r.last_flush=-1,Qt}if(r.status===VO){if(t.adler=0,He(r,31),He(r,139),He(r,8),r.gzhead)He(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),He(r,r.gzhead.time&255),He(r,r.gzhead.time>>8&255),He(r,r.gzhead.time>>16&255),He(r,r.gzhead.time>>24&255),He(r,r.level===9?2:r.strategy>=Qm||r.level<2?4:0),He(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(He(r,r.gzhead.extra.length&255),He(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=Ht(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=JA;else if(He(r,0),He(r,0),He(r,0),He(r,0),He(r,0),He(r,r.level===9?2:r.strategy>=Qm||r.level<2?4:0),He(r,zYe),r.status=$l,hn(t),r.pending!==0)return r.last_flush=-1,Qt}if(r.status===JA){if(r.gzhead.extra){let i=r.pending,a=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+a>r.pending_buf_size;){let o=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+o),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>i&&(t.adler=Ht(t.adler,r.pending_buf,r.pending-i,i)),r.gzindex+=o,hn(t),r.pending!==0)return r.last_flush=-1,Qt;i=0,a-=o}let s=new Uint8Array(r.gzhead.extra);r.pending_buf.set(s.subarray(r.gzindex,r.gzindex+a),r.pending),r.pending+=a,r.gzhead.hcrc&&r.pending>i&&(t.adler=Ht(t.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=eI}if(r.status===eI){if(r.gzhead.name){let i=r.pending,a;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(t.adler=Ht(t.adler,r.pending_buf,r.pending-i,i)),hn(t),r.pending!==0)return r.last_flush=-1,Qt;i=0}r.gzindex<r.gzhead.name.length?a=r.gzhead.name.charCodeAt(r.gzindex++)&255:a=0,He(r,a)}while(a!==0);r.gzhead.hcrc&&r.pending>i&&(t.adler=Ht(t.adler,r.pending_buf,r.pending-i,i)),r.gzindex=0}r.status=tI}if(r.status===tI){if(r.gzhead.comment){let i=r.pending,a;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>i&&(t.adler=Ht(t.adler,r.pending_buf,r.pending-i,i)),hn(t),r.pending!==0)return r.last_flush=-1,Qt;i=0}r.gzindex<r.gzhead.comment.length?a=r.gzhead.comment.charCodeAt(r.gzindex++)&255:a=0,He(r,a)}while(a!==0);r.gzhead.hcrc&&r.pending>i&&(t.adler=Ht(t.adler,r.pending_buf,r.pending-i,i))}r.status=rI}if(r.status===rI){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(hn(t),r.pending!==0))return r.last_flush=-1,Qt;He(r,t.adler&255),He(r,t.adler>>8&255),t.adler=0}if(r.status=$l,hn(t),r.pending!==0)return r.last_flush=-1,Qt}if(t.avail_in!==0||r.lookahead!==0||e!==mo&&r.status!==wh){let i=r.level===0?TZ(r,e):r.strategy===Qm?YYe(r,e):r.strategy===CYe?KYe(r,e):Rh[r.level].func(r,e);if((i===ec||i===ld)&&(r.status=wh),i===Ar||i===ec)return t.avail_out===0&&(r.last_flush=-1),Qt;if(i===od&&(e===wYe?TYe(r):e!==XB&&(QA(r,0,0,!1),e===RYe&&(zs(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),hn(t),t.avail_out===0))return r.last_flush=-1,Qt}return e!==Kn?Qt:r.wrap<=0?QB:(r.wrap===2?(He(r,t.adler&255),He(r,t.adler>>8&255),He(r,t.adler>>16&255),He(r,t.adler>>24&255),He(r,t.total_in&255),He(r,t.total_in>>8&255),He(r,t.total_in>>16&255),He(r,t.total_in>>24&255)):(sh(r,t.adler>>>16),sh(r,t.adler&65535)),hn(t),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?Qt:QB)},eqe=t=>{if(mg(t))return ca;const e=t.state.status;return t.state=null,e===$l?Cl(t,AYe):Qt},tqe=(t,e)=>{let r=e.length;if(mg(t))return ca;const n=t.state,i=n.wrap;if(i===2||i===1&&n.status!==Ef||n.lookahead)return ca;if(i===1&&(t.adler=ip(t.adler,e,r,0)),n.wrap=0,r>=n.w_size){i===0&&(zs(n.head),n.strstart=0,n.block_start=0,n.insert=0);let c=new Uint8Array(n.w_size);c.set(e.subarray(r-n.w_size,r),0),e=c,r=n.w_size}const a=t.avail_in,s=t.next_in,o=t.input;for(t.avail_in=r,t.next_in=0,t.input=e,_f(n);n.lookahead>=Oe;){let c=n.strstart,l=n.lookahead-(Oe-1);do n.ins_h=vo(n,n.ins_h,n.window[c+Oe-1]),n.prev[c&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=c,c++;while(--l);n.strstart=c,n.lookahead=Oe-1,_f(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=Oe-1,n.match_available=0,t.next_in=s,t.input=o,t.avail_in=a,n.wrap=i,Qt};var rqe=ZYe,nqe=AZ,iqe=RZ,aqe=wZ,sqe=QYe,oqe=JYe,lqe=eqe,cqe=tqe,uqe="pako deflate (from Nodeca project)",a0={deflateInit:rqe,deflateInit2:nqe,deflateReset:iqe,deflateResetKeep:aqe,deflateSetHeader:sqe,deflate:oqe,deflateEnd:lqe,deflateSetDictionary:cqe,deflateInfo:uqe};const fqe=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var dqe=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)fqe(r,n)&&(t[n]=r[n])}}return t},hqe=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,a=t.length;n<a;n++){let s=t[n];r.set(s,i),i+=s.length}return r},T_={assign:dqe,flattenChunks:hqe};let IZ=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{IZ=!1}const ap=new Uint8Array(256);for(let t=0;t<256;t++)ap[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;ap[254]=ap[254]=1;var pqe=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,i,a,s=t.length,o=0;for(i=0;i<s;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(o),a=0,i=0;a<o;i++)r=t.charCodeAt(i),(r&64512)===55296&&i+1<s&&(n=t.charCodeAt(i+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[a++]=r:r<2048?(e[a++]=192|r>>>6,e[a++]=128|r&63):r<65536?(e[a++]=224|r>>>12,e[a++]=128|r>>>6&63,e[a++]=128|r&63):(e[a++]=240|r>>>18,e[a++]=128|r>>>12&63,e[a++]=128|r>>>6&63,e[a++]=128|r&63);return e};const gqe=(t,e)=>{if(e<65534&&t.subarray&&IZ)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var mqe=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,i;const a=new Array(r*2);for(i=0,n=0;n<r;){let s=t[n++];if(s<128){a[i++]=s;continue}let o=ap[s];if(o>4){a[i++]=65533,n+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&n<r;)s=s<<6|t[n++]&63,o--;if(o>1){a[i++]=65533;continue}s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|s&1023)}return gqe(a,i)},vqe=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+ap[t[r]]>e?r:e},sp={string2buf:pqe,buf2string:mqe,utf8border:vqe};function yqe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var $Z=yqe;const CZ=Object.prototype.toString,{Z_NO_FLUSH:xqe,Z_SYNC_FLUSH:Eqe,Z_FULL_FLUSH:_qe,Z_FINISH:bqe,Z_OK:F1,Z_STREAM_END:Sqe,Z_DEFAULT_COMPRESSION:Tqe,Z_DEFAULT_STRATEGY:wqe,Z_DEFLATED:Rqe}=Ec;function vg(t){this.options=T_.assign({level:Tqe,method:Rqe,chunkSize:16384,windowBits:15,memLevel:8,strategy:wqe},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new $Z,this.strm.avail_out=0;let r=a0.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==F1)throw new Error(Jl[r]);if(e.header&&a0.deflateSetHeader(this.strm,e.header),e.dictionary){let n;if(typeof e.dictionary=="string"?n=sp.string2buf(e.dictionary):CZ.call(e.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(e.dictionary):n=e.dictionary,r=a0.deflateSetDictionary(this.strm,n),r!==F1)throw new Error(Jl[r]);this._dict_set=!0}}vg.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize;let i,a;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?bqe:xqe,typeof t=="string"?r.input=sp.string2buf(t):CZ.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(a===Eqe||a===_qe)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(i=a0.deflate(r,a),i===Sqe)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=a0.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===F1;if(r.avail_out===0){this.onData(r.output);continue}if(a>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};vg.prototype.onData=function(t){this.chunks.push(t)};vg.prototype.onEnd=function(t){t===F1&&(this.result=T_.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function WO(t,e){const r=new vg(e);if(r.push(t,!0),r.err)throw r.msg||Jl[r.err];return r.result}function Aqe(t,e){return e=e||{},e.raw=!0,WO(t,e)}function Iqe(t,e){return e=e||{},e.gzip=!0,WO(t,e)}var $qe=vg,Cqe=WO,kqe=Aqe,Oqe=Iqe,Lqe=Ec,Pqe={Deflate:$qe,deflate:Cqe,deflateRaw:kqe,gzip:Oqe,constants:Lqe};const Zm=16209,Nqe=16191;var Dqe=function(e,r){let n,i,a,s,o,c,l,u,f,d,h,p,m,g,v,y,x,E,S,b,T,R,I,w;const C=e.state;n=e.next_in,I=e.input,i=n+(e.avail_in-5),a=e.next_out,w=e.output,s=a-(r-e.avail_out),o=a+(e.avail_out-257),c=C.dmax,l=C.wsize,u=C.whave,f=C.wnext,d=C.window,h=C.hold,p=C.bits,m=C.lencode,g=C.distcode,v=(1<<C.lenbits)-1,y=(1<<C.distbits)-1;e:do{p<15&&(h+=I[n++]<<p,p+=8,h+=I[n++]<<p,p+=8),x=m[h&v];t:for(;;){if(E=x>>>24,h>>>=E,p-=E,E=x>>>16&255,E===0)w[a++]=x&65535;else if(E&16){S=x&65535,E&=15,E&&(p<E&&(h+=I[n++]<<p,p+=8),S+=h&(1<<E)-1,h>>>=E,p-=E),p<15&&(h+=I[n++]<<p,p+=8,h+=I[n++]<<p,p+=8),x=g[h&y];r:for(;;){if(E=x>>>24,h>>>=E,p-=E,E=x>>>16&255,E&16){if(b=x&65535,E&=15,p<E&&(h+=I[n++]<<p,p+=8,p<E&&(h+=I[n++]<<p,p+=8)),b+=h&(1<<E)-1,b>c){e.msg="invalid distance too far back",C.mode=Zm;break e}if(h>>>=E,p-=E,E=a-s,b>E){if(E=b-E,E>u&&C.sane){e.msg="invalid distance too far back",C.mode=Zm;break e}if(T=0,R=d,f===0){if(T+=l-E,E<S){S-=E;do w[a++]=d[T++];while(--E);T=a-b,R=w}}else if(f<E){if(T+=l+f-E,E-=f,E<S){S-=E;do w[a++]=d[T++];while(--E);if(T=0,f<S){E=f,S-=E;do w[a++]=d[T++];while(--E);T=a-b,R=w}}}else if(T+=f-E,E<S){S-=E;do w[a++]=d[T++];while(--E);T=a-b,R=w}for(;S>2;)w[a++]=R[T++],w[a++]=R[T++],w[a++]=R[T++],S-=3;S&&(w[a++]=R[T++],S>1&&(w[a++]=R[T++]))}else{T=a-b;do w[a++]=w[T++],w[a++]=w[T++],w[a++]=w[T++],S-=3;while(S>2);S&&(w[a++]=w[T++],S>1&&(w[a++]=w[T++]))}}else if(E&64){e.msg="invalid distance code",C.mode=Zm;break e}else{x=g[(x&65535)+(h&(1<<E)-1)];continue r}break}}else if(E&64)if(E&32){C.mode=Nqe;break e}else{e.msg="invalid literal/length code",C.mode=Zm;break e}else{x=m[(x&65535)+(h&(1<<E)-1)];continue t}break}}while(n<i&&a<o);S=p>>3,n-=S,p-=S<<3,h&=(1<<p)-1,e.next_in=n,e.next_out=a,e.avail_in=n<i?5+(i-n):5-(n-i),e.avail_out=a<o?257+(o-a):257-(a-o),C.hold=h,C.bits=p};const Xc=15,JB=852,eU=592,tU=0,Iw=1,rU=2,Mqe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),Fqe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Bqe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Uqe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),jqe=(t,e,r,n,i,a,s,o)=>{const c=o.bits;let l=0,u=0,f=0,d=0,h=0,p=0,m=0,g=0,v=0,y=0,x,E,S,b,T,R=null,I;const w=new Uint16Array(Xc+1),C=new Uint16Array(Xc+1);let L=null,H,N,P;for(l=0;l<=Xc;l++)w[l]=0;for(u=0;u<n;u++)w[e[r+u]]++;for(h=c,d=Xc;d>=1&&w[d]===0;d--);if(h>d&&(h=d),d===0)return i[a++]=1<<24|64<<16|0,i[a++]=1<<24|64<<16|0,o.bits=1,0;for(f=1;f<d&&w[f]===0;f++);for(h<f&&(h=f),g=1,l=1;l<=Xc;l++)if(g<<=1,g-=w[l],g<0)return-1;if(g>0&&(t===tU||d!==1))return-1;for(C[1]=0,l=1;l<Xc;l++)C[l+1]=C[l]+w[l];for(u=0;u<n;u++)e[r+u]!==0&&(s[C[e[r+u]]++]=u);if(t===tU?(R=L=s,I=20):t===Iw?(R=Mqe,L=Fqe,I=257):(R=Bqe,L=Uqe,I=0),y=0,u=0,l=f,T=a,p=h,m=0,S=-1,v=1<<h,b=v-1,t===Iw&&v>JB||t===rU&&v>eU)return 1;for(;;){H=l-m,s[u]+1<I?(N=0,P=s[u]):s[u]>=I?(N=L[s[u]-I],P=R[s[u]-I]):(N=32+64,P=0),x=1<<l-m,E=1<<p,f=E;do E-=x,i[T+(y>>m)+E]=H<<24|N<<16|P|0;while(E!==0);for(x=1<<l-1;y&x;)x>>=1;if(x!==0?(y&=x-1,y+=x):y=0,u++,--w[l]===0){if(l===d)break;l=e[r+s[u]]}if(l>h&&(y&b)!==S){for(m===0&&(m=h),T+=f,p=l-m,g=1<<p;p+m<d&&(g-=w[p+m],!(g<=0));)p++,g<<=1;if(v+=1<<p,t===Iw&&v>JB||t===rU&&v>eU)return 1;S=y&b,i[S]=h<<24|p<<16|T-a|0}}return y!==0&&(i[T+y]=l-m<<24|64<<16|0),o.bits=h,0};var s0=jqe;const Hqe=0,kZ=1,OZ=2,{Z_FINISH:nU,Z_BLOCK:Gqe,Z_TREES:Jm,Z_OK:tc,Z_STREAM_END:zqe,Z_NEED_DICT:Vqe,Z_STREAM_ERROR:ei,Z_DATA_ERROR:LZ,Z_MEM_ERROR:PZ,Z_BUF_ERROR:Wqe,Z_DEFLATED:iU}=Ec,w_=16180,aU=16181,sU=16182,oU=16183,lU=16184,cU=16185,uU=16186,fU=16187,dU=16188,hU=16189,B1=16190,ka=16191,$w=16192,pU=16193,Cw=16194,gU=16195,mU=16196,vU=16197,yU=16198,ev=16199,tv=16200,xU=16201,EU=16202,_U=16203,bU=16204,SU=16205,kw=16206,TU=16207,wU=16208,st=16209,NZ=16210,DZ=16211,Kqe=852,Yqe=592,qqe=15,Xqe=qqe,RU=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function Qqe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const _c=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<w_||e.mode>DZ?1:0},MZ=t=>{if(_c(t))return ei;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=w_,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(Kqe),e.distcode=e.distdyn=new Int32Array(Yqe),e.sane=1,e.back=-1,tc},FZ=t=>{if(_c(t))return ei;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,MZ(t)},BZ=(t,e)=>{let r;if(_c(t))return ei;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?ei:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,FZ(t))},UZ=(t,e)=>{if(!t)return ei;const r=new Qqe;t.state=r,r.strm=t,r.window=null,r.mode=w_;const n=BZ(t,e);return n!==tc&&(t.state=null),n},Zqe=t=>UZ(t,Xqe);let AU=!0,Ow,Lw;const Jqe=t=>{if(AU){Ow=new Int32Array(512),Lw=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s0(kZ,t.lens,0,288,Ow,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s0(OZ,t.lens,0,32,Lw,0,t.work,{bits:5}),AU=!1}t.lencode=Ow,t.lenbits=9,t.distcode=Lw,t.distbits=5},jZ=(t,e,r,n)=>{let i;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),n>=a.wsize?(a.window.set(e.subarray(r-a.wsize,r),0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),a.window.set(e.subarray(r-n,r-n+i),a.wnext),n-=i,n?(a.window.set(e.subarray(r-n,r),0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0},eXe=(t,e)=>{let r,n,i,a,s,o,c,l,u,f,d,h,p,m,g=0,v,y,x,E,S,b,T,R;const I=new Uint8Array(4);let w,C;const L=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(_c(t)||!t.output||!t.input&&t.avail_in!==0)return ei;r=t.state,r.mode===ka&&(r.mode=$w),s=t.next_out,i=t.output,c=t.avail_out,a=t.next_in,n=t.input,o=t.avail_in,l=r.hold,u=r.bits,f=o,d=c,R=tc;e:for(;;)switch(r.mode){case w_:if(r.wrap===0){r.mode=$w;break}for(;u<16;){if(o===0)break e;o--,l+=n[a++]<<u,u+=8}if(r.wrap&2&&l===35615){r.wbits===0&&(r.wbits=15),r.check=0,I[0]=l&255,I[1]=l>>>8&255,r.check=Ht(r.check,I,2,0),l=0,u=0,r.mode=aU;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((l&255)<<8)+(l>>8))%31){t.msg="incorrect header check",r.mode=st;break}if((l&15)!==iU){t.msg="unknown compression method",r.mode=st;break}if(l>>>=4,u-=4,T=(l&15)+8,r.wbits===0&&(r.wbits=T),T>15||T>r.wbits){t.msg="invalid window size",r.mode=st;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=l&512?hU:ka,l=0,u=0;break;case aU:for(;u<16;){if(o===0)break e;o--,l+=n[a++]<<u,u+=8}if(r.flags=l,(r.flags&255)!==iU){t.msg="unknown compression method",r.mode=st;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=st;break}r.head&&(r.head.text=l>>8&1),r.flags&512&&r.wrap&4&&(I[0]=l&255,I[1]=l>>>8&255,r.check=Ht(r.check,I,2,0)),l=0,u=0,r.mode=sU;case sU:for(;u<32;){if(o===0)break e;o--,l+=n[a++]<<u,u+=8}r.head&&(r.head.time=l),r.flags&512&&r.wrap&4&&(I[0]=l&255,I[1]=l>>>8&255,I[2]=l>>>16&255,I[3]=l>>>24&255,r.check=Ht(r.check,I,4,0)),l=0,u=0,r.mode=oU;case oU:for(;u<16;){if(o===0)break e;o--,l+=n[a++]<<u,u+=8}r.head&&(r.head.xflags=l&255,r.head.os=l>>8),r.flags&512&&r.wrap&4&&(I[0]=l&255,I[1]=l>>>8&255,r.check=Ht(r.check,I,2,0)),l=0,u=0,r.mode=lU;case lU:if(r.flags&1024){for(;u<16;){if(o===0)break e;o--,l+=n[a++]<<u,u+=8}r.length=l,r.head&&(r.head.extra_len=l),r.flags&512&&r.wrap&4&&(I[0]=l&255,I[1]=l>>>8&255,r.check=Ht(r.check,I,2,0)),l=0,u=0}else r.head&&(r.head.extra=null);r.mode=cU;case cU:if(r.flags&1024&&(h=r.length,h>o&&(h=o),h&&(r.head&&(T=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(a,a+h),T)),r.flags&512&&r.wrap&4&&(r.check=Ht(r.check,n,h,a)),o-=h,a+=h,r.length-=h),r.length))break e;r.length=0,r.mode=uU;case uU:if(r.flags&2048){if(o===0)break e;h=0;do T=n[a+h++],r.head&&T&&r.length<65536&&(r.head.name+=String.fromCharCode(T));while(T&&h<o);if(r.flags&512&&r.wrap&4&&(r.check=Ht(r.check,n,h,a)),o-=h,a+=h,T)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=fU;case fU:if(r.flags&4096){if(o===0)break e;h=0;do T=n[a+h++],r.head&&T&&r.length<65536&&(r.head.comment+=String.fromCharCode(T));while(T&&h<o);if(r.flags&512&&r.wrap&4&&(r.check=Ht(r.check,n,h,a)),o-=h,a+=h,T)break e}else r.head&&(r.head.comment=null);r.mode=dU;case dU:if(r.flags&512){for(;u<16;){if(o===0)break e;o--,l+=n[a++]<<u,u+=8}if(r.wrap&4&&l!==(r.check&65535)){t.msg="header crc mismatch",r.mode=st;break}l=0,u=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=ka;break;case hU:for(;u<32;){if(o===0)break e;o--,l+=n[a++]<<u,u+=8}t.adler=r.check=RU(l),l=0,u=0,r.mode=B1;case B1:if(r.havedict===0)return t.next_out=s,t.avail_out=c,t.next_in=a,t.avail_in=o,r.hold=l,r.bits=u,Vqe;t.adler=r.check=1,r.mode=ka;case ka:if(e===Gqe||e===Jm)break e;case $w:if(r.last){l>>>=u&7,u-=u&7,r.mode=kw;break}for(;u<3;){if(o===0)break e;o--,l+=n[a++]<<u,u+=8}switch(r.last=l&1,l>>>=1,u-=1,l&3){case 0:r.mode=pU;break;case 1:if(Jqe(r),r.mode=ev,e===Jm){l>>>=2,u-=2;break e}break;case 2:r.mode=mU;break;case 3:t.msg="invalid block type",r.mode=st}l>>>=2,u-=2;break;case pU:for(l>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,l+=n[a++]<<u,u+=8}if((l&65535)!==(l>>>16^65535)){t.msg="invalid stored block lengths",r.mode=st;break}if(r.length=l&65535,l=0,u=0,r.mode=Cw,e===Jm)break e;case Cw:r.mode=gU;case gU:if(h=r.length,h){if(h>o&&(h=o),h>c&&(h=c),h===0)break e;i.set(n.subarray(a,a+h),s),o-=h,a+=h,c-=h,s+=h,r.length-=h;break}r.mode=ka;break;case mU:for(;u<14;){if(o===0)break e;o--,l+=n[a++]<<u,u+=8}if(r.nlen=(l&31)+257,l>>>=5,u-=5,r.ndist=(l&31)+1,l>>>=5,u-=5,r.ncode=(l&15)+4,l>>>=4,u-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=st;break}r.have=0,r.mode=vU;case vU:for(;r.have<r.ncode;){for(;u<3;){if(o===0)break e;o--,l+=n[a++]<<u,u+=8}r.lens[L[r.have++]]=l&7,l>>>=3,u-=3}for(;r.have<19;)r.lens[L[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,w={bits:r.lenbits},R=s0(Hqe,r.lens,0,19,r.lencode,0,r.work,w),r.lenbits=w.bits,R){t.msg="invalid code lengths set",r.mode=st;break}r.have=0,r.mode=yU;case yU:for(;r.have<r.nlen+r.ndist;){for(;g=r.lencode[l&(1<<r.lenbits)-1],v=g>>>24,y=g>>>16&255,x=g&65535,!(v<=u);){if(o===0)break e;o--,l+=n[a++]<<u,u+=8}if(x<16)l>>>=v,u-=v,r.lens[r.have++]=x;else{if(x===16){for(C=v+2;u<C;){if(o===0)break e;o--,l+=n[a++]<<u,u+=8}if(l>>>=v,u-=v,r.have===0){t.msg="invalid bit length repeat",r.mode=st;break}T=r.lens[r.have-1],h=3+(l&3),l>>>=2,u-=2}else if(x===17){for(C=v+3;u<C;){if(o===0)break e;o--,l+=n[a++]<<u,u+=8}l>>>=v,u-=v,T=0,h=3+(l&7),l>>>=3,u-=3}else{for(C=v+7;u<C;){if(o===0)break e;o--,l+=n[a++]<<u,u+=8}l>>>=v,u-=v,T=0,h=11+(l&127),l>>>=7,u-=7}if(r.have+h>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=st;break}for(;h--;)r.lens[r.have++]=T}}if(r.mode===st)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=st;break}if(r.lenbits=9,w={bits:r.lenbits},R=s0(kZ,r.lens,0,r.nlen,r.lencode,0,r.work,w),r.lenbits=w.bits,R){t.msg="invalid literal/lengths set",r.mode=st;break}if(r.distbits=6,r.distcode=r.distdyn,w={bits:r.distbits},R=s0(OZ,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,w),r.distbits=w.bits,R){t.msg="invalid distances set",r.mode=st;break}if(r.mode=ev,e===Jm)break e;case ev:r.mode=tv;case tv:if(o>=6&&c>=258){t.next_out=s,t.avail_out=c,t.next_in=a,t.avail_in=o,r.hold=l,r.bits=u,Dqe(t,d),s=t.next_out,i=t.output,c=t.avail_out,a=t.next_in,n=t.input,o=t.avail_in,l=r.hold,u=r.bits,r.mode===ka&&(r.back=-1);break}for(r.back=0;g=r.lencode[l&(1<<r.lenbits)-1],v=g>>>24,y=g>>>16&255,x=g&65535,!(v<=u);){if(o===0)break e;o--,l+=n[a++]<<u,u+=8}if(y&&!(y&240)){for(E=v,S=y,b=x;g=r.lencode[b+((l&(1<<E+S)-1)>>E)],v=g>>>24,y=g>>>16&255,x=g&65535,!(E+v<=u);){if(o===0)break e;o--,l+=n[a++]<<u,u+=8}l>>>=E,u-=E,r.back+=E}if(l>>>=v,u-=v,r.back+=v,r.length=x,y===0){r.mode=SU;break}if(y&32){r.back=-1,r.mode=ka;break}if(y&64){t.msg="invalid literal/length code",r.mode=st;break}r.extra=y&15,r.mode=xU;case xU:if(r.extra){for(C=r.extra;u<C;){if(o===0)break e;o--,l+=n[a++]<<u,u+=8}r.length+=l&(1<<r.extra)-1,l>>>=r.extra,u-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=EU;case EU:for(;g=r.distcode[l&(1<<r.distbits)-1],v=g>>>24,y=g>>>16&255,x=g&65535,!(v<=u);){if(o===0)break e;o--,l+=n[a++]<<u,u+=8}if(!(y&240)){for(E=v,S=y,b=x;g=r.distcode[b+((l&(1<<E+S)-1)>>E)],v=g>>>24,y=g>>>16&255,x=g&65535,!(E+v<=u);){if(o===0)break e;o--,l+=n[a++]<<u,u+=8}l>>>=E,u-=E,r.back+=E}if(l>>>=v,u-=v,r.back+=v,y&64){t.msg="invalid distance code",r.mode=st;break}r.offset=x,r.extra=y&15,r.mode=_U;case _U:if(r.extra){for(C=r.extra;u<C;){if(o===0)break e;o--,l+=n[a++]<<u,u+=8}r.offset+=l&(1<<r.extra)-1,l>>>=r.extra,u-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=st;break}r.mode=bU;case bU:if(c===0)break e;if(h=d-c,r.offset>h){if(h=r.offset-h,h>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=st;break}h>r.wnext?(h-=r.wnext,p=r.wsize-h):p=r.wnext-h,h>r.length&&(h=r.length),m=r.window}else m=i,p=s-r.offset,h=r.length;h>c&&(h=c),c-=h,r.length-=h;do i[s++]=m[p++];while(--h);r.length===0&&(r.mode=tv);break;case SU:if(c===0)break e;i[s++]=r.length,c--,r.mode=tv;break;case kw:if(r.wrap){for(;u<32;){if(o===0)break e;o--,l|=n[a++]<<u,u+=8}if(d-=c,t.total_out+=d,r.total+=d,r.wrap&4&&d&&(t.adler=r.check=r.flags?Ht(r.check,i,d,s-d):ip(r.check,i,d,s-d)),d=c,r.wrap&4&&(r.flags?l:RU(l))!==r.check){t.msg="incorrect data check",r.mode=st;break}l=0,u=0}r.mode=TU;case TU:if(r.wrap&&r.flags){for(;u<32;){if(o===0)break e;o--,l+=n[a++]<<u,u+=8}if(r.wrap&4&&l!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=st;break}l=0,u=0}r.mode=wU;case wU:R=zqe;break e;case st:R=LZ;break e;case NZ:return PZ;case DZ:default:return ei}return t.next_out=s,t.avail_out=c,t.next_in=a,t.avail_in=o,r.hold=l,r.bits=u,(r.wsize||d!==t.avail_out&&r.mode<st&&(r.mode<kw||e!==nU))&&jZ(t,t.output,t.next_out,d-t.avail_out),f-=t.avail_in,d-=t.avail_out,t.total_in+=f,t.total_out+=d,r.total+=d,r.wrap&4&&d&&(t.adler=r.check=r.flags?Ht(r.check,i,d,t.next_out-d):ip(r.check,i,d,t.next_out-d)),t.data_type=r.bits+(r.last?64:0)+(r.mode===ka?128:0)+(r.mode===ev||r.mode===Cw?256:0),(f===0&&d===0||e===nU)&&R===tc&&(R=Wqe),R},tXe=t=>{if(_c(t))return ei;let e=t.state;return e.window&&(e.window=null),t.state=null,tc},rXe=(t,e)=>{if(_c(t))return ei;const r=t.state;return r.wrap&2?(r.head=e,e.done=!1,tc):ei},nXe=(t,e)=>{const r=e.length;let n,i,a;return _c(t)||(n=t.state,n.wrap!==0&&n.mode!==B1)?ei:n.mode===B1&&(i=1,i=ip(i,e,r,0),i!==n.check)?LZ:(a=jZ(t,e,r,r),a?(n.mode=NZ,PZ):(n.havedict=1,tc))};var iXe=FZ,aXe=BZ,sXe=MZ,oXe=Zqe,lXe=UZ,cXe=eXe,uXe=tXe,fXe=rXe,dXe=nXe,hXe="pako inflate (from Nodeca project)",Ga={inflateReset:iXe,inflateReset2:aXe,inflateResetKeep:sXe,inflateInit:oXe,inflateInit2:lXe,inflate:cXe,inflateEnd:uXe,inflateGetHeader:fXe,inflateSetDictionary:dXe,inflateInfo:hXe};function pXe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gXe=pXe;const HZ=Object.prototype.toString,{Z_NO_FLUSH:mXe,Z_FINISH:vXe,Z_OK:op,Z_STREAM_END:Pw,Z_NEED_DICT:Nw,Z_STREAM_ERROR:yXe,Z_DATA_ERROR:IU,Z_MEM_ERROR:xXe}=Ec;function yg(t){this.options=T_.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new $Z,this.strm.avail_out=0;let r=Ga.inflateInit2(this.strm,e.windowBits);if(r!==op)throw new Error(Jl[r]);if(this.header=new gXe,Ga.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=sp.string2buf(e.dictionary):HZ.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=Ga.inflateSetDictionary(this.strm,e.dictionary),r!==op)))throw new Error(Jl[r])}yg.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?vXe:mXe,HZ.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),a=Ga.inflate(r,s),a===Nw&&i&&(a=Ga.inflateSetDictionary(r,i),a===op?a=Ga.inflate(r,s):a===IU&&(a=Nw));r.avail_in>0&&a===Pw&&r.state.wrap>0&&t[r.next_in]!==0;)Ga.inflateReset(r),a=Ga.inflate(r,s);switch(a){case yXe:case IU:case Nw:case xXe:return this.onEnd(a),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||a===Pw))if(this.options.to==="string"){let c=sp.utf8border(r.output,r.next_out),l=r.next_out-c,u=sp.buf2string(r.output,c);r.next_out=l,r.avail_out=n-l,l&&r.output.set(r.output.subarray(c,c+l),0),this.onData(u)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(a===op&&o===0)){if(a===Pw)return a=Ga.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};yg.prototype.onData=function(t){this.chunks.push(t)};yg.prototype.onEnd=function(t){t===op&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=T_.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function KO(t,e){const r=new yg(e);if(r.push(t),r.err)throw r.msg||Jl[r.err];return r.result}function EXe(t,e){return e=e||{},e.raw=!0,KO(t,e)}var _Xe=yg,bXe=KO,SXe=EXe,TXe=KO,wXe=Ec,RXe={Inflate:_Xe,inflate:bXe,inflateRaw:SXe,ungzip:TXe,constants:wXe};const{Deflate:AXe,deflate:IXe,deflateRaw:$Xe,gzip:CXe}=Pqe,{Inflate:kXe,inflate:OXe,inflateRaw:LXe,ungzip:PXe}=RXe;var NXe=AXe,DXe=IXe,MXe=$Xe,FXe=CXe,BXe=kXe,UXe=OXe,jXe=LXe,HXe=PXe,GXe=Ec,zXe={Deflate:NXe,deflate:DXe,deflateRaw:MXe,gzip:FXe,Inflate:BXe,inflate:UXe,inflateRaw:jXe,ungzip:HXe,constants:GXe};function VXe(t){const e=new Uint8Array(t.length);return[...t].forEach((r,n)=>{e[n]=r.charCodeAt(0)}),e}function GZ({data:t,time:e}){const r=localStorage.getItem("mw-migration-date");return r&&new Date(r)>=e?!1:(t.bookmarks&&localStorage.setItem("mw-bookmarks",JSON.stringify(t.bookmarks)),t.videoProgress&&localStorage.setItem("video-progress",JSON.stringify(t.videoProgress)),localStorage.setItem("mw-migration-date",e.toISOString()),!0)}function WXe(){let t=!1;const e=r=>{const n=r.data;n&&n.isMigrationData&&!t&&(t=!0,GZ({data:n.data,time:n.date})&&window.location.reload())};return A.useEffect(()=>(window.addEventListener("message",e),()=>{window.removeEventListener("message",e)})),_("iframe",{src:"https://movie.squeezebox.dev",hidden:!0})}function KXe(){const[t,e]=A.useState(!1);return A.useEffect(()=>{const r=new URLSearchParams(window.location.search??"");if(!r.has("m-time")||!r.has("m-data")){e(!0);return}const n=JSON.parse(zXe.inflate(VXe(atob(r.get("m-data"))),{to:"string"})),i=new Date(r.get("m-time"));GZ({data:n,time:i}),e(!0)},[]),A.useEffect(()=>{if(!t)return;const r=new URL(window.location.href),n=[];r.searchParams.forEach((i,a)=>n.push(a)),n.forEach(i=>r.searchParams.delete(i)),r.searchParams.append("migrated","1"),r.hash=Cr().NORMAL_ROUTER?"":`/search/${ve.MOVIE}`,r.pathname=Cr().NORMAL_ROUTER?`/search/${ve.MOVIE}`:"",window.location.href=r.toString()},[t]),null}var YXe=typeof ge=="object"&&ge&&ge.Object===Object&&ge,zZ=YXe,qXe=zZ,XXe=typeof self=="object"&&self&&self.Object===Object&&self,QXe=qXe||XXe||Function("return this")(),Mi=QXe,ZXe=Mi,JXe=ZXe.Symbol,YO=JXe,$U=YO,VZ=Object.prototype,eQe=VZ.hasOwnProperty,tQe=VZ.toString,oh=$U?$U.toStringTag:void 0;function rQe(t){var e=eQe.call(t,oh),r=t[oh];try{t[oh]=void 0;var n=!0}catch{}var i=tQe.call(t);return n&&(e?t[oh]=r:delete t[oh]),i}var nQe=rQe,iQe=Object.prototype,aQe=iQe.toString;function sQe(t){return aQe.call(t)}var oQe=sQe,CU=YO,lQe=nQe,cQe=oQe,uQe="[object Null]",fQe="[object Undefined]",kU=CU?CU.toStringTag:void 0;function dQe(t){return t==null?t===void 0?fQe:uQe:kU&&kU in Object(t)?lQe(t):cQe(t)}var xg=dQe;function hQe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var bs=hQe,pQe=xg,gQe=bs,mQe="[object AsyncFunction]",vQe="[object Function]",yQe="[object GeneratorFunction]",xQe="[object Proxy]";function EQe(t){if(!gQe(t))return!1;var e=pQe(t);return e==vQe||e==yQe||e==mQe||e==xQe}var WZ=EQe,_Qe=Mi,bQe=_Qe["__core-js_shared__"],SQe=bQe,Dw=SQe,OU=function(){var t=/[^.]+$/.exec(Dw&&Dw.keys&&Dw.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function TQe(t){return!!OU&&OU in t}var wQe=TQe,RQe=Function.prototype,AQe=RQe.toString;function IQe(t){if(t!=null){try{return AQe.call(t)}catch{}try{return t+""}catch{}}return""}var KZ=IQe,$Qe=WZ,CQe=wQe,kQe=bs,OQe=KZ,LQe=/[\\^$.*+?()[\]{}|]/g,PQe=/^\[object .+?Constructor\]$/,NQe=Function.prototype,DQe=Object.prototype,MQe=NQe.toString,FQe=DQe.hasOwnProperty,BQe=RegExp("^"+MQe.call(FQe).replace(LQe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function UQe(t){if(!kQe(t)||CQe(t))return!1;var e=$Qe(t)?BQe:PQe;return e.test(OQe(t))}var jQe=UQe;function HQe(t,e){return t==null?void 0:t[e]}var GQe=HQe,zQe=jQe,VQe=GQe;function WQe(t,e){var r=VQe(t,e);return zQe(r)?r:void 0}var bc=WQe,KQe=bc,YQe=function(){try{var t=KQe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),YZ=YQe,LU=YZ;function qQe(t,e,r){e=="__proto__"&&LU?LU(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var qZ=qQe;function XQe(t,e){return t===e||t!==t&&e!==e}var qO=XQe,QQe=qZ,ZQe=qO,JQe=Object.prototype,eZe=JQe.hasOwnProperty;function tZe(t,e,r){var n=t[e];(!(eZe.call(t,e)&&ZQe(n,r))||r===void 0&&!(e in t))&&QQe(t,e,r)}var XO=tZe,rZe=XO,nZe=qZ;function iZe(t,e,r,n){var i=!r;r||(r={});for(var a=-1,s=e.length;++a<s;){var o=e[a],c=n?n(r[o],t[o],o,r,t):void 0;c===void 0&&(c=t[o]),i?nZe(r,o,c):rZe(r,o,c)}return r}var Eg=iZe;function aZe(t){return t}var XZ=aZe;function sZe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var oZe=sZe,lZe=oZe,PU=Math.max;function cZe(t,e,r){return e=PU(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=PU(n.length-e,0),s=Array(a);++i<a;)s[i]=n[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=n[i];return o[e]=r(s),lZe(t,this,o)}}var uZe=cZe;function fZe(t){return function(){return t}}var dZe=fZe,hZe=dZe,NU=YZ,pZe=XZ,gZe=NU?function(t,e){return NU(t,"toString",{configurable:!0,enumerable:!1,value:hZe(e),writable:!0})}:pZe,mZe=gZe,vZe=800,yZe=16,xZe=Date.now;function EZe(t){var e=0,r=0;return function(){var n=xZe(),i=yZe-(n-r);if(r=n,i>0){if(++e>=vZe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var _Ze=EZe,bZe=mZe,SZe=_Ze,TZe=SZe(bZe),wZe=TZe,RZe=XZ,AZe=uZe,IZe=wZe;function $Ze(t,e){return IZe(AZe(t,e,RZe),t+"")}var CZe=$Ze,kZe=9007199254740991;function OZe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=kZe}var QZ=OZe,LZe=WZ,PZe=QZ;function NZe(t){return t!=null&&PZe(t.length)&&!LZe(t)}var R_=NZe,DZe=9007199254740991,MZe=/^(?:0|[1-9]\d*)$/;function FZe(t,e){var r=typeof t;return e=e??DZe,!!e&&(r=="number"||r!="symbol"&&MZe.test(t))&&t>-1&&t%1==0&&t<e}var ZZ=FZe,BZe=qO,UZe=R_,jZe=ZZ,HZe=bs;function GZe(t,e,r){if(!HZe(r))return!1;var n=typeof e;return(n=="number"?UZe(r)&&jZe(e,r.length):n=="string"&&e in r)?BZe(r[e],t):!1}var zZe=GZe,VZe=CZe,WZe=zZe;function KZe(t){return VZe(function(e,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,s=i>2?r[2]:void 0;for(a=t.length>3&&typeof a=="function"?(i--,a):void 0,s&&WZe(r[0],r[1],s)&&(a=i<3?void 0:a,i=1),e=Object(e);++n<i;){var o=r[n];o&&t(e,o,n,a)}return e})}var YZe=KZe,qZe=Object.prototype;function XZe(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||qZe;return t===r}var A_=XZe;function QZe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var ZZe=QZe;function JZe(t){return t!=null&&typeof t=="object"}var cd=JZe,eJe=xg,tJe=cd,rJe="[object Arguments]";function nJe(t){return tJe(t)&&eJe(t)==rJe}var iJe=nJe,DU=iJe,aJe=cd,JZ=Object.prototype,sJe=JZ.hasOwnProperty,oJe=JZ.propertyIsEnumerable,lJe=DU(function(){return arguments}())?DU:function(t){return aJe(t)&&sJe.call(t,"callee")&&!oJe.call(t,"callee")},cJe=lJe,uJe=Array.isArray,QO=uJe,lp={},fJe={get exports(){return lp},set exports(t){lp=t}};function dJe(){return!1}var hJe=dJe;(function(t,e){var r=Mi,n=hJe,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?r.Buffer:void 0,c=o?o.isBuffer:void 0,l=c||n;t.exports=l})(fJe,lp);var pJe=xg,gJe=QZ,mJe=cd,vJe="[object Arguments]",yJe="[object Array]",xJe="[object Boolean]",EJe="[object Date]",_Je="[object Error]",bJe="[object Function]",SJe="[object Map]",TJe="[object Number]",wJe="[object Object]",RJe="[object RegExp]",AJe="[object Set]",IJe="[object String]",$Je="[object WeakMap]",CJe="[object ArrayBuffer]",kJe="[object DataView]",OJe="[object Float32Array]",LJe="[object Float64Array]",PJe="[object Int8Array]",NJe="[object Int16Array]",DJe="[object Int32Array]",MJe="[object Uint8Array]",FJe="[object Uint8ClampedArray]",BJe="[object Uint16Array]",UJe="[object Uint32Array]",nt={};nt[OJe]=nt[LJe]=nt[PJe]=nt[NJe]=nt[DJe]=nt[MJe]=nt[FJe]=nt[BJe]=nt[UJe]=!0;nt[vJe]=nt[yJe]=nt[CJe]=nt[xJe]=nt[kJe]=nt[EJe]=nt[_Je]=nt[bJe]=nt[SJe]=nt[TJe]=nt[wJe]=nt[RJe]=nt[AJe]=nt[IJe]=nt[$Je]=!1;function jJe(t){return mJe(t)&&gJe(t.length)&&!!nt[pJe(t)]}var HJe=jJe;function GJe(t){return function(e){return t(e)}}var ZO=GJe,bf={},zJe={get exports(){return bf},set exports(t){bf=t}};(function(t,e){var r=zZ,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a&&r.process,o=function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(zJe,bf);var VJe=HJe,WJe=ZO,MU=bf,FU=MU&&MU.isTypedArray,KJe=FU?WJe(FU):VJe,YJe=KJe,qJe=ZZe,XJe=cJe,QJe=QO,ZJe=lp,JJe=ZZ,eet=YJe,tet=Object.prototype,ret=tet.hasOwnProperty;function net(t,e){var r=QJe(t),n=!r&&XJe(t),i=!r&&!n&&ZJe(t),a=!r&&!n&&!i&&eet(t),s=r||n||i||a,o=s?qJe(t.length,String):[],c=o.length;for(var l in t)(e||ret.call(t,l))&&!(s&&(l=="length"||i&&(l=="offset"||l=="parent")||a&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||JJe(l,c)))&&o.push(l);return o}var eJ=net;function iet(t,e){return function(r){return t(e(r))}}var tJ=iet,aet=tJ,set=aet(Object.keys,Object),oet=set,cet=A_,uet=oet,fet=Object.prototype,det=fet.hasOwnProperty;function het(t){if(!cet(t))return uet(t);var e=[];for(var r in Object(t))det.call(t,r)&&r!="constructor"&&e.push(r);return e}var pet=het,get=eJ,met=pet,vet=R_;function yet(t){return vet(t)?get(t):met(t)}var I_=yet,xet=XO,Eet=Eg,_et=YZe,bet=R_,Tet=A_,wet=I_,Ret=Object.prototype,Aet=Ret.hasOwnProperty,Iet=_et(function(t,e){if(Tet(e)||bet(e)){Eet(e,wet(e),t);return}for(var r in e)Aet.call(e,r)&&xet(t,r,e[r])}),$et=Iet,iI={},Cet={get exports(){return iI},set exports(t){iI=t}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,l,u){this.fn=c,this.context=l,this.once=u||!1}function a(c,l,u,f,d){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,f||c,d),p=r?r+l:l;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],h]:c._events[p].push(h):(c._events[p]=h,c._eventsCount++),c}function s(c,l){--c._eventsCount===0?c._events=new n:delete c._events[l]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var l=[],u,f;if(this._eventsCount===0)return l;for(f in u=this._events)e.call(u,f)&&l.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},o.prototype.listeners=function(l){var u=r?r+l:l,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,h=f.length,p=new Array(h);d<h;d++)p[d]=f[d].fn;return p},o.prototype.listenerCount=function(l){var u=r?r+l:l,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(l,u,f,d,h,p){var m=r?r+l:l;if(!this._events[m])return!1;var g=this._events[m],v=arguments.length,y,x;if(g.fn){switch(g.once&&this.removeListener(l,g.fn,void 0,!0),v){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,u),!0;case 3:return g.fn.call(g.context,u,f),!0;case 4:return g.fn.call(g.context,u,f,d),!0;case 5:return g.fn.call(g.context,u,f,d,h),!0;case 6:return g.fn.call(g.context,u,f,d,h,p),!0}for(x=1,y=new Array(v-1);x<v;x++)y[x-1]=arguments[x];g.fn.apply(g.context,y)}else{var E=g.length,S;for(x=0;x<E;x++)switch(g[x].once&&this.removeListener(l,g[x].fn,void 0,!0),v){case 1:g[x].fn.call(g[x].context);break;case 2:g[x].fn.call(g[x].context,u);break;case 3:g[x].fn.call(g[x].context,u,f);break;case 4:g[x].fn.call(g[x].context,u,f,d);break;default:if(!y)for(S=1,y=new Array(v-1);S<v;S++)y[S-1]=arguments[S];g[x].fn.apply(g[x].context,y)}}return!0},o.prototype.on=function(l,u,f){return a(this,l,u,f,!1)},o.prototype.once=function(l,u,f){return a(this,l,u,f,!0)},o.prototype.removeListener=function(l,u,f,d){var h=r?r+l:l;if(!this._events[h])return this;if(!u)return s(this,h),this;var p=this._events[h];if(p.fn)p.fn===u&&(!d||p.once)&&(!f||p.context===f)&&s(this,h);else{for(var m=0,g=[],v=p.length;m<v;m++)(p[m].fn!==u||d&&!p[m].once||f&&p[m].context!==f)&&g.push(p[m]);g.length?this._events[h]=g.length===1?g[0]:g:s(this,h)}return this},o.prototype.removeAllListeners=function(l){var u;return l?(u=r?r+l:l,this._events[u]&&s(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(Cet);const ket=iI;var rJ=!1;if(typeof window<"u")try{var BU=Object.defineProperty({},"passive",{get:function(){rJ=!0}});window.addEventListener("test",null,BU),window.removeEventListener("test",null,BU)}catch{}const Oet=rJ,qr={connections:{},EE:new ket,enableResizeInfo:!1,enableScrollInfo:!1,listeners:{},removers:[],supportPassiveEvent:Oet};var Let=qr.supportPassiveEvent,Pet={capture:!1,passive:!1};function nJ(t,e,r,n){var i="addEventListener",a="removeEventListener",s=e,o=Let?$et({},Pet,n):!1;return!t.addEventListener&&t.attachEvent&&(i="attachEvent",a="detachEvent",s="on"+e),t[i](s,r,o),{remove:function(){t[a](e,r)}}}var iJ=!1;if(typeof navigator<"u"){var UU=navigator.userAgent.match(/MSIE (\d+\.\d+)/);UU&&(iJ=parseFloat(UU[1],10)<9)}const aJ=iJ;function Net(){this.__data__=[],this.size=0}var Det=Net,Met=qO;function Fet(t,e){for(var r=t.length;r--;)if(Met(t[r][0],e))return r;return-1}var $_=Fet,Bet=$_,Uet=Array.prototype,jet=Uet.splice;function Het(t){var e=this.__data__,r=Bet(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():jet.call(e,r,1),--this.size,!0}var Get=Het,zet=$_;function Vet(t){var e=this.__data__,r=zet(e,t);return r<0?void 0:e[r][1]}var Wet=Vet,Ket=$_;function Yet(t){return Ket(this.__data__,t)>-1}var qet=Yet,Xet=$_;function Qet(t,e){var r=this.__data__,n=Xet(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var Zet=Qet,Jet=Det,ett=Get,ttt=Wet,rtt=qet,ntt=Zet;function ud(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ud.prototype.clear=Jet;ud.prototype.delete=ett;ud.prototype.get=ttt;ud.prototype.has=rtt;ud.prototype.set=ntt;var C_=ud,itt=C_;function att(){this.__data__=new itt,this.size=0}var stt=att;function ott(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var ltt=ott;function ctt(t){return this.__data__.get(t)}var utt=ctt;function ftt(t){return this.__data__.has(t)}var dtt=ftt,htt=bc,ptt=Mi,gtt=htt(ptt,"Map"),JO=gtt,mtt=bc,vtt=mtt(Object,"create"),k_=vtt,jU=k_;function ytt(){this.__data__=jU?jU(null):{},this.size=0}var xtt=ytt;function Ett(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var _tt=Ett,btt=k_,Stt="__lodash_hash_undefined__",Ttt=Object.prototype,wtt=Ttt.hasOwnProperty;function Rtt(t){var e=this.__data__;if(btt){var r=e[t];return r===Stt?void 0:r}return wtt.call(e,t)?e[t]:void 0}var Att=Rtt,Itt=k_,$tt=Object.prototype,Ctt=$tt.hasOwnProperty;function ktt(t){var e=this.__data__;return Itt?e[t]!==void 0:Ctt.call(e,t)}var Ott=ktt,Ltt=k_,Ptt="__lodash_hash_undefined__";function Ntt(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Ltt&&e===void 0?Ptt:e,this}var Dtt=Ntt,Mtt=xtt,Ftt=_tt,Btt=Att,Utt=Ott,jtt=Dtt;function fd(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}fd.prototype.clear=Mtt;fd.prototype.delete=Ftt;fd.prototype.get=Btt;fd.prototype.has=Utt;fd.prototype.set=jtt;var Htt=fd,HU=Htt,Gtt=C_,ztt=JO;function Vtt(){this.size=0,this.__data__={hash:new HU,map:new(ztt||Gtt),string:new HU}}var Wtt=Vtt;function Ktt(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Ytt=Ktt,qtt=Ytt;function Xtt(t,e){var r=t.__data__;return qtt(e)?r[typeof e=="string"?"string":"hash"]:r.map}var O_=Xtt,Qtt=O_;function Ztt(t){var e=Qtt(this,t).delete(t);return this.size-=e?1:0,e}var Jtt=Ztt,ert=O_;function trt(t){return ert(this,t).get(t)}var rrt=trt,nrt=O_;function irt(t){return nrt(this,t).has(t)}var art=irt,srt=O_;function ort(t,e){var r=srt(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var lrt=ort,crt=Wtt,urt=Jtt,frt=rrt,drt=art,hrt=lrt;function dd(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}dd.prototype.clear=crt;dd.prototype.delete=urt;dd.prototype.get=frt;dd.prototype.has=drt;dd.prototype.set=hrt;var prt=dd,grt=C_,mrt=JO,vrt=prt,yrt=200;function xrt(t,e){var r=this.__data__;if(r instanceof grt){var n=r.__data__;if(!mrt||n.length<yrt-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new vrt(n)}return r.set(t,e),this.size=r.size,this}var Ert=xrt,_rt=C_,brt=stt,Srt=ltt,Trt=utt,wrt=dtt,Rrt=Ert;function hd(t){var e=this.__data__=new _rt(t);this.size=e.size}hd.prototype.clear=brt;hd.prototype.delete=Srt;hd.prototype.get=Trt;hd.prototype.has=wrt;hd.prototype.set=Rrt;var Art=hd;function Irt(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var $rt=Irt,Crt=Eg,krt=I_;function Ort(t,e){return t&&Crt(e,krt(e),t)}var Lrt=Ort;function Prt(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var Nrt=Prt,Drt=bs,Mrt=A_,Frt=Nrt,Brt=Object.prototype,Urt=Brt.hasOwnProperty;function jrt(t){if(!Drt(t))return Frt(t);var e=Mrt(t),r=[];for(var n in t)n=="constructor"&&(e||!Urt.call(t,n))||r.push(n);return r}var Hrt=jrt,Grt=eJ,zrt=Hrt,Vrt=R_;function Wrt(t){return Vrt(t)?Grt(t,!0):zrt(t)}var eL=Wrt,Krt=Eg,Yrt=eL;function qrt(t,e){return t&&Krt(e,Yrt(e),t)}var Xrt=qrt,U1={},Qrt={get exports(){return U1},set exports(t){U1=t}};(function(t,e){var r=Mi,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a?r.Buffer:void 0,o=s?s.allocUnsafe:void 0;function c(l,u){if(u)return l.slice();var f=l.length,d=o?o(f):new l.constructor(f);return l.copy(d),d}t.exports=c})(Qrt,U1);function Zrt(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var Jrt=Zrt;function ent(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var s=t[r];e(s,r,t)&&(a[i++]=s)}return a}var tnt=ent;function rnt(){return[]}var sJ=rnt,nnt=tnt,int=sJ,ant=Object.prototype,snt=ant.propertyIsEnumerable,GU=Object.getOwnPropertySymbols,ont=GU?function(t){return t==null?[]:(t=Object(t),nnt(GU(t),function(e){return snt.call(t,e)}))}:int,tL=ont,lnt=Eg,cnt=tL;function unt(t,e){return lnt(t,cnt(t),e)}var fnt=unt;function dnt(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var oJ=dnt,hnt=tJ,pnt=hnt(Object.getPrototypeOf,Object),lJ=pnt,gnt=oJ,mnt=lJ,vnt=tL,ynt=sJ,xnt=Object.getOwnPropertySymbols,Ent=xnt?function(t){for(var e=[];t;)gnt(e,vnt(t)),t=mnt(t);return e}:ynt,cJ=Ent,_nt=Eg,bnt=cJ;function Snt(t,e){return _nt(t,bnt(t),e)}var Tnt=Snt,wnt=oJ,Rnt=QO;function Ant(t,e,r){var n=e(t);return Rnt(t)?n:wnt(n,r(t))}var uJ=Ant,Int=uJ,$nt=tL,Cnt=I_;function knt(t){return Int(t,Cnt,$nt)}var Ont=knt,Lnt=uJ,Pnt=cJ,Nnt=eL;function Dnt(t){return Lnt(t,Nnt,Pnt)}var Mnt=Dnt,Fnt=bc,Bnt=Mi,Unt=Fnt(Bnt,"DataView"),jnt=Unt,Hnt=bc,Gnt=Mi,znt=Hnt(Gnt,"Promise"),Vnt=znt,Wnt=bc,Knt=Mi,Ynt=Wnt(Knt,"Set"),qnt=Ynt,Xnt=bc,Qnt=Mi,Znt=Xnt(Qnt,"WeakMap"),Jnt=Znt,aI=jnt,sI=JO,oI=Vnt,lI=qnt,cI=Jnt,fJ=xg,pd=KZ,zU="[object Map]",eit="[object Object]",VU="[object Promise]",WU="[object Set]",KU="[object WeakMap]",YU="[object DataView]",tit=pd(aI),rit=pd(sI),nit=pd(oI),iit=pd(lI),ait=pd(cI),gl=fJ;(aI&&gl(new aI(new ArrayBuffer(1)))!=YU||sI&&gl(new sI)!=zU||oI&&gl(oI.resolve())!=VU||lI&&gl(new lI)!=WU||cI&&gl(new cI)!=KU)&&(gl=function(t){var e=fJ(t),r=e==eit?t.constructor:void 0,n=r?pd(r):"";if(n)switch(n){case tit:return YU;case rit:return zU;case nit:return VU;case iit:return WU;case ait:return KU}return e});var rL=gl,sit=Object.prototype,oit=sit.hasOwnProperty;function lit(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&oit.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var cit=lit,uit=Mi,fit=uit.Uint8Array,dit=fit,qU=dit;function hit(t){var e=new t.constructor(t.byteLength);return new qU(e).set(new qU(t)),e}var nL=hit,pit=nL;function git(t,e){var r=e?pit(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var mit=git,vit=/\w*$/;function yit(t){var e=new t.constructor(t.source,vit.exec(t));return e.lastIndex=t.lastIndex,e}var xit=yit,XU=YO,QU=XU?XU.prototype:void 0,ZU=QU?QU.valueOf:void 0;function Eit(t){return ZU?Object(ZU.call(t)):{}}var _it=Eit,bit=nL;function Sit(t,e){var r=e?bit(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var Tit=Sit,wit=nL,Rit=mit,Ait=xit,Iit=_it,$it=Tit,Cit="[object Boolean]",kit="[object Date]",Oit="[object Map]",Lit="[object Number]",Pit="[object RegExp]",Nit="[object Set]",Dit="[object String]",Mit="[object Symbol]",Fit="[object ArrayBuffer]",Bit="[object DataView]",Uit="[object Float32Array]",jit="[object Float64Array]",Hit="[object Int8Array]",Git="[object Int16Array]",zit="[object Int32Array]",Vit="[object Uint8Array]",Wit="[object Uint8ClampedArray]",Kit="[object Uint16Array]",Yit="[object Uint32Array]";function qit(t,e,r){var n=t.constructor;switch(e){case Fit:return wit(t);case Cit:case kit:return new n(+t);case Bit:return Rit(t,r);case Uit:case jit:case Hit:case Git:case zit:case Vit:case Wit:case Kit:case Yit:return $it(t,r);case Oit:return new n;case Lit:case Dit:return new n(t);case Pit:return Ait(t);case Nit:return new n;case Mit:return Iit(t)}}var Xit=qit,Qit=bs,JU=Object.create,Zit=function(){function t(){}return function(e){if(!Qit(e))return{};if(JU)return JU(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),Jit=Zit,eat=Jit,tat=lJ,rat=A_;function nat(t){return typeof t.constructor=="function"&&!rat(t)?eat(tat(t)):{}}var iat=nat,aat=rL,sat=cd,oat="[object Map]";function lat(t){return sat(t)&&aat(t)==oat}var cat=lat,uat=cat,fat=ZO,e7=bf,t7=e7&&e7.isMap,dat=t7?fat(t7):uat,hat=dat,pat=rL,gat=cd,mat="[object Set]";function vat(t){return gat(t)&&pat(t)==mat}var yat=vat,xat=yat,Eat=ZO,r7=bf,n7=r7&&r7.isSet,_at=n7?Eat(n7):xat,bat=_at,Sat=Art,Tat=$rt,wat=XO,Rat=Lrt,Aat=Xrt,Iat=U1,$at=Jrt,Cat=fnt,kat=Tnt,Oat=Ont,Lat=Mnt,Pat=rL,Nat=cit,Dat=Xit,Mat=iat,Fat=QO,Bat=lp,Uat=hat,jat=bs,Hat=bat,Gat=I_,zat=eL,Vat=1,Wat=2,Kat=4,dJ="[object Arguments]",Yat="[object Array]",qat="[object Boolean]",Xat="[object Date]",Qat="[object Error]",hJ="[object Function]",Zat="[object GeneratorFunction]",Jat="[object Map]",est="[object Number]",pJ="[object Object]",tst="[object RegExp]",rst="[object Set]",nst="[object String]",ist="[object Symbol]",ast="[object WeakMap]",sst="[object ArrayBuffer]",ost="[object DataView]",lst="[object Float32Array]",cst="[object Float64Array]",ust="[object Int8Array]",fst="[object Int16Array]",dst="[object Int32Array]",hst="[object Uint8Array]",pst="[object Uint8ClampedArray]",gst="[object Uint16Array]",mst="[object Uint32Array]",Ze={};Ze[dJ]=Ze[Yat]=Ze[sst]=Ze[ost]=Ze[qat]=Ze[Xat]=Ze[lst]=Ze[cst]=Ze[ust]=Ze[fst]=Ze[dst]=Ze[Jat]=Ze[est]=Ze[pJ]=Ze[tst]=Ze[rst]=Ze[nst]=Ze[ist]=Ze[hst]=Ze[pst]=Ze[gst]=Ze[mst]=!0;Ze[Qat]=Ze[hJ]=Ze[ast]=!1;function ty(t,e,r,n,i,a){var s,o=e&Vat,c=e&Wat,l=e&Kat;if(r&&(s=i?r(t,n,i,a):r(t)),s!==void 0)return s;if(!jat(t))return t;var u=Fat(t);if(u){if(s=Nat(t),!o)return $at(t,s)}else{var f=Pat(t),d=f==hJ||f==Zat;if(Bat(t))return Iat(t,o);if(f==pJ||f==dJ||d&&!i){if(s=c||d?{}:Mat(t),!o)return c?kat(t,Aat(s,t)):Cat(t,Rat(s,t))}else{if(!Ze[f])return i?t:{};s=Dat(t,f,o)}}a||(a=new Sat);var h=a.get(t);if(h)return h;a.set(t,s),Hat(t)?t.forEach(function(g){s.add(ty(g,e,r,g,t,a))}):Uat(t)&&t.forEach(function(g,v){s.set(v,ty(g,e,r,v,t,a))});var p=l?c?Lat:Oat:c?zat:Gat,m=u?void 0:p(t);return Tat(m||t,function(g,v){m&&(v=g,g=t[v]),wat(s,v,ty(g,e,r,v,t,a))}),s}var vst=ty,yst=vst,xst=4;function Est(t){return yst(t,xst)}var _st=Est,bst=Mi,Sst=function(){return bst.Date.now()},Tst=Sst,wst=/\s/;function Rst(t){for(var e=t.length;e--&&wst.test(t.charAt(e)););return e}var Ast=Rst,Ist=Ast,$st=/^\s+/;function Cst(t){return t&&t.slice(0,Ist(t)+1).replace($st,"")}var kst=Cst,Ost=xg,Lst=cd,Pst="[object Symbol]";function Nst(t){return typeof t=="symbol"||Lst(t)&&Ost(t)==Pst}var Dst=Nst,Mst=kst,i7=bs,Fst=Dst,a7=0/0,Bst=/^[-+]0x[0-9a-f]+$/i,Ust=/^0b[01]+$/i,jst=/^0o[0-7]+$/i,Hst=parseInt;function Gst(t){if(typeof t=="number")return t;if(Fst(t))return a7;if(i7(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=i7(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Mst(t);var r=Ust.test(t);return r||jst.test(t)?Hst(t.slice(2),r?2:8):Bst.test(t)?a7:+t}var zst=Gst,Vst=bs,Mw=Tst,s7=zst,Wst="Expected a function",Kst=Math.max,Yst=Math.min;function qst(t,e,r){var n,i,a,s,o,c,l=0,u=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(Wst);e=s7(e)||0,Vst(r)&&(u=!!r.leading,f="maxWait"in r,a=f?Kst(s7(r.maxWait)||0,e):a,d="trailing"in r?!!r.trailing:d);function h(b){var T=n,R=i;return n=i=void 0,l=b,s=t.apply(R,T),s}function p(b){return l=b,o=setTimeout(v,e),u?h(b):s}function m(b){var T=b-c,R=b-l,I=e-T;return f?Yst(I,a-R):I}function g(b){var T=b-c,R=b-l;return c===void 0||T>=e||T<0||f&&R>=a}function v(){var b=Mw();if(g(b))return y(b);o=setTimeout(v,m(b))}function y(b){return o=void 0,d&&n?h(b):(n=i=void 0,s)}function x(){o!==void 0&&clearTimeout(o),l=0,n=c=i=o=void 0}function E(){return o===void 0?s:y(Mw())}function S(){var b=Mw(),T=g(b);if(n=arguments,i=this,c=b,T){if(o===void 0)return p(c);if(f)return clearTimeout(o),o=setTimeout(v,e),h(c)}return o===void 0&&(o=setTimeout(v,e)),s}return S.cancel=x,S.flush=E,S}var Xst=qst,Qst=Xst,Zst=bs,Jst="Expected a function";function eot(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(Jst);return Zst(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Qst(t,e,{leading:n,maxWait:e,trailing:i})}var tot=eot;function rot(){}var not=rot,iot=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function aot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var sot={width:0,height:0},oot={delta:0,top:0},lot={axisIntention:"",startX:0,startY:0,deltaX:0,deltaY:0},o7=5,l7=function(e){var r={x:0,y:0},n=document.body,i=document.documentElement;return e.pageX||e.pageY?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX+n.scrollLeft+i.scrollLeft,r.y=e.clientY+n.scrollTop+i.scrollTop),r},ry=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};aot(this,t);var r=(e.mainType||"").toLowerCase(),n=(e.subType||"").toLowerCase();this.mainType=r,this.subType=n,this.type=r+n.charAt(0).toUpperCase()+n.slice(1)||"",this.scroll=oot,this.resize=sot,this.touch=lot}return iot(t,[{key:"update",value:function(r){var n=this.mainType,i=this.subType,a=document.documentElement;if(qr.enableScrollInfo&&(n==="scroll"||n==="touchmove")){var s=a.scrollTop+document.body.scrollTop;s!==this.scroll.top&&(this.scroll.delta=s-this.scroll.top,this.scroll.top=s)}if(qr.enableResizeInfo&&n==="resize"&&(this.resize.width=window.innerWidth||a.clientWidth,this.resize.height=window.innerHeight||a.clientHeight),qr.enableTouchInfo&&r.touches&&(n==="touchstart"||n==="touchmove"||n==="touchend")){var o=void 0,c=void 0,l=void 0;n==="touchstart"||i==="start"?(o=l7(r.touches[0]),this.touch.axisIntention="",this.touch.startX=o.x,this.touch.startY=o.y,this.touch.deltaX=0,this.touch.deltaY=0):n==="touchmove"&&(o=l7(r.touches[0]),this.touch.deltaX=o.x-this.touch.startX,this.touch.deltaY=o.y-this.touch.startY,this.touch.axisIntention===""&&(c=Math.abs(this.touch.deltaX),l=Math.abs(this.touch.deltaY),c>o7&&c>=l?this.touch.axisIntention="x":l>o7&&l>c&&(this.touch.axisIntention="y")))}}}]),t}(),Sf={},cot={get exports(){return Sf},set exports(t){Sf=t}},uI={},rv={get exports(){return uI},set exports(t){uI=t}};(function(){var t,e,r,n,i,a;typeof performance<"u"&&performance!==null&&performance.now?rv.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(rv.exports=function(){return(t()-i)/1e6},e=process.hrtime,t=function(){var s;return s=e(),s[0]*1e9+s[1]},n=t(),a=process.uptime()*1e9,i=n-a):Date.now?(rv.exports=function(){return Date.now()-r},r=Date.now()):(rv.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(ge);var uot=uI,es=typeof window>"u"?ge:window,nv=["moz","webkit"],Ku="AnimationFrame",Tf=es["request"+Ku],cp=es["cancel"+Ku]||es["cancelRequest"+Ku];for(var lh=0;!Tf&&lh<nv.length;lh++)Tf=es[nv[lh]+"Request"+Ku],cp=es[nv[lh]+"Cancel"+Ku]||es[nv[lh]+"CancelRequest"+Ku];if(!Tf||!cp){var Fw=0,c7=0,fl=[],fot=1e3/60;Tf=function(t){if(fl.length===0){var e=uot(),r=Math.max(0,fot-(e-Fw));Fw=r+e,setTimeout(function(){var n=fl.slice(0);fl.length=0;for(var i=0;i<n.length;i++)if(!n[i].cancelled)try{n[i].callback(Fw)}catch(a){setTimeout(function(){throw a},0)}},Math.round(r))}return fl.push({handle:++c7,callback:t,cancelled:!1}),c7},cp=function(t){for(var e=0;e<fl.length;e++)fl[e].handle===t&&(fl[e].cancelled=!0)}}cot.exports=function(t){return Tf.call(es,t)};Sf.cancel=function(){cp.apply(es,arguments)};Sf.polyfill=function(t){t||(t=es),t.requestAnimationFrame=Tf,t.cancelAnimationFrame=cp};var dot=Date.now||function(){return new Date().getTime()};function hot(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:15,r=void 0,n=void 0,i=0,a=0,s=function o(){var c=dot(),l=e-(c-i);l<=0?(i=c,a=0,t.apply(r,n)):a=Sf(o)};return function(){r=this,n=arguments,a||(a=Sf(s))}}var u7=100,pot=50,iv=qr.connections,Yu=qr.EE,wf=qr.listeners,o0=qr.removers,fI=void 0,Us=void 0,au=void 0,got=0;typeof window<"u"&&(Us=window,fI=Us.document||document,au=fI.body);function gJ(t){return t.id||"target-id-"+got++}function mJ(t,e,r,n){return Yu.on(t,e||not,r),n=n||t,iv[n]=(iv[n]||0)+1,{_type:t,_cb:e,_ctx:r,unsubscribe:function(){if(this._type){Yu.removeListener(t,e,r),iv[n]--,iv[n]===0&&(wf[n].remove(),wf[n]=void 0),this._type=void 0,this._cb=void 0,this._ctx=void 0;for(var a=o0.length-1;a>=0;a--){var s=o0[a];if(s===this){o0.splice(a,1);break}}}}}}function Oa(t,e,r){return function(i,a,s,o){var c=s.context,l=s.target,u=l&&gJ(l),f=u?":"+u:"",d=e+"Start:"+i+f,h=e+"End:"+i+f,p=e+":"+i+f,m=r+":"+i+f,g=mJ(m,a,c,p);if(o0.push(g),wf[p])return g;var v={start:new ry({mainType:e,subType:"start"}),main:new ry({mainType:e}),end:new ry({mainType:e,subType:"end"})};i==="raf"?(i=16,E=hot(E)):i>0&&(E=tot(E,i));var y=void 0;function x(S){v.end.update(S),Yu.emit(h,S,v.end),y=null}function E(S){y||(v.start.update(S),Yu.emit(d,S,v.start)),clearTimeout(y),v.main.update(S),Yu.emit(p,S,v.main),aJ?y=setTimeout(function(){x(_st(S))},i+u7):y=setTimeout(x.bind(null,S),i+u7)}return wf[p]=nJ(l||t,e,E,o),g}}function Bw(t,e){return function(n,i,a,s){var o=a.context,c=a.target,l=c&&gJ(c),u=e+":0"+(l?":"+l:""),f=mJ(u,i,o);if(o0.push(f),wf[u])return f;var d=new ry({mainType:e});function h(p){d.update(p),Yu.emit(u,p,d)}return wf[u]=nJ(c||t,e,h,s),f}}const mot={scrollStart:Oa(Us,"scroll","scrollStart"),scrollEnd:Oa(Us,"scroll","scrollEnd"),scroll:Oa(Us,"scroll","scroll"),resizeStart:Oa(Us,"resize","resizeStart"),resizeEnd:Oa(Us,"resize","resizeEnd"),resize:Oa(Us,"resize","resize"),visibilitychange:Bw(fI,"visibilitychange"),touchmoveStart:Oa(au,"touchmove","touchmoveStart"),touchmoveEnd:Oa(au,"touchmove","touchmoveEnd"),touchmove:Oa(au,"touchmove","touchmove"),touchstart:Bw(au,"touchstart"),touchend:Bw(au,"touchend")};function vot(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=r.useRAF||!1,i=parseInt(r.throttleRate,10),a=r.eventOptions;return isNaN(i)&&(i=pot),n&&(i="raf"),aJ&&(i=0),qr.enableScrollInfo=qr.enableScrollInfo||r.enableScrollInfo||!1,qr.enableResizeInfo=qr.enableResizeInfo||r.enableResizeInfo||!1,qr.enableTouchInfo=qr.enableTouchInfo||r.enableTouchInfo||!1,mot[t](i,e,r,a)}var yot=typeof window<"u";function xot(){}var Uw=yot?vot:xot,dI={},Eot={get exports(){return dI},set exports(t){dI=t}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function r(){for(var n=[],i=0;i<arguments.length;i++){var a=arguments[i];if(a){var s=typeof a;if(s==="string"||s==="number")n.push(a);else if(Array.isArray(a)){if(a.length){var o=r.apply(null,a);o&&n.push(o)}}else if(s==="object"){if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]")){n.push(a.toString());continue}for(var c in a)e.call(a,c)&&a[c]&&n.push(c)}}}return n.join(" ")}t.exports?(r.default=r,t.exports=r):window.classNames=r})()})(Eot);const f7=dI;var jw=function(e,r,n,i){var a=n?n.call(i,e,r):void 0;if(a!==void 0)return!!a;if(e===r)return!0;if(typeof e!="object"||!e||typeof r!="object"||!r)return!1;var s=Object.keys(e),o=Object.keys(r);if(s.length!==o.length)return!1;for(var c=Object.prototype.hasOwnProperty.bind(r),l=0;l<s.length;l++){var u=s[l];if(!c(u))return!1;var f=e[u],d=r[u];if(a=n?n.call(i,f,d,u):void 0,a===!1||a===void 0&&f!==d)return!1}return!0};function Hw(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j1(t){return j1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j1(t)}function _ot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d7(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function bot(t,e,r){return e&&d7(t.prototype,e),r&&d7(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sot(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hI(t,e)}function hI(t,e){return hI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hI(t,e)}function Tot(t){var e=Rot();return function(){var n=H1(t),i;if(e){var a=H1(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return wot(this,i)}}function wot(t,e){if(e&&(j1(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ny(t)}function ny(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rot(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function H1(t){return H1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},H1(t)}var su=0,iy=1,ml=2,h7="transform",ch,p7,Gw,g7=!0,uh,m7=0,zw,av=-1,Lo=function(t){Sot(r,t);var e=Tot(r);function r(n,i){var a;return _ot(this,r),a=e.call(this,n,i),a.handleResize=a.handleResize.bind(ny(a)),a.handleScroll=a.handleScroll.bind(ny(a)),a.handleScrollStart=a.handleScrollStart.bind(ny(a)),a.delta=0,a.stickyTop=0,a.stickyBottom=0,a.frozen=!1,a.skipNextScrollEvent=!1,a.scrollTop=-1,a.bottomBoundaryTarget,a.topTarget,a.subscribers,a.state={top:0,bottom:0,width:0,height:0,x:0,y:0,topBoundary:0,bottomBoundary:1/0,status:su,pos:0,activated:!1},a}return bot(r,[{key:"getTargetHeight",value:function(i){return i&&i.offsetHeight||0}},{key:"getTopPosition",value:function(i){return i=i||this.props.top||0,typeof i=="string"&&(this.topTarget||(this.topTarget=ch.querySelector(i)),i=this.getTargetHeight(this.topTarget)),i}},{key:"getTargetBottom",value:function(i){if(!i)return-1;var a=i.getBoundingClientRect();return this.scrollTop+a.bottom}},{key:"getBottomBoundary",value:function(i){var a=i||this.props.bottomBoundary;return j1(a)==="object"&&(a=a.value||a.target||0),typeof a=="string"&&(this.bottomBoundaryTarget||(this.bottomBoundaryTarget=ch.querySelector(a)),a=this.getTargetBottom(this.bottomBoundaryTarget)),a&&a>0?a:1/0}},{key:"reset",value:function(){this.setState({status:su,pos:0})}},{key:"release",value:function(i){this.setState({status:iy,pos:i-this.state.y})}},{key:"fix",value:function(i){this.setState({status:ml,pos:i})}},{key:"updateInitialDimension",value:function(i){if(i=i||{},!(!this.outerElement||!this.innerElement)){var a=this.outerElement.getBoundingClientRect(),s=this.innerElement.getBoundingClientRect(),o=a.width||a.right-a.left,c=s.height||s.bottom-s.top,l=a.top+this.scrollTop;this.setState({top:this.getTopPosition(i.top),bottom:Math.min(this.state.top+c,av),width:o,height:c,x:a.left,y:l,bottomBoundary:this.getBottomBoundary(i.bottomBoundary),topBoundary:l})}}},{key:"handleResize",value:function(i,a){this.props.shouldFreeze()||(av=a.resize.height,this.updateInitialDimension(),this.update())}},{key:"handleScrollStart",value:function(i,a){this.frozen=this.props.shouldFreeze(),!this.frozen&&(this.scrollTop===a.scroll.top?this.skipNextScrollEvent=!0:(this.scrollTop=a.scroll.top,this.updateInitialDimension()))}},{key:"handleScroll",value:function(i,a){if(this.skipNextScrollEvent){this.skipNextScrollEvent=!1;return}m7=a.scroll.delta,this.scrollTop=a.scroll.top,this.update()}},{key:"update",value:function(){var i=!this.props.enabled||this.state.bottomBoundary-this.state.topBoundary<=this.state.height||this.state.width===0&&this.state.height===0;if(i){this.state.status!==su&&this.reset();return}var a=m7,s=this.scrollTop+this.state.top,o=this.scrollTop+this.state.bottom;if(s<=this.state.topBoundary)this.reset();else if(o>=this.state.bottomBoundary)this.stickyBottom=this.state.bottomBoundary,this.stickyTop=this.stickyBottom-this.state.height,this.release(this.stickyTop);else if(this.state.height>av-this.state.top)switch(this.state.status){case su:this.release(this.state.y),this.stickyTop=this.state.y,this.stickyBottom=this.stickyTop+this.state.height;case iy:this.stickyBottom=this.stickyTop+this.state.height,a>0&&o>this.stickyBottom?this.fix(this.state.bottom-this.state.height):a<0&&s<this.stickyTop&&this.fix(this.state.top);break;case ml:var c=!0,l=this.state.pos,u=this.state.height;if(a>0&&l===this.state.top)this.stickyTop=s-a,this.stickyBottom=this.stickyTop+u;else if(a<0&&l===this.state.bottom-u)this.stickyBottom=o-a,this.stickyTop=this.stickyBottom-u;else if(l!==this.state.bottom-u&&l!==this.state.top){var f=l+u-this.state.bottom;this.stickyBottom=o-a+f,this.stickyTop=this.stickyBottom-u}else c=!1;c&&this.release(this.stickyTop);break}else this.fix(this.state.top);this.delta=a}},{key:"componentDidUpdate",value:function(i,a){var s=this;a.status!==this.state.status&&this.props.onStateChange&&this.props.onStateChange({status:this.state.status}),this.props.top!==a.top&&(this.updateInitialDimension(),this.update());var o=!jw(this.props,i);o&&(i.enabled!==this.props.enabled?this.props.enabled?this.setState({activated:!0},function(){s.updateInitialDimension(),s.update()}):this.setState({activated:!1},function(){s.reset()}):(i.top!==this.props.top||i.bottomBoundary!==this.props.bottomBoundary)&&(this.updateInitialDimension(),this.update()))}},{key:"componentWillUnmount",value:function(){for(var i=this.subscribers||[],a=i.length-1;a>=0;a--)this.subscribers[a].unsubscribe()}},{key:"componentDidMount",value:function(){zw||(zw=window,ch=document,Gw=ch.documentElement,p7=ch.body,av=zw.innerHeight||Gw.clientHeight,uh=window.Modernizr,uh&&uh.prefixed&&(g7=uh.csstransforms3d,h7=uh.prefixed("transform"))),this.scrollTop=p7.scrollTop+Gw.scrollTop,this.props.enabled&&(this.setState({activated:!0}),this.updateInitialDimension(),this.update()),this.subscribers=[Uw("scrollStart",this.handleScrollStart.bind(this),{useRAF:!0}),Uw("scroll",this.handleScroll.bind(this),{useRAF:!0,enableScrollInfo:!0}),Uw("resize",this.handleResize.bind(this),{enableResizeInfo:!0})]}},{key:"translate",value:function(i,a){var s=g7&&this.props.enableTransforms;s&&this.state.activated?i[h7]="translate3d(0,"+Math.round(a)+"px,0)":i.top=a+"px"}},{key:"shouldComponentUpdate",value:function(i,a){return!this.props.shouldFreeze()&&!(jw(this.props,i)&&jw(this.state,a))}},{key:"render",value:function(){var i,a=this,s={position:this.state.status===ml?"fixed":"relative",top:this.state.status===ml?"0px":"",zIndex:this.props.innerZ},o={};this.translate(s,this.state.pos),this.state.status!==su&&(s.width=this.state.width+"px",o.height=this.state.height+"px");var c=f7("sticky-outer-wrapper",this.props.className,(i={},Hw(i,this.props.activeClass,this.state.status===ml),Hw(i,this.props.releasedClass,this.state.status===iy),i)),l=f7("sticky-inner-wrapper",this.props.innerClass,Hw({},this.props.innerActiveClass,this.state.status===ml)),u=this.props.children;return le.createElement("div",{ref:function(d){a.outerElement=d},className:c,style:o},le.createElement("div",{ref:function(d){a.innerElement=d},className:l,style:s},typeof u=="function"?u({status:this.state.status}):u))}}]),r}(A.Component);Lo.displayName="Sticky";Lo.defaultProps={shouldFreeze:function(){return!1},enabled:!0,top:0,bottomBoundary:0,enableTransforms:!0,activeClass:"active",releasedClass:"released",onStateChange:null,innerClass:"",innerActiveClass:""};Lo.propTypes={enabled:xe.bool,top:xe.oneOfType([xe.string,xe.number]),bottomBoundary:xe.oneOfType([xe.object,xe.string,xe.number]),enableTransforms:xe.bool,activeClass:xe.string,releasedClass:xe.string,innerClass:xe.string,innerActiveClass:xe.string,className:xe.string,onStateChange:xe.func,shouldFreeze:xe.func,innerZ:xe.oneOfType([xe.string,xe.number])};Lo.STATUS_ORIGINAL=su;Lo.STATUS_RELEASED=iy;Lo.STATUS_FIXED=ml;function Aot(t){return _("div",{className:`mx-auto w-[600px] max-w-full px-2 sm:px-0 ${t.classNames||""}`,children:t.children})}function Iot(t){return _("div",{className:`mx-auto w-[700px] max-w-full px-8 sm:px-4 ${t.classNames||""}`,children:t.children})}const $ot=(t=!1)=>{const[e,r]=A.useState(t),[n,i]=A.useState(e);return A.useEffect(()=>{e&&i(!0)},[e]),[n,r,{style:{animation:`${e?"fadeIn":"fadeOut"} .3s`},onAnimationEnd:()=>{e||i(!1)}}]};function Cot(){const[t,e]=A.useState(!1),[r,n]=A.useState(!1);return[o=>{e(o),o&&n(!0)},{active:t,onBackdropHide(){n(!1)}},{style:r?{zIndex:"1000",position:"relative"}:{}}]}function kot(t){const e=t.onClick||(()=>{}),r=t.onBackdropHide||(()=>{}),[n,i,a]=$ot();return A.useEffect(()=>{i(!!t.active)},[t.active,i]),A.useEffect(()=>{n||r()},[n]),n?_("div",{className:`pointer-events-auto fixed left-0 right-0 top-0 h-screen w-screen bg-black bg-opacity-50 opacity-100 transition-opacity ${n?"":"opacity-0"}`,...a,onClick:s=>e(s.nativeEvent)}):null}function Oot(t){const e=A.createRef(),r=A.createRef();return A.useEffect(()=>{let n=-1;function i(){if(e.current&&r.current){const a=e.current.getBoundingClientRect();r.current.style.top=`${a.top}px`,r.current.style.left=`${a.left}px`,r.current.style.width=`${a.width}px`,r.current.style.height=`${a.height}px`}n=window.requestAnimationFrame(i)}return i(),()=>{window.cancelAnimationFrame(n)}},[e,r]),Y("div",{ref:e,children:[Vl.createPortal(Y("div",{className:"pointer-events-none fixed left-0 top-0 z-[999]",children:[_(kot,{active:t.active,...t}),_("div",{ref:r,className:"pointer-events-auto absolute",children:t.children})]}),document.body),_("div",{className:"invisible",children:t.children})]})}function vJ({onClick:t,children:e,className:r}){return _("button",{onClick:t,className:r,type:"button",children:e})}function Lot({option:t,onClick:e,tabIndex:r}){return Y("div",{className:"flex h-10 cursor-pointer items-center space-x-2 px-4 py-2 text-left text-denim-700 transition-colors hover:text-white",onClick:e,tabIndex:r,children:[_(Ge,{icon:t.icon}),_("input",{type:"radio",className:"hidden",id:t.id}),_("label",{htmlFor:t.id,className:"cursor-pointer ",children:_("div",{className:"item",children:t.name})})]})}const Pot=le.forwardRef((t,e)=>{const[r,n,i]=Cot(),[a,s]=A.useState(t.selectedItem);A.useEffect(()=>{let l;return t.open?s(t.selectedItem):l=setTimeout(()=>{s(t.selectedItem)},200),()=>{l&&clearTimeout(l)}},[t.open]);const o=t.options.find(l=>l.id===t.selectedItem)||{id:"movie",name:"movie",icon:ce.ARROW_LEFT};A.useEffect(()=>{r(t.open)},[t.open]);const c=(l,u)=>{l.stopPropagation(),t.setSelectedItem(u.id),t.setOpen(!1)};return _("div",{className:"w-full min-w-[140px] sm:w-auto",children:_("div",{ref:e,className:"relative w-full sm:w-auto",...i,children:Y(Oot,{onClick:()=>t.setOpen(!1),...n,children:[Y(vJ,{...t,className:"sm:justify-left relative z-20 flex h-10 w-full items-center justify-center space-x-2 rounded-[20px] bg-bink-400 px-4 py-2 text-white hover:bg-bink-300",children:[_(Ge,{icon:o.icon}),_("span",{className:"flex-1",children:o.name}),_(Ge,{icon:ce.CHEVRON_DOWN,className:`transition-transform ${t.open?"rotate-180":""}`})]}),_("div",{className:`absolute top-0 z-10 w-full rounded-[20px] bg-denim-300 pt-[40px] transition-all duration-200 ${t.open?"block max-h-60 opacity-100":"invisible max-h-0 opacity-0"}`,children:t.options.filter(l=>l.id!==a).map(l=>_(Lot,{option:l,onClick:u=>c(u,l),tabIndex:t.open?0:void 0},l.id))})]})})})});function Not({onChange:t,onUnFocus:e,value:r,label:n,className:i,placeholder:a}){const s=_("input",{type:"text",className:i,placeholder:a,onChange:o=>t&&t(o.target.value),value:r,onBlur:()=>e&&e()});return n?Y("label",{children:[_("span",{children:n}),s]}):s}function Dot(t){const{t:e}=Ce(),[r,n]=A.useState(!1);function i(s){t.onChange({...t.value,searchQuery:s},!1)}function a(s){t.onChange({...t.value,type:s},!0)}return Y("div",{className:"relative flex flex-col rounded-[28px] bg-denim-400 transition-colors focus-within:bg-denim-400 hover:bg-denim-500 sm:flex-row sm:items-center",children:[_("div",{className:"pointer-events-none absolute bottom-0 left-5 top-0 flex max-h-14 items-center",children:_(Ge,{icon:ce.SEARCH})}),_(Not,{onUnFocus:t.onUnFocus,onChange:s=>i(s),value:t.value.searchQuery,className:"w-full flex-1 bg-transparent px-4 py-4 pl-12 text-white  placeholder-denim-700 focus:outline-none sm:py-4 sm:pr-2",placeholder:t.placeholder}),_("div",{className:"px-4 py-4 pt-0 sm:px-2 sm:py-2",children:_(Pot,{icon:ce.SEARCH,open:r,setOpen:s=>n(s),selectedItem:t.value.type,setSelectedItem:s=>a(s),options:[{id:ve.MOVIE,name:e("searchBar.movie"),icon:ce.FILM},{id:ve.SERIES,name:e("searchBar.series"),icon:ce.CLAPPER_BOARD}],onClick:()=>n(s=>!s),children:t.buttonText||e("searchBar.search")})})]})}function Mot(t){const e=Object.values(ve).find(n=>t.type===n)||ve.MOVIE,r=decodeURIComponent(t.query||"");return{type:e,searchQuery:r}}function yJ(){const t=ed(),{path:e,params:r}=L8e(),[n,i]=A.useState(Mot(r));return[n,(o,c)=>{const l={...n};Object.assign(l,o),i(l),c&&t.replace(c1(e,{query:l.searchQuery.length===0?void 0:o.searchQuery,type:l.type}))},()=>{t.replace(c1(e,{query:n.searchQuery.length===0?void 0:n.searchQuery,type:n.type}))}]}function Fot(t,e){const[r,n]=A.useState(t);return A.useEffect(()=>{const i=setTimeout(()=>{n(t)},e);return()=>{clearTimeout(i)}},[t,e]),r}const xJ=new Set,rn=new WeakMap,qu=new WeakMap,rc=new WeakMap,pI=new WeakMap,Bot=new WeakMap,Rf=new WeakMap,G1=new WeakMap,Ah=new WeakSet;let nc;const Xa="__aa_tgt",gI="__aa_del",Uot=t=>{const e=Vot(t);e&&e.forEach(r=>Wot(r))},jot=t=>{t.forEach(e=>{e.target===nc&&Got(),rn.has(e.target)&&Sc(e.target)})};function Hot(t){const e=pI.get(t);e==null||e.disconnect();let r=rn.get(t),n=0;const i=5;r||(r=Af(t),rn.set(t,r));const{offsetWidth:a,offsetHeight:s}=nc,c=[r.top-i,a-(r.left+i+r.width),s-(r.top+i+r.height),r.left-i].map(u=>`${-1*Math.floor(u)}px`).join(" "),l=new IntersectionObserver(()=>{++n>1&&Sc(t)},{root:nc,threshold:1,rootMargin:c});l.observe(t),pI.set(t,l)}function Sc(t){clearTimeout(G1.get(t));const e=L_(t),r=typeof e=="function"?500:e.duration;G1.set(t,setTimeout(async()=>{const n=rc.get(t);try{await(n==null?void 0:n.finished),rn.set(t,Af(t)),Hot(t)}catch{}},r))}function Got(){clearTimeout(G1.get(nc)),G1.set(nc,setTimeout(()=>{xJ.forEach(t=>SJ(t,e=>EJ(()=>Sc(e))))},100))}function zot(t){setTimeout(()=>{Bot.set(t,setInterval(()=>EJ(Sc.bind(null,t)),2e3))},Math.round(2e3*Math.random()))}function EJ(t){typeof requestIdleCallback=="function"?requestIdleCallback(()=>t()):requestAnimationFrame(()=>t())}let mI,_u;typeof window<"u"&&(nc=document.documentElement,mI=new MutationObserver(Uot),_u=new ResizeObserver(jot),_u.observe(nc));function Vot(t){return t.reduce((n,i)=>[...n,...Array.from(i.addedNodes),...Array.from(i.removedNodes)],[]).every(n=>n.nodeName==="#comment")?!1:t.reduce((n,i)=>{if(n===!1)return!1;if(i.target instanceof Element){if(Vw(i.target),!n.has(i.target)){n.add(i.target);for(let a=0;a<i.target.children.length;a++){const s=i.target.children.item(a);if(s){if(gI in s)return!1;Vw(i.target,s),n.add(s)}}}if(i.removedNodes.length)for(let a=0;a<i.removedNodes.length;a++){const s=i.removedNodes[a];if(gI in s)return!1;s instanceof Element&&(n.add(s),Vw(i.target,s),qu.set(s,[i.previousSibling,i.nextSibling]))}}return n},new Set)}function Vw(t,e){!e&&!(Xa in t)?Object.defineProperty(t,Xa,{value:t}):e&&!(Xa in e)&&Object.defineProperty(e,Xa,{value:t})}function Wot(t){var e;const r=t.isConnected,n=rn.has(t);r&&qu.has(t)&&qu.delete(t),rc.has(t)&&((e=rc.get(t))===null||e===void 0||e.cancel()),n&&r?Kot(t):n&&!r?qot(t):Yot(t)}function Ki(t){return Number(t.replace(/[^0-9.\-]/g,""))}function Af(t){const e=t.getBoundingClientRect();return{top:e.top+window.scrollY,left:e.left+window.scrollX,width:e.width,height:e.height}}function _J(t,e,r){let n=e.width,i=e.height,a=r.width,s=r.height;const o=getComputedStyle(t);if(o.getPropertyValue("box-sizing")==="content-box"){const l=Ki(o.paddingTop)+Ki(o.paddingBottom)+Ki(o.borderTopWidth)+Ki(o.borderBottomWidth),u=Ki(o.paddingLeft)+Ki(o.paddingRight)+Ki(o.borderRightWidth)+Ki(o.borderLeftWidth);n-=u,a-=u,i-=l,s-=l}return[n,a,i,s].map(Math.round)}function L_(t){return Xa in t&&Rf.has(t[Xa])?Rf.get(t[Xa]):{duration:250,easing:"ease-in-out"}}function bJ(t){if(Xa in t)return t[Xa]}function iL(t){const e=bJ(t);return e?Ah.has(e):!1}function SJ(t,...e){e.forEach(r=>r(t,Rf.has(t)));for(let r=0;r<t.children.length;r++){const n=t.children.item(r);n&&e.forEach(i=>i(n,Rf.has(n)))}}function Kot(t){const e=rn.get(t),r=Af(t);if(!iL(t))return rn.set(t,r);let n;if(!e)return;const i=L_(t);if(typeof i!="function"){const a=e.left-r.left,s=e.top-r.top,[o,c,l,u]=_J(t,e,r),f={transform:`translate(${a}px, ${s}px)`},d={transform:"translate(0, 0)"};o!==c&&(f.width=`${o}px`,d.width=`${c}px`),l!==u&&(f.height=`${l}px`,d.height=`${u}px`),n=t.animate([f,d],{duration:i.duration,easing:i.easing})}else n=new Animation(i(t,"remain",e,r)),n.play();rc.set(t,n),rn.set(t,r),n.addEventListener("finish",Sc.bind(null,t))}function Yot(t){const e=Af(t);rn.set(t,e);const r=L_(t);if(!iL(t))return;let n;typeof r!="function"?n=t.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:r.duration*1.5,easing:"ease-in"}):(n=new Animation(r(t,"add",e)),n.play()),rc.set(t,n),n.addEventListener("finish",Sc.bind(null,t))}function qot(t){var e;if(!qu.has(t)||!rn.has(t))return;const[r,n]=qu.get(t);Object.defineProperty(t,gI,{value:!0}),n&&n.parentNode&&n.parentNode instanceof Element?n.parentNode.insertBefore(t,n):r&&r.parentNode?r.parentNode.appendChild(t):(e=bJ(t))===null||e===void 0||e.appendChild(t);function i(){var d;t.remove(),rn.delete(t),qu.delete(t),rc.delete(t),(d=pI.get(t))===null||d===void 0||d.disconnect()}if(!iL(t))return i();const[a,s,o,c]=Xot(t),l=L_(t),u=rn.get(t);let f;Object.assign(t.style,{position:"absolute",top:`${a}px`,left:`${s}px`,width:`${o}px`,height:`${c}px`,margin:0,pointerEvents:"none",transformOrigin:"center",zIndex:100}),typeof l!="function"?f=t.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:l.duration,easing:"ease-out"}):(f=new Animation(l(t,"remove",u)),f.play()),rc.set(t,f),f.addEventListener("finish",i)}function Xot(t){const e=rn.get(t),[r,,n]=_J(t,e,Af(t));let i=t.parentElement;for(;i&&(getComputedStyle(i).position==="static"||i instanceof HTMLBodyElement);)i=i.parentElement;i||(i=document.body);const a=getComputedStyle(i),s=rn.get(i)||Af(i),o=Math.round(e.top-s.top)-Ki(a.borderTopWidth),c=Math.round(e.left-s.left)-Ki(a.borderLeftWidth);return[o,c,r,n]}function Qot(t,e={}){return mI&&_u&&(window.matchMedia("(prefers-reduced-motion: reduce)").matches&&typeof e!="function"&&!e.disrespectUserMotionPreference||(Ah.add(t),getComputedStyle(t).position==="static"&&Object.assign(t.style,{position:"relative"}),SJ(t,Sc,zot,i=>_u==null?void 0:_u.observe(i)),typeof e=="function"?Rf.set(t,e):Rf.set(t,{duration:250,easing:"ease-in-out",...e}),mI.observe(t,{childList:!0}),xJ.add(t))),Object.freeze({parent:t,enable:()=>{Ah.add(t)},disable:()=>{Ah.delete(t)},isEnabled:()=>Ah.has(t)})}function aL(t){const[e,r]=A.useState();return[A.useCallback(a=>{a instanceof HTMLElement?r(Qot(a,t)):r(void 0)},[]),a=>{e&&(a?e.enable():e.disable())}]}function Zot(t){return Y("button",{type:"button",onClick:t.onClick,className:"inline-flex items-center justify-center rounded-lg bg-white px-8 py-3 font-bold text-black transition-[transform,background-color] duration-100 hover:bg-gray-200 active:scale-105 md:px-16",children:[t.icon?_("span",{className:"mr-3 hidden md:inline-block",children:_(Ge,{icon:t.icon})}):null,t.children]})}function TJ(t){const{t:e}=Ce(),[r]=aL(),n=A.useCallback(()=>{var i;(i=t.onEdit)==null||i.call(t,!t.editing)},[t]);return _(vJ,{onClick:n,className:"flex h-12 items-center overflow-hidden rounded-full bg-denim-400 px-4 py-2 text-white transition-[background-color,transform] hover:bg-denim-500 active:scale-105",children:_("span",{ref:r,children:t.editing?_("span",{className:"mx-4 whitespace-nowrap",children:e("media.stopEditing")}):_(Ge,{icon:ce.EDIT})})})}function sL(t){return _("div",{className:t.className,children:Y("div",{className:"mb-5 flex items-center",children:[Y("p",{className:"flex flex-1 items-center font-bold uppercase text-denim-700",children:[t.icon?_("span",{className:"mr-2 text-xl",children:_(Ge,{icon:t.icon})}):null,t.title]}),t.children]})})}const oL=A.forwardRef((t,e)=>_("div",{className:"grid grid-cols-2 gap-6 sm:grid-cols-3",ref:e,children:t.children}));function Jot(t){return _("p",{className:`font-semibold text-denim-700 ${t.className||""}`,children:t.content.map((e,r)=>Y("span",{children:[r!==0?_("span",{className:"mx-[0.6em] text-[1em]",children:"●"}):null,e]},e))})}function elt({media:t,linkable:e,series:r,percentage:n,closable:i,onClose:a}){const{t:s}=Ce(),o=`${Math.round(n??0).toFixed(0)}%`,c=e&&!i,l=[s(`media.${t.type}`)];return t.year&&l.push(t.year),_("div",{className:`group -m-3 mb-2 rounded-xl bg-denim-300 bg-opacity-0 transition-colors duration-100 ${c?"hover:bg-opacity-100":""}`,children:Y("article",{className:`pointer-events-auto relative mb-2 p-3 transition-transform duration-100 ${c?"group-hover:scale-95":""}`,children:[Y("div",{className:["relative mb-4 aspect-[2/3] w-full overflow-hidden rounded-xl bg-denim-500 bg-cover bg-center transition-[border-radius] duration-100",i?"":"group-hover:rounded-lg"].join(" "),style:{backgroundImage:t.poster?`url(${t.poster})`:void 0},children:[r?_("div",{className:["absolute right-2 top-2 rounded-md bg-denim-200 px-2 py-1 transition-colors",i?"":"group-hover:bg-denim-500"].join(" "),children:_("p",{className:["text-center text-xs font-bold text-slate-400 transition-colors",i?"":"group-hover:text-white"].join(" "),children:s("seasons.seasonAndEpisode",{season:r.season,episode:r.episode})})}):null,n!==void 0?Y(vr,{children:[_("div",{className:`absolute inset-x-0 bottom-0 h-12 bg-gradient-to-t from-denim-300 to-transparent transition-colors ${c?"group-hover:from-denim-100":""}`}),_("div",{className:`absolute inset-x-0 bottom-0 h-12 bg-gradient-to-t from-denim-300 to-transparent transition-colors ${c?"group-hover:from-denim-100":""}`}),_("div",{className:"absolute inset-x-0 bottom-0 p-3",children:_("div",{className:"relative h-1 overflow-hidden rounded-full bg-denim-600",children:_("div",{className:"absolute inset-y-0 left-0 rounded-full bg-bink-700",style:{width:o}})})})]}):null,_("div",{className:`absolute inset-0 flex items-center justify-center bg-denim-200 bg-opacity-80 transition-opacity duration-200 ${i?"opacity-100":"pointer-events-none opacity-0"}`,children:_(tn,{clickable:!0,className:"text-2xl text-slate-400",onClick:()=>i&&(a==null?void 0:a()),icon:ce.X})})]}),_("h1",{className:"mb-1 max-h-[4.5rem] text-ellipsis break-words font-bold text-white line-clamp-3",children:_("span",{children:t.title})}),_(Jot,{className:"text-xs",content:l})]})})}function tlt(t){const e=_(elt,{...t}),r=t.linkable&&!t.closable;let n=r?`/media/${encodeURIComponent(CFe(t.media))}`:"#";return r&&t.series&&(n+=`/${encodeURIComponent(t.series.seasonId)}/${encodeURIComponent(t.series.episodeId)}`),t.linkable?_(ng,{to:n,className:t.closable?"hover:cursor-default":"",children:e}):_("span",{children:e})}function rlt(t){if(t)return{season:t.season,episode:t.episode,episodeId:t.episodeId,seasonId:t.seasonId}}function lL(t){var n;const{watched:e}=t_(),r=A.useMemo(()=>e.items.sort((i,a)=>a.watchedAt-i.watchedAt).find(i=>i.item.meta.id===t.media.id),[e,t.media]);return _(tlt,{media:t.media,series:rlt((n=r==null?void 0:r.item)==null?void 0:n.series),linkable:!0,percentage:r==null?void 0:r.percentage,onClose:t.onClose,closable:t.closable})}function nlt(){const{t}=Ce(),{getFilteredBookmarks:e,setItemBookmark:r}=Yk(),n=e(),[i,a]=A.useState(!1),[s]=aL(),{watched:o}=t_(),c=A.useMemo(()=>n.map(l=>({...l,watched:o.items.sort((u,f)=>f.watchedAt-u.watchedAt).find(u=>u.item.meta.id===l.id)})).sort((l,u)=>{var f,d;return(((f=u.watched)==null?void 0:f.watchedAt)||0)-(((d=l.watched)==null?void 0:d.watchedAt)||0)}),[o.items,n]);return n.length===0?null:Y("div",{children:[_(sL,{title:t("search.bookmarks")||"Bookmarks",icon:ce.BOOKMARK,children:_(TJ,{editing:i,onEdit:a})}),_(oL,{ref:s,children:c.map(l=>_(lL,{media:l,closable:i,onClose:()=>r(l,!1)},l.id))})]})}function ilt(){const{t}=Ce(),{getFilteredBookmarks:e}=Yk(),{getFilteredWatched:r,removeProgress:n}=t_(),[i,a]=A.useState(!1),[s]=aL(),o=e(),c=r().filter(l=>!iq(o,l.item.meta));return c.length===0?null:Y("div",{children:[_(sL,{title:t("search.continueWatching")||"Continue Watching",icon:ce.CLOCK,children:_(TJ,{editing:i,onEdit:a})}),_(oL,{ref:s,children:c.map(l=>_(lL,{media:l.item.meta,closable:i,onClose:()=>n(l.item.meta.id)},l.item.meta.id))})]})}function alt(){const[t,e]=A.useState(new URLSearchParams(window.location.search).get("migrated")==="1"||localStorage.getItem("mw-show-domain-modal")==="true"),[r,n]=A.useState(!1),i=ed(),{t:a}=Ce(),s=A.useCallback(()=>{localStorage.setItem("mw-show-domain-modal","false"),e(!1)},[]);A.useEffect(()=>{const d=new URLSearchParams(i.location.search);d.delete("migrated"),d.get("migrated")==="1"&&localStorage.setItem("mw-show-domain-modal","true"),i.replace({search:d.toString()})},[i]),A.useEffect(()=>{setTimeout(()=>{n(!0)},500)},[]);const o=1e3*60*60*24,c=["January","February","March","April","May","June","July","August","September","October","November","December"],l=new Date(localStorage.getItem("firstVisitToSite")||Date.now());localStorage.setItem("firstVisitToSite",l.toISOString());const u=new Date(l.getTime()+14*o),f=`${u.getDate()} ${c[u.getMonth()]} ${u.getFullYear()}`;return _(eZ,{show:t&&r,children:Y(tZ,{children:[Y("div",{className:"mb-12",children:[_("div",{className:"absolute left-0 top-0 h-[300px] w-full -translate-y-1/2 opacity-50",style:{backgroundImage:"radial-gradient(ellipse 70% 9rem, #7831C1 0%, transparent 100%)"}}),_("div",{className:"relative flex items-center justify-center",children:_("div",{className:"rounded-full bg-bink-200 px-12 py-4 text-center text-sm font-bold text-white md:text-xl",children:a("v3.newDomain")})})]}),Y("div",{className:"space-y-6",children:[_("h2",{className:"text-2xl font-bold text-white",children:a("v3.newSiteTitle")}),_("p",{className:"leading-7",children:Y(jk,{i18nKey:"v3.newDomainText",values:{date:f},children:[_("span",{className:"text-slate-300"}),_("span",{className:"font-bold text-white"})]})}),_("p",{children:a("v3.tireless")})]}),_("div",{className:"mb-6 mt-16 flex items-center justify-center",children:_(Zot,{icon:ce.PLAY,onClick:()=>s(),children:a("v3.leaveAnnouncement")})})]})})}function slt(){return Y("div",{className:"mb-16",children:[_(WXe,{}),_(alt,{}),_(nlt,{}),_(ilt,{})]})}function wJ(){const{t}=Ce(),[e]=yJ();return _(ag,{className:"mb-24 mt-40 ",text:t(`search.loading_${e.type}`)||t("search.loading")||"Fetching your favourite shows..."})}function v7(t){const{t:e}=Ce(),r=t.failed?ce.WARNING:ce.EYE_SLASH;return Y("div",{className:"mb-24 mt-40  flex flex-col items-center justify-center space-y-3 text-center",children:[_(tn,{icon:r,className:`text-xl ${t.failed?"text-red-400":"text-bink-600"}`}),t.failed?null:_("div",{children:(t.results??0)>0?_("p",{children:e("search.allResults")}):_("p",{children:e("search.noResults")})}),t.failed?_("div",{children:_("p",{children:e("search.allFailed")})}):null]})}function olt({searchQuery:t}){const{t:e}=Ce(),[r,n]=A.useState([]),[i,a,s]=rd(o=>tq(o));return A.useEffect(()=>{async function o(c){const l=await i(c);l&&n(l)}t.searchQuery!==""&&o(t)},[t,i]),a?_(wJ,{}):s?_(v7,{failed:!0}):r?Y("div",{children:[r.length>0?Y("div",{children:[_(sL,{title:e("search.headingTitle")||"Search results",icon:ce.SEARCH}),_(oL,{children:r.map(o=>_(lL,{media:o},o.id.toString()))})]}):null,_(v7,{results:r.length})]}):null}function llt({search:t}){const[e,r]=A.useState(!1),[n,i]=A.useState(!1),a=Fot(t,500);return A.useEffect(()=>{r(t.searchQuery!==""),i(t.searchQuery!=="")},[t]),A.useEffect(()=>{i(!1)},[a]),A.useMemo(()=>n?_(wJ,{}):e?_(olt,{searchQuery:a}):_(slt,{}),[n,e,a])}function clt(){const{t}=Ce(),[e,r,n]=yJ(),[i,a]=A.useState(!1),s=ZE(),o=A.useCallback(({status:c})=>a(c===Lo.STATUS_FIXED),[a]);return Y(vr,{children:[Y("div",{className:"relative z-10 mb-16 sm:mb-24",children:[_(pa,{children:_("title",{children:t("global.name")})}),_(aZ,{bg:i}),_(Aot,{children:Y("div",{className:"mt-44 space-y-16 text-center",children:[_("div",{className:"absolute bottom-0 left-0 right-0 flex h-0 justify-center",children:_("div",{className:"absolute bottom-4 h-[100vh] w-[3000px] rounded-[100%] bg-denim-300 md:w-[200vw]"})}),_("div",{className:"relative z-10 mb-16",children:_(ig,{className:"mx-auto max-w-xs",children:t("search.title")})}),_("div",{className:"relative z-30",children:_(Lo,{enabled:!0,top:16+s,onStateChange:o,children:_(Dot,{onChange:r,value:e,onUnFocus:n,placeholder:t("search.placeholder")||"What do you want to watch?"})})})]})})]}),_(Iot,{children:_(llt,{search:e})})]})}function ult(){return _(BFe,{children:_(zFe,{children:_(MFe,{children:_(PMe,{children:_(FMe,{children:Y(O8e,{children:[_(ks,{exact:!0,path:"/v2-migration",component:KXe}),_(ks,{exact:!0,path:"/",children:_(R8e,{to:`/search/${ve.MOVIE}`})}),_(ks,{exact:!0,path:"/media/:media",component:HB}),_(ks,{exact:!0,path:"/media/:media/:season/:episode",component:HB}),_(ks,{exact:!0,path:"/search/:type/:query?",component:clt}),_(ks,{exact:!0,path:"/dev",component:A.lazy(()=>oA(()=>import("./DeveloperView-fb9c9fc8.js"),[]))}),_(ks,{exact:!0,path:"/dev/video",component:A.lazy(()=>oA(()=>import("./VideoTesterView-f693ca51.js"),[]))}),null,_(ks,{path:"*",component:GKe})]})})})})})})}var RJ={},AJ={},IJ={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];if(typeof window<"u"){var o;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(o=window).gtag.apply(o,a)}},r=e;t.default=r})(IJ);var $J={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var e=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function r(o){return o.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(c,l,u){return l>0&&l+c.length!==u.length&&c.search(e)>-1&&u.charAt(l-2)!==":"&&(u.charAt(l+c.length)!=="-"||u.charAt(l-1)==="-")&&u.charAt(l-1).search(/[^\s-]/)<0?c.toLowerCase():c.substr(1).search(/[A-Z]|\../)>-1?c:c.charAt(0).toUpperCase()+c.substr(1)})}function n(o){return typeof o=="string"&&o.indexOf("@")!==-1}var i="REDACTED (Potential Email Address)";function a(o){return n(o)?(console.warn("This arg looks like an email address, redacting."),i):o}function s(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,u=o||"";return c&&(u=r(o)),l&&(u=a(u)),u}})($J);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GA4=void 0;var e=s(IJ),r=s($J),n=["eventCategory","eventAction","eventLabel","eventValue","hitType"],i=["title","location"],a=["page","hitType"];function s(N){return N&&N.__esModule?N:{default:N}}function o(N,P){if(N==null)return{};var B=c(N,P),V,M;if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(N);for(M=0;M<U.length;M++)V=U[M],!(P.indexOf(V)>=0)&&Object.prototype.propertyIsEnumerable.call(N,V)&&(B[V]=N[V])}return B}function c(N,P){if(N==null)return{};var B={},V=Object.keys(N),M,U;for(U=0;U<V.length;U++)M=V[U],!(P.indexOf(M)>=0)&&(B[M]=N[M]);return B}function l(N){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},l(N)}function u(N){return h(N)||d(N)||y(N)||f()}function f(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d(N){if(typeof Symbol<"u"&&N[Symbol.iterator]!=null||N["@@iterator"]!=null)return Array.from(N)}function h(N){if(Array.isArray(N))return x(N)}function p(N,P){var B=Object.keys(N);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(N);P&&(V=V.filter(function(M){return Object.getOwnPropertyDescriptor(N,M).enumerable})),B.push.apply(B,V)}return B}function m(N){for(var P=1;P<arguments.length;P++){var B=arguments[P]!=null?arguments[P]:{};P%2?p(Object(B),!0).forEach(function(V){I(N,V,B[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(B)):p(Object(B)).forEach(function(V){Object.defineProperty(N,V,Object.getOwnPropertyDescriptor(B,V))})}return N}function g(N,P){return S(N)||E(N,P)||y(N,P)||v()}function v(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y(N,P){if(N){if(typeof N=="string")return x(N,P);var B=Object.prototype.toString.call(N).slice(8,-1);if(B==="Object"&&N.constructor&&(B=N.constructor.name),B==="Map"||B==="Set")return Array.from(N);if(B==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(B))return x(N,P)}}function x(N,P){(P==null||P>N.length)&&(P=N.length);for(var B=0,V=new Array(P);B<P;B++)V[B]=N[B];return V}function E(N,P){var B=N==null?null:typeof Symbol<"u"&&N[Symbol.iterator]||N["@@iterator"];if(B!=null){var V,M,U,W,k=[],O=!0,F=!1;try{if(U=(B=B.call(N)).next,P===0){if(Object(B)!==B)return;O=!1}else for(;!(O=(V=U.call(B)).done)&&(k.push(V.value),k.length!==P);O=!0);}catch(D){F=!0,M=D}finally{try{if(!O&&B.return!=null&&(W=B.return(),Object(W)!==W))return}finally{if(F)throw M}}return k}}function S(N){if(Array.isArray(N))return N}function b(N,P){if(!(N instanceof P))throw new TypeError("Cannot call a class as a function")}function T(N,P){for(var B=0;B<P.length;B++){var V=P[B];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(N,w(V.key),V)}}function R(N,P,B){return P&&T(N.prototype,P),B&&T(N,B),Object.defineProperty(N,"prototype",{writable:!1}),N}function I(N,P,B){return P=w(P),P in N?Object.defineProperty(N,P,{value:B,enumerable:!0,configurable:!0,writable:!0}):N[P]=B,N}function w(N){var P=C(N,"string");return l(P)==="symbol"?P:String(P)}function C(N,P){if(l(N)!=="object"||N===null)return N;var B=N[Symbol.toPrimitive];if(B!==void 0){var V=B.call(N,P||"default");if(l(V)!=="object")return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return(P==="string"?String:Number)(N)}var L=function(){function N(){var P=this;b(this,N),I(this,"reset",function(){P.isInitialized=!1,P._testMode=!1,P._currentMeasurementId,P._hasLoadedGA=!1,P._isQueuing=!1,P._queueGtag=[]}),I(this,"_gtag",function(){for(var B=arguments.length,V=new Array(B),M=0;M<B;M++)V[M]=arguments[M];P._testMode||P._isQueuing?P._queueGtag.push(V):e.default.apply(void 0,V)}),I(this,"_loadGA",function(B,V){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"https://www.googletagmanager.com/gtag/js";if(!(typeof window>"u"||typeof document>"u")&&!P._hasLoadedGA){var U=document.createElement("script");U.async=!0,U.src="".concat(M,"?id=").concat(B),V&&U.setAttribute("nonce",V),document.body.appendChild(U),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},P._hasLoadedGA=!0}}),I(this,"_toGtagOptions",function(B){if(B){var V={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},M=Object.entries(B).reduce(function(U,W){var k=g(W,2),O=k[0],F=k[1];return V[O]?U[V[O]]=F:U[O]=F,U},{});return M}}),I(this,"initialize",function(B){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!B)throw new Error("Require GA_MEASUREMENT_ID");var M=typeof B=="string"?[{trackingId:B}]:B;P._currentMeasurementId=M[0].trackingId;var U=V.gaOptions,W=V.gtagOptions,k=V.nonce,O=V.testMode,F=O===void 0?!1:O,D=V.gtagUrl;if(P._testMode=F,F||P._loadGA(P._currentMeasurementId,k,D),P.isInitialized||(P._gtag("js",new Date),M.forEach(function(fe){var se=m(m(m({},P._toGtagOptions(m(m({},U),fe.gaOptions))),W),fe.gtagOptions);Object.keys(se).length?P._gtag("config",fe.trackingId,se):P._gtag("config",fe.trackingId)})),P.isInitialized=!0,!F){var Q=u(P._queueGtag);for(P._queueGtag=[],P._isQueuing=!1;Q.length;){var ee=Q.shift();P._gtag.apply(P,u(ee)),ee[0]==="get"&&(P._isQueuing=!0)}}}),I(this,"set",function(B){if(!B){console.warn("`fieldsObject` is required in .set()");return}if(l(B)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(B).length===0&&console.warn("empty `fieldsObject` given to .set()"),P._gaCommand("set",B)}),I(this,"_gaCommandSendEvent",function(B,V,M,U,W){P._gtag("event",V,m(m({event_category:B,event_label:M,value:U},W&&{non_interaction:W.nonInteraction}),P._toGtagOptions(W)))}),I(this,"_gaCommandSendEventParameters",function(){for(var B=arguments.length,V=new Array(B),M=0;M<B;M++)V[M]=arguments[M];if(typeof V[0]=="string")P._gaCommandSendEvent.apply(P,u(V.slice(1)));else{var U=V[0],W=U.eventCategory,k=U.eventAction,O=U.eventLabel,F=U.eventValue;U.hitType;var D=o(U,n);P._gaCommandSendEvent(W,k,O,F,D)}}),I(this,"_gaCommandSendTiming",function(B,V,M,U){P._gtag("event","timing_complete",{name:V,value:M,event_category:B,event_label:U})}),I(this,"_gaCommandSendPageview",function(B,V){if(V&&Object.keys(V).length){var M=P._toGtagOptions(V),U=M.title,W=M.location,k=o(M,i);P._gtag("event","page_view",m(m(m(m({},B&&{page_path:B}),U&&{page_title:U}),W&&{page_location:W}),k))}else B?P._gtag("event","page_view",{page_path:B}):P._gtag("event","page_view")}),I(this,"_gaCommandSendPageviewParameters",function(){for(var B=arguments.length,V=new Array(B),M=0;M<B;M++)V[M]=arguments[M];if(typeof V[0]=="string")P._gaCommandSendPageview.apply(P,u(V.slice(1)));else{var U=V[0],W=U.page;U.hitType;var k=o(U,a);P._gaCommandSendPageview(W,k)}}),I(this,"_gaCommandSend",function(){for(var B=arguments.length,V=new Array(B),M=0;M<B;M++)V[M]=arguments[M];var U=typeof V[0]=="string"?V[0]:V[0].hitType;switch(U){case"event":P._gaCommandSendEventParameters.apply(P,V);break;case"pageview":P._gaCommandSendPageviewParameters.apply(P,V);break;case"timing":P._gaCommandSendTiming.apply(P,u(V.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(U));break;default:console.warn("Send command doesn't exist: ".concat(U))}}),I(this,"_gaCommandSet",function(){for(var B=arguments.length,V=new Array(B),M=0;M<B;M++)V[M]=arguments[M];typeof V[0]=="string"&&(V[0]=I({},V[0],V[1])),P._gtag("set",P._toGtagOptions(V[0]))}),I(this,"_gaCommand",function(B){for(var V=arguments.length,M=new Array(V>1?V-1:0),U=1;U<V;U++)M[U-1]=arguments[U];switch(B){case"send":P._gaCommandSend.apply(P,M);break;case"set":P._gaCommandSet.apply(P,M);break;default:console.warn("Command doesn't exist: ".concat(B))}}),I(this,"ga",function(){for(var B=arguments.length,V=new Array(B),M=0;M<B;M++)V[M]=arguments[M];if(typeof V[0]=="string")P._gaCommand.apply(P,V);else{var U=V[0];P._gtag("get",P._currentMeasurementId,"client_id",function(W){P._isQueuing=!1;var k=P._queueGtag;for(U({get:function(D){return D==="clientId"?W:D==="trackingId"?P._currentMeasurementId:D==="apiVersion"?"1":void 0}});k.length;){var O=k.shift();P._gtag.apply(P,u(O))}}),P._isQueuing=!0}return P.ga}),I(this,"event",function(B,V){if(typeof B=="string")P._gtag("event",B,P._toGtagOptions(V));else{var M=B.action,U=B.category,W=B.label,k=B.value,O=B.nonInteraction,F=B.transport;if(!U||!M){console.warn("args.category AND args.action are required in event()");return}var D={hitType:"event",eventCategory:(0,r.default)(U),eventAction:(0,r.default)(M)};W&&(D.eventLabel=(0,r.default)(W)),typeof k<"u"&&(typeof k!="number"?console.warn("Expected `args.value` arg to be a Number."):D.eventValue=k),typeof O<"u"&&(typeof O!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):D.nonInteraction=O),typeof F<"u"&&(typeof F!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(F)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),D.transport=F)),P._gaCommand("send",D)}}),I(this,"send",function(B){P._gaCommand("send",B)}),this.reset()}return R(N,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}]),N}();t.GA4=L;var H=new L;t.default=H})(AJ);(function(t){function e(o){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},e(o)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ReactGAImplementation=void 0;var r=i(AJ);function n(o){if(typeof WeakMap!="function")return null;var c=new WeakMap,l=new WeakMap;return(n=function(f){return f?l:c})(o)}function i(o,c){if(!c&&o&&o.__esModule)return o;if(o===null||e(o)!=="object"&&typeof o!="function")return{default:o};var l=n(c);if(l&&l.has(o))return l.get(o);var u={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in o)if(d!=="default"&&Object.prototype.hasOwnProperty.call(o,d)){var h=f?Object.getOwnPropertyDescriptor(o,d):null;h&&(h.get||h.set)?Object.defineProperty(u,d,h):u[d]=o[d]}return u.default=o,l&&l.set(o,u),u}var a=r.GA4;t.ReactGAImplementation=a;var s=r.default;t.default=s})(RJ);const flt=$x(RJ);flt.initialize([{trackingId:_Me}]);const CJ=Object.prototype.toString;function kJ(t){switch(CJ.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return No(t,Error)}}function gd(t,e){return CJ.call(t)===`[object ${e}]`}function OJ(t){return gd(t,"ErrorEvent")}function y7(t){return gd(t,"DOMError")}function dlt(t){return gd(t,"DOMException")}function Po(t){return gd(t,"String")}function LJ(t){return t===null||typeof t!="object"&&typeof t!="function"}function If(t){return gd(t,"Object")}function cL(t){return typeof Event<"u"&&No(t,Event)}function hlt(t){return typeof Element<"u"&&No(t,Element)}function plt(t){return gd(t,"RegExp")}function uL(t){return!!(t&&t.then&&typeof t.then=="function")}function glt(t){return If(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function PJ(t){return typeof t=="number"&&t!==t}function No(t,e){try{return t instanceof e}catch{return!1}}function sv(t){return t&&t.Math==Math?t:void 0}const Vt=typeof globalThis=="object"&&sv(globalThis)||typeof window=="object"&&sv(window)||typeof self=="object"&&sv(self)||typeof global=="object"&&sv(global)||function(){return this}()||{};function _g(){return Vt}function fL(t,e,r){const n=r||Vt,i=n.__SENTRY__=n.__SENTRY__||{};return i[t]||(i[t]=e())}const ay=_g(),mlt=80;function $f(t,e={}){try{let r=t;const n=5,i=[];let a=0,s=0;const o=" > ",c=o.length;let l;const u=Array.isArray(e)?e:e.keyAttrs,f=!Array.isArray(e)&&e.maxStringLength||mlt;for(;r&&a++<n&&(l=vlt(r,u),!(l==="html"||a>1&&s+i.length*c+l.length>=f));)i.push(l),s+=l.length,r=r.parentNode;return i.reverse().join(o)}catch{return"<unknown>"}}function vlt(t,e){const r=t,n=[];let i,a,s,o,c;if(!r||!r.tagName)return"";n.push(r.tagName.toLowerCase());const l=e&&e.length?e.filter(f=>r.getAttribute(f)).map(f=>[f,r.getAttribute(f)]):null;if(l&&l.length)l.forEach(f=>{n.push(`[${f[0]}="${f[1]}"]`)});else if(r.id&&n.push(`#${r.id}`),i=r.className,i&&Po(i))for(a=i.split(/\s+/),c=0;c<a.length;c++)n.push(`.${a[c]}`);const u=["aria-label","type","name","title","alt"];for(c=0;c<u.length;c++)s=u[c],o=r.getAttribute(s),o&&n.push(`[${s}="${o}"]`);return n.join("")}function ylt(){try{return ay.document.location.href}catch{return""}}function xlt(t){return ay.document&&ay.document.querySelector?ay.document.querySelector(t):null}class hr extends Error{constructor(e,r="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=r}}const Elt=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function _lt(t){return t==="http"||t==="https"}function P_(t,e=!1){const{host:r,path:n,pass:i,port:a,projectId:s,protocol:o,publicKey:c}=t;return`${o}://${c}${e&&i?`:${i}`:""}@${r}${a?`:${a}`:""}/${n&&`${n}/`}${s}`}function blt(t){const e=Elt.exec(t);if(!e)throw new hr(`Invalid Sentry Dsn: ${t}`);const[r,n,i="",a,s="",o]=e.slice(1);let c="",l=o;const u=l.split("/");if(u.length>1&&(c=u.slice(0,-1).join("/"),l=u.pop()),l){const f=l.match(/^\d+/);f&&(l=f[0])}return NJ({host:a,pass:i,path:c,projectId:l,port:s,protocol:r,publicKey:n})}function NJ(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function Slt(t){if(!(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__))return;const{port:e,projectId:r,protocol:n}=t;if(["protocol","publicKey","host","projectId"].forEach(a=>{if(!t[a])throw new hr(`Invalid Sentry Dsn: ${a} missing`)}),!r.match(/^\d+$/))throw new hr(`Invalid Sentry Dsn: Invalid projectId ${r}`);if(!_lt(n))throw new hr(`Invalid Sentry Dsn: Invalid protocol ${n}`);if(e&&isNaN(parseInt(e,10)))throw new hr(`Invalid Sentry Dsn: Invalid port ${e}`);return!0}function Tlt(t){const e=typeof t=="string"?blt(t):NJ(t);return Slt(e),e}const wlt="Sentry Logger ",up=["debug","info","warn","error","log","assert","trace"];function DJ(t){if(!("console"in Vt))return t();const e=Vt.console,r={};up.forEach(n=>{const i=e[n]&&e[n].__sentry_original__;n in e&&i&&(r[n]=e[n],e[n]=i)});try{return t()}finally{Object.keys(r).forEach(n=>{e[n]=r[n]})}}function x7(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1}};return typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?up.forEach(r=>{e[r]=(...n)=>{t&&DJ(()=>{Vt.console[r](`${wlt}[${r}]:`,...n)})}}):up.forEach(r=>{e[r]=()=>{}}),e}let J;typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?J=fL("logger",x7):J=x7();function l0(t,e=0){return typeof t!="string"||e===0||t.length<=e?t:`${t.slice(0,e)}...`}function z1(t,e){if(!Array.isArray(t))return"";const r=[];for(let n=0;n<t.length;n++){const i=t[n];try{r.push(String(i))}catch{r.push("[value cannot be serialized]")}}return r.join(e)}function Rlt(t,e,r=!1){return Po(t)?plt(e)?e.test(t):Po(e)?r?t===e:t.includes(e):!1:!1}function bg(t,e=[],r=!1){return e.some(n=>Rlt(t,n,r))}function Wt(t,e,r){if(!(e in t))return;const n=t[e],i=r(n);if(typeof i=="function")try{MJ(i,n)}catch{}t[e]=i}function dL(t,e,r){Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0})}function MJ(t,e){const r=e.prototype||{};t.prototype=e.prototype=r,dL(t,"__sentry_original__",e)}function hL(t){return t.__sentry_original__}function Alt(t){return Object.keys(t).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(t[e])}`).join("&")}function FJ(t){if(kJ(t))return{message:t.message,name:t.name,stack:t.stack,..._7(t)};if(cL(t)){const e={type:t.type,target:E7(t.target),currentTarget:E7(t.currentTarget),..._7(t)};return typeof CustomEvent<"u"&&No(t,CustomEvent)&&(e.detail=t.detail),e}else return t}function E7(t){try{return hlt(t)?$f(t):Object.prototype.toString.call(t)}catch{return"<unknown>"}}function _7(t){if(typeof t=="object"&&t!==null){const e={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}else return{}}function Ilt(t,e=40){const r=Object.keys(FJ(t));if(r.sort(),!r.length)return"[object has no keys]";if(r[0].length>=e)return l0(r[0],e);for(let n=r.length;n>0;n--){const i=r.slice(0,n).join(", ");if(!(i.length>e))return n===r.length?i:l0(i,e)}return""}function yo(t){return vI(t,new Map)}function vI(t,e){if(If(t)){const r=e.get(t);if(r!==void 0)return r;const n={};e.set(t,n);for(const i of Object.keys(t))typeof t[i]<"u"&&(n[i]=vI(t[i],e));return n}if(Array.isArray(t)){const r=e.get(t);if(r!==void 0)return r;const n=[];return e.set(t,n),t.forEach(i=>{n.push(vI(i,e))}),n}return t}const BJ=50,b7=/\(error: (.*)\)/;function UJ(...t){const e=t.sort((r,n)=>r[0]-n[0]).map(r=>r[1]);return(r,n=0)=>{const i=[],a=r.split(`
`);for(let s=n;s<a.length;s++){const o=a[s];if(o.length>1024)continue;const c=b7.test(o)?o.replace(b7,"$1"):o;if(!c.match(/\S*Error: /)){for(const l of e){const u=l(c);if(u){i.push(u);break}}if(i.length>=BJ)break}}return Clt(i)}}function $lt(t){return Array.isArray(t)?UJ(...t):t}function Clt(t){if(!t.length)return[];const e=t.slice(0,BJ),r=e[e.length-1].function;r&&/sentryWrapped/.test(r)&&e.pop(),e.reverse();const n=e[e.length-1].function;return n&&/captureMessage|captureException/.test(n)&&e.pop(),e.map(i=>({...i,filename:i.filename||e[e.length-1].filename,function:i.function||"?"}))}const Ww="<anonymous>";function Do(t){try{return!t||typeof t!="function"?Ww:t.name||Ww}catch{return Ww}}const yI=_g();function jJ(){if(!("fetch"in yI))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function xI(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function HJ(){if(!jJ())return!1;if(xI(yI.fetch))return!0;let t=!1;const e=yI.document;if(e&&typeof e.createElement=="function")try{const r=e.createElement("iframe");r.hidden=!0,e.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(t=xI(r.contentWindow.fetch)),e.head.removeChild(r)}catch(r){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return t}const ov=_g();function klt(){const t=ov.chrome,e=t&&t.app&&t.app.runtime,r="history"in ov&&!!ov.history.pushState&&!!ov.history.replaceState;return!e&&r}const ct=_g(),kl="__sentry_xhr_v2__",c0={},S7={};function Olt(t){if(!S7[t])switch(S7[t]=!0,t){case"console":Llt();break;case"dom":jlt();break;case"xhr":Dlt();break;case"fetch":Plt();break;case"history":Mlt();break;case"error":Hlt();break;case"unhandledrejection":Glt();break;default:(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.warn("unknown instrumentation type:",t);return}}function Tr(t,e){c0[t]=c0[t]||[],c0[t].push(e),Olt(t)}function $i(t,e){if(!(!t||!c0[t]))for(const r of c0[t]||[])try{r(e)}catch(n){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.error(`Error while triggering instrumentation handler.
Type: ${t}
Name: ${Do(r)}
Error:`,n)}}function Llt(){"console"in ct&&up.forEach(function(t){t in ct.console&&Wt(ct.console,t,function(e){return function(...r){$i("console",{args:r,level:t}),e&&e.apply(ct.console,r)}})})}function Plt(){HJ()&&Wt(ct,"fetch",function(t){return function(...e){const{method:r,url:n}=Nlt(e),i={args:e,fetchData:{method:r,url:n},startTimestamp:Date.now()};return $i("fetch",{...i}),t.apply(ct,e).then(a=>($i("fetch",{...i,endTimestamp:Date.now(),response:a}),a),a=>{throw $i("fetch",{...i,endTimestamp:Date.now(),error:a}),a})}})}function EI(t,e){return!!t&&typeof t=="object"&&!!t[e]}function T7(t){return typeof t=="string"?t:t?EI(t,"url")?t.url:t.toString?t.toString():"":""}function Nlt(t){if(t.length===0)return{method:"GET",url:""};if(t.length===2){const[r,n]=t;return{url:T7(r),method:EI(n,"method")?String(n.method).toUpperCase():"GET"}}const e=t[0];return{url:T7(e),method:EI(e,"method")?String(e.method).toUpperCase():"GET"}}function Dlt(){if(!("XMLHttpRequest"in ct))return;const t=XMLHttpRequest.prototype;Wt(t,"open",function(e){return function(...r){const n=r[1],i=this[kl]={method:Po(r[0])?r[0].toUpperCase():r[0],url:r[1],request_headers:{}};Po(n)&&i.method==="POST"&&n.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const a=()=>{const s=this[kl];if(s&&this.readyState===4){try{s.status_code=this.status}catch{}$i("xhr",{args:r,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:this})}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?Wt(this,"onreadystatechange",function(s){return function(...o){return a(),s.apply(this,o)}}):this.addEventListener("readystatechange",a),Wt(this,"setRequestHeader",function(s){return function(...o){const[c,l]=o,u=this[kl];return u&&(u.request_headers[c.toLowerCase()]=l),s.apply(this,o)}}),e.apply(this,r)}}),Wt(t,"send",function(e){return function(...r){const n=this[kl];return n&&r[0]!==void 0&&(n.body=r[0]),$i("xhr",{args:r,startTimestamp:Date.now(),xhr:this}),e.apply(this,r)}})}let lv;function Mlt(){if(!klt())return;const t=ct.onpopstate;ct.onpopstate=function(...r){const n=ct.location.href,i=lv;if(lv=n,$i("history",{from:i,to:n}),t)try{return t.apply(this,r)}catch{}};function e(r){return function(...n){const i=n.length>2?n[2]:void 0;if(i){const a=lv,s=String(i);lv=s,$i("history",{from:a,to:s})}return r.apply(this,n)}}Wt(ct.history,"pushState",e),Wt(ct.history,"replaceState",e)}const Flt=1e3;let cv,uv;function Blt(t,e){if(!t||t.type!==e.type)return!0;try{if(t.target!==e.target)return!0}catch{}return!1}function Ult(t){if(t.type!=="keypress")return!1;try{const e=t.target;if(!e||!e.tagName)return!0;if(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)return!1}catch{}return!0}function w7(t,e=!1){return r=>{if(!r||uv===r||Ult(r))return;const n=r.type==="keypress"?"input":r.type;cv===void 0?(t({event:r,name:n,global:e}),uv=r):Blt(uv,r)&&(t({event:r,name:n,global:e}),uv=r),clearTimeout(cv),cv=ct.setTimeout(()=>{cv=void 0},Flt)}}function jlt(){if(!("document"in ct))return;const t=$i.bind(null,"dom"),e=w7(t,!0);ct.document.addEventListener("click",e,!1),ct.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(r=>{const n=ct[r]&&ct[r].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(Wt(n,"addEventListener",function(i){return function(a,s,o){if(a==="click"||a=="keypress")try{const c=this,l=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},u=l[a]=l[a]||{refCount:0};if(!u.handler){const f=w7(t);u.handler=f,i.call(this,a,f,o)}u.refCount++}catch{}return i.call(this,a,s,o)}}),Wt(n,"removeEventListener",function(i){return function(a,s,o){if(a==="click"||a=="keypress")try{const c=this,l=c.__sentry_instrumentation_handlers__||{},u=l[a];u&&(u.refCount--,u.refCount<=0&&(i.call(this,a,u.handler,o),u.handler=void 0,delete l[a]),Object.keys(l).length===0&&delete c.__sentry_instrumentation_handlers__)}catch{}return i.call(this,a,s,o)}}))})}let fv=null;function Hlt(){fv=ct.onerror,ct.onerror=function(t,e,r,n,i){return $i("error",{column:n,error:i,line:r,msg:t,url:e}),fv&&!fv.__SENTRY_LOADER__?fv.apply(this,arguments):!1},ct.onerror.__SENTRY_INSTRUMENTED__=!0}let dv=null;function Glt(){dv=ct.onunhandledrejection,ct.onunhandledrejection=function(t){return $i("unhandledrejection",t),dv&&!dv.__SENTRY_LOADER__?dv.apply(this,arguments):!0},ct.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}function zlt(){const t=typeof WeakSet=="function",e=t?new WeakSet:[];function r(i){if(t)return e.has(i)?!0:(e.add(i),!1);for(let a=0;a<e.length;a++)if(e[a]===i)return!0;return e.push(i),!1}function n(i){if(t)e.delete(i);else for(let a=0;a<e.length;a++)if(e[a]===i){e.splice(a,1);break}}return[r,n]}function xo(){const t=Vt,e=t.crypto||t.msCrypto;if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");const r=e&&e.getRandomValues?()=>e.getRandomValues(new Uint8Array(1))[0]:()=>Math.random()*16;return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,n=>(n^(r()&15)>>n/4).toString(16))}function GJ(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function Vs(t){const{message:e,event_id:r}=t;if(e)return e;const n=GJ(t);return n?n.type&&n.value?`${n.type}: ${n.value}`:n.type||n.value||r||"<unknown>":r||"<unknown>"}function _I(t,e,r){const n=t.exception=t.exception||{},i=n.values=n.values||[],a=i[0]=i[0]||{};a.value||(a.value=e||""),a.type||(a.type=r||"Error")}function Cf(t,e){const r=GJ(t);if(!r)return;const n={type:"generic",handled:!0},i=r.mechanism;if(r.mechanism={...n,...i,...e},e&&"data"in e){const a={...i&&i.data,...e.data};r.mechanism.data=a}}function R7(t){if(t&&t.__sentry_captured__)return!0;try{dL(t,"__sentry_captured__",!0)}catch{}return!1}function zJ(t){return Array.isArray(t)?t:[t]}function Vlt(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function Wlt(){return"npm"}function Klt(){return!Vlt()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Ylt(t,e){return t.require(e)}function js(t,e=1/0,r=1/0){try{return bI("",t,e,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}function VJ(t,e=3,r=100*1024){const n=js(t,e);return Zlt(n)>r?VJ(t,e-1,r):n}function bI(t,e,r=1/0,n=1/0,i=zlt()){const[a,s]=i;if(e===null||["number","boolean","string"].includes(typeof e)&&!PJ(e))return e;const o=qlt(t,e);if(!o.startsWith("[object "))return o;if(e.__sentry_skip_normalization__)return e;let c=r;if(typeof e.__sentry_override_normalization_depth__=="number"&&(c=e.__sentry_override_normalization_depth__),c===0)return o.replace("object ","");if(a(e))return"[Circular ~]";const l=e;if(l&&typeof l.toJSON=="function")try{const h=l.toJSON();return bI("",h,c-1,n,i)}catch{}const u=Array.isArray(e)?[]:{};let f=0;const d=FJ(e);for(const h in d){if(!Object.prototype.hasOwnProperty.call(d,h))continue;if(f>=n){u[h]="[MaxProperties ~]";break}const p=d[h];u[h]=bI(h,p,c-1,n,i),f++}return s(e),u}function qlt(t,e){try{if(t==="domain"&&e&&typeof e=="object"&&e._events)return"[Domain]";if(t==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&e===global)return"[Global]";if(typeof window<"u"&&e===window)return"[Window]";if(typeof document<"u"&&e===document)return"[Document]";if(glt(e))return"[SyntheticEvent]";if(typeof e=="number"&&e!==e)return"[NaN]";if(e===void 0)return"[undefined]";if(typeof e=="function")return`[Function: ${Do(e)}]`;if(typeof e=="symbol")return`[${String(e)}]`;if(typeof e=="bigint")return`[BigInt: ${String(e)}]`;const r=Xlt(e);return/^HTML(\w*)Element$/.test(r)?`[HTMLElement: ${r}]`:`[object ${r}]`}catch(r){return`**non-serializable** (${r})`}}function Xlt(t){const e=Object.getPrototypeOf(t);return e?e.constructor.name:"null prototype"}function Qlt(t){return~-encodeURI(t).split(/%..|./).length}function Zlt(t){return Qlt(JSON.stringify(t))}var Ba;(function(t){t[t.PENDING=0]="PENDING";const r=1;t[t.RESOLVED=r]="RESOLVED";const n=2;t[t.REJECTED=n]="REJECTED"})(Ba||(Ba={}));function ic(t){return new br(e=>{e(t)})}function V1(t){return new br((e,r)=>{r(t)})}class br{__init(){this._state=Ba.PENDING}__init2(){this._handlers=[]}constructor(e){br.prototype.__init.call(this),br.prototype.__init2.call(this),br.prototype.__init3.call(this),br.prototype.__init4.call(this),br.prototype.__init5.call(this),br.prototype.__init6.call(this);try{e(this._resolve,this._reject)}catch(r){this._reject(r)}}then(e,r){return new br((n,i)=>{this._handlers.push([!1,a=>{if(!e)n(a);else try{n(e(a))}catch(s){i(s)}},a=>{if(!r)i(a);else try{n(r(a))}catch(s){i(s)}}]),this._executeHandlers()})}catch(e){return this.then(r=>r,e)}finally(e){return new br((r,n)=>{let i,a;return this.then(s=>{a=!1,i=s,e&&e()},s=>{a=!0,i=s,e&&e()}).then(()=>{if(a){n(i);return}r(i)})})}__init3(){this._resolve=e=>{this._setResult(Ba.RESOLVED,e)}}__init4(){this._reject=e=>{this._setResult(Ba.REJECTED,e)}}__init5(){this._setResult=(e,r)=>{if(this._state===Ba.PENDING){if(uL(r)){r.then(this._resolve,this._reject);return}this._state=e,this._value=r,this._executeHandlers()}}}__init6(){this._executeHandlers=()=>{if(this._state===Ba.PENDING)return;const e=this._handlers.slice();this._handlers=[],e.forEach(r=>{r[0]||(this._state===Ba.RESOLVED&&r[1](this._value),this._state===Ba.REJECTED&&r[2](this._value),r[0]=!0)})}}}function Jlt(t){const e=[];function r(){return t===void 0||e.length<t}function n(s){return e.splice(e.indexOf(s),1)[0]}function i(s){if(!r())return V1(new hr("Not adding Promise because buffer limit was reached."));const o=s();return e.indexOf(o)===-1&&e.push(o),o.then(()=>n(o)).then(null,()=>n(o).then(null,()=>{})),o}function a(s){return new br((o,c)=>{let l=e.length;if(!l)return o(!0);const u=setTimeout(()=>{s&&s>0&&o(!1)},s);e.forEach(f=>{ic(f).then(()=>{--l||(clearTimeout(u),o(!0))},c)})})}return{$:e,add:i,drain:a}}function Kw(t){if(!t)return{};const e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};const r=e[6]||"",n=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],search:r,hash:n,relative:e[5]+r+n}}const ect=["fatal","error","warning","log","info","debug"];function WJ(t){return t==="warn"?"warning":ect.includes(t)?t:"log"}const KJ=_g(),SI={nowSeconds:()=>Date.now()/1e3};function tct(){const{performance:t}=KJ;if(!t||!t.now)return;const e=Date.now()-t.now();return{now:()=>t.now(),timeOrigin:e}}function rct(){try{return Ylt(module,"perf_hooks").performance}catch{return}}const Yw=Klt()?rct():tct(),A7=Yw===void 0?SI:{nowSeconds:()=>(Yw.timeOrigin+Yw.now())/1e3},N_=SI.nowSeconds.bind(SI),ac=A7.nowSeconds.bind(A7),Mo=(()=>{const{performance:t}=KJ;if(!t||!t.now)return;const e=3600*1e3,r=t.now(),n=Date.now(),i=t.timeOrigin?Math.abs(t.timeOrigin+r-n):e,a=i<e,s=t.timing&&t.timing.navigationStart,c=typeof s=="number"?Math.abs(s+r-n):e,l=c<e;return a||l?i<=c?t.timeOrigin:s:n})(),nct=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function ict(t){const e=t.match(nct);if(!t||!e)return;let r;return e[3]==="1"?r=!0:e[3]==="0"&&(r=!1),{traceId:e[1],parentSampled:r,parentSpanId:e[2]}}function Sg(t,e=[]){return[t,e]}function act(t,e){const[r,n]=t;return[r,[...n,e]]}function I7(t,e){const r=t[1];for(const n of r){const i=n[0].type;if(e(n,i))return!0}return!1}function TI(t,e){return(e||new TextEncoder).encode(t)}function sct(t,e){const[r,n]=t;let i=JSON.stringify(r);function a(s){typeof i=="string"?i=typeof s=="string"?i+s:[TI(i,e),s]:i.push(typeof s=="string"?TI(s,e):s)}for(const s of n){const[o,c]=s;if(a(`
${JSON.stringify(o)}
`),typeof c=="string"||c instanceof Uint8Array)a(c);else{let l;try{l=JSON.stringify(c)}catch{l=JSON.stringify(js(c))}a(l)}}return typeof i=="string"?i:oct(i)}function oct(t){const e=t.reduce((i,a)=>i+a.length,0),r=new Uint8Array(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}function lct(t,e){const r=typeof t.data=="string"?TI(t.data,e):t.data;return[yo({type:"attachment",length:r.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),r]}const cct={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor"};function $7(t){return cct[t]}function YJ(t){if(!t||!t.sdk)return;const{name:e,version:r}=t.sdk;return{name:e,version:r}}function uct(t,e,r,n){const i=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:t.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!r&&{dsn:P_(n)},...i&&{trace:yo({...i})}}}function fct(t,e,r){const n=[{type:"client_report"},{timestamp:r||N_(),discarded_events:t}];return Sg(e?{dsn:e}:{},[n])}const dct=60*1e3;function hct(t,e=Date.now()){const r=parseInt(`${t}`,10);if(!isNaN(r))return r*1e3;const n=Date.parse(`${t}`);return isNaN(n)?dct:n-e}function pct(t,e){return t[e]||t.all||0}function gct(t,e,r=Date.now()){return pct(t,e)>r}function mct(t,{statusCode:e,headers:r},n=Date.now()){const i={...t},a=r&&r["x-sentry-rate-limits"],s=r&&r["retry-after"];if(a)for(const o of a.trim().split(",")){const[c,l]=o.split(":",2),u=parseInt(c,10),f=(isNaN(u)?60:u)*1e3;if(!l)i.all=n+f;else for(const d of l.split(";"))i[d]=n+f}else s?i.all=n+hct(s,n):e===429&&(i.all=n+60*1e3);return i}const wI="baggage",qJ="sentry-",vct=/^sentry-/,yct=8192;function xct(t){if(!Po(t)&&!Array.isArray(t))return;let e={};if(Array.isArray(t))e=t.reduce((n,i)=>{const a=C7(i);return{...n,...a}},{});else{if(!t)return;e=C7(t)}const r=Object.entries(e).reduce((n,[i,a])=>{if(i.match(vct)){const s=i.slice(qJ.length);n[s]=a}return n},{});if(Object.keys(r).length>0)return r}function XJ(t){const e=Object.entries(t).reduce((r,[n,i])=>(i&&(r[`${qJ}${n}`]=i),r),{});return Ect(e)}function C7(t){return t.split(",").map(e=>e.split("=").map(r=>decodeURIComponent(r.trim()))).reduce((e,[r,n])=>(e[r]=n,e),{})}function Ect(t){if(Object.keys(t).length!==0)return Object.entries(t).reduce((e,[r,n],i)=>{const a=`${encodeURIComponent(r)}=${encodeURIComponent(n)}`,s=i===0?a:`${e},${a}`;return s.length>yct?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.warn(`Not adding key: ${r} with val: ${n} to baggage header due to exceeding baggage size limits.`),e):s},"")}class Ol{static __initStatic(){this.id="CaptureConsole"}__init(){this.name=Ol.id}__init2(){this._levels=up}constructor(e={}){Ol.prototype.__init.call(this),Ol.prototype.__init2.call(this),e.levels&&(this._levels=e.levels)}setupOnce(e,r){"console"in Vt&&this._levels.forEach(n=>{n in Vt.console&&Wt(Vt.console,n,i=>(...a)=>{const s=r();s.getIntegration(Ol)&&s.withScope(o=>{o.setLevel(WJ(n)),o.setExtra("arguments",a),o.addEventProcessor(l=>(l.logger="console",l));let c=z1(a," ");n==="assert"?a[0]===!1&&(c=`Assertion failed: ${z1(a.slice(1)," ")||"console.assert"}`,o.setExtra("arguments",a.slice(1)),s.captureMessage(c)):n==="error"&&a[0]instanceof Error?s.captureException(a[0]):s.captureMessage(c)}),i&&i.apply(Vt.console,a)})})}}Ol.__initStatic();function _ct(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}class fp{static __initStatic(){this.id="HttpClient"}__init(){this.name=fp.id}constructor(e){fp.prototype.__init.call(this),this._options={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...e}}setupOnce(e,r){this._getCurrentHub=r,this._wrapFetch(),this._wrapXHR()}_fetchResponseHandler(e,r,n){if(this._getCurrentHub&&this._shouldCaptureResponse(r.status,r.url)){const i=bct(e,n),a=this._getCurrentHub();let s,o,c,l;a.shouldSendDefaultPii()&&([{headers:s,cookies:c},{headers:o,cookies:l}]=[{cookieHeader:"Cookie",obj:i},{cookieHeader:"Set-Cookie",obj:r}].map(({cookieHeader:f,obj:d})=>{const h=this._extractFetchHeaders(d.headers);let p;try{const m=h[f]||h[f.toLowerCase()]||void 0;m&&(p=this._parseCookieString(m))}catch{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.log(`Could not extract cookies from header ${f}`)}return{headers:h,cookies:p}}));const u=this._createEvent({url:i.url,method:i.method,status:r.status,requestHeaders:s,responseHeaders:o,requestCookies:c,responseCookies:l});a.captureEvent(u)}}_xhrResponseHandler(e,r,n){if(this._getCurrentHub&&this._shouldCaptureResponse(e.status,e.responseURL)){let i,a,s;const o=this._getCurrentHub();if(o.shouldSendDefaultPii()){try{const l=e.getResponseHeader("Set-Cookie")||e.getResponseHeader("set-cookie")||void 0;l&&(a=this._parseCookieString(l))}catch{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.log("Could not extract cookies from response headers")}try{s=this._getXHRResponseHeaders(e)}catch{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.log("Could not extract headers from response")}i=n}const c=this._createEvent({url:e.responseURL,method:r,status:e.status,requestHeaders:i,responseHeaders:s,responseCookies:a});o.captureEvent(c)}}_getResponseSizeFromHeaders(e){if(e){const r=e["Content-Length"]||e["content-length"];if(r)return parseInt(r,10)}}_parseCookieString(e){return e.split("; ").reduce((r,n)=>{const[i,a]=n.split("=");return r[i]=a,r},{})}_extractFetchHeaders(e){const r={};return e.forEach((n,i)=>{r[i]=n}),r}_getXHRResponseHeaders(e){const r=e.getAllResponseHeaders();return r?r.split(`\r
`).reduce((n,i)=>{const[a,s]=i.split(": ");return n[a]=s,n},{}):{}}_isInGivenRequestTargets(e){return this._options.failedRequestTargets?this._options.failedRequestTargets.some(r=>typeof r=="string"?e.includes(r):r.test(e)):!1}_isInGivenStatusRanges(e){return this._options.failedRequestStatusCodes?this._options.failedRequestStatusCodes.some(r=>typeof r=="number"?r===e:e>=r[0]&&e<=r[1]):!1}_wrapFetch(){HJ()&&Tr("fetch",e=>{const{response:r,args:n}=e,[i,a]=n;r&&this._fetchResponseHandler(i,r,a)})}_wrapXHR(){"XMLHttpRequest"in Vt&&Tr("xhr",e=>{const{xhr:r}=e,n=r[kl];if(!n)return;const{method:i,request_headers:a}=n;if(i)try{this._xhrResponseHandler(r,i,a)}catch(s){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.warn("Error while extracting response event form XHR response",s)}})}_isSentryRequest(e){const r=this._getCurrentHub&&this._getCurrentHub().getClient();if(!r)return!1;const n=r.getDsn();return n?e.includes(n.host):!1}_shouldCaptureResponse(e,r){return this._isInGivenStatusRanges(e)&&this._isInGivenRequestTargets(r)&&!this._isSentryRequest(r)}_createEvent(e){const r=`HTTP Client Error with status code: ${e.status}`,n={message:r,exception:{values:[{type:"Error",value:r}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:this._getResponseSizeFromHeaders(e.responseHeaders)}}};return Cf(n,{type:"http.client"}),n}}fp.__initStatic();function bct(t,e){return!e&&t instanceof Request||t instanceof Request&&t.bodyUsed?t:new Request(t,e)}const pL="production";function Sct(t){const e=ac(),r={sid:xo(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>wct(r)};return t&&kf(r,t),r}function kf(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||ac(),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:xo()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const r=t.timestamp-t.started;t.duration=r>=0?r:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}function Tct(t,e){let r={};e?r={status:e}:t.status==="ok"&&(r={status:"exited"}),kf(t,r)}function wct(t){return yo({sid:`${t.sid}`,init:t.init,started:new Date(t.started*1e3).toISOString(),timestamp:new Date(t.timestamp*1e3).toISOString(),status:t.status,errors:t.errors,did:typeof t.did=="number"||typeof t.did=="string"?`${t.did}`:void 0,duration:t.duration,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}const Rct=100;class Bl{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(e){const r=new Bl;return e&&(r._breadcrumbs=[...e._breadcrumbs],r._tags={...e._tags},r._extra={...e._extra},r._contexts={...e._contexts},r._user=e._user,r._level=e._level,r._span=e._span,r._session=e._session,r._transactionName=e._transactionName,r._fingerprint=e._fingerprint,r._eventProcessors=[...e._eventProcessors],r._requestSession=e._requestSession,r._attachments=[...e._attachments],r._sdkProcessingMetadata={...e._sdkProcessingMetadata}),r}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&kf(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,r){return this._tags={...this._tags,[e]:r},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,r){return this._extra={...this._extra,[e]:r},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,r){return r===null?delete this._contexts[e]:this._contexts[e]=r,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if(typeof e=="function"){const r=e(this);return r instanceof Bl?r:this}return e instanceof Bl?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):If(e)&&(e=e,this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(e,r){const n=typeof r=="number"?r:Rct;if(n<=0)return this;const i={timestamp:N_(),...e};return this._breadcrumbs=[...this._breadcrumbs,i].slice(-n),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,r={}){if(this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};const n=this._span.transaction;if(n){e.sdkProcessingMetadata={dynamicSamplingContext:n.getDynamicSamplingContext(),...e.sdkProcessingMetadata};const i=n.name;i&&(e.tags={transaction:i,...e.tags})}}return this._applyFingerprint(e),e.breadcrumbs=[...e.breadcrumbs||[],...this._breadcrumbs],e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...QJ(),...this._eventProcessors],e,r)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}_notifyEventProcessors(e,r,n,i=0){return new br((a,s)=>{const o=e[i];if(r===null||typeof o!="function")a(r);else{const c=o({...r},n);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&o.id&&c===null&&J.log(`Event processor "${o.id}" dropped event`),uL(c)?c.then(l=>this._notifyEventProcessors(e,l,n,i+1).then(a)).then(null,s):this._notifyEventProcessors(e,c,n,i+1).then(a).then(null,s)}})}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}_applyFingerprint(e){e.fingerprint=e.fingerprint?zJ(e.fingerprint):[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}}function QJ(){return fL("globalEventProcessors",()=>[])}function gL(t){QJ().push(t)}const ZJ=4,Act=100;class JJ{constructor(e,r=new Bl,n=ZJ){this._version=n,this._stack=[{scope:r}],e&&this.bindClient(e)}isOlderThan(e){return this._version<e}bindClient(e){const r=this.getStackTop();r.client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){const e=Bl.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(e){const r=this.pushScope();try{e(r)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,r){const n=this._lastEventId=r&&r.event_id?r.event_id:xo(),i=new Error("Sentry syntheticException");return this._withClient((a,s)=>{a.captureException(e,{originalException:e,syntheticException:i,...r,event_id:n},s)}),n}captureMessage(e,r,n){const i=this._lastEventId=n&&n.event_id?n.event_id:xo(),a=new Error(e);return this._withClient((s,o)=>{s.captureMessage(e,r,{originalException:e,syntheticException:a,...n,event_id:i},o)}),i}captureEvent(e,r){const n=r&&r.event_id?r.event_id:xo();return e.type||(this._lastEventId=n),this._withClient((i,a)=>{i.captureEvent(e,{...r,event_id:n},a)}),n}lastEventId(){return this._lastEventId}addBreadcrumb(e,r){const{scope:n,client:i}=this.getStackTop();if(!i)return;const{beforeBreadcrumb:a=null,maxBreadcrumbs:s=Act}=i.getOptions&&i.getOptions()||{};if(s<=0)return;const c={timestamp:N_(),...e},l=a?DJ(()=>a(c,r)):c;l!==null&&(i.emit&&i.emit("beforeAddBreadcrumb",l,r),n.addBreadcrumb(l,s))}setUser(e){this.getScope().setUser(e)}setTags(e){this.getScope().setTags(e)}setExtras(e){this.getScope().setExtras(e)}setTag(e,r){this.getScope().setTag(e,r)}setExtra(e,r){this.getScope().setExtra(e,r)}setContext(e,r){this.getScope().setContext(e,r)}configureScope(e){const{scope:r,client:n}=this.getStackTop();n&&e(r)}run(e){const r=k7(this);try{e(this)}finally{k7(r)}}getIntegration(e){const r=this.getClient();if(!r)return null;try{return r.getIntegration(e)}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,r){const n=this._callExtensionMethod("startTransaction",e,r);return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&!n&&console.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`),n}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){const r=this.getStackTop().scope,n=r.getSession();n&&Tct(n),this._sendSessionUpdate(),r.setSession()}startSession(e){const{scope:r,client:n}=this.getStackTop(),{release:i,environment:a=pL}=n&&n.getOptions()||{},{userAgent:s}=Vt.navigator||{},o=Sct({release:i,environment:a,user:r.getUser(),...s&&{userAgent:s},...e}),c=r.getSession&&r.getSession();return c&&c.status==="ok"&&kf(c,{status:"exited"}),this.endSession(),r.setSession(o),o}shouldSendDefaultPii(){const e=this.getClient(),r=e&&e.getOptions();return!!(r&&r.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:r}=this.getStackTop(),n=e.getSession();n&&r&&r.captureSession&&r.captureSession(n)}_withClient(e){const{scope:r,client:n}=this.getStackTop();n&&e(n,r)}_callExtensionMethod(e,...r){const i=Tg().__SENTRY__;if(i&&i.extensions&&typeof i.extensions[e]=="function")return i.extensions[e].apply(this,r);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function Tg(){return Vt.__SENTRY__=Vt.__SENTRY__||{extensions:{},hub:void 0},Vt}function k7(t){const e=Tg(),r=RI(e);return eee(e,t),r}function ft(){const t=Tg();if(t.__SENTRY__&&t.__SENTRY__.acs){const e=t.__SENTRY__.acs.getCurrentHub();if(e)return e}return Ict(t)}function Ict(t=Tg()){return(!$ct(t)||RI(t).isOlderThan(ZJ))&&eee(t,new JJ),RI(t)}function $ct(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function RI(t){return fL("hub",()=>new JJ,t)}function eee(t,e){if(!t)return!1;const r=t.__SENTRY__=t.__SENTRY__||{};return r.hub=e,!0}function mL(t){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const e=ft().getClient(),r=t||e&&e.getOptions();return!!r&&(r.enableTracing||"tracesSampleRate"in r||"tracesSampler"in r)}function wg(t){return(t||ft()).getScope().getTransaction()}let O7=!1;function Cct(){O7||(O7=!0,Tr("error",AI),Tr("unhandledrejection",AI))}function AI(){const t=wg();if(t){const e="internal_error";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.log(`[Tracing] Transaction: ${e} -> Global error occured`),t.setStatus(e)}}AI.tag="sentry_tracingErrorCallback";class D_{__init(){this.spans=[]}constructor(e=1e3){D_.prototype.__init.call(this),this._maxlen=e}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}}class Ua{__init2(){this.traceId=xo()}__init3(){this.spanId=xo().substring(16)}__init4(){this.startTimestamp=ac()}__init5(){this.tags={}}__init6(){this.data={}}__init7(){this.instrumenter="sentry"}constructor(e){if(Ua.prototype.__init2.call(this),Ua.prototype.__init3.call(this),Ua.prototype.__init4.call(this),Ua.prototype.__init5.call(this),Ua.prototype.__init6.call(this),Ua.prototype.__init7.call(this),!e)return this;e.traceId&&(this.traceId=e.traceId),e.spanId&&(this.spanId=e.spanId),e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.data&&(this.data=e.data),e.tags&&(this.tags=e.tags),e.status&&(this.status=e.status),e.startTimestamp&&(this.startTimestamp=e.startTimestamp),e.endTimestamp&&(this.endTimestamp=e.endTimestamp),e.instrumenter&&(this.instrumenter=e.instrumenter)}startChild(e){const r=new Ua({...e,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});if(r.spanRecorder=this.spanRecorder,r.spanRecorder&&r.spanRecorder.add(r),r.transaction=this.transaction,(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&r.transaction){const n=e&&e.op||"< unknown op >",i=r.transaction.name||"< unknown name >",a=r.transaction.spanId,s=`[Tracing] Starting '${n}' span on transaction '${i}' (${a}).`;r.transaction.metadata.spanMetadata[r.spanId]={logMessage:s},J.log(s)}return r}setTag(e,r){return this.tags={...this.tags,[e]:r},this}setData(e,r){return this.data={...this.data,[e]:r},this}setStatus(e){return this.status=e,this}setHttpStatus(e){this.setTag("http.status_code",String(e));const r=kct(e);return r!=="unknown_error"&&this.setStatus(r),this}isSuccess(){return this.status==="ok"}finish(e){if((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&this.transaction&&this.transaction.spanId!==this.spanId){const{logMessage:r}=this.transaction.metadata.spanMetadata[this.spanId];r&&J.log(r.replace("Starting","Finishing"))}this.endTimestamp=typeof e=="number"?e:ac()}toTraceparent(){let e="";return this.sampled!==void 0&&(e=this.sampled?"-1":"-0"),`${this.traceId}-${this.spanId}${e}`}toContext(){return yo({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(e){return this.data=e.data||{},this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=e.spanId||this.spanId,this.startTimestamp=e.startTimestamp||this.startTimestamp,this.status=e.status,this.tags=e.tags||{},this.traceId=e.traceId||this.traceId,this}getTraceContext(){return yo({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}toJSON(){return yo({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})}}function kct(t){if(t<400&&t>=100)return"ok";if(t>=400&&t<500)switch(t){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(t>=500&&t<600)switch(t){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}class Xu extends Ua{__init(){this._measurements={}}__init2(){this._contexts={}}__init3(){this._frozenDynamicSamplingContext=void 0}constructor(e,r){super(e),Xu.prototype.__init.call(this),Xu.prototype.__init2.call(this),Xu.prototype.__init3.call(this),this._hub=r||ft(),this._name=e.name||"",this.metadata={source:"custom",...e.metadata,spanMetadata:{}},this._trimEnd=e.trimEnd,this.transaction=this;const n=this.metadata.dynamicSamplingContext;n&&(this._frozenDynamicSamplingContext={...n})}get name(){return this._name}set name(e){this.setName(e)}setName(e,r="custom"){this._name=e,this.metadata.source=r}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new D_(e)),this.spanRecorder.add(this)}setContext(e,r){r===null?delete this._contexts[e]:this._contexts[e]=r}setMeasurement(e,r,n=""){this._measurements[e]={value:r,unit:n}}setMetadata(e){this.metadata={...this.metadata,...e}}finish(e){if(this.endTimestamp!==void 0)return;this.name||((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(e);const r=this._hub.getClient();if(r&&r.emit&&r.emit("finishTransaction",this),this.sampled!==!0){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),r&&r.recordDroppedEvent("sample_rate","transaction");return}const n=this.spanRecorder?this.spanRecorder.spans.filter(o=>o!==this&&o.endTimestamp):[];this._trimEnd&&n.length>0&&(this.endTimestamp=n.reduce((o,c)=>o.endTimestamp&&c.endTimestamp?o.endTimestamp>c.endTimestamp?o:c:o).endTimestamp);const i=this.metadata,a={contexts:{...this._contexts,trace:this.getTraceContext()},spans:n,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:{...i,dynamicSamplingContext:this.getDynamicSamplingContext()},...i.source&&{transaction_info:{source:i.source}}};return Object.keys(this._measurements).length>0&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),a.measurements=this._measurements),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),this._hub.captureEvent(a)}toContext(){const e=super.toContext();return yo({...e,name:this.name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this.name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){if(this._frozenDynamicSamplingContext)return this._frozenDynamicSamplingContext;const e=this._hub||ft(),r=e&&e.getClient();if(!r)return{};const{environment:n,release:i}=r.getOptions()||{},{publicKey:a}=r.getDsn()||{},s=this.metadata.sampleRate,o=s!==void 0?s.toString():void 0,{segment:c}=e.getScope().getUser()||{},l=this.metadata.source,u=l&&l!=="url"?this.name:void 0,f=yo({environment:n||pL,release:i,transaction:u,user_segment:c,public_key:a,trace_id:this.traceId,sample_rate:o});return r.emit&&r.emit("createDsc",f),f}setHub(e){this._hub=e}}const sy={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},Oct="finishReason",Qc=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class Lct extends D_{constructor(e,r,n,i){super(i),this._pushActivity=e,this._popActivity=r,this.transactionSpanId=n}add(e){e.spanId!==this.transactionSpanId&&(e.finish=r=>{e.endTimestamp=typeof r=="number"?r:ac(),this._popActivity(e.spanId)},e.endTimestamp===void 0&&this._pushActivity(e.spanId)),super.add(e)}}class Hs extends Xu{__init(){this.activities={}}__init2(){this._heartbeatCounter=0}__init3(){this._finished=!1}__init4(){this._idleTimeoutCanceledPermanently=!1}__init5(){this._beforeFinishCallbacks=[]}__init6(){this._finishReason=Qc[4]}constructor(e,r,n=sy.idleTimeout,i=sy.finalTimeout,a=sy.heartbeatInterval,s=!1){super(e,r),this._idleHub=r,this._idleTimeout=n,this._finalTimeout=i,this._heartbeatInterval=a,this._onScope=s,Hs.prototype.__init.call(this),Hs.prototype.__init2.call(this),Hs.prototype.__init3.call(this),Hs.prototype.__init4.call(this),Hs.prototype.__init5.call(this),Hs.prototype.__init6.call(this),s&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),r.configureScope(o=>o.setSpan(this))),this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=Qc[3],this.finish())},this._finalTimeout)}finish(e=ac()){if(this._finished=!0,this.activities={},this.op==="ui.action.click"&&this.setTag(Oct,this._finishReason),this.spanRecorder){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.log("[Tracing] finishing IdleTransaction",new Date(e*1e3).toISOString(),this.op);for(const r of this._beforeFinishCallbacks)r(this,e);this.spanRecorder.spans=this.spanRecorder.spans.filter(r=>{if(r.spanId===this.spanId)return!0;r.endTimestamp||(r.endTimestamp=e,r.setStatus("cancelled"),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(r,void 0,2)));const n=r.startTimestamp<e;return n||(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(r,void 0,2)),n}),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.log("[Tracing] flushing IdleTransaction")}else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.log("[Tracing] No active IdleTransaction");if(this._onScope){const r=this._idleHub.getScope();r.getTransaction()===this&&r.setSpan(void 0)}return super.finish(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){const r=i=>{this._finished||this._pushActivity(i)},n=i=>{this._finished||this._popActivity(i)};this.spanRecorder=new Lct(r,n,this.spanId,e),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(e,{restartOnChildSpanChange:r}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=r===!1,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,Object.keys(this.activities).length===0&&this._idleTimeoutCanceledPermanently&&(this._finishReason=Qc[5],this.finish(e)))}setFinishReason(e){this._finishReason=e}_restartIdleTimeout(e){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&(this._finishReason=Qc[1],this.finish(e))},this._idleTimeout)}_pushActivity(e){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.log(`[Tracing] popActivity ${e}`),delete this.activities[e],(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){const r=ac();this._idleTimeoutCanceledPermanently?(this._finishReason=Qc[5],this.finish(r)):this._restartIdleTimeout(r+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=Qc[0],this.finish()):this._pingHeartbeat()}_pingHeartbeat(){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}}function Pct(){const e=this.getScope().getSpan();return e?{"sentry-trace":e.toTraceparent()}:{}}function tee(t,e,r){if(!mL(e))return t.sampled=!1,t;if(t.sampled!==void 0)return t.setMetadata({sampleRate:Number(t.sampled)}),t;let n;return typeof e.tracesSampler=="function"?(n=e.tracesSampler(r),t.setMetadata({sampleRate:Number(n)})):r.parentSampled!==void 0?n=r.parentSampled:typeof e.tracesSampleRate<"u"?(n=e.tracesSampleRate,t.setMetadata({sampleRate:Number(n)})):(n=1,t.setMetadata({sampleRate:n})),Nct(n)?n?(t.sampled=Math.random()<n,t.sampled?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.log(`[Tracing] starting ${t.op} transaction - ${t.name}`),t):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(n)})`),t)):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),t.sampled=!1,t):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)}function Nct(t){return PJ(t)||!(typeof t=="number"||typeof t=="boolean")?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(t)} of type ${JSON.stringify(typeof t)}.`),!1):t<0||t>1?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${t}.`),!1):!0}function Dct(t,e){const r=this.getClient(),n=r&&r.getOptions()||{},i=n.instrumenter||"sentry",a=t.instrumenter||"sentry";i!==a&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.error(`A transaction was started with instrumenter=\`${a}\`, but the SDK is configured with the \`${i}\` instrumenter.
The transaction will not be sampled. Please use the ${i} instrumentation to start transactions.`),t.sampled=!1);let s=new Xu(t,this);return s=tee(s,n,{parentSampled:t.parentSampled,transactionContext:t,...e}),s.sampled&&s.initSpanRecorder(n._experiments&&n._experiments.maxSpans),r&&r.emit&&r.emit("startTransaction",s),s}function L7(t,e,r,n,i,a,s){const o=t.getClient(),c=o&&o.getOptions()||{};let l=new Hs(e,t,r,n,s,i);return l=tee(l,c,{parentSampled:e.parentSampled,transactionContext:e,...a}),l.sampled&&l.initSpanRecorder(c._experiments&&c._experiments.maxSpans),o&&o.emit&&o.emit("startTransaction",l),l}function Mct(){const t=Tg();t.__SENTRY__&&(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=Dct),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=Pct),Cct())}function Fct(t,e){return ft().captureException(t,{captureContext:e})}function Bct(t){ft().withScope(t)}const Uct="7";function jct(t){const e=t.protocol?`${t.protocol}:`:"",r=t.port?`:${t.port}`:"";return`${e}//${t.host}${r}${t.path?`/${t.path}`:""}/api/`}function Hct(t){return`${jct(t)}${t.projectId}/envelope/`}function Gct(t,e){return Alt({sentry_key:t.publicKey,sentry_version:Uct,...e&&{sentry_client:`${e.name}/${e.version}`}})}function zct(t,e={}){const r=typeof e=="string"?e:e.tunnel,n=typeof e=="string"||!e._metadata?void 0:e._metadata.sdk;return r||`${Hct(t)}?${Gct(t,n)}`}function Vct(t,e){return e&&(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=[...t.sdk.integrations||[],...e.integrations||[]],t.sdk.packages=[...t.sdk.packages||[],...e.packages||[]]),t}function Wct(t,e,r,n){const i=YJ(r),a={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!n&&{dsn:P_(e)}},s="aggregates"in t?[{type:"sessions"},t]:[{type:"session"},t];return Sg(a,[s])}function Kct(t,e,r,n){const i=YJ(r),a=t.type&&t.type!=="replay_event"?t.type:"event";Vct(t,r&&r.sdk);const s=uct(t,i,n,e);return delete t.sdkProcessingMetadata,Sg(s,[[{type:a},t]])}const P7=[];function Yct(t){const e={};return t.forEach(r=>{const{name:n}=r,i=e[n];i&&!i.isDefaultInstance&&r.isDefaultInstance||(e[n]=r)}),Object.keys(e).map(r=>e[r])}function qct(t){const e=t.defaultIntegrations||[],r=t.integrations;e.forEach(s=>{s.isDefaultInstance=!0});let n;Array.isArray(r)?n=[...e,...r]:typeof r=="function"?n=zJ(r(e)):n=e;const i=Yct(n),a=Qct(i,s=>s.name==="Debug");if(a!==-1){const[s]=i.splice(a,1);i.push(s)}return i}function Xct(t){const e={};return t.forEach(r=>{r&&ree(r,e)}),e}function ree(t,e){e[t.name]=t,P7.indexOf(t.name)===-1&&(t.setupOnce(gL,ft),P7.push(t.name),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.log(`Integration installed: ${t.name}`))}function Qct(t,e){for(let r=0;r<t.length;r++)if(e(t[r])===!0)return r;return-1}function Zct(t,e,r,n){const{normalizeDepth:i=3,normalizeMaxBreadth:a=1e3}=t,s={...e,event_id:e.event_id||r.event_id||xo(),timestamp:e.timestamp||N_()},o=r.integrations||t.integrations.map(u=>u.name);Jct(s,t),tut(s,o),e.type===void 0&&eut(s,t.stackParser);let c=n;r.captureContext&&(c=Bl.clone(c).update(r.captureContext));let l=ic(s);if(c){if(c.getAttachments){const u=[...r.attachments||[],...c.getAttachments()];u.length&&(r.attachments=u)}l=c.applyToEvent(s,r)}return l.then(u=>typeof i=="number"&&i>0?rut(u,i,a):u)}function Jct(t,e){const{environment:r,release:n,dist:i,maxValueLength:a=250}=e;"environment"in t||(t.environment="environment"in e?r:pL),t.release===void 0&&n!==void 0&&(t.release=n),t.dist===void 0&&i!==void 0&&(t.dist=i),t.message&&(t.message=l0(t.message,a));const s=t.exception&&t.exception.values&&t.exception.values[0];s&&s.value&&(s.value=l0(s.value,a));const o=t.request;o&&o.url&&(o.url=l0(o.url,a))}const N7=new WeakMap;function eut(t,e){const r=Vt._sentryDebugIds;if(!r)return;let n;const i=N7.get(e);i?n=i:(n=new Map,N7.set(e,n));const a=Object.keys(r).reduce((c,l)=>{let u;const f=n.get(l);f?u=f:(u=e(l),n.set(l,u));for(let d=u.length-1;d>=0;d--){const h=u[d];if(h.filename){c[h.filename]=r[l];break}}return c},{}),s=new Set;try{t.exception.values.forEach(c=>{c.stacktrace.frames.forEach(l=>{l.filename&&s.add(l.filename)})})}catch{}t.debug_meta=t.debug_meta||{},t.debug_meta.images=t.debug_meta.images||[];const o=t.debug_meta.images;s.forEach(c=>{a[c]&&o.push({type:"sourcemap",code_file:c,debug_id:a[c]})})}function tut(t,e){e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}function rut(t,e,r){if(!t)return null;const n={...t,...t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(i=>({...i,...i.data&&{data:js(i.data,e,r)}}))},...t.user&&{user:js(t.user,e,r)},...t.contexts&&{contexts:js(t.contexts,e,r)},...t.extra&&{extra:js(t.extra,e,r)}};return t.contexts&&t.contexts.trace&&n.contexts&&(n.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(n.contexts.trace.data=js(t.contexts.trace.data,e,r))),t.spans&&(n.spans=t.spans.map(i=>(i.data&&(i.data=js(i.data,e,r)),i))),n}const D7="Not capturing exception because it's already been captured.";class _l{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}__init5(){this._hooks={}}constructor(e){if(_l.prototype.__init.call(this),_l.prototype.__init2.call(this),_l.prototype.__init3.call(this),_l.prototype.__init4.call(this),_l.prototype.__init5.call(this),this._options=e,e.dsn){this._dsn=Tlt(e.dsn);const r=zct(this._dsn,e);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:r})}else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.warn("No DSN provided, client will not do anything.")}captureException(e,r,n){if(R7(e)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.log(D7);return}let i=r&&r.event_id;return this._process(this.eventFromException(e,r).then(a=>this._captureEvent(a,r,n)).then(a=>{i=a})),i}captureMessage(e,r,n,i){let a=n&&n.event_id;const s=LJ(e)?this.eventFromMessage(String(e),r,n):this.eventFromException(e,n);return this._process(s.then(o=>this._captureEvent(o,n,i)).then(o=>{a=o})),a}captureEvent(e,r,n){if(r&&r.originalException&&R7(r.originalException)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.log(D7);return}let i=r&&r.event_id;return this._process(this._captureEvent(e,r,n).then(a=>{i=a})),i}captureSession(e){if(!this._isEnabled()){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.warn("SDK not enabled, will not capture session.");return}typeof e.release!="string"?(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),kf(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){const r=this._transport;return r?this._isClientDoneProcessing(e).then(n=>r.flush(e).then(i=>n&&i)):ic(!0)}close(e){return this.flush(e).then(r=>(this.getOptions().enabled=!1,r))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=Xct(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){ree(e,this._integrations)}sendEvent(e,r={}){if(this._dsn){let n=Kct(e,this._dsn,this._options._metadata,this._options.tunnel);for(const a of r.attachments||[])n=act(n,lct(a,this._options.transportOptions&&this._options.transportOptions.textEncoder));const i=this._sendEnvelope(n);i&&i.then(a=>this.emit("afterSendEvent",e,a),null)}}sendSession(e){if(this._dsn){const r=Wct(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(r)}}recordDroppedEvent(e,r,n){if(this._options.sendClientReports){const i=`${e}:${r}`;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.log(`Adding outcome: "${i}"`),this._outcomes[i]=this._outcomes[i]+1||1}}on(e,r){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(r)}emit(e,...r){this._hooks[e]&&this._hooks[e].forEach(n=>n(...r))}_updateSessionFromEvent(e,r){let n=!1,i=!1;const a=r.exception&&r.exception.values;if(a){i=!0;for(const c of a){const l=c.mechanism;if(l&&l.handled===!1){n=!0;break}}}const s=e.status==="ok";(s&&e.errors===0||s&&n)&&(kf(e,{...n&&{status:"crashed"},errors:e.errors||Number(i||n)}),this.captureSession(e))}_isClientDoneProcessing(e){return new br(r=>{let n=0;const i=1,a=setInterval(()=>{this._numProcessing==0?(clearInterval(a),r(!0)):(n+=i,e&&n>=e&&(clearInterval(a),r(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._dsn!==void 0}_prepareEvent(e,r,n){const i=this.getOptions(),a=Object.keys(this._integrations);return!r.integrations&&a.length>0&&(r.integrations=a),Zct(i,e,r,n)}_captureEvent(e,r={},n){return this._processEvent(e,r,n).then(i=>i.event_id,i=>{if(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__){const a=i;a.logLevel==="log"?J.log(a.message):J.warn(a)}})}_processEvent(e,r,n){const i=this.getOptions(),{sampleRate:a}=i;if(!this._isEnabled())return V1(new hr("SDK not enabled, will not capture event.","log"));const s=iee(e),o=nee(e),c=e.type||"error",l=`before send for type \`${c}\``;if(o&&typeof a=="number"&&Math.random()>a)return this.recordDroppedEvent("sample_rate","error",e),V1(new hr(`Discarding event because it's not included in the random sample (sampling rate = ${a})`,"log"));const u=c==="replay_event"?"replay":c;return this._prepareEvent(e,r,n).then(f=>{if(f===null)throw this.recordDroppedEvent("event_processor",u,e),new hr("An event processor returned `null`, will not send event.","log");if(r.data&&r.data.__sentry__===!0)return f;const h=iut(i,f,r);return nut(h,l)}).then(f=>{if(f===null)throw this.recordDroppedEvent("before_send",u,e),new hr(`${l} returned \`null\`, will not send event.`,"log");const d=n&&n.getSession();!s&&d&&this._updateSessionFromEvent(d,f);const h=f.transaction_info;if(s&&h&&f.transaction!==e.transaction){const p="custom";f.transaction_info={...h,source:p}}return this.sendEvent(f,r),f}).then(null,f=>{throw f instanceof hr?f:(this.captureException(f,{data:{__sentry__:!0},originalException:f}),new hr(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${f}`))})}_process(e){this._numProcessing++,e.then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r))}_sendEnvelope(e){if(this._transport&&this._dsn)return this.emit("beforeEnvelope",e),this._transport.send(e).then(null,r=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.error("Error while sending event:",r)});(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.error("Transport disabled")}_clearOutcomes(){const e=this._outcomes;return this._outcomes={},Object.keys(e).map(r=>{const[n,i]=r.split(":");return{reason:n,category:i,quantity:e[r]}})}}function nut(t,e){const r=`${e} must return \`null\` or a valid event.`;if(uL(t))return t.then(n=>{if(!If(n)&&n!==null)throw new hr(r);return n},n=>{throw new hr(`${e} rejected with ${n}`)});if(!If(t)&&t!==null)throw new hr(r);return t}function iut(t,e,r){const{beforeSend:n,beforeSendTransaction:i}=t;return nee(e)&&n?n(e,r):iee(e)&&i?i(e,r):e}function nee(t){return t.type===void 0}function iee(t){return t.type==="transaction"}function aut(t,e){e.debug===!0&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?J.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));const r=ft();r.getScope().update(e.initialScope);const i=new t(e);r.bindClient(i)}const sut=30;function aee(t,e,r=Jlt(t.bufferSize||sut)){let n={};const i=s=>r.drain(s);function a(s){const o=[];if(I7(s,(f,d)=>{const h=$7(d);if(gct(n,h)){const p=M7(f,d);t.recordDroppedEvent("ratelimit_backoff",h,p)}else o.push(f)}),o.length===0)return ic();const c=Sg(s[0],o),l=f=>{I7(c,(d,h)=>{const p=M7(d,h);t.recordDroppedEvent(f,$7(h),p)})},u=()=>e({body:sct(c,t.textEncoder)}).then(f=>(f.statusCode!==void 0&&(f.statusCode<200||f.statusCode>=300)&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.warn(`Sentry responded with status code ${f.statusCode} to sent event.`),n=mct(n,f),f),f=>{throw l("network_error"),f});return r.add(u).then(f=>f,f=>{if(f instanceof hr)return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.error("Skipped sending event because buffer is full."),l("queue_overflow"),ic();throw f})}return a.__sentry__baseTransport__=!0,{send:a,flush:i}}function M7(t,e){if(!(e!=="event"&&e!=="transaction"))return Array.isArray(t)?t[1]:void 0}const W1="7.49.0";let F7;class dp{constructor(){dp.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=dp.id}setupOnce(){F7=Function.prototype.toString,Function.prototype.toString=function(...e){const r=hL(this)||this;return F7.apply(r,e)}}}dp.__initStatic();const out=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class Qu{static __initStatic(){this.id="InboundFilters"}__init(){this.name=Qu.id}constructor(e={}){this._options=e,Qu.prototype.__init.call(this)}setupOnce(e,r){const n=i=>{const a=r();if(a){const s=a.getIntegration(Qu);if(s){const o=a.getClient(),c=o?o.getOptions():{},l=lut(s._options,c);return cut(i,l)?null:i}}return i};n.id=this.name,e(n)}}Qu.__initStatic();function lut(t={},e={}){return{allowUrls:[...t.allowUrls||[],...e.allowUrls||[]],denyUrls:[...t.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...t.ignoreErrors||[],...e.ignoreErrors||[],...out],ignoreTransactions:[...t.ignoreTransactions||[],...e.ignoreTransactions||[]],ignoreInternal:t.ignoreInternal!==void 0?t.ignoreInternal:!0}}function cut(t,e){return e.ignoreInternal&&gut(t)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.warn(`Event dropped due to being internal Sentry Error.
Event: ${Vs(t)}`),!0):uut(t,e.ignoreErrors)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Vs(t)}`),!0):fut(t,e.ignoreTransactions)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Vs(t)}`),!0):dut(t,e.denyUrls)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Vs(t)}.
Url: ${K1(t)}`),!0):hut(t,e.allowUrls)?!1:((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Vs(t)}.
Url: ${K1(t)}`),!0)}function uut(t,e){return t.type||!e||!e.length?!1:put(t).some(r=>bg(r,e))}function fut(t,e){if(t.type!=="transaction"||!e||!e.length)return!1;const r=t.transaction;return r?bg(r,e):!1}function dut(t,e){if(!e||!e.length)return!1;const r=K1(t);return r?bg(r,e):!1}function hut(t,e){if(!e||!e.length)return!0;const r=K1(t);return r?bg(r,e):!0}function put(t){if(t.message)return[t.message];if(t.exception)try{const{type:e="",value:r=""}=t.exception.values&&t.exception.values[0]||{};return[`${r}`,`${e}: ${r}`]}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.error(`Cannot extract message for event ${Vs(t)}`),[]}return[]}function gut(t){try{return t.exception.values[0].type==="SentryError"}catch{}return!1}function mut(t=[]){for(let e=t.length-1;e>=0;e--){const r=t[e];if(r&&r.filename!=="<anonymous>"&&r.filename!=="[native code]")return r.filename||null}return null}function K1(t){try{let e;try{e=t.exception.values[0].stacktrace.frames}catch{}return e?mut(e):null}catch{return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.error(`Cannot extract url for event ${Vs(t)}`),null}}const Xe=Vt;let II=0;function see(){return II>0}function vut(){II++,setTimeout(()=>{II--})}function Of(t,e={},r){if(typeof t!="function")return t;try{const i=t.__sentry_wrapped__;if(i)return i;if(hL(t))return t}catch{return t}const n=function(){const i=Array.prototype.slice.call(arguments);try{r&&typeof r=="function"&&r.apply(this,arguments);const a=i.map(s=>Of(s,e));return t.apply(this,a)}catch(a){throw vut(),Bct(s=>{s.addEventProcessor(o=>(e.mechanism&&(_I(o,void 0,void 0),Cf(o,e.mechanism)),o.extra={...o.extra,arguments:i},o)),Fct(a)}),a}};try{for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}catch{}MJ(n,t),dL(t,"__sentry_wrapped__",n);try{Object.getOwnPropertyDescriptor(n,"name").configurable&&Object.defineProperty(n,"name",{get(){return t.name}})}catch{}return n}function oee(t,e){const r=vL(t,e),n={type:e&&e.name,value:_ut(e)};return r.length&&(n.stacktrace={frames:r}),n.type===void 0&&n.value===""&&(n.value="Unrecoverable error caught"),n}function yut(t,e,r,n){const a=ft().getClient(),s=a&&a.getOptions().normalizeDepth,o={exception:{values:[{type:cL(e)?e.constructor.name:n?"UnhandledRejection":"Error",value:`Non-Error ${n?"promise rejection":"exception"} captured with keys: ${Ilt(e)}`}]},extra:{__serialized__:VJ(e,s)}};if(r){const c=vL(t,r);c.length&&(o.exception.values[0].stacktrace={frames:c})}return o}function qw(t,e){return{exception:{values:[oee(t,e)]}}}function vL(t,e){const r=e.stacktrace||e.stack||"",n=Eut(e);try{return t(r,n)}catch{}return[]}const xut=/Minified React error #\d+;/i;function Eut(t){if(t){if(typeof t.framesToPop=="number")return t.framesToPop;if(xut.test(t.message))return 1}return 0}function _ut(t){const e=t&&t.message;return e?e.error&&typeof e.error.message=="string"?e.error.message:e:"No error message"}function but(t,e,r,n){const i=r&&r.syntheticException||void 0,a=yL(t,e,i,n);return Cf(a),a.level="error",r&&r.event_id&&(a.event_id=r.event_id),ic(a)}function Sut(t,e,r="info",n,i){const a=n&&n.syntheticException||void 0,s=$I(t,e,a,i);return s.level=r,n&&n.event_id&&(s.event_id=n.event_id),ic(s)}function yL(t,e,r,n,i){let a;if(OJ(e)&&e.error)return qw(t,e.error);if(y7(e)||dlt(e)){const s=e;if("stack"in e)a=qw(t,e);else{const o=s.name||(y7(s)?"DOMError":"DOMException"),c=s.message?`${o}: ${s.message}`:o;a=$I(t,c,r,n),_I(a,c)}return"code"in s&&(a.tags={...a.tags,"DOMException.code":`${s.code}`}),a}return kJ(e)?qw(t,e):If(e)||cL(e)?(a=yut(t,e,r,i),Cf(a,{synthetic:!0}),a):(a=$I(t,e,r,n),_I(a,`${e}`,void 0),Cf(a,{synthetic:!0}),a)}function $I(t,e,r,n){const i={message:e};if(n&&r){const a=vL(t,r);a.length&&(i.exception={values:[{value:e,stacktrace:{frames:a}}]})}return i}const hv=1024,lee="Breadcrumbs";class hp{static __initStatic(){this.id=lee}__init(){this.name=hp.id}constructor(e){hp.prototype.__init.call(this),this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e}}setupOnce(){this.options.console&&Tr("console",wut),this.options.dom&&Tr("dom",Tut(this.options.dom)),this.options.xhr&&Tr("xhr",Rut),this.options.fetch&&Tr("fetch",Aut),this.options.history&&Tr("history",Iut)}addSentryBreadcrumb(e){this.options.sentry&&ft().addBreadcrumb({category:`sentry.${e.type==="transaction"?"transaction":"event"}`,event_id:e.event_id,level:e.level,message:Vs(e)},{event:e})}}hp.__initStatic();function Tut(t){function e(r){let n,i=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>hv&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.warn(`\`dom.maxStringLength\` cannot exceed ${hv}, but a value of ${a} was configured. Sentry will use ${hv} instead.`),a=hv),typeof i=="string"&&(i=[i]);try{const s=r.event;n=$ut(s)?$f(s.target,{keyAttrs:i,maxStringLength:a}):$f(s,{keyAttrs:i,maxStringLength:a})}catch{n="<unknown>"}n.length!==0&&ft().addBreadcrumb({category:`ui.${r.name}`,message:n},{event:r.event,name:r.name,global:r.global})}return e}function wut(t){for(let r=0;r<t.args.length;r++)if(t.args[r]==="ref=Ref<"){t.args[r+1]="viewRef";break}const e={category:"console",data:{arguments:t.args,logger:"console"},level:WJ(t.level),message:z1(t.args," ")};if(t.level==="assert")if(t.args[0]===!1)e.message=`Assertion failed: ${z1(t.args.slice(1)," ")||"console.assert"}`,e.data.arguments=t.args.slice(1);else return;ft().addBreadcrumb(e,{input:t.args,level:t.level})}function Rut(t){const{startTimestamp:e,endTimestamp:r}=t,n=t.xhr[kl];if(!e||!r||!n)return;const{method:i,url:a,status_code:s,body:o}=n,c={method:i,url:a,status_code:s},l={xhr:t.xhr,input:o,startTimestamp:e,endTimestamp:r};ft().addBreadcrumb({category:"xhr",data:c,type:"http"},l)}function Aut(t){const{startTimestamp:e,endTimestamp:r}=t;if(r&&!(t.fetchData.url.match(/sentry_key/)&&t.fetchData.method==="POST"))if(t.error){const n=t.fetchData,i={data:t.error,input:t.args,startTimestamp:e,endTimestamp:r};ft().addBreadcrumb({category:"fetch",data:n,level:"error",type:"http"},i)}else{const n={...t.fetchData,status_code:t.response&&t.response.status},i={input:t.args,response:t.response,startTimestamp:e,endTimestamp:r};ft().addBreadcrumb({category:"fetch",data:n,type:"http"},i)}}function Iut(t){let e=t.from,r=t.to;const n=Kw(Xe.location.href);let i=Kw(e);const a=Kw(r);i.path||(i=n),n.protocol===a.protocol&&n.host===a.host&&(r=a.relative),n.protocol===i.protocol&&n.host===i.host&&(e=i.relative),ft().addBreadcrumb({category:"navigation",data:{from:e,to:r}})}function $ut(t){return t&&!!t.target}function Cut(t,{metadata:e,tunnel:r,dsn:n}){const i={event_id:t.event_id,sent_at:new Date().toISOString(),...e&&e.sdk&&{sdk:{name:e.sdk.name,version:e.sdk.version}},...!!r&&!!n&&{dsn:P_(n)}},a=kut(t);return Sg(i,[a])}function kut(t){return[{type:"user_report"},t]}class Out extends _l{constructor(e){const r=Xe.SENTRY_SDK_SOURCE||Wlt();e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:`${r}:@sentry/browser`,version:W1}],version:W1},super(e),e.sendClientReports&&Xe.document&&Xe.document.addEventListener("visibilitychange",()=>{Xe.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(e,r){return but(this._options.stackParser,e,r,this._options.attachStacktrace)}eventFromMessage(e,r="info",n){return Sut(this._options.stackParser,e,r,n,this._options.attachStacktrace)}sendEvent(e,r){const n=this.getIntegrationById(lee);n&&n.addSentryBreadcrumb&&n.addSentryBreadcrumb(e),super.sendEvent(e,r)}captureUserFeedback(e){if(!this._isEnabled()){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.warn("SDK not enabled, will not capture user feedback.");return}const r=Cut(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(r)}_prepareEvent(e,r,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,r,n)}_flushOutcomes(){const e=this._clearOutcomes();if(e.length===0){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.log("No outcomes to send");return}if(!this._dsn){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.log("No dsn provided, will not send outcomes");return}(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.log("Sending outcomes:",e);const r=fct(e,this._options.tunnel&&P_(this._dsn));this._sendEnvelope(r)}}let Ih;function Lut(){if(Ih)return Ih;if(xI(Xe.fetch))return Ih=Xe.fetch.bind(Xe);const t=Xe.document;let e=Xe.fetch;if(t&&typeof t.createElement=="function")try{const r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r);const n=r.contentWindow;n&&n.fetch&&(e=n.fetch),t.head.removeChild(r)}catch(r){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return Ih=e.bind(Xe)}function Put(){Ih=void 0}function Nut(t,e=Lut()){let r=0,n=0;function i(a){const s=a.body.length;r+=s,n++;const o={body:a.body,method:"POST",referrerPolicy:"origin",headers:t.headers,keepalive:r<=6e4&&n<15,...t.fetchOptions};try{return e(t.url,o).then(c=>(r-=s,n--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return Put(),r-=s,n--,V1(c)}}return aee(t,i)}const Dut=4;function Mut(t){function e(r){return new br((n,i)=>{const a=new XMLHttpRequest;a.onerror=i,a.onreadystatechange=()=>{a.readyState===Dut&&n({statusCode:a.status,headers:{"x-sentry-rate-limits":a.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":a.getResponseHeader("Retry-After")}})},a.open("POST",t.url);for(const s in t.headers)Object.prototype.hasOwnProperty.call(t.headers,s)&&a.setRequestHeader(s,t.headers[s]);a.send(r.body)})}return aee(t,e)}const M_="?",Fut=30,But=40,Uut=50;function xL(t,e,r,n){const i={filename:t,function:e,in_app:!0};return r!==void 0&&(i.lineno=r),n!==void 0&&(i.colno=n),i}const jut=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Hut=/\((\S*)(?::(\d+))(?::(\d+))\)/,Gut=t=>{const e=jut.exec(t);if(e){if(e[2]&&e[2].indexOf("eval")===0){const a=Hut.exec(e[2]);a&&(e[2]=a[1],e[3]=a[2],e[4]=a[3])}const[n,i]=cee(e[1]||M_,e[2]);return xL(i,n,e[3]?+e[3]:void 0,e[4]?+e[4]:void 0)}},zut=[Fut,Gut],Vut=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Wut=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Kut=t=>{const e=Vut.exec(t);if(e){if(e[3]&&e[3].indexOf(" > eval")>-1){const a=Wut.exec(e[3]);a&&(e[1]=e[1]||"eval",e[3]=a[1],e[4]=a[2],e[5]="")}let n=e[3],i=e[1]||M_;return[i,n]=cee(i,n),xL(n,i,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},Yut=[Uut,Kut],qut=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Xut=t=>{const e=qut.exec(t);return e?xL(e[2],e[1]||M_,+e[3],e[4]?+e[4]:void 0):void 0},Qut=[But,Xut],Zut=[zut,Yut,Qut],Jut=UJ(...Zut),cee=(t,e)=>{const r=t.indexOf("safari-extension")!==-1,n=t.indexOf("safari-web-extension")!==-1;return r||n?[t.indexOf("@")!==-1?t.split("@")[0]:M_,r?`safari-extension:${e}`:`safari-web-extension:${e}`]:[t,e]};class Eo{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=Eo.id}__init2(){this._installFunc={onerror:eft,onunhandledrejection:tft}}constructor(e){Eo.prototype.__init.call(this),Eo.prototype.__init2.call(this),this._options={onerror:!0,onunhandledrejection:!0,...e}}setupOnce(){Error.stackTraceLimit=50;const e=this._options;for(const r in e){const n=this._installFunc[r];n&&e[r]&&(ift(r),n(),this._installFunc[r]=void 0)}}}Eo.__initStatic();function eft(){Tr("error",t=>{const[e,r,n]=dee();if(!e.getIntegration(Eo))return;const{msg:i,url:a,line:s,column:o,error:c}=t;if(see()||c&&c.__sentry_own_request__)return;const l=c===void 0&&Po(i)?nft(i,a,s,o):uee(yL(r,c||i,void 0,n,!1),a,s,o);l.level="error",fee(e,c,l,"onerror")})}function tft(){Tr("unhandledrejection",t=>{const[e,r,n]=dee();if(!e.getIntegration(Eo))return;let i=t;try{"reason"in t?i=t.reason:"detail"in t&&"reason"in t.detail&&(i=t.detail.reason)}catch{}if(see()||i&&i.__sentry_own_request__)return!0;const a=LJ(i)?rft(i):yL(r,i,void 0,n,!0);a.level="error",fee(e,i,a,"onunhandledrejection")})}function rft(t){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(t)}`}]}}}function nft(t,e,r,n){const i=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let a=OJ(t)?t.message:t,s="Error";const o=a.match(i);return o&&(s=o[1],a=o[2]),uee({exception:{values:[{type:s,value:a}]}},e,r,n)}function uee(t,e,r,n){const i=t.exception=t.exception||{},a=i.values=i.values||[],s=a[0]=a[0]||{},o=s.stacktrace=s.stacktrace||{},c=o.frames=o.frames||[],l=isNaN(parseInt(n,10))?void 0:n,u=isNaN(parseInt(r,10))?void 0:r,f=Po(e)&&e.length>0?e:ylt();return c.length===0&&c.push({colno:l,filename:f,function:"?",in_app:!0,lineno:u}),t}function ift(t){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.log(`Global Handler attached: ${t}`)}function fee(t,e,r,n){Cf(r,{handled:!1,type:n}),t.captureEvent(r,{originalException:e})}function dee(){const t=ft(),e=t.getClient(),r=e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[t,r.stackParser,r.attachStacktrace]}const aft=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class pp{static __initStatic(){this.id="TryCatch"}__init(){this.name=pp.id}constructor(e){pp.prototype.__init.call(this),this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e}}setupOnce(){this._options.setTimeout&&Wt(Xe,"setTimeout",B7),this._options.setInterval&&Wt(Xe,"setInterval",B7),this._options.requestAnimationFrame&&Wt(Xe,"requestAnimationFrame",sft),this._options.XMLHttpRequest&&"XMLHttpRequest"in Xe&&Wt(XMLHttpRequest.prototype,"send",oft);const e=this._options.eventTarget;e&&(Array.isArray(e)?e:aft).forEach(lft)}}pp.__initStatic();function B7(t){return function(...e){const r=e[0];return e[0]=Of(r,{mechanism:{data:{function:Do(t)},handled:!0,type:"instrument"}}),t.apply(this,e)}}function sft(t){return function(e){return t.apply(this,[Of(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Do(t)},handled:!0,type:"instrument"}})])}}function oft(t){return function(...e){const r=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in r&&typeof r[i]=="function"&&Wt(r,i,function(a){const s={mechanism:{data:{function:i,handler:Do(a)},handled:!0,type:"instrument"}},o=hL(a);return o&&(s.mechanism.data.handler=Do(o)),Of(a,s)})}),t.apply(this,e)}}function lft(t){const e=Xe,r=e[t]&&e[t].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(Wt(r,"addEventListener",function(n){return function(i,a,s){try{typeof a.handleEvent=="function"&&(a.handleEvent=Of(a.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Do(a),target:t},handled:!0,type:"instrument"}}))}catch{}return n.apply(this,[i,Of(a,{mechanism:{data:{function:"addEventListener",handler:Do(a),target:t},handled:!0,type:"instrument"}}),s])}}),Wt(r,"removeEventListener",function(n){return function(i,a,s){const o=a;try{const c=o&&o.__sentry_wrapped__;c&&n.call(this,i,c,s)}catch{}return n.call(this,i,o,s)}}))}const cft="cause",uft=5;class Zu{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=Zu.id}constructor(e={}){Zu.prototype.__init.call(this),this._key=e.key||cft,this._limit=e.limit||uft}setupOnce(){const e=ft().getClient();e&&gL((r,n)=>{const i=ft().getIntegration(Zu);return i?fft(e.getOptions().stackParser,i._key,i._limit,r,n):r})}}Zu.__initStatic();function fft(t,e,r,n,i){if(!n.exception||!n.exception.values||!i||!No(i.originalException,Error))return n;const a=hee(t,r,i.originalException,e);return n.exception.values=[...a,...n.exception.values],n}function hee(t,e,r,n,i=[]){if(!No(r[n],Error)||i.length+1>=e)return i;const a=oee(t,r[n]);return hee(t,e,r[n],n,[a,...i])}class Ju{constructor(){Ju.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=Ju.id}setupOnce(){gL(e=>{if(ft().getIntegration(Ju)){if(!Xe.navigator&&!Xe.location&&!Xe.document)return e;const r=e.request&&e.request.url||Xe.location&&Xe.location.href,{referrer:n}=Xe.document||{},{userAgent:i}=Xe.navigator||{},a={...e.request&&e.request.headers,...n&&{Referer:n},...i&&{"User-Agent":i}},s={...e.request,...r&&{url:r},headers:a};return{...e,request:s}}return e})}}Ju.__initStatic();class ef{constructor(){ef.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=ef.id}setupOnce(e,r){const n=i=>{if(i.type)return i;const a=r().getIntegration(ef);if(a){try{if(dft(i,a._previousEvent))return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{return a._previousEvent=i}return a._previousEvent=i}return i};n.id=this.name,e(n)}}ef.__initStatic();function dft(t,e){return e?!!(hft(t,e)||pft(t,e)):!1}function hft(t,e){const r=t.message,n=e.message;return!(!r&&!n||r&&!n||!r&&n||r!==n||!gee(t,e)||!pee(t,e))}function pft(t,e){const r=U7(e),n=U7(t);return!(!r||!n||r.type!==n.type||r.value!==n.value||!gee(t,e)||!pee(t,e))}function pee(t,e){let r=j7(t),n=j7(e);if(!r&&!n)return!0;if(r&&!n||!r&&n||(r=r,n=n,n.length!==r.length))return!1;for(let i=0;i<n.length;i++){const a=n[i],s=r[i];if(a.filename!==s.filename||a.lineno!==s.lineno||a.colno!==s.colno||a.function!==s.function)return!1}return!0}function gee(t,e){let r=t.fingerprint,n=e.fingerprint;if(!r&&!n)return!0;if(r&&!n||!r&&n)return!1;r=r,n=n;try{return r.join("")===n.join("")}catch{return!1}}function U7(t){return t.exception&&t.exception.values&&t.exception.values[0]}function j7(t){const e=t.exception;if(e)try{return e.values[0].stacktrace.frames}catch{return}}const gft=[new Qu,new dp,new pp,new hp,new Eo,new Zu,new ef,new Ju];function mft(t={}){t.defaultIntegrations===void 0&&(t.defaultIntegrations=gft),t.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(t.release=__SENTRY_RELEASE__),Xe.SENTRY_RELEASE&&Xe.SENTRY_RELEASE.id&&(t.release=Xe.SENTRY_RELEASE.id)),t.autoSessionTracking===void 0&&(t.autoSessionTracking=!0),t.sendClientReports===void 0&&(t.sendClientReports=!0);const e={...t,stackParser:$lt(t.stackParser||Jut),integrations:qct(t),transport:t.transport||(jJ()?Nut:Mut)};aut(Out,e),t.autoSessionTracking&&vft()}function H7(t){t.startSession({ignoreDuration:!0}),t.captureSession()}function vft(){if(typeof Xe.document>"u"){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}const t=ft();t.captureSession&&(H7(t),Tr("history",({from:e,to:r})=>{e===void 0||e===r||H7(ft())}))}const Qe=Vt;function yft(){Qe&&Qe.document?Qe.document.addEventListener("visibilitychange",()=>{const t=wg();if(Qe.document.hidden&&t){const e="cancelled";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.log(`[Tracing] Transaction: ${e} -> since tab moved to the background, op: ${t.op}`),t.status||t.setStatus(e),t.setTag("visibilitychange","document.hidden"),t.finish()}}):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const EL=(t,e,r)=>{let n,i;return a=>{e.value>=0&&(a||r)&&(i=e.value-(n||0),(i||n===void 0)&&(n=e.value,e.delta=i,t(e)))}},xft=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,Eft=()=>{const t=Qe.performance.timing,e=Qe.performance.navigation.type,r={entryType:"navigation",startTime:0,type:e==2?"back_forward":e===1?"reload":"navigate"};for(const n in t)n!=="navigationStart"&&n!=="toJSON"&&(r[n]=Math.max(t[n]-t.navigationStart,0));return r},mee=()=>Qe.__WEB_VITALS_POLYFILL__?Qe.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||Eft()):Qe.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],vee=()=>{const t=mee();return t&&t.activationStart||0},_L=(t,e)=>{const r=mee();let n="navigate";return r&&(Qe.document.prerendering||vee()>0?n="prerender":n=r.type.replace(/_/g,"-")),{name:t,value:typeof e>"u"?-1:e,rating:"good",delta:0,entries:[],id:xft(),navigationType:n}},Rg=(t,e,r)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(t)){const n=new PerformanceObserver(i=>{e(i.getEntries())});return n.observe(Object.assign({type:t,buffered:!0},r||{})),n}}catch{}},F_=(t,e)=>{const r=n=>{(n.type==="pagehide"||Qe.document.visibilityState==="hidden")&&(t(n),e&&(removeEventListener("visibilitychange",r,!0),removeEventListener("pagehide",r,!0)))};addEventListener("visibilitychange",r,!0),addEventListener("pagehide",r,!0)},_ft=t=>{const e=_L("CLS",0);let r,n=0,i=[];const a=o=>{o.forEach(c=>{if(!c.hadRecentInput){const l=i[0],u=i[i.length-1];n&&i.length!==0&&c.startTime-u.startTime<1e3&&c.startTime-l.startTime<5e3?(n+=c.value,i.push(c)):(n=c.value,i=[c]),n>e.value&&(e.value=n,e.entries=i,r&&r())}})},s=Rg("layout-shift",a);if(s){r=EL(t,e);const o=()=>{a(s.takeRecords()),r(!0)};return F_(o),o}};let oy=-1;const bft=()=>Qe.document.visibilityState==="hidden"&&!Qe.document.prerendering?0:1/0,Sft=()=>{F_(({timeStamp:t})=>{oy=t},!0)},bL=()=>(oy<0&&(oy=bft(),Sft()),{get firstHiddenTime(){return oy}}),Tft=t=>{const e=bL(),r=_L("FID");let n;const i=o=>{o.startTime<e.firstHiddenTime&&(r.value=o.processingStart-o.startTime,r.entries.push(o),n(!0))},a=o=>{o.forEach(i)},s=Rg("first-input",a);n=EL(t,r),s&&F_(()=>{a(s.takeRecords()),s.disconnect()},!0)},G7={},wft=t=>{const e=bL(),r=_L("LCP");let n;const i=s=>{const o=s[s.length-1];if(o){const c=Math.max(o.startTime-vee(),0);c<e.firstHiddenTime&&(r.value=c,r.entries=[o],n())}},a=Rg("largest-contentful-paint",i);if(a){n=EL(t,r);const s=()=>{G7[r.id]||(i(a.takeRecords()),a.disconnect(),G7[r.id]=!0,n(!0))};return["keydown","click"].forEach(o=>{addEventListener(o,s,{once:!0,capture:!0})}),F_(s,!0),s}};function Xw(t){return typeof t=="number"&&isFinite(t)}function Lf(t,{startTimestamp:e,...r}){return e&&t.startTimestamp>e&&(t.startTimestamp=e),t.startChild({startTimestamp:e,...r})}function Ot(t){return t/1e3}function yee(){return Qe&&Qe.addEventListener&&Qe.performance}let z7=0,Et={},Yi,u0;function Rft(){const t=yee();if(t&&Mo){t.mark&&Qe.performance.mark("sentry-tracing-init"),kft();const e=$ft(),r=Cft();return()=>{e&&e(),r&&r()}}return()=>{}}function Aft(){Rg("longtask",e=>{for(const r of e){const n=wg();if(!n)return;const i=Ot(Mo+r.startTime),a=Ot(r.duration);n.startChild({description:"Main UI thread blocked",op:"ui.long-task",startTimestamp:i,endTimestamp:i+a})}})}function Ift(){Rg("event",e=>{for(const r of e){const n=wg();if(!n)return;if(r.name==="click"){const i=Ot(Mo+r.startTime),a=Ot(r.duration);n.startChild({description:$f(r.target),op:`ui.interaction.${r.name}`,startTimestamp:i,endTimestamp:i+a})}}},{durationThreshold:0})}function $ft(){return _ft(t=>{const e=t.entries.pop();e&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.log("[Measurements] Adding CLS"),Et.cls={value:t.value,unit:""},u0=e)})}function Cft(){return wft(t=>{const e=t.entries.pop();e&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.log("[Measurements] Adding LCP"),Et.lcp={value:t.value,unit:"millisecond"},Yi=e)})}function kft(){Tft(t=>{const e=t.entries.pop();if(!e)return;const r=Ot(Mo),n=Ot(e.startTime);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.log("[Measurements] Adding FID"),Et.fid={value:t.value,unit:"millisecond"},Et["mark.fid"]={value:r+n,unit:"second"}})}function Oft(t){const e=yee();if(!e||!Qe.performance.getEntries||!Mo)return;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.log("[Tracing] Adding & adjusting spans using Performance API");const r=Ot(Mo),n=e.getEntries();let i,a;if(n.slice(z7).forEach(s=>{const o=Ot(s.startTime),c=Ot(s.duration);if(!(t.op==="navigation"&&r+o<t.startTimestamp))switch(s.entryType){case"navigation":{Pft(t,s,r),i=r+Ot(s.responseStart),a=r+Ot(s.requestStart);break}case"mark":case"paint":case"measure":{Lft(t,s,o,c,r);const l=bL(),u=s.startTime<l.firstHiddenTime;s.name==="first-paint"&&u&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.log("[Measurements] Adding FP"),Et.fp={value:s.startTime,unit:"millisecond"}),s.name==="first-contentful-paint"&&u&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.log("[Measurements] Adding FCP"),Et.fcp={value:s.startTime,unit:"millisecond"});break}case"resource":{const l=s.name.replace(Qe.location.origin,"");Dft(t,s,l,o,c,r);break}}}),z7=Math.max(n.length-1,0),Mft(t),t.op==="pageload"){typeof i=="number"&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.log("[Measurements] Adding TTFB"),Et.ttfb={value:(i-t.startTimestamp)*1e3,unit:"millisecond"},typeof a=="number"&&a<=i&&(Et["ttfb.requestTime"]={value:(i-a)*1e3,unit:"millisecond"})),["fcp","fp","lcp"].forEach(o=>{if(!Et[o]||r>=t.startTimestamp)return;const c=Et[o].value,l=r+Ot(c),u=Math.abs((l-t.startTimestamp)*1e3),f=u-c;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.log(`[Measurements] Normalized ${o} from ${c} to ${u} (${f})`),Et[o].value=u});const s=Et["mark.fid"];s&&Et.fid&&(Lf(t,{description:"first input delay",endTimestamp:s.value+Ot(Et.fid.value),op:"ui.action",startTimestamp:s.value}),delete Et["mark.fid"]),"fcp"in Et||delete Et.cls,Object.keys(Et).forEach(o=>{t.setMeasurement(o,Et[o].value,Et[o].unit)}),Fft(t)}Yi=void 0,u0=void 0,Et={}}function Lft(t,e,r,n,i){const a=i+r,s=a+n;return Lf(t,{description:e.name,endTimestamp:s,op:e.entryType,startTimestamp:a}),a}function Pft(t,e,r){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(n=>{pv(t,e,n,r)}),pv(t,e,"secureConnection",r,"TLS/SSL","connectEnd"),pv(t,e,"fetch",r,"cache","domainLookupStart"),pv(t,e,"domainLookup",r,"DNS"),Nft(t,e,r)}function pv(t,e,r,n,i,a){const s=a?e[a]:e[`${r}End`],o=e[`${r}Start`];!o||!s||Lf(t,{op:"browser",description:i||r,startTimestamp:n+Ot(o),endTimestamp:n+Ot(s)})}function Nft(t,e,r){Lf(t,{op:"browser",description:"request",startTimestamp:r+Ot(e.requestStart),endTimestamp:r+Ot(e.responseEnd)}),Lf(t,{op:"browser",description:"response",startTimestamp:r+Ot(e.responseStart),endTimestamp:r+Ot(e.responseEnd)})}function Dft(t,e,r,n,i,a){if(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")return;const s={};"transferSize"in e&&(s["Transfer Size"]=e.transferSize),"encodedBodySize"in e&&(s["Encoded Body Size"]=e.encodedBodySize),"decodedBodySize"in e&&(s["Decoded Body Size"]=e.decodedBodySize),"renderBlockingStatus"in e&&(s["resource.render_blocking_status"]=e.renderBlockingStatus);const o=a+n,c=o+i;Lf(t,{description:r,endTimestamp:c,op:e.initiatorType?`resource.${e.initiatorType}`:"resource.other",startTimestamp:o,data:s})}function Mft(t){const e=Qe.navigator;if(!e)return;const r=e.connection;r&&(r.effectiveType&&t.setTag("effectiveConnectionType",r.effectiveType),r.type&&t.setTag("connectionType",r.type),Xw(r.rtt)&&(Et["connection.rtt"]={value:r.rtt,unit:"millisecond"})),Xw(e.deviceMemory)&&t.setTag("deviceMemory",`${e.deviceMemory} GB`),Xw(e.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}function Fft(t){Yi&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.log("[Measurements] Adding LCP Data"),Yi.element&&t.setTag("lcp.element",$f(Yi.element)),Yi.id&&t.setTag("lcp.id",Yi.id),Yi.url&&t.setTag("lcp.url",Yi.url.trim().slice(0,200)),t.setTag("lcp.size",Yi.size)),u0&&u0.sources&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.log("[Measurements] Adding CLS Data"),u0.sources.forEach((e,r)=>t.setTag(`cls.source.${r+1}`,$f(e.node))))}const CI=["localhost",/^\//],kI={traceFetch:!0,traceXHR:!0,tracingOrigins:CI,tracePropagationTargets:CI};function Bft(t){const{traceFetch:e,traceXHR:r,tracePropagationTargets:n,tracingOrigins:i,shouldCreateSpanForRequest:a}={traceFetch:kI.traceFetch,traceXHR:kI.traceXHR,...t},s=typeof a=="function"?a:l=>!0,o=l=>Uft(l,n||i),c={};e&&Tr("fetch",l=>{jft(l,s,o,c)}),r&&Tr("xhr",l=>{Gft(l,s,o,c)})}function Uft(t,e){return bg(t,e||CI)}function jft(t,e,r,n){if(!mL()||!(t.fetchData&&e(t.fetchData.url)))return;if(t.endTimestamp){const o=t.fetchData.__span;if(!o)return;const c=n[o];c&&(t.response?c.setHttpStatus(t.response.status):t.error&&c.setStatus("internal_error"),c.finish(),delete n[o]);return}const i=ft().getScope(),a=i&&i.getSpan(),s=a&&a.transaction;if(a&&s){const o=a.startChild({data:{...t.fetchData,type:"fetch"},description:`${t.fetchData.method} ${t.fetchData.url}`,op:"http.client"});t.fetchData.__span=o.spanId,n[o.spanId]=o;const c=t.args[0];t.args[1]=t.args[1]||{};const l=t.args[1];r(t.fetchData.url)&&(l.headers=Hft(c,s.getDynamicSamplingContext(),o,l))}}function Hft(t,e,r,n){const i=XJ(e),a=r.toTraceparent(),s=typeof Request<"u"&&No(t,Request)?t.headers:n.headers;if(s)if(typeof Headers<"u"&&No(s,Headers)){const o=new Headers(s);return o.append("sentry-trace",a),i&&o.append(wI,i),o}else if(Array.isArray(s)){const o=[...s,["sentry-trace",a]];return i&&o.push([wI,i]),o}else{const o="baggage"in s?s.baggage:void 0,c=[];return Array.isArray(o)?c.push(...o):o&&c.push(o),i&&c.push(i),{...s,"sentry-trace":a,baggage:c.length>0?c.join(","):void 0}}else return{"sentry-trace":a,baggage:i}}function Gft(t,e,r,n){const i=t.xhr,a=i&&i[kl];if(!mL()||i&&i.__sentry_own_request__||!(i&&a&&e(a.url)))return;if(t.endTimestamp){const l=i.__sentry_xhr_span_id__;if(!l)return;const u=n[l];u&&(u.setHttpStatus(a.status_code),u.finish(),delete n[l]);return}const s=ft().getScope(),o=s&&s.getSpan(),c=o&&o.transaction;if(o&&c){const l=o.startChild({data:{...a.data,type:"xhr",method:a.method,url:a.url},description:`${a.method} ${a.url}`,op:"http.client"});if(i.__sentry_xhr_span_id__=l.spanId,n[i.__sentry_xhr_span_id__]=l,i.setRequestHeader&&r(a.url))try{i.setRequestHeader("sentry-trace",l.toTraceparent());const u=c.getDynamicSamplingContext(),f=XJ(u);f&&i.setRequestHeader(wI,f)}catch{}}}function zft(t,e=!0,r=!0){if(!Qe||!Qe.location){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.warn("Could not initialize routing instrumentation due to invalid location");return}let n=Qe.location.href,i;e&&(i=t({name:Qe.location.pathname,startTimestamp:Mo?Mo/1e3:void 0,op:"pageload",metadata:{source:"url"}})),r&&Tr("history",({to:a,from:s})=>{if(s===void 0&&n&&n.indexOf(a)!==-1){n=void 0;return}s!==a&&(n=void 0,i&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.log(`[Tracing] Finishing current transaction with op: ${i.op}`),i.finish()),i=t({name:Qe.location.pathname,op:"navigation",metadata:{source:"url"}}))})}const Vft="BrowserTracing",Wft={...sy,markBackgroundTransactions:!0,routingInstrumentation:zft,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{},...kI};class SL{__init(){this.name=Vft}constructor(e){SL.prototype.__init.call(this),Mct(),this.options={...Wft,...e},this.options._experiments.enableLongTask!==void 0&&(this.options.enableLongTask=this.options._experiments.enableLongTask),e&&!e.tracePropagationTargets&&e.tracingOrigins&&(this.options.tracePropagationTargets=e.tracingOrigins),this._collectWebVitals=Rft(),this.options.enableLongTask&&Aft(),this.options._experiments.enableInteractions&&Ift()}setupOnce(e,r){this._getCurrentHub=r;const{routingInstrumentation:n,startTransactionOnLocationChange:i,startTransactionOnPageLoad:a,markBackgroundTransactions:s,traceFetch:o,traceXHR:c,tracePropagationTargets:l,shouldCreateSpanForRequest:u,_experiments:f}=this.options;n(d=>{const h=this._createRouteTransaction(d);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(h,d,r),h},a,i),s&&yft(),f.enableInteractions&&this._registerInteractionListener(),Bft({traceFetch:o,traceXHR:c,tracePropagationTargets:l,shouldCreateSpanForRequest:u})}_createRouteTransaction(e){if(!this._getCurrentHub){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.warn(`[Tracing] Did not create ${e.op} transaction because _getCurrentHub is invalid.`);return}const{beforeNavigate:r,idleTimeout:n,finalTimeout:i,heartbeatInterval:a}=this.options,s=e.op==="pageload",o=s?V7("sentry-trace"):null,c=s?V7("baggage"):null,l=o?ict(o):void 0,u=c?xct(c):void 0,f={...e,...l,metadata:{...e.metadata,dynamicSamplingContext:l&&!u?{}:u},trimEnd:!0},d=typeof r=="function"?r(f):f,h=d===void 0?{...f,sampled:!1}:d;h.metadata=h.name!==f.name?{...h.metadata,source:"custom"}:h.metadata,this._latestRouteName=h.name,this._latestRouteSource=h.metadata&&h.metadata.source,h.sampled===!1&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.log(`[Tracing] Will not send ${h.op} transaction because of beforeNavigate.`),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.log(`[Tracing] Starting ${h.op} transaction on scope`);const p=this._getCurrentHub(),{location:m}=Qe,g=L7(p,h,n,i,!0,{location:m},a);return g.registerBeforeFinishCallback(v=>{this._collectWebVitals(),Oft(v)}),g}_registerInteractionListener(){let e;const r=()=>{const{idleTimeout:n,finalTimeout:i,heartbeatInterval:a}=this.options,s="ui.action.click",o=wg();if(o&&o.op&&["navigation","pageload"].includes(o.op)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.warn(`[Tracing] Did not create ${s} transaction because a pageload or navigation transaction is in progress.`);return}if(e&&(e.setFinishReason("interactionInterrupted"),e.finish(),e=void 0),!this._getCurrentHub){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.warn(`[Tracing] Did not create ${s} transaction because _getCurrentHub is invalid.`);return}if(!this._latestRouteName){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&J.warn(`[Tracing] Did not create ${s} transaction because _latestRouteName is missing.`);return}const c=this._getCurrentHub(),{location:l}=Qe,u={name:this._latestRouteName,op:s,trimEnd:!0,metadata:{source:this._latestRouteSource||"url"}};e=L7(c,u,n,i,!0,{location:l},a)};["click"].forEach(n=>{addEventListener(n,r,{once:!1,capture:!0})})}}function V7(t){const e=xlt(`meta[name=${t}]`);return e?e.getAttribute("content"):null}function Kft(t){t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.react",packages:[{name:"npm:@sentry/react",version:W1}],version:W1},mft(t)}Kft({dsn:bMe,release:`movie-web@${Cr().APP_VERSION}`,sampleRate:.5,integrations:[new SL,new Ol,new fp]});const Qw="https://consumet-api-clone.vercel.app/meta/tmdb";function Yft({url:t,lang:e}){if(e.includes("(maybe)")||!eO(t))return null;const n=$q(t);return{url:t,langIso:e,type:n}}const qft={360:yt.Q360P,540:yt.Q540P,480:yt.Q480P,720:yt.Q720P,1080:yt.Q1080P};function W7(t){return t==="Movie"?ve.MOVIE:ve.SERIES}nd({id:"flixhq",displayName:"FlixHQ",rank:100,type:[ve.MOVIE,ve.SERIES],async scrape({media:t,episode:e,progress:r}){var l;if(!this.type.includes(t.meta.type))throw new Error("Unsupported type");const i=(await Wv(`/${encodeURIComponent(t.meta.title)}`,{baseURL:Qw})).results.find(u=>u.type!=="Movie"&&u.type!=="TV Series"?!1:Kk(u.title,t.meta.title)&&W7(u.type)===t.meta.type&&u.releaseDate===t.meta.year);if(!i)throw new Error("No watchable item found");r(25);const a=await Wv(`/info/${i.id}`,{baseURL:Qw,params:{type:W7(i.type)}});if(!a.id)throw new Error("No watchable item found");r(50);let s;if(t.meta.type===ve.MOVIE)s=a.episodeId;else if(t.meta.type===ve.SERIES){const u=t.meta.seasonData.number,f=(l=t.meta.seasonData.episodes.find(h=>h.id===e))==null?void 0:l.number;s=a.seasons.find(h=>h.season===u).episodes.find(h=>h.episode===f).id}if(!s)throw new Error("No watchable item found");r(75);const o=await Wv(`/watch/${s}`,{baseURL:Qw,params:{id:a.id}});if(!o.sources)throw new Error("No watchable item found");const c=o.sources[0];return{embeds:[],stream:{streamUrl:c.url,quality:qft[c.quality],type:c.isM3U8?nn.HLS:nn.MP4,captions:o.subtitles.map(Yft).filter(Boolean)}}}});var OI={},Xft={get exports(){return OI},set exports(t){OI=t}},Y1={},Qft={get exports(){return Y1},set exports(t){Y1=t}};const Zft={},Jft=Object.freeze(Object.defineProperty({__proto__:null,default:Zft},Symbol.toStringTag,{value:"Module"})),edt=Aee(Jft);var K7;function Me(){return K7||(K7=1,function(t,e){(function(r,n){t.exports=n()})(ge,function(){var r=r||function(n,i){var a;if(typeof window<"u"&&window.crypto&&(a=window.crypto),typeof self<"u"&&self.crypto&&(a=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(a=globalThis.crypto),!a&&typeof window<"u"&&window.msCrypto&&(a=window.msCrypto),!a&&typeof ge<"u"&&ge.crypto&&(a=ge.crypto),!a&&typeof _ct=="function")try{a=edt}catch{}var s=function(){if(a){if(typeof a.getRandomValues=="function")try{return a.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof a.randomBytes=="function")try{return a.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function y(){}return function(x){var E;return y.prototype=x,E=new y,y.prototype=null,E}}(),c={},l=c.lib={},u=l.Base=function(){return{extend:function(y){var x=o(this);return y&&x.mixIn(y),(!x.hasOwnProperty("init")||this.init===x.init)&&(x.init=function(){x.$super.init.apply(this,arguments)}),x.init.prototype=x,x.$super=this,x},create:function(){var y=this.extend();return y.init.apply(y,arguments),y},init:function(){},mixIn:function(y){for(var x in y)y.hasOwnProperty(x)&&(this[x]=y[x]);y.hasOwnProperty("toString")&&(this.toString=y.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),f=l.WordArray=u.extend({init:function(y,x){y=this.words=y||[],x!=i?this.sigBytes=x:this.sigBytes=y.length*4},toString:function(y){return(y||h).stringify(this)},concat:function(y){var x=this.words,E=y.words,S=this.sigBytes,b=y.sigBytes;if(this.clamp(),S%4)for(var T=0;T<b;T++){var R=E[T>>>2]>>>24-T%4*8&255;x[S+T>>>2]|=R<<24-(S+T)%4*8}else for(var I=0;I<b;I+=4)x[S+I>>>2]=E[I>>>2];return this.sigBytes+=b,this},clamp:function(){var y=this.words,x=this.sigBytes;y[x>>>2]&=4294967295<<32-x%4*8,y.length=n.ceil(x/4)},clone:function(){var y=u.clone.call(this);return y.words=this.words.slice(0),y},random:function(y){for(var x=[],E=0;E<y;E+=4)x.push(s());return new f.init(x,y)}}),d=c.enc={},h=d.Hex={stringify:function(y){for(var x=y.words,E=y.sigBytes,S=[],b=0;b<E;b++){var T=x[b>>>2]>>>24-b%4*8&255;S.push((T>>>4).toString(16)),S.push((T&15).toString(16))}return S.join("")},parse:function(y){for(var x=y.length,E=[],S=0;S<x;S+=2)E[S>>>3]|=parseInt(y.substr(S,2),16)<<24-S%8*4;return new f.init(E,x/2)}},p=d.Latin1={stringify:function(y){for(var x=y.words,E=y.sigBytes,S=[],b=0;b<E;b++){var T=x[b>>>2]>>>24-b%4*8&255;S.push(String.fromCharCode(T))}return S.join("")},parse:function(y){for(var x=y.length,E=[],S=0;S<x;S++)E[S>>>2]|=(y.charCodeAt(S)&255)<<24-S%4*8;return new f.init(E,x)}},m=d.Utf8={stringify:function(y){try{return decodeURIComponent(escape(p.stringify(y)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(y){return p.parse(unescape(encodeURIComponent(y)))}},g=l.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(y){typeof y=="string"&&(y=m.parse(y)),this._data.concat(y),this._nDataBytes+=y.sigBytes},_process:function(y){var x,E=this._data,S=E.words,b=E.sigBytes,T=this.blockSize,R=T*4,I=b/R;y?I=n.ceil(I):I=n.max((I|0)-this._minBufferSize,0);var w=I*T,C=n.min(w*4,b);if(w){for(var L=0;L<w;L+=T)this._doProcessBlock(S,L);x=S.splice(0,w),E.sigBytes-=C}return new f.init(x,C)},clone:function(){var y=u.clone.call(this);return y._data=this._data.clone(),y},_minBufferSize:0});l.Hasher=g.extend({cfg:u.extend(),init:function(y){this.cfg=this.cfg.extend(y),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(y){return this._append(y),this._process(),this},finalize:function(y){y&&this._append(y);var x=this._doFinalize();return x},blockSize:16,_createHelper:function(y){return function(x,E){return new y.init(E).finalize(x)}},_createHmacHelper:function(y){return function(x,E){return new v.HMAC.init(y,E).finalize(x)}}});var v=c.algo={};return c}(Math);return r})}(Qft)),Y1}var q1={},tdt={get exports(){return q1},set exports(t){q1=t}},Y7;function B_(){return Y7||(Y7=1,function(t,e){(function(r,n){t.exports=n(Me())})(ge,function(r){return function(n){var i=r,a=i.lib,s=a.Base,o=a.WordArray,c=i.x64={};c.Word=s.extend({init:function(l,u){this.high=l,this.low=u}}),c.WordArray=s.extend({init:function(l,u){l=this.words=l||[],u!=n?this.sigBytes=u:this.sigBytes=l.length*8},toX32:function(){for(var l=this.words,u=l.length,f=[],d=0;d<u;d++){var h=l[d];f.push(h.high),f.push(h.low)}return o.create(f,this.sigBytes)},clone:function(){for(var l=s.clone.call(this),u=l.words=this.words.slice(0),f=u.length,d=0;d<f;d++)u[d]=u[d].clone();return l}})}(),r})}(tdt)),q1}var X1={},rdt={get exports(){return X1},set exports(t){X1=t}},q7;function ndt(){return q7||(q7=1,function(t,e){(function(r,n){t.exports=n(Me())})(ge,function(r){return function(){if(typeof ArrayBuffer=="function"){var n=r,i=n.lib,a=i.WordArray,s=a.init,o=a.init=function(c){if(c instanceof ArrayBuffer&&(c=new Uint8Array(c)),(c instanceof Int8Array||typeof Uint8ClampedArray<"u"&&c instanceof Uint8ClampedArray||c instanceof Int16Array||c instanceof Uint16Array||c instanceof Int32Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array)&&(c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength)),c instanceof Uint8Array){for(var l=c.byteLength,u=[],f=0;f<l;f++)u[f>>>2]|=c[f]<<24-f%4*8;s.call(this,u,l)}else s.apply(this,arguments)};o.prototype=a}}(),r.lib.WordArray})}(rdt)),X1}var Q1={},idt={get exports(){return Q1},set exports(t){Q1=t}},X7;function adt(){return X7||(X7=1,function(t,e){(function(r,n){t.exports=n(Me())})(ge,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,s=n.enc;s.Utf16=s.Utf16BE={stringify:function(c){for(var l=c.words,u=c.sigBytes,f=[],d=0;d<u;d+=2){var h=l[d>>>2]>>>16-d%4*8&65535;f.push(String.fromCharCode(h))}return f.join("")},parse:function(c){for(var l=c.length,u=[],f=0;f<l;f++)u[f>>>1]|=c.charCodeAt(f)<<16-f%2*16;return a.create(u,l*2)}},s.Utf16LE={stringify:function(c){for(var l=c.words,u=c.sigBytes,f=[],d=0;d<u;d+=2){var h=o(l[d>>>2]>>>16-d%4*8&65535);f.push(String.fromCharCode(h))}return f.join("")},parse:function(c){for(var l=c.length,u=[],f=0;f<l;f++)u[f>>>1]|=o(c.charCodeAt(f)<<16-f%2*16);return a.create(u,l*2)}};function o(c){return c<<8&4278255360|c>>>8&16711935}}(),r.enc.Utf16})}(idt)),Q1}var Z1={},sdt={get exports(){return Z1},set exports(t){Z1=t}},Q7;function Tc(){return Q7||(Q7=1,function(t,e){(function(r,n){t.exports=n(Me())})(ge,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,s=n.enc;s.Base64={stringify:function(c){var l=c.words,u=c.sigBytes,f=this._map;c.clamp();for(var d=[],h=0;h<u;h+=3)for(var p=l[h>>>2]>>>24-h%4*8&255,m=l[h+1>>>2]>>>24-(h+1)%4*8&255,g=l[h+2>>>2]>>>24-(h+2)%4*8&255,v=p<<16|m<<8|g,y=0;y<4&&h+y*.75<u;y++)d.push(f.charAt(v>>>6*(3-y)&63));var x=f.charAt(64);if(x)for(;d.length%4;)d.push(x);return d.join("")},parse:function(c){var l=c.length,u=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var d=0;d<u.length;d++)f[u.charCodeAt(d)]=d}var h=u.charAt(64);if(h){var p=c.indexOf(h);p!==-1&&(l=p)}return o(c,l,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function o(c,l,u){for(var f=[],d=0,h=0;h<l;h++)if(h%4){var p=u[c.charCodeAt(h-1)]<<h%4*2,m=u[c.charCodeAt(h)]>>>6-h%4*2,g=p|m;f[d>>>2]|=g<<24-d%4*8,d++}return a.create(f,d)}}(),r.enc.Base64})}(sdt)),Z1}var J1={},odt={get exports(){return J1},set exports(t){J1=t}},Z7;function ldt(){return Z7||(Z7=1,function(t,e){(function(r,n){t.exports=n(Me())})(ge,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,s=n.enc;s.Base64url={stringify:function(c,l=!0){var u=c.words,f=c.sigBytes,d=l?this._safe_map:this._map;c.clamp();for(var h=[],p=0;p<f;p+=3)for(var m=u[p>>>2]>>>24-p%4*8&255,g=u[p+1>>>2]>>>24-(p+1)%4*8&255,v=u[p+2>>>2]>>>24-(p+2)%4*8&255,y=m<<16|g<<8|v,x=0;x<4&&p+x*.75<f;x++)h.push(d.charAt(y>>>6*(3-x)&63));var E=d.charAt(64);if(E)for(;h.length%4;)h.push(E);return h.join("")},parse:function(c,l=!0){var u=c.length,f=l?this._safe_map:this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var h=0;h<f.length;h++)d[f.charCodeAt(h)]=h}var p=f.charAt(64);if(p){var m=c.indexOf(p);m!==-1&&(u=m)}return o(c,u,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function o(c,l,u){for(var f=[],d=0,h=0;h<l;h++)if(h%4){var p=u[c.charCodeAt(h-1)]<<h%4*2,m=u[c.charCodeAt(h)]>>>6-h%4*2,g=p|m;f[d>>>2]|=g<<24-d%4*8,d++}return a.create(f,d)}}(),r.enc.Base64url})}(odt)),J1}var ex={},cdt={get exports(){return ex},set exports(t){ex=t}},J7;function md(){return J7||(J7=1,function(t,e){(function(r,n){t.exports=n(Me())})(ge,function(r){return function(n){var i=r,a=i.lib,s=a.WordArray,o=a.Hasher,c=i.algo,l=[];(function(){for(var m=0;m<64;m++)l[m]=n.abs(n.sin(m+1))*4294967296|0})();var u=c.MD5=o.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(m,g){for(var v=0;v<16;v++){var y=g+v,x=m[y];m[y]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360}var E=this._hash.words,S=m[g+0],b=m[g+1],T=m[g+2],R=m[g+3],I=m[g+4],w=m[g+5],C=m[g+6],L=m[g+7],H=m[g+8],N=m[g+9],P=m[g+10],B=m[g+11],V=m[g+12],M=m[g+13],U=m[g+14],W=m[g+15],k=E[0],O=E[1],F=E[2],D=E[3];k=f(k,O,F,D,S,7,l[0]),D=f(D,k,O,F,b,12,l[1]),F=f(F,D,k,O,T,17,l[2]),O=f(O,F,D,k,R,22,l[3]),k=f(k,O,F,D,I,7,l[4]),D=f(D,k,O,F,w,12,l[5]),F=f(F,D,k,O,C,17,l[6]),O=f(O,F,D,k,L,22,l[7]),k=f(k,O,F,D,H,7,l[8]),D=f(D,k,O,F,N,12,l[9]),F=f(F,D,k,O,P,17,l[10]),O=f(O,F,D,k,B,22,l[11]),k=f(k,O,F,D,V,7,l[12]),D=f(D,k,O,F,M,12,l[13]),F=f(F,D,k,O,U,17,l[14]),O=f(O,F,D,k,W,22,l[15]),k=d(k,O,F,D,b,5,l[16]),D=d(D,k,O,F,C,9,l[17]),F=d(F,D,k,O,B,14,l[18]),O=d(O,F,D,k,S,20,l[19]),k=d(k,O,F,D,w,5,l[20]),D=d(D,k,O,F,P,9,l[21]),F=d(F,D,k,O,W,14,l[22]),O=d(O,F,D,k,I,20,l[23]),k=d(k,O,F,D,N,5,l[24]),D=d(D,k,O,F,U,9,l[25]),F=d(F,D,k,O,R,14,l[26]),O=d(O,F,D,k,H,20,l[27]),k=d(k,O,F,D,M,5,l[28]),D=d(D,k,O,F,T,9,l[29]),F=d(F,D,k,O,L,14,l[30]),O=d(O,F,D,k,V,20,l[31]),k=h(k,O,F,D,w,4,l[32]),D=h(D,k,O,F,H,11,l[33]),F=h(F,D,k,O,B,16,l[34]),O=h(O,F,D,k,U,23,l[35]),k=h(k,O,F,D,b,4,l[36]),D=h(D,k,O,F,I,11,l[37]),F=h(F,D,k,O,L,16,l[38]),O=h(O,F,D,k,P,23,l[39]),k=h(k,O,F,D,M,4,l[40]),D=h(D,k,O,F,S,11,l[41]),F=h(F,D,k,O,R,16,l[42]),O=h(O,F,D,k,C,23,l[43]),k=h(k,O,F,D,N,4,l[44]),D=h(D,k,O,F,V,11,l[45]),F=h(F,D,k,O,W,16,l[46]),O=h(O,F,D,k,T,23,l[47]),k=p(k,O,F,D,S,6,l[48]),D=p(D,k,O,F,L,10,l[49]),F=p(F,D,k,O,U,15,l[50]),O=p(O,F,D,k,w,21,l[51]),k=p(k,O,F,D,V,6,l[52]),D=p(D,k,O,F,R,10,l[53]),F=p(F,D,k,O,P,15,l[54]),O=p(O,F,D,k,b,21,l[55]),k=p(k,O,F,D,H,6,l[56]),D=p(D,k,O,F,W,10,l[57]),F=p(F,D,k,O,C,15,l[58]),O=p(O,F,D,k,M,21,l[59]),k=p(k,O,F,D,I,6,l[60]),D=p(D,k,O,F,B,10,l[61]),F=p(F,D,k,O,T,15,l[62]),O=p(O,F,D,k,N,21,l[63]),E[0]=E[0]+k|0,E[1]=E[1]+O|0,E[2]=E[2]+F|0,E[3]=E[3]+D|0},_doFinalize:function(){var m=this._data,g=m.words,v=this._nDataBytes*8,y=m.sigBytes*8;g[y>>>5]|=128<<24-y%32;var x=n.floor(v/4294967296),E=v;g[(y+64>>>9<<4)+15]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,g[(y+64>>>9<<4)+14]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,m.sigBytes=(g.length+1)*4,this._process();for(var S=this._hash,b=S.words,T=0;T<4;T++){var R=b[T];b[T]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360}return S},clone:function(){var m=o.clone.call(this);return m._hash=this._hash.clone(),m}});function f(m,g,v,y,x,E,S){var b=m+(g&v|~g&y)+x+S;return(b<<E|b>>>32-E)+g}function d(m,g,v,y,x,E,S){var b=m+(g&y|v&~y)+x+S;return(b<<E|b>>>32-E)+g}function h(m,g,v,y,x,E,S){var b=m+(g^v^y)+x+S;return(b<<E|b>>>32-E)+g}function p(m,g,v,y,x,E,S){var b=m+(v^(g|~y))+x+S;return(b<<E|b>>>32-E)+g}i.MD5=o._createHelper(u),i.HmacMD5=o._createHmacHelper(u)}(Math),r.MD5})}(cdt)),ex}var tx={},udt={get exports(){return tx},set exports(t){tx=t}},e9;function TL(){return e9||(e9=1,function(t,e){(function(r,n){t.exports=n(Me())})(ge,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,s=i.Hasher,o=n.algo,c=[],l=o.SHA1=s.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(u,f){for(var d=this._hash.words,h=d[0],p=d[1],m=d[2],g=d[3],v=d[4],y=0;y<80;y++){if(y<16)c[y]=u[f+y]|0;else{var x=c[y-3]^c[y-8]^c[y-14]^c[y-16];c[y]=x<<1|x>>>31}var E=(h<<5|h>>>27)+v+c[y];y<20?E+=(p&m|~p&g)+1518500249:y<40?E+=(p^m^g)+1859775393:y<60?E+=(p&m|p&g|m&g)-1894007588:E+=(p^m^g)-899497514,v=g,g=m,m=p<<30|p>>>2,p=h,h=E}d[0]=d[0]+h|0,d[1]=d[1]+p|0,d[2]=d[2]+m|0,d[3]=d[3]+g|0,d[4]=d[4]+v|0},_doFinalize:function(){var u=this._data,f=u.words,d=this._nDataBytes*8,h=u.sigBytes*8;return f[h>>>5]|=128<<24-h%32,f[(h+64>>>9<<4)+14]=Math.floor(d/4294967296),f[(h+64>>>9<<4)+15]=d,u.sigBytes=f.length*4,this._process(),this._hash},clone:function(){var u=s.clone.call(this);return u._hash=this._hash.clone(),u}});n.SHA1=s._createHelper(l),n.HmacSHA1=s._createHmacHelper(l)}(),r.SHA1})}(udt)),tx}var rx={},fdt={get exports(){return rx},set exports(t){rx=t}},t9;function xee(){return t9||(t9=1,function(t,e){(function(r,n){t.exports=n(Me())})(ge,function(r){return function(n){var i=r,a=i.lib,s=a.WordArray,o=a.Hasher,c=i.algo,l=[],u=[];(function(){function h(v){for(var y=n.sqrt(v),x=2;x<=y;x++)if(!(v%x))return!1;return!0}function p(v){return(v-(v|0))*4294967296|0}for(var m=2,g=0;g<64;)h(m)&&(g<8&&(l[g]=p(n.pow(m,1/2))),u[g]=p(n.pow(m,1/3)),g++),m++})();var f=[],d=c.SHA256=o.extend({_doReset:function(){this._hash=new s.init(l.slice(0))},_doProcessBlock:function(h,p){for(var m=this._hash.words,g=m[0],v=m[1],y=m[2],x=m[3],E=m[4],S=m[5],b=m[6],T=m[7],R=0;R<64;R++){if(R<16)f[R]=h[p+R]|0;else{var I=f[R-15],w=(I<<25|I>>>7)^(I<<14|I>>>18)^I>>>3,C=f[R-2],L=(C<<15|C>>>17)^(C<<13|C>>>19)^C>>>10;f[R]=w+f[R-7]+L+f[R-16]}var H=E&S^~E&b,N=g&v^g&y^v&y,P=(g<<30|g>>>2)^(g<<19|g>>>13)^(g<<10|g>>>22),B=(E<<26|E>>>6)^(E<<21|E>>>11)^(E<<7|E>>>25),V=T+B+H+u[R]+f[R],M=P+N;T=b,b=S,S=E,E=x+V|0,x=y,y=v,v=g,g=V+M|0}m[0]=m[0]+g|0,m[1]=m[1]+v|0,m[2]=m[2]+y|0,m[3]=m[3]+x|0,m[4]=m[4]+E|0,m[5]=m[5]+S|0,m[6]=m[6]+b|0,m[7]=m[7]+T|0},_doFinalize:function(){var h=this._data,p=h.words,m=this._nDataBytes*8,g=h.sigBytes*8;return p[g>>>5]|=128<<24-g%32,p[(g+64>>>9<<4)+14]=n.floor(m/4294967296),p[(g+64>>>9<<4)+15]=m,h.sigBytes=p.length*4,this._process(),this._hash},clone:function(){var h=o.clone.call(this);return h._hash=this._hash.clone(),h}});i.SHA256=o._createHelper(d),i.HmacSHA256=o._createHmacHelper(d)}(Math),r.SHA256})}(fdt)),rx}var nx={},ddt={get exports(){return nx},set exports(t){nx=t}},r9;function hdt(){return r9||(r9=1,function(t,e){(function(r,n,i){t.exports=n(Me(),xee())})(ge,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,s=n.algo,o=s.SHA256,c=s.SHA224=o.extend({_doReset:function(){this._hash=new a.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var l=o._doFinalize.call(this);return l.sigBytes-=4,l}});n.SHA224=o._createHelper(c),n.HmacSHA224=o._createHmacHelper(c)}(),r.SHA224})}(ddt)),nx}var ix={},pdt={get exports(){return ix},set exports(t){ix=t}},n9;function Eee(){return n9||(n9=1,function(t,e){(function(r,n,i){t.exports=n(Me(),B_())})(ge,function(r){return function(){var n=r,i=n.lib,a=i.Hasher,s=n.x64,o=s.Word,c=s.WordArray,l=n.algo;function u(){return o.create.apply(o,arguments)}var f=[u(1116352408,3609767458),u(1899447441,602891725),u(3049323471,3964484399),u(3921009573,2173295548),u(961987163,4081628472),u(1508970993,3053834265),u(2453635748,2937671579),u(2870763221,3664609560),u(3624381080,2734883394),u(310598401,1164996542),u(607225278,1323610764),u(1426881987,3590304994),u(1925078388,4068182383),u(2162078206,991336113),u(2614888103,633803317),u(3248222580,3479774868),u(3835390401,2666613458),u(4022224774,944711139),u(264347078,2341262773),u(604807628,2007800933),u(770255983,1495990901),u(1249150122,1856431235),u(1555081692,3175218132),u(1996064986,2198950837),u(2554220882,3999719339),u(2821834349,766784016),u(2952996808,2566594879),u(3210313671,3203337956),u(3336571891,1034457026),u(3584528711,2466948901),u(113926993,3758326383),u(338241895,168717936),u(666307205,1188179964),u(773529912,1546045734),u(1294757372,1522805485),u(1396182291,2643833823),u(1695183700,2343527390),u(1986661051,1014477480),u(2177026350,1206759142),u(2456956037,344077627),u(2730485921,1290863460),u(2820302411,3158454273),u(3259730800,3505952657),u(3345764771,106217008),u(3516065817,3606008344),u(3600352804,1432725776),u(4094571909,1467031594),u(275423344,851169720),u(430227734,3100823752),u(506948616,1363258195),u(659060556,3750685593),u(883997877,3785050280),u(958139571,3318307427),u(1322822218,3812723403),u(1537002063,2003034995),u(1747873779,3602036899),u(1955562222,1575990012),u(2024104815,1125592928),u(2227730452,2716904306),u(2361852424,442776044),u(2428436474,593698344),u(2756734187,3733110249),u(3204031479,2999351573),u(3329325298,3815920427),u(3391569614,3928383900),u(3515267271,566280711),u(3940187606,3454069534),u(4118630271,4000239992),u(116418474,1914138554),u(174292421,2731055270),u(289380356,3203993006),u(460393269,320620315),u(685471733,587496836),u(852142971,1086792851),u(1017036298,365543100),u(1126000580,2618297676),u(1288033470,3409855158),u(1501505948,4234509866),u(1607167915,987167468),u(1816402316,1246189591)],d=[];(function(){for(var p=0;p<80;p++)d[p]=u()})();var h=l.SHA512=a.extend({_doReset:function(){this._hash=new c.init([new o.init(1779033703,4089235720),new o.init(3144134277,2227873595),new o.init(1013904242,4271175723),new o.init(2773480762,1595750129),new o.init(1359893119,2917565137),new o.init(2600822924,725511199),new o.init(528734635,4215389547),new o.init(1541459225,327033209)])},_doProcessBlock:function(p,m){for(var g=this._hash.words,v=g[0],y=g[1],x=g[2],E=g[3],S=g[4],b=g[5],T=g[6],R=g[7],I=v.high,w=v.low,C=y.high,L=y.low,H=x.high,N=x.low,P=E.high,B=E.low,V=S.high,M=S.low,U=b.high,W=b.low,k=T.high,O=T.low,F=R.high,D=R.low,Q=I,ee=w,fe=C,se=L,tt=H,Mt=N,Nr=P,cn=B,Tt=V,wt=M,wa=U,Ss=W,Yo=k,qo=O,Xo=F,ui=D,Ft=0;Ft<80;Ft++){var Ct,fi,Qo=d[Ft];if(Ft<16)fi=Qo.high=p[m+Ft*2]|0,Ct=Qo.low=p[m+Ft*2+1]|0;else{var vd=d[Ft-15],Fi=vd.high,Ts=vd.low,Rc=(Fi>>>1|Ts<<31)^(Fi>>>8|Ts<<24)^Fi>>>7,Zo=(Ts>>>1|Fi<<31)^(Ts>>>8|Fi<<24)^(Ts>>>7|Fi<<25),Cn=d[Ft-2],un=Cn.high,Ra=Cn.low,yd=(un>>>19|Ra<<13)^(un<<3|Ra>>>29)^un>>>6,Ag=(Ra>>>19|un<<13)^(Ra<<3|un>>>29)^(Ra>>>6|un<<26),Bi=d[Ft-7],U_=Bi.high,j_=Bi.low,Rt=d[Ft-16],ws=Rt.high,Ig=Rt.low;Ct=Zo+j_,fi=Rc+U_+(Ct>>>0<Zo>>>0?1:0),Ct=Ct+Ag,fi=fi+yd+(Ct>>>0<Ag>>>0?1:0),Ct=Ct+Ig,fi=fi+ws+(Ct>>>0<Ig>>>0?1:0),Qo.high=fi,Qo.low=Ct}var $g=Tt&wa^~Tt&Yo,Ac=wt&Ss^~wt&qo,Cg=Q&fe^Q&tt^fe&tt,kg=ee&se^ee&Mt^se&Mt,H_=(Q>>>28|ee<<4)^(Q<<30|ee>>>2)^(Q<<25|ee>>>7),Jo=(ee>>>28|Q<<4)^(ee<<30|Q>>>2)^(ee<<25|Q>>>7),xd=(Tt>>>14|wt<<18)^(Tt>>>18|wt<<14)^(Tt<<23|wt>>>9),G_=(wt>>>14|Tt<<18)^(wt>>>18|Tt<<14)^(wt<<23|Tt>>>9),Ui=f[Ft],Ed=Ui.high,_d=Ui.low,lr=ui+G_,ji=Xo+xd+(lr>>>0<ui>>>0?1:0),lr=lr+Ac,ji=ji+$g+(lr>>>0<Ac>>>0?1:0),lr=lr+_d,ji=ji+Ed+(lr>>>0<_d>>>0?1:0),lr=lr+Ct,ji=ji+fi+(lr>>>0<Ct>>>0?1:0),el=Jo+kg,di=H_+Cg+(el>>>0<Jo>>>0?1:0);Xo=Yo,ui=qo,Yo=wa,qo=Ss,wa=Tt,Ss=wt,wt=cn+lr|0,Tt=Nr+ji+(wt>>>0<cn>>>0?1:0)|0,Nr=tt,cn=Mt,tt=fe,Mt=se,fe=Q,se=ee,ee=lr+el|0,Q=ji+di+(ee>>>0<lr>>>0?1:0)|0}w=v.low=w+ee,v.high=I+Q+(w>>>0<ee>>>0?1:0),L=y.low=L+se,y.high=C+fe+(L>>>0<se>>>0?1:0),N=x.low=N+Mt,x.high=H+tt+(N>>>0<Mt>>>0?1:0),B=E.low=B+cn,E.high=P+Nr+(B>>>0<cn>>>0?1:0),M=S.low=M+wt,S.high=V+Tt+(M>>>0<wt>>>0?1:0),W=b.low=W+Ss,b.high=U+wa+(W>>>0<Ss>>>0?1:0),O=T.low=O+qo,T.high=k+Yo+(O>>>0<qo>>>0?1:0),D=R.low=D+ui,R.high=F+Xo+(D>>>0<ui>>>0?1:0)},_doFinalize:function(){var p=this._data,m=p.words,g=this._nDataBytes*8,v=p.sigBytes*8;m[v>>>5]|=128<<24-v%32,m[(v+128>>>10<<5)+30]=Math.floor(g/4294967296),m[(v+128>>>10<<5)+31]=g,p.sigBytes=m.length*4,this._process();var y=this._hash.toX32();return y},clone:function(){var p=a.clone.call(this);return p._hash=this._hash.clone(),p},blockSize:1024/32});n.SHA512=a._createHelper(h),n.HmacSHA512=a._createHmacHelper(h)}(),r.SHA512})}(pdt)),ix}var ax={},gdt={get exports(){return ax},set exports(t){ax=t}},i9;function mdt(){return i9||(i9=1,function(t,e){(function(r,n,i){t.exports=n(Me(),B_(),Eee())})(ge,function(r){return function(){var n=r,i=n.x64,a=i.Word,s=i.WordArray,o=n.algo,c=o.SHA512,l=o.SHA384=c.extend({_doReset:function(){this._hash=new s.init([new a.init(3418070365,3238371032),new a.init(1654270250,914150663),new a.init(2438529370,812702999),new a.init(355462360,4144912697),new a.init(1731405415,4290775857),new a.init(2394180231,1750603025),new a.init(3675008525,1694076839),new a.init(1203062813,3204075428)])},_doFinalize:function(){var u=c._doFinalize.call(this);return u.sigBytes-=16,u}});n.SHA384=c._createHelper(l),n.HmacSHA384=c._createHmacHelper(l)}(),r.SHA384})}(gdt)),ax}var sx={},vdt={get exports(){return sx},set exports(t){sx=t}},a9;function ydt(){return a9||(a9=1,function(t,e){(function(r,n,i){t.exports=n(Me(),B_())})(ge,function(r){return function(n){var i=r,a=i.lib,s=a.WordArray,o=a.Hasher,c=i.x64,l=c.Word,u=i.algo,f=[],d=[],h=[];(function(){for(var g=1,v=0,y=0;y<24;y++){f[g+5*v]=(y+1)*(y+2)/2%64;var x=v%5,E=(2*g+3*v)%5;g=x,v=E}for(var g=0;g<5;g++)for(var v=0;v<5;v++)d[g+5*v]=v+(2*g+3*v)%5*5;for(var S=1,b=0;b<24;b++){for(var T=0,R=0,I=0;I<7;I++){if(S&1){var w=(1<<I)-1;w<32?R^=1<<w:T^=1<<w-32}S&128?S=S<<1^113:S<<=1}h[b]=l.create(T,R)}})();var p=[];(function(){for(var g=0;g<25;g++)p[g]=l.create()})();var m=u.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var g=this._state=[],v=0;v<25;v++)g[v]=new l.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(g,v){for(var y=this._state,x=this.blockSize/2,E=0;E<x;E++){var S=g[v+2*E],b=g[v+2*E+1];S=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,b=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360;var T=y[E];T.high^=b,T.low^=S}for(var R=0;R<24;R++){for(var I=0;I<5;I++){for(var w=0,C=0,L=0;L<5;L++){var T=y[I+5*L];w^=T.high,C^=T.low}var H=p[I];H.high=w,H.low=C}for(var I=0;I<5;I++)for(var N=p[(I+4)%5],P=p[(I+1)%5],B=P.high,V=P.low,w=N.high^(B<<1|V>>>31),C=N.low^(V<<1|B>>>31),L=0;L<5;L++){var T=y[I+5*L];T.high^=w,T.low^=C}for(var M=1;M<25;M++){var w,C,T=y[M],U=T.high,W=T.low,k=f[M];k<32?(w=U<<k|W>>>32-k,C=W<<k|U>>>32-k):(w=W<<k-32|U>>>64-k,C=U<<k-32|W>>>64-k);var O=p[d[M]];O.high=w,O.low=C}var F=p[0],D=y[0];F.high=D.high,F.low=D.low;for(var I=0;I<5;I++)for(var L=0;L<5;L++){var M=I+5*L,T=y[M],Q=p[M],ee=p[(I+1)%5+5*L],fe=p[(I+2)%5+5*L];T.high=Q.high^~ee.high&fe.high,T.low=Q.low^~ee.low&fe.low}var T=y[0],se=h[R];T.high^=se.high,T.low^=se.low}},_doFinalize:function(){var g=this._data,v=g.words;this._nDataBytes*8;var y=g.sigBytes*8,x=this.blockSize*32;v[y>>>5]|=1<<24-y%32,v[(n.ceil((y+1)/x)*x>>>5)-1]|=128,g.sigBytes=v.length*4,this._process();for(var E=this._state,S=this.cfg.outputLength/8,b=S/8,T=[],R=0;R<b;R++){var I=E[R],w=I.high,C=I.low;w=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,C=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,T.push(C),T.push(w)}return new s.init(T,S)},clone:function(){for(var g=o.clone.call(this),v=g._state=this._state.slice(0),y=0;y<25;y++)v[y]=v[y].clone();return g}});i.SHA3=o._createHelper(m),i.HmacSHA3=o._createHmacHelper(m)}(Math),r.SHA3})}(vdt)),sx}var ox={},xdt={get exports(){return ox},set exports(t){ox=t}},s9;function Edt(){return s9||(s9=1,function(t,e){(function(r,n){t.exports=n(Me())})(ge,function(r){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(n){var i=r,a=i.lib,s=a.WordArray,o=a.Hasher,c=i.algo,l=s.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=s.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),f=s.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),d=s.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=s.create([0,1518500249,1859775393,2400959708,2840853838]),p=s.create([1352829926,1548603684,1836072691,2053994217,0]),m=c.RIPEMD160=o.extend({_doReset:function(){this._hash=s.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(b,T){for(var R=0;R<16;R++){var I=T+R,w=b[I];b[I]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360}var C=this._hash.words,L=h.words,H=p.words,N=l.words,P=u.words,B=f.words,V=d.words,M,U,W,k,O,F,D,Q,ee,fe;F=M=C[0],D=U=C[1],Q=W=C[2],ee=k=C[3],fe=O=C[4];for(var se,R=0;R<80;R+=1)se=M+b[T+N[R]]|0,R<16?se+=g(U,W,k)+L[0]:R<32?se+=v(U,W,k)+L[1]:R<48?se+=y(U,W,k)+L[2]:R<64?se+=x(U,W,k)+L[3]:se+=E(U,W,k)+L[4],se=se|0,se=S(se,B[R]),se=se+O|0,M=O,O=k,k=S(W,10),W=U,U=se,se=F+b[T+P[R]]|0,R<16?se+=E(D,Q,ee)+H[0]:R<32?se+=x(D,Q,ee)+H[1]:R<48?se+=y(D,Q,ee)+H[2]:R<64?se+=v(D,Q,ee)+H[3]:se+=g(D,Q,ee)+H[4],se=se|0,se=S(se,V[R]),se=se+fe|0,F=fe,fe=ee,ee=S(Q,10),Q=D,D=se;se=C[1]+W+ee|0,C[1]=C[2]+k+fe|0,C[2]=C[3]+O+F|0,C[3]=C[4]+M+D|0,C[4]=C[0]+U+Q|0,C[0]=se},_doFinalize:function(){var b=this._data,T=b.words,R=this._nDataBytes*8,I=b.sigBytes*8;T[I>>>5]|=128<<24-I%32,T[(I+64>>>9<<4)+14]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,b.sigBytes=(T.length+1)*4,this._process();for(var w=this._hash,C=w.words,L=0;L<5;L++){var H=C[L];C[L]=(H<<8|H>>>24)&16711935|(H<<24|H>>>8)&4278255360}return w},clone:function(){var b=o.clone.call(this);return b._hash=this._hash.clone(),b}});function g(b,T,R){return b^T^R}function v(b,T,R){return b&T|~b&R}function y(b,T,R){return(b|~T)^R}function x(b,T,R){return b&R|T&~R}function E(b,T,R){return b^(T|~R)}function S(b,T){return b<<T|b>>>32-T}i.RIPEMD160=o._createHelper(m),i.HmacRIPEMD160=o._createHmacHelper(m)}(),r.RIPEMD160})}(xdt)),ox}var lx={},_dt={get exports(){return lx},set exports(t){lx=t}},o9;function wL(){return o9||(o9=1,function(t,e){(function(r,n){t.exports=n(Me())})(ge,function(r){(function(){var n=r,i=n.lib,a=i.Base,s=n.enc,o=s.Utf8,c=n.algo;c.HMAC=a.extend({init:function(l,u){l=this._hasher=new l.init,typeof u=="string"&&(u=o.parse(u));var f=l.blockSize,d=f*4;u.sigBytes>d&&(u=l.finalize(u)),u.clamp();for(var h=this._oKey=u.clone(),p=this._iKey=u.clone(),m=h.words,g=p.words,v=0;v<f;v++)m[v]^=1549556828,g[v]^=909522486;h.sigBytes=p.sigBytes=d,this.reset()},reset:function(){var l=this._hasher;l.reset(),l.update(this._iKey)},update:function(l){return this._hasher.update(l),this},finalize:function(l){var u=this._hasher,f=u.finalize(l);u.reset();var d=u.finalize(this._oKey.clone().concat(f));return d}})})()})}(_dt)),lx}var cx={},bdt={get exports(){return cx},set exports(t){cx=t}},l9;function Sdt(){return l9||(l9=1,function(t,e){(function(r,n,i){t.exports=n(Me(),TL(),wL())})(ge,function(r){return function(){var n=r,i=n.lib,a=i.Base,s=i.WordArray,o=n.algo,c=o.SHA1,l=o.HMAC,u=o.PBKDF2=a.extend({cfg:a.extend({keySize:128/32,hasher:c,iterations:1}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(f,d){for(var h=this.cfg,p=l.create(h.hasher,f),m=s.create(),g=s.create([1]),v=m.words,y=g.words,x=h.keySize,E=h.iterations;v.length<x;){var S=p.update(d).finalize(g);p.reset();for(var b=S.words,T=b.length,R=S,I=1;I<E;I++){R=p.finalize(R),p.reset();for(var w=R.words,C=0;C<T;C++)b[C]^=w[C]}m.concat(S),y[0]++}return m.sigBytes=x*4,m}});n.PBKDF2=function(f,d,h){return u.create(h).compute(f,d)}}(),r.PBKDF2})}(bdt)),cx}var ux={},Tdt={get exports(){return ux},set exports(t){ux=t}},c9;function wc(){return c9||(c9=1,function(t,e){(function(r,n,i){t.exports=n(Me(),TL(),wL())})(ge,function(r){return function(){var n=r,i=n.lib,a=i.Base,s=i.WordArray,o=n.algo,c=o.MD5,l=o.EvpKDF=a.extend({cfg:a.extend({keySize:128/32,hasher:c,iterations:1}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,f){for(var d,h=this.cfg,p=h.hasher.create(),m=s.create(),g=m.words,v=h.keySize,y=h.iterations;g.length<v;){d&&p.update(d),d=p.update(u).finalize(f),p.reset();for(var x=1;x<y;x++)d=p.finalize(d),p.reset();m.concat(d)}return m.sigBytes=v*4,m}});n.EvpKDF=function(u,f,d){return l.create(d).compute(u,f)}}(),r.EvpKDF})}(Tdt)),ux}var fx={},wdt={get exports(){return fx},set exports(t){fx=t}},u9;function or(){return u9||(u9=1,function(t,e){(function(r,n,i){t.exports=n(Me(),wc())})(ge,function(r){r.lib.Cipher||function(n){var i=r,a=i.lib,s=a.Base,o=a.WordArray,c=a.BufferedBlockAlgorithm,l=i.enc;l.Utf8;var u=l.Base64,f=i.algo,d=f.EvpKDF,h=a.Cipher=c.extend({cfg:s.extend(),createEncryptor:function(w,C){return this.create(this._ENC_XFORM_MODE,w,C)},createDecryptor:function(w,C){return this.create(this._DEC_XFORM_MODE,w,C)},init:function(w,C,L){this.cfg=this.cfg.extend(L),this._xformMode=w,this._key=C,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(w){return this._append(w),this._process()},finalize:function(w){w&&this._append(w);var C=this._doFinalize();return C},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function w(C){return typeof C=="string"?I:b}return function(C){return{encrypt:function(L,H,N){return w(H).encrypt(C,L,H,N)},decrypt:function(L,H,N){return w(H).decrypt(C,L,H,N)}}}}()});a.StreamCipher=h.extend({_doFinalize:function(){var w=this._process(!0);return w},blockSize:1});var p=i.mode={},m=a.BlockCipherMode=s.extend({createEncryptor:function(w,C){return this.Encryptor.create(w,C)},createDecryptor:function(w,C){return this.Decryptor.create(w,C)},init:function(w,C){this._cipher=w,this._iv=C}}),g=p.CBC=function(){var w=m.extend();w.Encryptor=w.extend({processBlock:function(L,H){var N=this._cipher,P=N.blockSize;C.call(this,L,H,P),N.encryptBlock(L,H),this._prevBlock=L.slice(H,H+P)}}),w.Decryptor=w.extend({processBlock:function(L,H){var N=this._cipher,P=N.blockSize,B=L.slice(H,H+P);N.decryptBlock(L,H),C.call(this,L,H,P),this._prevBlock=B}});function C(L,H,N){var P,B=this._iv;B?(P=B,this._iv=n):P=this._prevBlock;for(var V=0;V<N;V++)L[H+V]^=P[V]}return w}(),v=i.pad={},y=v.Pkcs7={pad:function(w,C){for(var L=C*4,H=L-w.sigBytes%L,N=H<<24|H<<16|H<<8|H,P=[],B=0;B<H;B+=4)P.push(N);var V=o.create(P,H);w.concat(V)},unpad:function(w){var C=w.words[w.sigBytes-1>>>2]&255;w.sigBytes-=C}};a.BlockCipher=h.extend({cfg:h.cfg.extend({mode:g,padding:y}),reset:function(){var w;h.reset.call(this);var C=this.cfg,L=C.iv,H=C.mode;this._xformMode==this._ENC_XFORM_MODE?w=H.createEncryptor:(w=H.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==w?this._mode.init(this,L&&L.words):(this._mode=w.call(H,this,L&&L.words),this._mode.__creator=w)},_doProcessBlock:function(w,C){this._mode.processBlock(w,C)},_doFinalize:function(){var w,C=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(C.pad(this._data,this.blockSize),w=this._process(!0)):(w=this._process(!0),C.unpad(w)),w},blockSize:128/32});var x=a.CipherParams=s.extend({init:function(w){this.mixIn(w)},toString:function(w){return(w||this.formatter).stringify(this)}}),E=i.format={},S=E.OpenSSL={stringify:function(w){var C,L=w.ciphertext,H=w.salt;return H?C=o.create([1398893684,1701076831]).concat(H).concat(L):C=L,C.toString(u)},parse:function(w){var C,L=u.parse(w),H=L.words;return H[0]==1398893684&&H[1]==1701076831&&(C=o.create(H.slice(2,4)),H.splice(0,4),L.sigBytes-=16),x.create({ciphertext:L,salt:C})}},b=a.SerializableCipher=s.extend({cfg:s.extend({format:S}),encrypt:function(w,C,L,H){H=this.cfg.extend(H);var N=w.createEncryptor(L,H),P=N.finalize(C),B=N.cfg;return x.create({ciphertext:P,key:L,iv:B.iv,algorithm:w,mode:B.mode,padding:B.padding,blockSize:w.blockSize,formatter:H.format})},decrypt:function(w,C,L,H){H=this.cfg.extend(H),C=this._parse(C,H.format);var N=w.createDecryptor(L,H).finalize(C.ciphertext);return N},_parse:function(w,C){return typeof w=="string"?C.parse(w,this):w}}),T=i.kdf={},R=T.OpenSSL={execute:function(w,C,L,H){H||(H=o.random(64/8));var N=d.create({keySize:C+L}).compute(w,H),P=o.create(N.words.slice(C),L*4);return N.sigBytes=C*4,x.create({key:N,iv:P,salt:H})}},I=a.PasswordBasedCipher=b.extend({cfg:b.cfg.extend({kdf:R}),encrypt:function(w,C,L,H){H=this.cfg.extend(H);var N=H.kdf.execute(L,w.keySize,w.ivSize);H.iv=N.iv;var P=b.encrypt.call(this,w,C,N.key,H);return P.mixIn(N),P},decrypt:function(w,C,L,H){H=this.cfg.extend(H),C=this._parse(C,H.format);var N=H.kdf.execute(L,w.keySize,w.ivSize,C.salt);H.iv=N.iv;var P=b.decrypt.call(this,w,C,N.key,H);return P}})}()})}(wdt)),fx}var dx={},Rdt={get exports(){return dx},set exports(t){dx=t}},f9;function Adt(){return f9||(f9=1,function(t,e){(function(r,n,i){t.exports=n(Me(),or())})(ge,function(r){return r.mode.CFB=function(){var n=r.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(a,s){var o=this._cipher,c=o.blockSize;i.call(this,a,s,c,o),this._prevBlock=a.slice(s,s+c)}}),n.Decryptor=n.extend({processBlock:function(a,s){var o=this._cipher,c=o.blockSize,l=a.slice(s,s+c);i.call(this,a,s,c,o),this._prevBlock=l}});function i(a,s,o,c){var l,u=this._iv;u?(l=u.slice(0),this._iv=void 0):l=this._prevBlock,c.encryptBlock(l,0);for(var f=0;f<o;f++)a[s+f]^=l[f]}return n}(),r.mode.CFB})}(Rdt)),dx}var hx={},Idt={get exports(){return hx},set exports(t){hx=t}},d9;function $dt(){return d9||(d9=1,function(t,e){(function(r,n,i){t.exports=n(Me(),or())})(ge,function(r){return r.mode.CTR=function(){var n=r.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(a,s){var o=this._cipher,c=o.blockSize,l=this._iv,u=this._counter;l&&(u=this._counter=l.slice(0),this._iv=void 0);var f=u.slice(0);o.encryptBlock(f,0),u[c-1]=u[c-1]+1|0;for(var d=0;d<c;d++)a[s+d]^=f[d]}});return n.Decryptor=i,n}(),r.mode.CTR})}(Idt)),hx}var px={},Cdt={get exports(){return px},set exports(t){px=t}},h9;function kdt(){return h9||(h9=1,function(t,e){(function(r,n,i){t.exports=n(Me(),or())})(ge,function(r){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return r.mode.CTRGladman=function(){var n=r.lib.BlockCipherMode.extend();function i(o){if((o>>24&255)===255){var c=o>>16&255,l=o>>8&255,u=o&255;c===255?(c=0,l===255?(l=0,u===255?u=0:++u):++l):++c,o=0,o+=c<<16,o+=l<<8,o+=u}else o+=1<<24;return o}function a(o){return(o[0]=i(o[0]))===0&&(o[1]=i(o[1])),o}var s=n.Encryptor=n.extend({processBlock:function(o,c){var l=this._cipher,u=l.blockSize,f=this._iv,d=this._counter;f&&(d=this._counter=f.slice(0),this._iv=void 0),a(d);var h=d.slice(0);l.encryptBlock(h,0);for(var p=0;p<u;p++)o[c+p]^=h[p]}});return n.Decryptor=s,n}(),r.mode.CTRGladman})}(Cdt)),px}var gx={},Odt={get exports(){return gx},set exports(t){gx=t}},p9;function Ldt(){return p9||(p9=1,function(t,e){(function(r,n,i){t.exports=n(Me(),or())})(ge,function(r){return r.mode.OFB=function(){var n=r.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(a,s){var o=this._cipher,c=o.blockSize,l=this._iv,u=this._keystream;l&&(u=this._keystream=l.slice(0),this._iv=void 0),o.encryptBlock(u,0);for(var f=0;f<c;f++)a[s+f]^=u[f]}});return n.Decryptor=i,n}(),r.mode.OFB})}(Odt)),gx}var mx={},Pdt={get exports(){return mx},set exports(t){mx=t}},g9;function Ndt(){return g9||(g9=1,function(t,e){(function(r,n,i){t.exports=n(Me(),or())})(ge,function(r){return r.mode.ECB=function(){var n=r.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(i,a){this._cipher.encryptBlock(i,a)}}),n.Decryptor=n.extend({processBlock:function(i,a){this._cipher.decryptBlock(i,a)}}),n}(),r.mode.ECB})}(Pdt)),mx}var vx={},Ddt={get exports(){return vx},set exports(t){vx=t}},m9;function Mdt(){return m9||(m9=1,function(t,e){(function(r,n,i){t.exports=n(Me(),or())})(ge,function(r){return r.pad.AnsiX923={pad:function(n,i){var a=n.sigBytes,s=i*4,o=s-a%s,c=a+o-1;n.clamp(),n.words[c>>>2]|=o<<24-c%4*8,n.sigBytes+=o},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},r.pad.Ansix923})}(Ddt)),vx}var yx={},Fdt={get exports(){return yx},set exports(t){yx=t}},v9;function Bdt(){return v9||(v9=1,function(t,e){(function(r,n,i){t.exports=n(Me(),or())})(ge,function(r){return r.pad.Iso10126={pad:function(n,i){var a=i*4,s=a-n.sigBytes%a;n.concat(r.lib.WordArray.random(s-1)).concat(r.lib.WordArray.create([s<<24],1))},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},r.pad.Iso10126})}(Fdt)),yx}var xx={},Udt={get exports(){return xx},set exports(t){xx=t}},y9;function jdt(){return y9||(y9=1,function(t,e){(function(r,n,i){t.exports=n(Me(),or())})(ge,function(r){return r.pad.Iso97971={pad:function(n,i){n.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(n,i)},unpad:function(n){r.pad.ZeroPadding.unpad(n),n.sigBytes--}},r.pad.Iso97971})}(Udt)),xx}var Ex={},Hdt={get exports(){return Ex},set exports(t){Ex=t}},x9;function Gdt(){return x9||(x9=1,function(t,e){(function(r,n,i){t.exports=n(Me(),or())})(ge,function(r){return r.pad.ZeroPadding={pad:function(n,i){var a=i*4;n.clamp(),n.sigBytes+=a-(n.sigBytes%a||a)},unpad:function(n){for(var i=n.words,a=n.sigBytes-1,a=n.sigBytes-1;a>=0;a--)if(i[a>>>2]>>>24-a%4*8&255){n.sigBytes=a+1;break}}},r.pad.ZeroPadding})}(Hdt)),Ex}var _x={},zdt={get exports(){return _x},set exports(t){_x=t}},E9;function Vdt(){return E9||(E9=1,function(t,e){(function(r,n,i){t.exports=n(Me(),or())})(ge,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})}(zdt)),_x}var bx={},Wdt={get exports(){return bx},set exports(t){bx=t}},_9;function Kdt(){return _9||(_9=1,function(t,e){(function(r,n,i){t.exports=n(Me(),or())})(ge,function(r){return function(n){var i=r,a=i.lib,s=a.CipherParams,o=i.enc,c=o.Hex,l=i.format;l.Hex={stringify:function(u){return u.ciphertext.toString(c)},parse:function(u){var f=c.parse(u);return s.create({ciphertext:f})}}}(),r.format.Hex})}(Wdt)),bx}var Sx={},Ydt={get exports(){return Sx},set exports(t){Sx=t}},b9;function qdt(){return b9||(b9=1,function(t,e){(function(r,n,i){t.exports=n(Me(),Tc(),md(),wc(),or())})(ge,function(r){return function(){var n=r,i=n.lib,a=i.BlockCipher,s=n.algo,o=[],c=[],l=[],u=[],f=[],d=[],h=[],p=[],m=[],g=[];(function(){for(var x=[],E=0;E<256;E++)E<128?x[E]=E<<1:x[E]=E<<1^283;for(var S=0,b=0,E=0;E<256;E++){var T=b^b<<1^b<<2^b<<3^b<<4;T=T>>>8^T&255^99,o[S]=T,c[T]=S;var R=x[S],I=x[R],w=x[I],C=x[T]*257^T*16843008;l[S]=C<<24|C>>>8,u[S]=C<<16|C>>>16,f[S]=C<<8|C>>>24,d[S]=C;var C=w*16843009^I*65537^R*257^S*16843008;h[T]=C<<24|C>>>8,p[T]=C<<16|C>>>16,m[T]=C<<8|C>>>24,g[T]=C,S?(S=R^x[x[x[w^R]]],b^=x[x[b]]):S=b=1}})();var v=[0,1,2,4,8,16,32,64,128,27,54],y=s.AES=a.extend({_doReset:function(){var x;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var E=this._keyPriorReset=this._key,S=E.words,b=E.sigBytes/4,T=this._nRounds=b+6,R=(T+1)*4,I=this._keySchedule=[],w=0;w<R;w++)w<b?I[w]=S[w]:(x=I[w-1],w%b?b>6&&w%b==4&&(x=o[x>>>24]<<24|o[x>>>16&255]<<16|o[x>>>8&255]<<8|o[x&255]):(x=x<<8|x>>>24,x=o[x>>>24]<<24|o[x>>>16&255]<<16|o[x>>>8&255]<<8|o[x&255],x^=v[w/b|0]<<24),I[w]=I[w-b]^x);for(var C=this._invKeySchedule=[],L=0;L<R;L++){var w=R-L;if(L%4)var x=I[w];else var x=I[w-4];L<4||w<=4?C[L]=x:C[L]=h[o[x>>>24]]^p[o[x>>>16&255]]^m[o[x>>>8&255]]^g[o[x&255]]}}},encryptBlock:function(x,E){this._doCryptBlock(x,E,this._keySchedule,l,u,f,d,o)},decryptBlock:function(x,E){var S=x[E+1];x[E+1]=x[E+3],x[E+3]=S,this._doCryptBlock(x,E,this._invKeySchedule,h,p,m,g,c);var S=x[E+1];x[E+1]=x[E+3],x[E+3]=S},_doCryptBlock:function(x,E,S,b,T,R,I,w){for(var C=this._nRounds,L=x[E]^S[0],H=x[E+1]^S[1],N=x[E+2]^S[2],P=x[E+3]^S[3],B=4,V=1;V<C;V++){var M=b[L>>>24]^T[H>>>16&255]^R[N>>>8&255]^I[P&255]^S[B++],U=b[H>>>24]^T[N>>>16&255]^R[P>>>8&255]^I[L&255]^S[B++],W=b[N>>>24]^T[P>>>16&255]^R[L>>>8&255]^I[H&255]^S[B++],k=b[P>>>24]^T[L>>>16&255]^R[H>>>8&255]^I[N&255]^S[B++];L=M,H=U,N=W,P=k}var M=(w[L>>>24]<<24|w[H>>>16&255]<<16|w[N>>>8&255]<<8|w[P&255])^S[B++],U=(w[H>>>24]<<24|w[N>>>16&255]<<16|w[P>>>8&255]<<8|w[L&255])^S[B++],W=(w[N>>>24]<<24|w[P>>>16&255]<<16|w[L>>>8&255]<<8|w[H&255])^S[B++],k=(w[P>>>24]<<24|w[L>>>16&255]<<16|w[H>>>8&255]<<8|w[N&255])^S[B++];x[E]=M,x[E+1]=U,x[E+2]=W,x[E+3]=k},keySize:256/32});n.AES=a._createHelper(y)}(),r.AES})}(Ydt)),Sx}var Tx={},Xdt={get exports(){return Tx},set exports(t){Tx=t}},S9;function Qdt(){return S9||(S9=1,function(t,e){(function(r,n,i){t.exports=n(Me(),Tc(),md(),wc(),or())})(ge,function(r){return function(){var n=r,i=n.lib,a=i.WordArray,s=i.BlockCipher,o=n.algo,c=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],f=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=o.DES=s.extend({_doReset:function(){for(var v=this._key,y=v.words,x=[],E=0;E<56;E++){var S=c[E]-1;x[E]=y[S>>>5]>>>31-S%32&1}for(var b=this._subKeys=[],T=0;T<16;T++){for(var R=b[T]=[],I=u[T],E=0;E<24;E++)R[E/6|0]|=x[(l[E]-1+I)%28]<<31-E%6,R[4+(E/6|0)]|=x[28+(l[E+24]-1+I)%28]<<31-E%6;R[0]=R[0]<<1|R[0]>>>31;for(var E=1;E<7;E++)R[E]=R[E]>>>(E-1)*4+3;R[7]=R[7]<<5|R[7]>>>27}for(var w=this._invSubKeys=[],E=0;E<16;E++)w[E]=b[15-E]},encryptBlock:function(v,y){this._doCryptBlock(v,y,this._subKeys)},decryptBlock:function(v,y){this._doCryptBlock(v,y,this._invSubKeys)},_doCryptBlock:function(v,y,x){this._lBlock=v[y],this._rBlock=v[y+1],p.call(this,4,252645135),p.call(this,16,65535),m.call(this,2,858993459),m.call(this,8,16711935),p.call(this,1,1431655765);for(var E=0;E<16;E++){for(var S=x[E],b=this._lBlock,T=this._rBlock,R=0,I=0;I<8;I++)R|=f[I][((T^S[I])&d[I])>>>0];this._lBlock=T,this._rBlock=b^R}var w=this._lBlock;this._lBlock=this._rBlock,this._rBlock=w,p.call(this,1,1431655765),m.call(this,8,16711935),m.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),v[y]=this._lBlock,v[y+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function p(v,y){var x=(this._lBlock>>>v^this._rBlock)&y;this._rBlock^=x,this._lBlock^=x<<v}function m(v,y){var x=(this._rBlock>>>v^this._lBlock)&y;this._lBlock^=x,this._rBlock^=x<<v}n.DES=s._createHelper(h);var g=o.TripleDES=s.extend({_doReset:function(){var v=this._key,y=v.words;if(y.length!==2&&y.length!==4&&y.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var x=y.slice(0,2),E=y.length<4?y.slice(0,2):y.slice(2,4),S=y.length<6?y.slice(0,2):y.slice(4,6);this._des1=h.createEncryptor(a.create(x)),this._des2=h.createEncryptor(a.create(E)),this._des3=h.createEncryptor(a.create(S))},encryptBlock:function(v,y){this._des1.encryptBlock(v,y),this._des2.decryptBlock(v,y),this._des3.encryptBlock(v,y)},decryptBlock:function(v,y){this._des3.decryptBlock(v,y),this._des2.encryptBlock(v,y),this._des1.decryptBlock(v,y)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=s._createHelper(g)}(),r.TripleDES})}(Xdt)),Tx}var wx={},Zdt={get exports(){return wx},set exports(t){wx=t}},T9;function Jdt(){return T9||(T9=1,function(t,e){(function(r,n,i){t.exports=n(Me(),Tc(),md(),wc(),or())})(ge,function(r){return function(){var n=r,i=n.lib,a=i.StreamCipher,s=n.algo,o=s.RC4=a.extend({_doReset:function(){for(var u=this._key,f=u.words,d=u.sigBytes,h=this._S=[],p=0;p<256;p++)h[p]=p;for(var p=0,m=0;p<256;p++){var g=p%d,v=f[g>>>2]>>>24-g%4*8&255;m=(m+h[p]+v)%256;var y=h[p];h[p]=h[m],h[m]=y}this._i=this._j=0},_doProcessBlock:function(u,f){u[f]^=c.call(this)},keySize:256/32,ivSize:0});function c(){for(var u=this._S,f=this._i,d=this._j,h=0,p=0;p<4;p++){f=(f+1)%256,d=(d+u[f])%256;var m=u[f];u[f]=u[d],u[d]=m,h|=u[(u[f]+u[d])%256]<<24-p*8}return this._i=f,this._j=d,h}n.RC4=a._createHelper(o);var l=s.RC4Drop=o.extend({cfg:o.cfg.extend({drop:192}),_doReset:function(){o._doReset.call(this);for(var u=this.cfg.drop;u>0;u--)c.call(this)}});n.RC4Drop=a._createHelper(l)}(),r.RC4})}(Zdt)),wx}var Rx={},eht={get exports(){return Rx},set exports(t){Rx=t}},w9;function tht(){return w9||(w9=1,function(t,e){(function(r,n,i){t.exports=n(Me(),Tc(),md(),wc(),or())})(ge,function(r){return function(){var n=r,i=n.lib,a=i.StreamCipher,s=n.algo,o=[],c=[],l=[],u=s.Rabbit=a.extend({_doReset:function(){for(var d=this._key.words,h=this.cfg.iv,p=0;p<4;p++)d[p]=(d[p]<<8|d[p]>>>24)&16711935|(d[p]<<24|d[p]>>>8)&4278255360;var m=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],g=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var p=0;p<4;p++)f.call(this);for(var p=0;p<8;p++)g[p]^=m[p+4&7];if(h){var v=h.words,y=v[0],x=v[1],E=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,S=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,b=E>>>16|S&4294901760,T=S<<16|E&65535;g[0]^=E,g[1]^=b,g[2]^=S,g[3]^=T,g[4]^=E,g[5]^=b,g[6]^=S,g[7]^=T;for(var p=0;p<4;p++)f.call(this)}},_doProcessBlock:function(d,h){var p=this._X;f.call(this),o[0]=p[0]^p[5]>>>16^p[3]<<16,o[1]=p[2]^p[7]>>>16^p[5]<<16,o[2]=p[4]^p[1]>>>16^p[7]<<16,o[3]=p[6]^p[3]>>>16^p[1]<<16;for(var m=0;m<4;m++)o[m]=(o[m]<<8|o[m]>>>24)&16711935|(o[m]<<24|o[m]>>>8)&4278255360,d[h+m]^=o[m]},blockSize:128/32,ivSize:64/32});function f(){for(var d=this._X,h=this._C,p=0;p<8;p++)c[p]=h[p];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<c[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<c[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<c[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<c[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<c[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<c[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<c[6]>>>0?1:0)|0,this._b=h[7]>>>0<c[7]>>>0?1:0;for(var p=0;p<8;p++){var m=d[p]+h[p],g=m&65535,v=m>>>16,y=((g*g>>>17)+g*v>>>15)+v*v,x=((m&4294901760)*m|0)+((m&65535)*m|0);l[p]=y^x}d[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,d[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,d[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,d[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,d[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,d[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,d[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,d[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}n.Rabbit=a._createHelper(u)}(),r.Rabbit})}(eht)),Rx}var Ax={},rht={get exports(){return Ax},set exports(t){Ax=t}},R9;function nht(){return R9||(R9=1,function(t,e){(function(r,n,i){t.exports=n(Me(),Tc(),md(),wc(),or())})(ge,function(r){return function(){var n=r,i=n.lib,a=i.StreamCipher,s=n.algo,o=[],c=[],l=[],u=s.RabbitLegacy=a.extend({_doReset:function(){var d=this._key.words,h=this.cfg.iv,p=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],m=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var g=0;g<4;g++)f.call(this);for(var g=0;g<8;g++)m[g]^=p[g+4&7];if(h){var v=h.words,y=v[0],x=v[1],E=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,S=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,b=E>>>16|S&4294901760,T=S<<16|E&65535;m[0]^=E,m[1]^=b,m[2]^=S,m[3]^=T,m[4]^=E,m[5]^=b,m[6]^=S,m[7]^=T;for(var g=0;g<4;g++)f.call(this)}},_doProcessBlock:function(d,h){var p=this._X;f.call(this),o[0]=p[0]^p[5]>>>16^p[3]<<16,o[1]=p[2]^p[7]>>>16^p[5]<<16,o[2]=p[4]^p[1]>>>16^p[7]<<16,o[3]=p[6]^p[3]>>>16^p[1]<<16;for(var m=0;m<4;m++)o[m]=(o[m]<<8|o[m]>>>24)&16711935|(o[m]<<24|o[m]>>>8)&4278255360,d[h+m]^=o[m]},blockSize:128/32,ivSize:64/32});function f(){for(var d=this._X,h=this._C,p=0;p<8;p++)c[p]=h[p];h[0]=h[0]+1295307597+this._b|0,h[1]=h[1]+3545052371+(h[0]>>>0<c[0]>>>0?1:0)|0,h[2]=h[2]+886263092+(h[1]>>>0<c[1]>>>0?1:0)|0,h[3]=h[3]+1295307597+(h[2]>>>0<c[2]>>>0?1:0)|0,h[4]=h[4]+3545052371+(h[3]>>>0<c[3]>>>0?1:0)|0,h[5]=h[5]+886263092+(h[4]>>>0<c[4]>>>0?1:0)|0,h[6]=h[6]+1295307597+(h[5]>>>0<c[5]>>>0?1:0)|0,h[7]=h[7]+3545052371+(h[6]>>>0<c[6]>>>0?1:0)|0,this._b=h[7]>>>0<c[7]>>>0?1:0;for(var p=0;p<8;p++){var m=d[p]+h[p],g=m&65535,v=m>>>16,y=((g*g>>>17)+g*v>>>15)+v*v,x=((m&4294901760)*m|0)+((m&65535)*m|0);l[p]=y^x}d[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,d[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,d[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,d[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,d[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,d[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,d[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,d[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}n.RabbitLegacy=a._createHelper(u)}(),r.RabbitLegacy})}(rht)),Ax}(function(t,e){(function(r,n,i){t.exports=n(Me(),B_(),ndt(),adt(),Tc(),ldt(),md(),TL(),xee(),hdt(),Eee(),mdt(),ydt(),Edt(),wL(),Sdt(),wc(),or(),Adt(),$dt(),kdt(),Ldt(),Ndt(),Mdt(),Bdt(),jdt(),Gdt(),Vdt(),Kdt(),qdt(),Qdt(),Jdt(),tht(),nht())})(ge,function(r){return r})})(Xft);const ou=OI,iht=D6e("0123456789abcdef",32),A9={"360p":yt.Q360P,"480p":yt.Q480P,"720p":yt.Q720P,"1080p":yt.Q1080P},aht=atob("d0VpcGhUbiE="),_ee=atob("MTIzZDZjZWRmNjI2ZHk1NDIzM2FhMXc2"),I9=[atob("aHR0cHM6Ly9zaG93Ym94LnNoZWd1Lm5ldC9hcGkvYXBpX2NsaWVudC9pbmRleC8="),atob("aHR0cHM6Ly9tYnBhcGkuc2hlZ3UubmV0L2FwaS9hcGlfY2xpZW50L2luZGV4Lw==")],$9=atob("bW92aWVib3g="),sht=atob("Y29tLnRkby5zaG93Ym94"),C9={encrypt(t){return ou.TripleDES.encrypt(t,ou.enc.Utf8.parse(_ee),{iv:ou.enc.Utf8.parse(aht)}).toString()},getVerify(t,e,r){return t?ou.MD5(ou.MD5(e).toString()+r+t).toString():null}},oht=()=>Math.floor(Date.now()/1e3+60*60*12),fh=(t,e=!1)=>{const r={childmode:"0",app_version:"11.5",appid:sht,lang:"en",expired_date:`${oht()}`,platform:"android",channel:"Website"},n=C9.encrypt(JSON.stringify({...r,...t})),i=ou.MD5($9).toString(),a=C9.getVerify(n,$9,_ee),s=JSON.stringify({app_key:i,verify:a,encrypt_data:n}),o=btoa(s),c=new URLSearchParams;c.append("data",o),c.append("appid","27"),c.append("platform","android"),c.append("version","129"),c.append("medium","Website");const l=e?I9[1]:I9[0];return et(l,{method:"POST",parseResponse:JSON.parse,headers:{Platform:"android","Content-Type":"application/x-www-form-urlencoded"},body:`${c.toString()}&token${iht()}`})},k9=t=>t.find(e=>e.quality==="1080p"&&e.path)??t.find(e=>e.quality==="720p"&&e.path)??t.find(e=>e.quality==="480p"&&e.path)??t.find(e=>e.quality==="360p"&&e.path),O9=t=>{let e=t.subtitles;if(e=e.map(n=>{if(!eO(n.file_path))return null;const a=$q(n.file_path);return{...n,type:a}}).filter(Boolean),e.length===0)return null;const r=e[0];return{needsProxy:!0,langIso:t.language,url:r.file_path,type:r.type}};nd({id:"superstream",displayName:"Superstream",rank:200,type:[ve.MOVIE,ve.SERIES],async scrape({media:t,episode:e,progress:r}){var h,p;const n={module:"Search3",page:"1",type:"all",keyword:t.meta.title,pagelimit:"20"},i=(await fh(n,!0)).data;r(33);const a=i.find(m=>Kk(m.title,t.meta.title)&&m.year===Number(t.meta.year));if(!a)throw new Error("No entry found on SuperStream");const s=a.id;if(t.meta.type===ve.MOVIE){const g=(await fh({uid:"",module:"Movie_downloadurl_v3",mid:s,oss:"1",group:""})).data;r(50);const v=k9(g.list);if(!v)throw new Error("No quality could be found.");const y={fid:v.fid,uid:"",module:"Movie_srt_list_v2",mid:s},E=(await fh(y)).data.list.map(O9).filter(Boolean);return{embeds:[],stream:{streamUrl:v.path,quality:A9[v.quality],type:nn.MP4,captions:E}}}if(t.meta.type!==ve.SERIES)throw new Error("Unsupported type");const o={uid:"",module:"TV_downloadurl_v3",tid:s,season:t.meta.seasonData.number.toString(),episode:(((h=t.meta.seasonData.episodes.find(m=>m.id===e))==null?void 0:h.number)??1).toString(),oss:"1",group:""},c=(await fh(o)).data;r(66);const l=k9(c.list);if(!l)throw new Error("No quality could be found.");const u={fid:l.fid,uid:"",module:"TV_srt_list_v2",episode:((p=t.meta.seasonData.episodes.find(m=>m.id===e))==null?void 0:p.number)??1,tid:s,season:t.meta.seasonData.number.toString()},d=(await fh(u)).data.list.map(O9).filter(Boolean);return{embeds:[],stream:{quality:A9[l.quality],streamUrl:l.path,type:nn.MP4,captions:d}}}});const gv="https://net-film.vercel.app",L9={360:yt.Q360P,540:yt.Q540P,480:yt.Q480P,720:yt.Q720P,1080:yt.Q1080P};nd({id:"netfilm",displayName:"NetFilm",rank:15,type:[ve.MOVIE,ve.SERIES],disabled:!0,async scrape({media:t,episode:e,progress:r}){var m;if(!this.type.includes(t.meta.type))throw new Error("Unsupported type");const i=(await et(`/api/search?keyword=${encodeURIComponent(t.meta.title)}`,{baseURL:gv})).data.results;if(r(25),t.meta.type===ve.MOVIE){const g=i.find(b=>b.name===t.meta.title&&b.releaseTime===t.meta.year);if(!g)throw new Error("No watchable item found");const v=g.id;r(75);const x=(await et(`/api/episode?id=${v}`,{baseURL:gv})).data,E=x.qualities.reduce((b,T)=>T.quality>b.quality?T:b),S=x.subtitles.map(b=>({needsProxy:!1,url:b.url.replace("https://convert-srt-to-vtt.vercel.app/?url=",""),type:ql.SRT,langIso:b.language}));return{embeds:[],stream:{streamUrl:E.url.replace("akm-cdn","aws-cdn").replace("gg-cdn","aws-cdn"),quality:L9[E.quality],type:nn.HLS,captions:S}}}if(t.meta.type!==ve.SERIES)throw new Error("Unsupported type");const a=t.meta.seasonData.number,o=i.filter(g=>g.name.includes(t.meta.title)).map(g=>({...g,season:parseInt(g.name.split(" ").at(-1),10)||1})).find(g=>g.season===a);r(50);const c=await et(`/api/detail?id=${o.id}&category=${o.categoryTag[0].id}`,{baseURL:gv}),l=(m=t.meta.seasonData.episodes.find(g=>g.id===e))==null?void 0:m.number,u=c.data.episodeVo.find(g=>g.seriesNo===l);r(75);const d=(await et(`/api/episode?id=${o.id}&category=1&episode=${u.id}`,{baseURL:gv})).data,h=d.qualities.reduce((g,v)=>v.quality>g.quality?v:g),p=d.subtitles.map(g=>({needsProxy:!1,url:g.url.replace("https://convert-srt-to-vtt.vercel.app/?url=",""),type:ql.SRT,langIso:g.language}));return{embeds:[],stream:{streamUrl:h.url.replace("akm-cdn","aws-cdn").replace("gg-cdn","aws-cdn"),quality:L9[h.quality],type:nn.HLS,captions:p}}}});var gp=(t=>(t.M4UFREE="m4ufree",t.STREAMM4U="streamm4u",t.PLAYM4U="playm4u",t))(gp||{});const lht="m4ufree.com",mp=`https://${lht}`,cht=`${mp}/search`,uht=`${mp}/ajax`,fht=`${mp}/ajaxtv`,dht=/(.*) \(?(\d*|\d*-|\d*-\d*)\)?$/,hht=/.*-(movie|tvshow)-online-free-m4ufree\.html/,pht=/XSRF-TOKEN=(.*?);.*laravel_session=(.*?);/,ght=/S(\d*)-E(\d*)/;function mv(t){return new DOMParser().parseFromString(t,"text/html")}nd({id:"m4ufree",displayName:"m4ufree",rank:-1,disabled:!0,type:[ve.MOVIE,ve.SERIES],async scrape({media:t,type:e,episode:r,season:n}){var v,y,x,E,S;const i=((y=(v=t.meta.seasons)==null?void 0:v.find(b=>b.id===n))==null?void 0:y.number)||1,a=t.meta.type===ve.SERIES?((x=t.meta.seasonData.episodes.find(b=>b.id===r))==null?void 0:x.number)||1:void 0,s=[],o=await et(`${cht}/${encodeURIComponent(t.meta.title)}.html`);let c=mv(o);const u=[...c.querySelectorAll(".item")].map(b=>{var N;const T=(N=b.querySelector(".tiptitle p"))==null?void 0:N.innerHTML;if(!T)return;let R=dht.exec(T);if(!R||!R[1]||!R[2])return;const I=R[1],w=Number(R[2].slice(0,4)),C=b.querySelector("a");if(!C)return;const L=C.href;if(R=hht.exec(L),!R||!R[1])return;let H=R[1];return H=H==="tvshow"?"show":"movie",{type:H,title:I,year:w,href:L}}).filter(b=>b).find(b=>b&&b.title===t.meta.title&&b.year.toString()===t.meta.year);if(!u)return{embeds:s};let f="";const d=await et(u.href,{onResponse(b){f=b.response.headers.get("X-Set-Cookie")}});c=mv(d);let h=pht.exec(f);if(!h||!h[1]||!h[2])throw new Error("No regexResults, yikesssssss kinda gross idk");const p=`XSRF-TOKEN=${h[1]}; laravel_session=${h[2]}`,m=(E=c.querySelector('meta[name="csrf-token"]'))==null?void 0:E.getAttribute("content");if(!m)return{embeds:s};if(e===ve.SERIES){const T=[...c.querySelectorAll(".episode")].map(w=>{if(h=ght.exec(w.innerHTML),!h||!h[1]||!h[2])return;const C=Number(h[1]),L=Number(h[2]);return{id:w.getAttribute("idepisode"),episode:C,season:L}}).filter(w=>w).find(w=>w&&w.episode===a&&w.season===i);if(!T)return{embeds:s};const R=`idepisode=${T.id}&_token=${m}`,I=await et(fht,{method:"POST",headers:{Accept:"*/*","Accept-Encoding":"gzip, deflate, br","Accept-Language":"en-US,en;q=0.9","Content-Type":"application/x-www-form-urlencoded;charset=UTF-8","X-Requested-With":"XMLHttpRequest","Sec-CH-UA":'"Not?A_Brand";v="8", "Chromium";v="108", "Microsoft Edge";v="108"',"Sec-CH-UA-Mobile":"?0","Sec-CH-UA-Platform":'"Linux"',"Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","X-Cookie":p,"X-Origin":mp,"X-Referer":u.href},body:R});c=mv(I)}const g=[...c.querySelectorAll(".singlemv")].map(b=>b.getAttribute("data"));for(const b of g){const T=`m4u=${b}&_token=${m}`,R=await et(uht,{method:"POST",headers:{Accept:"*/*","Accept-Encoding":"gzip, deflate, br","Accept-Language":"en-US,en;q=0.9","Content-Type":"application/x-www-form-urlencoded;charset=UTF-8","X-Requested-With":"XMLHttpRequest","Sec-CH-UA":'"Not?A_Brand";v="8", "Chromium";v="108", "Microsoft Edge";v="108"',"Sec-CH-UA-Mobile":"?0","Sec-CH-UA-Platform":'"Linux"',"Sec-Fetch-Site":"same-origin","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty","X-Cookie":p,"X-Origin":mp,"X-Referer":u.href},body:T}),w=(S=mv(R).querySelector("iframe"))==null?void 0:S.src,C=H=>H.startsWith("https://streamm4u.club")?gp.STREAMM4U:H.startsWith("https://play.playm4u.xyz")?gp.PLAYM4U:null;if(!w)continue;const L=C(w);L&&s.push({url:w,type:L})}return console.log(s),{embeds:s}}});const Ix="https://www.hdwatched.xyz",mht={360:yt.Q360P,540:yt.Q540P,480:yt.Q480P,720:yt.Q720P,1080:yt.Q1080P};function bee(t){const r=new DOMParser().parseFromString(t,"text/html").querySelector("#vjsplayer > source");if(!r)throw new Error("Unable to fetch stream");const n=r.getAttribute("src"),i=r.getAttribute("res");if(!n||!i)throw new Error("Unable to find stream");return{streamUrl:n,quality:i&&typeof+i=="number"?mht[+i]:yt.QUNKNOWN}}async function vht(t){const e=await et(`/embed/${t.id}`,{baseURL:Ix});if(!new DOMParser().parseFromString(e,"text/html").querySelector("#vjsplayer > source"))throw new Error("Unable to fetch movie stream");return bee(e)}async function yht(t,{media:e,episode:r,progress:n}){var p;if(e.meta.type!==ve.SERIES)throw new Error("Media type mismatch");const i=e.meta.seasonData.number,a=(p=e.meta.seasonData.episodes.find(m=>m.id===r))==null?void 0:p.number;if(!i||!a)throw new Error("Unable to get season or episode number");const s=await et(`${t.href}?season=${e.meta.seasonData.number}`,{baseURL:Ix}),c=new DOMParser().parseFromString(s,"text/html").querySelectorAll("div.i-container"),l=[];c.forEach(m=>{var y,x;const g=((y=m.querySelector("a"))==null?void 0:y.getAttribute("href"))||"",v=((x=m==null?void 0:m.querySelector("span.content-title"))==null?void 0:x.textContent)||"";l.push({title:v,href:g,id:g.split("/")[2]})});const u=l.find(m=>m.title.trim().toLowerCase()===`episode ${a}`);if(!u)throw new Error("Unable to find episode");n(70);const f=await et(`/embed/${u.id}`,{baseURL:Ix});if(!new DOMParser().parseFromString(f,"text/html").querySelector("#vjsplayer > source"))throw new Error("Unable to fetch movie stream");return bee(f)}nd({id:"hdwatched",displayName:"HDwatched",rank:150,type:[ve.MOVIE,ve.SERIES],async scrape(t){const{media:e,progress:r}=t;if(!e.imdbId)throw new Error("not enough info");if(!this.type.includes(e.meta.type))throw new Error("Unsupported type");const n=await et(`/search/${e.imdbId}`,{baseURL:Ix}),a=new DOMParser().parseFromString(n,"text/html").querySelectorAll("div.i-container"),s=[];a.forEach(l=>{var h,p,m,g,v,y;const u=((h=l.querySelector("a"))==null?void 0:h.getAttribute("href"))||"",f=((p=l==null?void 0:l.querySelector("span.content-title"))==null?void 0:p.textContent)||"",d=parseInt(((y=(v=(g=(m=l==null?void 0:l.querySelector("div.duration"))==null?void 0:m.textContent)==null?void 0:g.trim())==null?void 0:v.split(" "))==null?void 0:y.pop())||"",10)||0;s.push({title:f,year:d,href:u,id:u.split("/")[2]})}),r(20);const o=s.find(l=>l.year===(e.meta.year?+e.meta.year:0));if(!o)throw new Error("Could not find stream");if(r(40),e.meta.type===ve.SERIES){const l=await yht(o,t);return{embeds:[],stream:{streamUrl:l.streamUrl,quality:l.quality,type:nn.MP4,captions:[]}}}const c=await vht(o);return{embeds:[],stream:{streamUrl:c.streamUrl,quality:c.quality,type:nn.MP4,captions:[]}}}});var xht=Tc();const Eht=$x(xht);var LI={},_ht={get exports(){return LI},set exports(t){LI=t}};(function(t,e){(function(r,n){t.exports=n(Me())})(ge,function(r){return r.enc.Utf8})})(_ht);const bht=LI,Ul="https://www.2embed.to";async function Sht(t){var l;const e=Eht.stringify(bht.parse(Ul)).replace(/=/g,"."),r=await et(`https://www.google.com/recaptcha/api.js?render=${t}`),n=r.substring(r.indexOf("/releases/")+10,r.indexOf("/recaptcha__en.js")),i=await et(`https://www.google.com/recaptcha/api2/anchor?ar=1&hl=en&size=invisible&cb=flicklax&k=${t}&co=${e}&v=${n}`),a=(l=new DOMParser().parseFromString(i,"text/html").getElementById("recaptcha-token"))==null?void 0:l.getAttribute("value");if(!a)throw new Error("Unable to find cToken");const s={v:n,reason:"q",k:t,c:a,sa:"",co:Ul},c=(await et(`https://www.google.com/recaptcha/api2/reload?${new URLSearchParams(s).toString()}`,{headers:{referer:"https://www.google.com/recaptcha/api2/"},method:"POST"})).match('rresp","(.+?)"');return c?c[1]:null}async function Tht(t,e){var E,S,b,T;const r=await et(`${Ul}/ajax/embed/play?id=${t}&_token=${e}`,{headers:{Referer:Ul}}),n=new URL(r.link),i=n.pathname.split("/"),a=i[i.length-1],s=await et(`${n.origin}/embed/m-download/${a}`,{headers:{referer:Ul}}),o=new DOMParser().parseFromString(s,"text/html"),c=Array.from(o.querySelectorAll(".dls-brand")).find(R=>{var I;return((I=R.textContent)==null?void 0:I.trim())==="Streamlare"});if(!c)throw new Error("Unable to find streamlare element");const l=(S=(E=c.nextElementSibling)==null?void 0:E.querySelector("a"))==null?void 0:S.href;if(!l)throw new Error("Unable to parse streamlare url");const u=[];o.querySelectorAll("#user_menu .dropdown-item").forEach(R=>{var C;const I=R.getAttribute("href"),w=(C=R.textContent)==null?void 0:C.trim().replace("Download","").trim();I&&w&&u.push({url:I,lang:w})});const d=await et(l),p=(b=new DOMParser().parseFromString(d,"text/html").querySelector("head > meta:nth-child(3)"))==null?void 0:b.getAttribute("content");if(!p)throw new Error("Unable to find CSRF token");const m=(T=l.match("/[ve]/([^?#&/]+)"))==null?void 0:T[1];if(!m)throw new Error("Unable to get streamlare video id");const g=await et(`${new URL(l).origin}/api/video/download/get`,{method:"POST",body:JSON.stringify({id:m}),headers:{"X-Requested-With":"XMLHttpRequest","X-CSRF-Token":p}});if(g.message!=="OK")throw new Error("Unable to fetch stream");const v=Array.isArray(g.result)?g.result[0]:g.result.Original;if(!v)throw new Error("Unable to get stream data");return{url:(await kFe(v.url,{method:"HEAD",referrer:new URL(l).origin})).headers.get("X-Final-Destination"),subtitles:u}}nd({id:"2embed",displayName:"2Embed",rank:125,type:[ve.MOVIE,ve.SERIES],async scrape({media:t,episode:e,progress:r}){var d,h;let n=`${Ul}/embed/tmdb/movie?id=${t.tmdbId}`;if(t.meta.type===ve.SERIES){const p=t.meta.seasonData.number,m=(d=t.meta.seasonData.episodes.find(g=>g.id===e))==null?void 0:d.number;n=`${Ul}/embed/tmdb/tv?id=${t.tmdbId}&s=${p}&e=${m}`}const i=await et(n);r(20);const a=new DOMParser().parseFromString(i,"text/html"),o=Array.from(a.querySelectorAll(".item-server")).find(p=>{var m;return(m=p.textContent)==null?void 0:m.includes("Vidcloud")}),c=o?o.getAttribute("data-id"):null;if(!c)throw new Error("Unable to get source id");const l=(h=a.querySelector("body"))==null?void 0:h.getAttribute("data-recaptcha-key");if(!l)throw new Error("Unable to get site key");const u=await Sht(l);if(!u)throw new Error("Unable to fetch captcha token");r(35);const f=await Tht(c,u);if(!f.url)throw new Error("Unable to find stream url");return{embeds:[],stream:{streamUrl:f.url,quality:yt.QUNKNOWN,type:nn.MP4,captions:f.subtitles.map(p=>({langIso:p.lang,url:`https://cc.2cdns.com${new URL(p.url).pathname}`,type:ql.VTT}))}}}});const See="streamm4u.club",wht=`https://${See}`,Rht=`${wht}/api`,P9=`${Rht}/source`;async function Aht(t){const e=[],r=t.split("/").pop();console.log(`${P9}/${r}`);const n=await et(`${P9}/${r}`,{method:"POST",body:`r=&d=${See}`});if(n.success){const i=n.data;for(const a of i)e.push({embedId:"",streamUrl:a.file,quality:a.label,type:a.type,captions:[]})}return e}fq({id:"streamm4u",displayName:"streamm4u",for:gp.STREAMM4U,rank:100,async getStream({progress:t,url:e}){const n=(await Aht(e)).sort((i,a)=>Number(a.quality.replace("p",""))-Number(i.quality.replace("p","")))[0];if(!n)throw new Error("No source found");return t(100),n}});fq({id:"playm4u",displayName:"playm4u",for:gp.PLAYM4U,rank:0,async getStream(){return{embedId:"",streamUrl:"",quality:yt.Q1080P,captions:[],type:nn.MP4}}});I6e();var M9;const N9=((M9=window==null?void 0:window.__CONFIG__)==null?void 0:M9.VITE_KEY)??{}.VITE_KEY??null;N9&&window.initMW(Cr().PROXY_URLS,N9);jje();j8e({immediate:!0});const Iht=le.lazy(async()=>(await BMe(),{default:ult}));function $ht(t){return Cr().NORMAL_ROUTER?_(P8e,{children:t.children}):_(N8e,{children:t.children})}L4e.render(_(le.StrictMode,{children:_(wMe,{children:_($ht,{children:_(A.Suspense,{fallback:"",children:_(Iht,{})})})})}),document.getElementById("root"));export{sZ as A,Zot as B,bB as D,pa as H,nn as M,aZ as N,IBe as S,Aot as T,IVe as V,_ as a,ig as b,z6e as c,yt as d,ve as e,Y as j,A as r};
